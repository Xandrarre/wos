
[Data]
life = 3000
power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 1
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1.1
yscale = 1.1
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 75
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -68
mid.pos = 0, -40
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.7		;Walk forward
walk.back = -1.7		;Walk backward
run.fwd  = 8.4, 0		;Run forward (x, y)
run.back = -6.5,-4	;Hop backward (x, y)
jump.neu = 0,-9.5		;Neutral jumping velocity (x, y)
jump.back = -3.7		;Jump back Speed (x, y)
jump.fwd = 3.7		;Jump forward Speed (x, y)
runjump.back = -2.85,-9.5;Running jump speeds (opt)
runjump.fwd = 4.4,-9.5	;.
airjump.neu = 0,-9.5	;.
airjump.back = -2.7	;Air jump speeds (opt)
airjump.fwd = 2.7

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,8

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic 
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F11,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F1380
ownpal = 1
pos = -20,2
scale = 1.1,1.1
postype = p1
facing = -1
bindtime = -2
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F1380
ownpal = 1
pos = 20,2
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [40,70]
trigger1 = timemod = 4,0
anim = F1422
ownpal = 1
pos = -10+random%20,-15-random%30
scale = 1,1
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F550
ownpal = 1
pos = 0,0
scale = 1.3,1.3
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 5301
ownpal = 1
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 5302
ownpal = 1
pos = 0,2
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 2

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 180, 1]
type = ChangeState
trigger1 = animTime = 0
value = 600

;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 191+random%2

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 192]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 190
poweradd = 20
sprpriority = 2

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 500

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,1
value = S3,0

[State 1532, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "efekt intro"
ID = 194
stateno = 194
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 1
size.xscale = 1
size.yscale = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,47

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,47

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = time = 41
value = 193
ctrl = 0

[Statedef 193]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 191
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0
channel = 17

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,2
channel = 17

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 27
channel = 17

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S1,7

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S1,7

[State 195, 2]
type = ChangeState
trigger1 = time = 80
value = 0

[Statedef 194]
type = S
ctrl = 0
anim = 8010
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 80
ampl = -8
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F588
ID = 192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.6,0.4
sprpriority = -2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
ID = 192
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1490
ID = 1161
pos = 30,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1.3,1.3
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1490
ID = 1162
pos = -30,2
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1.3,1.3
sprpriority = 3
ontop = 0
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 20
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 195, 2]
type = Destroyself
trigger1 = time = 30

;---------------------------------------------------------------------------
[Statedef 191]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 193
poweradd = 0
sprpriority = 2

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 500

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,48

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,48

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F14,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,5

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,12

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F14,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,5

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,12

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 220, PlaySnd]
type = varset
trigger1 = time = 1
v = 1
value = 1

[State 310, 2]
type = Explod
trigger1 = time = 25
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 25
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 25
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 1,1
vel = 0.2,0
sprpriority = 4
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 60000
ID = 1162
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
trans = add

[State 195, 2]
type = ChangeState
trigger1 = time = 35
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F11,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1380
ownpal = 1
pos = -20,2
scale = 1.1,1.1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 2
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1380
ownpal = 1
pos = 20,2
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [20,50]
trigger1 = timemod = 4,0
anim = F1422
ownpal = 1
pos = -10+random%20,-15-random%30
scale = 1,1
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F550
ownpal = 1
pos = 0,0
scale = 1.3,1.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 5301
ownpal = 1
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = -1
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 5302
ownpal = 1
pos = 0,2
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,18
volume = 255
channel = 5

[State 195, 2]
type = ChangeState
trigger1 = Time = 70
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;----------------------------------Attacks----------------------------------
;---------------------------------------------------------------------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 25,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Raiton Kosoku kogeki
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -400
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2063
ID = 2063
pos = 3,-43
postype = p1  ;p2,front,back,left,right
sprpriority = 2
facing = 1
ownpal = 1
removetime = 15
bindtime = -1
scale = 0.5,0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2063
ID = 2063
pos = -12,-48
postype = p1  ;p2,front,back,left,right
sprpriority = 2
facing = 1
ownpal = 1
removetime = 2
bindtime = -1
scale = 0.5,0.5
supermovetime = 9999
pausemovetime = 9999

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = F31

[State 0, Explod]
type = Explod
trigger1 = time > 16
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 13
anim = F1300+random%3
ID = 1165
pos = -30+random%60,-20-random%30
vel = 5,0
accel = -0.1,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 2
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 15 && time < 22
x = 25

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
y = 0

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 60
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
palfx.time = 100
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 16
value = S3,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 10
value = S1,20

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S2,3
channel = 2

[State 20000, 4]
type = ChangeState
trigger1 = p2dist x <= -70
trigger2 = frontedgebodydist <= 10
trigger3 = time = 22
value = 211
ctrl = 1

[StateDef 211]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 211
sprpriority = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 5
anim = F1300+random%3
ID = 1165
pos = -30+random%60,-20-random%30
vel = 5,0
accel = -0.1,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 2
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.4,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,0+random%14
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1360
ID = 1043
pos = 65,-39
postype = p1  ;p2,front,back,left,right
sprpriority = 2
facing = 1
ownpal = 1
bindtime = -2
removetime = -2
scale = 1.6,1.6
supermovetime = 9999
pausemovetime = 9999

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 21
channel = 2


[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = cond(var(1)=0,100,125),cond(var(1)=0,20,25)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 30
sparkno = 2001
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = light
air.velocity = -4,-2
air.hittime = 0
palfx.time = 100
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 21
value = 0
ctrl = 1

[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 0
sprpriority = 2

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 200
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
palfx.time = 200
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 1532, ChangeState]
type = Destroyself
trigger1 = time = 10


;---------------------------------------------------------------------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-15
groundguard.velocity = -1,-15
airguard.velocity = -1,-15
air.type = High
air.velocity = -1,-15
air.hittime = 12
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 4
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5,16+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3 && movehit
time = 2
pos = 60,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4 && movehit
time = 2
pos = 30,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5 && movehit 
time = 2
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 5
[StateDef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 11
trigger8 = AnimElem = 12
trigger9 = AnimElem = 13
trigger10 = AnimElem = 14
trigger11 = AnimElem = 15
trigger12 = AnimElem = 16
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0.5,-0.5
airguard.velocity = 0.5,-0.5
air.type = High
air.velocity = 0.5,-0.5
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = command = "holdx" && time > 52
value = 230
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = command != "holdx" && time < 54
value = 230
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air attack
[StateDef 260]
type = S
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-0.5
airguard.velocity = -4,-0.5
air.type = High
air.velocity = -4,-0.5
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Air attack 2
[StateDef 270]
type = S
movetype= A
physics = A
juggle  = 1
velset = 2,0.5
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,12

[state 0, posset]
type = posadd
trigger1 = time = 1
triggerall = var(1) = 1
y = p2bodydist y - 10
x = p2bodydist x + 15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 3, 12
sparkno = 2
sparkxy = -10, -30
hitsound = 5,16+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-0.5
airguard.velocity = -4,-0.5
air.type = High
air.velocity = -4,-0.5
air.hittime = 12

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "a"
trigger1 = time > 8
value = 1090
ctrl = 1

[State -1, Changestate]
type = ChangeState
trigger1 = command = "c"
trigger1 = time > 8
value = 2040
ctrl = 1

[State -1, Changestate]
type = ChangeState
trigger1 = command = "x"
trigger1 = time > 8
value = 490
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1


;----------------------------------------------------------------------
;Lariat
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 290
poweradd = -100
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,0+random%14
volume = 255
channel = 4

[state 0, posadd]
type = Velset
trigger1 = time > 1 && time < 20
x = cond(var(1)=0,10,20)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 0
animtype = Light
guardflag = -1
hitflag = MAF
priority = 2, Hit
pausetime = 0,0
sparkno = 252452
sparkxy = -10,-37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F300
ID = 320
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
pausemovetime = 999
supermovetime = 999
scale = 3,1
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1

[State 220, end]
type = ChangeState
trigger1 = time = 10 
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time < 10 && movecontact
value = 291
ctrl = 1

[StateDef 291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 291
poweradd = -400
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[state 0, posadd]
type = posadd
trigger1 = time = 0
y = 0
x = p2bodydist x + 15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 1
value = -1
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 2
trigger2 = animelem = 3
value = 3
ignorehitpause = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = C,HP
damage = cond(var(1)=0,200,250),cond(var(1)=0,40,50)
animtype = Light
guardflag = -1
sprpriority = -1
priority = -1
hitflag = MAF
pausetime = 25,30
sparkno = 2010
sparkxy = -15,-40
hitsound = 5, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-4
airguard.velocity = -12,-4
air.type = High
air.velocity = -12,-4
air.hittime = 12
p2stateno = 109990
fall = 1

[State 220, end]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Run Attack 2
[StateDef 300]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 300
poweradd = 0
sprpriority = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,15

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,0

[State 200, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 1
value = S2,1

[State 200, PlaySnd]
type = PlaySnd
triggerall = var(1) = 0
trigger1 = time = 1
value = F14,6

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 0
trigger1 = animelem = 1
trigger2 = animelem = 2
x = const(velocity.run.fwd.x) + 3

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 1
trigger1 = animelem = 1
trigger2 = animelem = 2
x = const(velocity.run.fwd.x) + 6

[State 0, VelSet]
type = Veladd
trigger1 = 1
x = 0.5

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -32
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -16,0
airguard.velocity = -6,-2
air.type = High
air.velocity = -6,-2
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 1
anim = 301
ID = 301
pos = 18,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 0
trigger1 = time = 1
anim = 678
ID = 678
pos = -3,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.35
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 0
trigger1 = time = 1
anim = 679
ID = 678
pos = -3,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.35
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 0
trigger1 = time = 1
anim = 680
ID = 678
pos = -3,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.35
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 0
trigger1 = time = 1
anim = 681
ID = 678
pos = -3,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.35
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 202
ID = 678
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Run Attack 3
[StateDef 310]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = 20
sprpriority = 2

[State 700]
type = Turn
trigger1 = time = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
trigger2 = animelem = 5
x = 20

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 12
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Strong punch
[StateDef 330]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 330
poweradd = 20
sprpriority = 2

[State 200, VelSet]
type = Velset
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 27

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,0

[State 1500]
type = SuperPause
trigger1 = time = 6
time = 37
movetime = 37
supertime = 37
anim = 3534524
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F102
ID = 102
pos = -32,-38
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 37
removetime = 37
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 200, end]
type = ChangeState
trigger1 = p2bodydist x < 10 && time > 42
trigger2 = time = 65
value = 331
ctrl = 1

[StateDef 331]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 331
poweradd = 20
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-6
airguard.velocity = -10,-6
air.type = High
air.velocity = -10,-6
air.hittime = 12
fall = 1

[State 200, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air hit ground
[StateDef 340]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 340
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 13
y = 16

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,12

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,0

[state 0, posset]
type = posadd
trigger1 = time = 1
triggerall = var(1) = 1
y = p2bodydist y - 30
x = p2bodydist x + 15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.2,5
airguard.velocity = -0.2,5
air.type = High
air.velocity = -0.2,5
air.hittime = 12
fall = 1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -1 && time > 3
value = 341
ctrl = 1

[StateDef 341]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 341
poweradd = 20
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F7,2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Uderzenie w ziemiê
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -8

[State 0, Helper] 
type = Helper 
triggerall = numhelper(326) = 0
triggerall = power > 500
trigger1 = time = 0 
helpertype = normal ;player 
name = "efekty" 
ID = 326
stateno = 326
pos = -10,-55
postype = p1 
ownpal = 1 
size.xscale = 0.5
size.yscale = 0.5

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 50
trigger3 = time = 85
value = F19,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,1
value = F14,0
channel = 4

[State 200, PlaySnd]
type = StopSnd
trigger1 = command != "holdz"
channel = 4

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 325
ID = 90001
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time < 100
anim = 324
ID = 90002
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, VarAdd]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
v = 11
value = 2

[State 7500, VarSet]
type = VarSet
trigger1 = var(11) > 100
v = 11    ;fv = 10
value = 100

[State 200, PlaySnd]
type = PlaySnd
triggerall = var(11) = 80
trigger1 = time > 0
value = F11,7

[State -2, Explod]
type = Explod
ownpal = 1
triggerall = var(11) > 80
trigger1 = timemod = 2,0
anim = F1300+random%3
ID = 1167
pos = -17+random%34,0-random%65
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.25,0.25
sprpriority = 2
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 0 && time < 50 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 50 && power >= 1000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 321
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 50 && time < 100 && power >= 2000
trigger1 = var(50) = 0
trigger2 = time >= 50 && time < 100 && power >= 2000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 322
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 50 && power < 2000
value = 321
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 50 && time < 100 && power < 3000
value = 322
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 100 && power >= 3000
value = 323
ctrl = 1


;--------------------------------
;Lvl 1
[StateDef 321]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 321
poweradd = -1000
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 200, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 4

[State 7500, VarSet]
type = VarSet
trigger1 = time = 10
fv = 10    ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90001

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,11

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
getpower = 0
damage = 400,200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 546246
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12
p1sprpriority = 0
givepower = 0
getpower = 0

[State 0, Helper] 
type = Helper 
triggerall = numhelper(327) = 0
trigger1 = time = 10
helpertype = normal
name = "efekt ziemii" 
ID = 327
stateno = 327
pos = 28,0
postype = p1 
ownpal = 1

[State 200, end]
type = ChangeState
trigger1 = time = 33
value = 0
ctrl = 1

;---------------------------------------------
;Lvl 2
[StateDef 322]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 322
poweradd = -2000
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109923

[State 200, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 4

[State 7500, VarSet]
type = VarSet
trigger1 = time = 10
fv = 10    ;fv = 10
value = 0

[State 7500, VarSet]
type = VarSet
trigger1 = time = 33
v = 11    ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90001

[State 200, PlaySnd]
type = PlaySnd
triggerall = var(11) > 80
trigger1 = time = 0
value = F11,13

[State 200, PlaySnd]
type = PlaySnd
triggerall = var(11) > 80
trigger1 = time = 0
value = F11,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,11

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F15,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
getpower = 0
damage = 800,800
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 2465456
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12
p1sprpriority = 0
givepower = 0
getpower = 0
fall = cond(var(11)>80,1,0)
palfx.time = cond(var(11)>80,15,0)
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, Helper] 
type = Helper 
triggerall = numhelper(328) = 0
trigger1 = animelem = 5
helpertype = normal
name = "efekt ziemii" 
ID = 328
stateno = 328
pos = 20,0
postype = p1 
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
triggerall = var(11) > 80
trigger1 = timemod = 2,0
anim = F1302
ID = 1167
pos = -35+random%70,0-random%40
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.4,0.4
sprpriority = 2
ownpal = 1

[State 200, end]
type = ChangeState
trigger1 = time = 39
value = 0
ctrl = 1

;---------------------------------------------
;Lvl 3
[StateDef 323]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 323
poweradd = -3000
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109924

[State 200, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 4

[State 7500, VarSet]
type = VarSet
trigger1 = time = 10
fv = 10    ;fv = 10
value = 0

[State 7500, VarSet]
type = VarSet
trigger1 = time = 10
v = 11   ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90001

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
getpower = 0
damage = 1500,1500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 10
sparkno = 4325
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12
givepower = 0
getpower = 0
fall = 1
p1sprpriority = 0
palfx.time = 20
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, Helper] 
type = Helper 
triggerall = numhelper(329) = 0
trigger1 = animelem = 5
helpertype = normal
name = "efekt ziemii" 
ID = 329
stateno = 329
pos = 20,0
postype = p1 
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = F1302
ID = 1167
pos = -35+random%70,0-random%40
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.4,0.4
sprpriority = 2
ownpal = 1

[State 200, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Uderzenie w ziemiê Bar
[Statedef 324] 
type = S 
movetype = I 
physics = S
ctrl = 0 
anim = 324
sprpriority = -1

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = 1 
pos = -50,-75 

[State 0, PlaySnd] 
type = PlaySnd 
trigger1 = !time 
value = S0,0

[State 0, ParentVarAdd] 
type = parentvaradd
trigger1 = root,stateno = 320 && root,time > 20
fv = 17 
value = 0.67

[State 0, ParentVarSet] 
type = parentvarset
trigger1 = root,stateno !=320
fv = 17 
value = 0

[State 0, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(17),1

[State 0, Explod]; 
type = Explod
ownpal = 1 
trigger1 = !time 
anim = 325
ID = 325
postype = p1
pos = 0,1 
bindtime = -1 
removetime = -1 
supermovetime = 999 
pausemovetime = 999 
scale = 0.5,0.5
sprpriority = 0 
ontop = 0 
ownpal = 1

[State 0, Trans] 
type = Trans 
trigger1 = time = [0,9] 
trans = addalpha 
alpha = 0+(time*32),256-(time*32)

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = root,stateno !=320
id = 325

[State 0, ChangeState] 
type = ChangeState
trigger1 = root,stateno !=320
trigger2 = root,time = 127
trigger3 = root,command != "holdz"
trigger4 = power < 500
value = 325

[Statedef 325] 
type = S 
movetype = I 
physics = S
ctrl = 0 
anim = 324
sprpriority = -1

[State 1, ParentVarSet] 
type = parentvarset 
trigger1 = root,stateno != 320
fv = 17 
value = fvar(17)

[State 1, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(17),1

[State 1, Trans] 
type = Trans 
trigger1 = 1 
trans = addalpha 
alpha = 256-(time*32),0+(time*32)

[State 1, DestroySelf] 
type = DestroySelf 
trigger1 = time = 9

;---------------------------------------------------------
;efekt ³adowania
[StateDef 326]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
poweradd = 0
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = -10,-55

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 310, end]
type = Destroyself
trigger1 = root,command != "holdz" && root,stateno = 320
trigger2 = root,stateno != 320
trigger3 = root,movetype = H
trigger4 = time = 126

;------------------------------------------------------------
;Efekt zniszczonej ziemii = lvl 1
[StateDef 327]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 30
ampl = -2
phase = 30

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
y = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 1161
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,0.45
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = -20,17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = 20,17
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 327
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.75
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
id = 65
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1,0.4
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 220, end]
type = Destroyself
trigger1 = time = 30

;------------------------------------------------------------
;Efekt zniszczonej ziemii = lvl 2
[StateDef 328]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 10
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 50
ampl = -3
phase = 50

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
y = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State -2, Explod]
type = Explod
ownpal = 1
triggerall = root,var(11) > 80
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.65,0.65
sprpriority = 4
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
triggerall = root,var(11) > 80
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.45,0.45
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = root,var(11) > 80
trigger1 = time = 0
anim = 328
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.2,0.2
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = root,var(11) > 80
trigger1 = time = 10
anim = F1380
ID = 1164
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = root,var(11) > 80
trigger1 = time = 10
anim = F1380
ID = 1164
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1.65,0.55
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 1161
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 2.25,1.25
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = -40,25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = 40,25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 327
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
id = 65
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.5,0.6
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 220, end]
type = Destroyself
trigger1 = time = 30

;------------------------------------------------------------
;Efekt zniszczonej ziemii = lvl 3
[StateDef 329]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 10
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,13

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 70
ampl = -5
phase = 70

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
y = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.8,0.8
sprpriority = 4
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.65,0.65
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 328
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
trans = addalpha
alpha = 200,256
pausemovetime = 999
supermovetime = 999
scale = 2,0.65
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 1161
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 3,3
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = -55,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = 55,30
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1380
ID = 1164
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1380
ID = 1164
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1162
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 23
pausemovetime = 999
supermovetime = 999
scale = 1.25,0.5
sprpriority = 0
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 327
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
supermovetime = 999
scale = 1.5,1.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
id = 64
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.3,0.5
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 220, end]
type = Destroyself
trigger1 = time = 30

;---------------------------------------------------------------------------
;Air hit ground 2
[StateDef 350]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
y = 13
x = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
attr = C,HP
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.2,5
airguard.velocity = -0.2,5
air.type = High
air.velocity = -0.2,5
air.hittime = 12
p2stateno = 100005
fall = 1

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -5 && time > 10
value = 351
ctrl = 1

[StateDef 351]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 351
poweradd = 20
sprpriority = 2

[state 0, posset]
type = posset
trigger1 = time = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 3
[StateDef 360]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.1,-17
groundguard.velocity = -0.1,-17
airguard.velocity = -0.1,-17
air.type = High
air.velocity = -0.1,-17
air.hittime = 12
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = command = "x" && movehit
value = 340
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = command = "a" && movehit
value = 1090
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = command = "c" && movehit
value = 361
ctrl = 1

[StateDef 361]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 20
sprpriority = 2

[state 0, posset]
type = posadd
trigger1 = 1
y = p2bodydist y - 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
y = 18

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
attr = C,HP
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
p2stateno = 100005
fall = 1

[State 1533]
type = TargetBind
trigger1 = time = 0 
trigger2 = movecontact
time = 1
pos = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -5 && time > 10
value = 362
ctrl = 1

[StateDef 362]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 351
poweradd = 20
sprpriority = 2

[state 0, posset]
type = posset
trigger1 = time = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 4
value = 0
ctrl = 1

;------------------------------------------------------------------
;Kawarimi
[Statedef 480]
type     = S
movetype = H
physics  = S
juggle   = 5
poweradd = 0
ctrl  = 0
velset = 0,0
anim = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1044
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.65,0.65
sprpriority = 2
removetime = 26
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(483) < 2
anim = F2
ID = 483
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
removetime = 20
facing = 1
ontop = 0
ownpal = 1

[State 700]
type = PosAdd
trigger1 = time = 1
x = (P2BodyDist X + 100)

[State 700]
type = Turn
trigger1 = time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 1
value = 5

[State 700]
type = ChangeState
trigger1 = Time = 1
value = 50
ctrl = 1

;------------------------------------------------------------------
;Kawarimi Front
[Statedef 483]
type     = S
movetype = H
physics  = S
juggle   = 5
poweradd = 0
ctrl  = 0
velset = 0,0
anim = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1044
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.65,0.65
sprpriority = 2
removetime = 26
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(483) < 2
anim = F2
ID = 483
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
removetime = 20
facing = 1
ontop = 0
ownpal = 1

[State 700]
type = PosAdd
trigger1 = time = 1
x = pos x + 130

[State 700]
type = Turn
trigger1 = time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 1
value = 5

[State 700]
type = ChangeState
trigger1 = Time = 1
value = 50
ctrl = 1

;------------------------------------------------------------------
;Kawarimi back
[Statedef 485]
type     = S
movetype = H
physics  = S
juggle   = 5
poweradd = 0
ctrl  = 0
velset = 0,0
anim = 0
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1044
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.65,0.65
sprpriority = 2
removetime = 26
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(480) < 2
ID = 480
anim = 480
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 26
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(481) < 2
anim = 481
ID = 481
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(482) < 2
anim = 482
ID = 482
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 14
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(483) < 2
anim = F2
ID = 483
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
removetime = 20
facing = 1
ontop = 0
ownpal = 1

[State 700]
type = PosAdd
trigger1 = time = 1
x = pos x - 130

[State 700]
type = Turn
trigger1 = time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 1
value = 5

[State 700]
type = ChangeState
trigger1 = Time = 1
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Air spin attack
[StateDef 490]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 490
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,1
value = F8,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S1,14

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
y = 10
x = 10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
attr = S, NA
damage = 35
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,3
airguard.velocity = -4,3
air.type = High
air.velocity = -4,3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3 && numexplod(491) = 0
anim = 491
ID = 491
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y > -25
id = 491

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -25 && command != "holddown"
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Shuriken Stand
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10+random%4
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 27,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 10,-29
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Electric Shuriken Stand
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -30
anim = 500
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10+random%4
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = 27,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = 10,-29
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shuriken Air
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 520
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10+random%4
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 12,-28
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 4,-23
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Electric Shuriken Air
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = -30
anim = 520
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,10+random%4
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = 12,-28
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = 4,-23
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;------------------------------Raiton mode----------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Raiton mode On
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,48

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,48

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,48

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,16

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1,17

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,1
trigger2 = timemod = 50,2
trigger3 = time > 70 && timemod = 10,1
value = S2,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time > 70 && timemod = 10,1
value = S2,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,1
volume = 150
value = S3,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = F11,2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S7,3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 100
freq = 40+time*2
ampl = -4-time
phase = 50+time*2

[state 1000, 0]
type = BGpalfx
trigger1 = time = 1
add = -80,-80,-80
time = 100
invertall = 0
persistent = 1
ignorehitpause = 1

[State 1500, 0]
type = SuperPause
trigger1 = time = 1
time = 100
movetime = 100
supermove = 100
anim = 9999
darken = 0
unhittable = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0 && numexplod(1167) < 2
anim = 1167
ID = 1167
pos = const(size.mid.pos.x)+20,const(size.mid.pos.y)+20
random = 10,30
vel = 0.3,-0.3
accel = 0,0.05
postype = p1
bindtime = 1
removetime = 5
supermovetime = 9999
pausemovetime = 9999
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0 && numexplod(1167) < 2
anim = 1167
ID = 1167
pos = const(size.mid.pos.x),const(size.mid.pos.y)+40
random = 30,10
vel = 0.3,-0.3
accel = 0,0.05
postype = p1
bindtime = 1
removetime = 5
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0 && numexplod(1167) < 2
anim = 1167
ID = 1167
pos = const(size.mid.pos.x)-20,const(size.mid.pos.y)+50
random = 40,70
vel = 0.3,-0.3
accel = 1,0.05
postype = p1
bindtime = 1
removetime = 5
supermovetime = 9999
pausemovetime = 9999
scale = 0.00015*power,0.00015*power
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
ID = 1002
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F601
ID = 2096
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 100
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F601
ID = 2096
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 100
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = 1049
ID = 1049
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
trans = addalpha
alpha = 150,256
bindtime = 1
removetime = 39
supermovetime = 999
pausemovetime = 999
scale = 0.4,0.4
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = F550
ID = 2109
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = F583
ID = 2109
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [50,70]
trigger1 = timemod = 5,0
trigger2 = time = [50,80]
trigger2 = timemod = 2,0
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
ontop = 0

[State 10000, VarSet]
type = VarSet
trigger1 = time = 70
v = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 70
v = 2
value = 1

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 1
value = SCA
time = 10

[State 250, 5]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Raiton mode Off
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1001

[state 1000, 0]
type = BGpalfx
trigger1 = time = 1
add = -80,-80,-80
time = 30
invertall = 0
persistent = 1
ignorehitpause = 1

[State 1500, 0]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 10000, VarSet]
type = VarSet
trigger1 = time = 20
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 20
v = 2
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 1
value = SCA
time = 25

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Atak poziomy - nogi
[StateDef 1010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1010
poweradd = 0
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
volume = 100
value = F14,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
volume = 100
value = S1,11

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
y = -1.5
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
y = 0
x = 10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 45*(fvar(3)+1),9*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3,3
sparkno = 2
sparkxy = -35, -20
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-1
airguard.velocity = -8,-1
air.type = High
air.velocity = -8,-1
air.hittime = 12
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 15
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Run Attack 1 - Szybki atak
[StateDef 231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1030
poweradd = 20
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2dist x 

[State 0, PosAdd]
type = Velset
trigger1 = time > 1
x = 110

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F380
ID = 24
pos = -15,2
postype = p1  ;p2,front,back,left,right
scale = 1,0.8
vel = -1,0
sprpriority = 2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0

[State 220, end]
type = ChangeState
trigger1 = time = 5
value = 231
ctrl = 1

[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -500
ctrl = 0
anim = 230
sprpriority = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,0+random%14
volume = 255
channel = 4

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x -60

[State 0, PosAdd]
type = Velset
trigger1 = time > 1
x =3


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 10
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = s8000,0
guardsound = s8000,0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
p1stateno = 232

[State 20000, 4]
type = ChangeState
trigger1 = time = 5
value = 0
ctrl = 1

[Statedef 232]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -1500
ctrl = 0
velset = 0,0
anim = 231
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,0+random%14
volume = 255
channel = 4

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 5
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 110

[State 1061, 1]
type = targetbind
trigger1 = movecontact
time = 140
pos = 50,pos y

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 70
color = 256
add = -100,-100,-100

[State 1500]
type = SuperPause
trigger1 = 0;time = 1
time = 20
movetime = 20
supermove = 20
anim = 9999
darken = 0
unhittable = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S,NA
getpower = 0
damage = 1000,1000
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 30
sparkno = 624247
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
p2stateno = 100026
fall = 1
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, TargetState]
type = TargetState
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 100026

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 232
ID = 232
pos = 45,-35
postype = p1  ;p2,front,back,left,right
scale = 1,0.5
sprpriority = 2
bindtime = -1
facing = 1
ownpal = 1
ontop = 0
removetime = 140
supermovetime = 9999
pausemovetime = 9999

[State 20000, 4]
type = ChangeState
trigger1 = frontedgebodydist <= 50
value = 233
ctrl = 1

[StateDef 233]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 231
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,18

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 0

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal;player
name = "efekty dym"
ID = 234
stateno = 234
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 140
value = 0
ctrl = 1

[StateDef 234]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8010
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F9,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 233
ID = 233
pos = 410,200
postype = back  ;p2,front,back,left,right
scale = 1,0.8
sprpriority = 3
bindtime = 1
facing = -1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 233
ID = 233
pos = 430,200
postype = back  ;p2,front,back,left,right
scale = 0.6,0.6
trans = addalpha
alpha = 150,256
sprpriority = 3
bindtime = 1
facing = -1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 233
ID = 233
pos = 500,200
postype = back  ;p2,front,back,left,right
scale = 0.9,0.8
sprpriority = 3
bindtime = 1
facing = -1
ownpal = 1
ontop = 0

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F72
pos = 370,150
postype = back
bindtime = -1
facing = -1
scale = 0.8,1
sprpriority = 2

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F390
pos = 420,150
postype = back
removetime = 27
bindtime = 1
facing = -1
vfacing = 1
scale = 1.5,1
sprpriority = 2

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F390
pos = 420,150
postype = back
removetime = 27
bindtime = 1
facing = -1
vfacing = -1
scale = 1.5,1
sprpriority = 2

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = 370,150
postype = back
bindtime = 1
facing = 1
scale = 1.5,1.5
sprpriority = 2

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F390
pos = 420,150
postype = back
removetime = 27
bindtime = 1
facing = -1
vfacing = -1
scale = 1.85,1.25
sprpriority = 2

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F390
removetime = 27
pos = 420,150
postype = back
bindtime = 1
facing = -1
vfacing = 1
scale = 1.85,1.25
sprpriority = 2

[State 8102, ChangeState]
type = Destroyself
trigger1 = time = 40


;---------------------------------------------------------------------------
;Run Attack 2 - Raigyaku Suihei
[StateDef 1020]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1030
poweradd = -100
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = Velset
trigger1 = time > 1
x = 30

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x - 200
lue = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, end]
type = ChangeState
trigger1 = time = 5
value = 1021
ctrl = 1

[Statedef 1021]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -100
ctrl = 0
velset = 0,0
anim = 1020
sprpriority = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 5
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2dist x - 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 30
sparkno = 643456
sparkxy = -15, -30
hitsound = 35, 456456
guardsound = 6, 0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
p1stateno = 1022
p2facing = 1

[State 20000, 4]
type = ChangeState
trigger1 = time = 5
value = 0
ctrl = 1

[StateDef 1022]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1021
poweradd = -800
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S7,2
channel = 27

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S7,2
channel = 27

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S7,2
channel = 27

[State 220, PlaySnd]
type = StopSnd
trigger1 = time = 92
channel = 27

[State 220, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S1,21

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x - 20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 20
color = 256
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-34
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 =!time
attr = S,NA
getpower = 0
damage = 500,500
animtype = Light
guardflag = -1
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 0+random%4
sparkxy = -15,-34
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = -7,-5
air.velocity = -7,-5
sprpriority = 1
fall.yvelocity = -1
fall.recover = 1
fall.recovertime = 4
fall.damage = 1
fall = 1
p2stateno = 109990
p2facing = 1
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, TargetState]
type = TargetState
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
persistent = 0
anim = 1032
ID = 1032
pos = 23,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 3
removetime = -2
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Run Attack 3 - raiton Super Erubo
[StateDef 1030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1030
poweradd = -100
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 1

[State 220, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S1,5

[State 220, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S1,5

[State 0, PosAdd]
type = Velset
trigger1 = time > 1
x = 30

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x - 200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, end]
type = ChangeState
trigger1 = time = 5
value = 1031
ctrl = 1

[StateDef 1031]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1031
poweradd = -900
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x - 20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 20
color = 256
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-34
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S,NA
getpower = 0
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 0+random%4
sparkxy = -15,-34
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = -15,-12
air.velocity = -15,-12
sprpriority = 1
p1getp2facing = 0
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0
p2stateno = 100006
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, TargetState]
type = TargetState
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 100006

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(1032) = 0
anim = 1032
ID = 1032
pos = 25,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 3
removetime = 20
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Super Uderzenie
[StateDef 1040]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1040
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S8,10
volume = 255
channel = 2

[State 200, VelSet]
type = Posadd
trigger1 = time = 54
x = p2dist x - 20

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 5 
value = F19,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 53
value = S3,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S2,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S1,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 53
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 53
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 53
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 55
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 6
time = 37
movetime = 37
supertime = 37
anim = 3534524
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 53
trigger2 = time = 55
anim = 1041
ID = 1041
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 1042
ID = 1042
pos = -33,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 21
scale = 0.2,0.2
supermovetime = 999
pausemovetime = 999
sprpriority = 6
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 1042
ID = 1042
pos = -33,-38
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = 21
trans = addalpha
alpha = 150,256
scale = 0.225,0.225
supermovetime = 999
pausemovetime = 999
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 60
anim = 1043
ID = 1043
pos = 20,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 21
scale = 0.3,0.3
supermovetime = 999
pausemovetime = 999
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 6 && facing = 1
attr = C,HP
damage = 500*(fvar(3)+1),140*(fvar(3)+1)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 2, Hit
pausetime = 20,0
sparkno = 0+random%4
sparkxy = -45, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -1,-1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
p2facing = 1
p2stateno = 100009
p1stateno = 1041
fall = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 6 && facing = -1
attr = C,HP
damage = 500*(fvar(3)+1),140*(fvar(3)+1)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 2, Hit
pausetime = 20,0
sparkno = 0
sparkxy = -10, -37
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -1,-1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
p2facing = 1
p2stateno = 100013
p1stateno = 1041
fall = 1

[state 103, EdgeOfScreen]
type = screenbound
trigger1 = time > 80
value = 0
movecamera = 0,0

[State 200, end]
type = ChangeState
trigger1 = time = 86
value = 0
ctrl = 1

[StateDef 1041]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1041
poweradd = -2500
sprpriority = 2

[State 2, 12]
type = allPalFX
trigger1= time = [0,51]
time = 1
add = -255+var(19),-255+var(19),-255+var(19)

[State 2, 12]
type = varset
trigger1 = Time =0
v = 19
value=0

[State 600, 4]
type = varadd
trigger1= time = [0,51]
v = 19
value=5

[State 2, 12]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1048
removetime = 450
pos= -20,0
postype = back
ownpal = 1
ontop = 0
sprpriority = 90
scale = 1,.5
bindtime = -1

[state 191, AssertSpecial Flag]
type = assertspecial
trigger1 = 1
flag = nobg
flag2= nofg
flag3= globalnoshadow

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(1043) < 2
trigger1 = target,stateno = 100010 && target,time = 100 && facing = 1
trigger2 = target,stateno = 100010 && target,time = 200 && facing = 1
helpertype = normal
name = "ska³y" 
ID = 1043
stateno = 1043
pos = 0,-20
postype = back
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(1044) = 0
trigger1 = target,stateno = 100010 && target,time = 300 && facing = 1
helpertype = normal
name = "ska³y" 
ID = 1044
stateno = 1044
pos = 0,-20
postype = back
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(1045) < 2
trigger1 = target,stateno = 100014 && target,time = 100 && facing = -1
trigger2 = target,stateno = 100014 && target,time = 200 && facing = -1
helpertype = normal
name = "ska³y" 
ID = 1045
stateno = 1045
pos = 0,-20
postype = back
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(1046) = 0
trigger1 = target,stateno = 100014 && target,time = 300 && facing = -1
helpertype = normal
name = "ska³y" 
ID = 1046
stateno = 1046
pos = 0,-20
postype = back
ownpal = 1 

[state 103, EdgeOfScreen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 200, end]
type = ChangeState
trigger1 = target,stateno = 100011 && time = 435
trigger2 = target,stateno = 100015 && time = 435
value = 1042
ctrl = 1

[StateDef 1042]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1045
poweradd = 20
sprpriority = 2

[State 200, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[StateDef 1043]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1046
poweradd = 20
sprpriority = 102

[State 0, Helper]
type = Helper
trigger1 = time > 15 && pos x < -20 && numhelper(1047) = 0
helpertype = normal 
name = "rock2"
ID = 1047
stateno = 1047
pos = 0,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1
x = -10
y = 0

[State 213, Pos]
type = PosSet
trigger1 = time = 0
x = 400

[State 200, end]
type = Destroyself
trigger1 = pos x < -30

[StateDef 1044]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1046
poweradd = 20
sprpriority = 102

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1 && pos x > 0
x = -10
y = 0

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1 && pos x < 0
x = 0
y = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S7,3

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 80 && timemod = 10,1
value = S2,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 80 && timemod = 10,1
value = S2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1044
ID = 1044
pos = -20,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 26
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1044
ID = 1044
pos = -20,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = 26
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80 && numexplod(1049) = 0
anim = 1049
ID = 1049
pos = 0,10
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
removetime = 39
scale = 0.75,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 1152
ID = 1152
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.45,0.8
sprpriority = 105
ontop = 0
ownpal = 1

[State 213, Pos]
type = PosSet
trigger1 = time = 0
x = 400

[State 0, Helper]
type = Helper
trigger1 = time = 99 && numhelper(1047) = 0
helpertype = normal 
name = "rock2"
ID = 1047
stateno = 1047
pos = 0,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 200, end]
type = Destroyself
trigger1 = time = 100

[StateDef 1045]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1046
poweradd = 20
sprpriority = 102

[State 0, Helper]
type = Helper
trigger1 = time > 15 && pos x > -30 && numhelper(1047) = 0
helpertype = normal 
name = "rock2"
ID = 1047
stateno = 1047
pos = 0,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1
x = -10
y = 0

[State 213, Pos]
type = PosSet
trigger1 = time = 0
x = -400

[State 200, end]
type = Destroyself
trigger1 = pos x > 0

[StateDef 1046]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1046
poweradd = 20
sprpriority = 99

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1 && pos x < 0
x = -10
y = 0

[State 212, Velocity]
type = VelSet
trigger1 = Time > 1 && pos x > 0
x = 0
y = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S7,3

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 80 && timemod = 10,1
value = S2,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 80 && timemod = 10,1
value = S2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1044
ID = 1044
pos = -10,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 26
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = 1044
ID = 1044
pos = -10,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = 26
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80 && numexplod(1049) = 0
anim = 1049
ID = 1049
pos = 0,10
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
removetime = 39
scale = 0.75,1
supermovetime = 999
pausemovetime = 999
sprpriority = 104
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 1152
ID = 1152
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0.45,0.8
sprpriority = 105
ontop = 0
ownpal = 1

[State 213, Pos]
type = PosSet
trigger1 = time = 0
x = -400

[State 213, Pos]
type = PosSet
trigger1 = time > 80
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 99 && numhelper(1047) = 0
helpertype = normal 
name = "rock2"
ID = 1047
stateno = 1047
pos = 0,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 200, end]
type = Destroyself
trigger1 = time = 100

[StateDef 1047]
type = S
anim = 8010
poweradd = 20
sprpriority = 99

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F15,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S7,5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 80
ampl = -10
phase = 130

[State 0, BindToParent]
type = BindToParent
triggerall = parent,stateno != 1046 || parent,stateno != 1044 
trigger1 = 1
time = 1
pos = -30,30

[State 0, BindToParent]
type = BindToParent
triggerall = parent,stateno = 1046 || parent,stateno = 1044 
trigger1 = 1
time = 1
pos = -30,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2098
ID = 2098
pos = cond(enemy,facing = 1,-10,35),-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1.75,0
removetime = -2
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 107
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1047
ID = 1047
pos = 0,70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 16
vel = -6,0
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 98
ontop = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = 0,-70
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = -25,-65
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock2"
ID = 9001
stateno = 9001
pos = 25,-50
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = -15,-60
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = -10,-30
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = 0,20
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = 20,-30
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "rock1"
ID = 9001
stateno = 9001
pos = -40,-40
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = -1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 200, end]
type = Destroyself
trigger1 = time = 6

[StateDef 9001]
type = A
movetype= i
physics = N
velset = 0,0
ctrl = 0
anim = 8011
poweradd = 0
sprpriority = 99

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = 0
value = random

[State 0, EnvShake]
type = EnvShake
trigger1 = Pos Y >= 15 & anim = 8011
time = 10
freq = 60
ampl = -7
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Pos Y >= 15 & anim = 8011
value = S7,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 & Pos Y < 15
triggerall = anim = 8011
x = cond(random<500,2,cond(random<500,1,3))-5
y = cond(random<500,-6,cond(random<500,-1,-3))

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 15

[State 0, VelSet]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 8011
trigger1 = Vel Y = 0
trigger1 = Pos Y >= 15
value = 8012

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
ignorehitpause = 1

;---------------------------------------------------------------------------
;Atak poziomy - piêæ
[StateDef 1050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
poweradd = 0
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,1
volume = 100
value = S3,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
volume = 100
value = F14,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,10

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
y = 0
x = 20

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
attr = S, NA
damage = 15*(fvar(3)+1),6*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2
sparkxy = -35, -20
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-1
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 1051
ID = 1051
pos = 30,-21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 3
removeongethit = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 15 && timemod = 5,1
anim = F1391
ID = 1052
pos = 60,-21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.65
sprpriority = 3
removeongethit = 1
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 25
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Szybki atak - piêci
[StateDef 1060]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
poweradd = 0
sprpriority = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 3,1
value = F8,1

[State 1061, 1]
type = poweradd
trigger1 = 1
value = -10

[State 0, Helper] 
type = Helper 
trigger1 = numhelper(1061) = 0
trigger1 = time = 4 
helpertype = normal
name = "Szybkie piêci" 
ID = 1061
stateno = 1061
pos = 30,-30
postype = p1 
ownpal = 0 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 23,1
anim = 1164
ID = 1164
pos = -30,10
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 23,1
anim = 1164
ID = 1164
pos = 5,5
postype = p1  ;p2,front,back,left,right
scale = 0.2,0.2
vel = 0.1,0
sprpriority = -1
bindtime = 5
facing = 1
ownpal = 1
ontop = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = power < 50
trigger2 = var(50) = 0 && command != "hold_c"
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = matchover
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Atak poziomy - piêæ
[StateDef 1061]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1061
poweradd = 0
sprpriority = 3

[State 1061, 1]
type = targetbind
trigger1 = movecontact
pos = 15,30

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
attr = S, NA
damage = cond(root,var(1)=0,10,13),cond(root,var(1)=0,2,3)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -75+random%90,-55+random%90
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 12

[State 1061, 1]
type = sprpriority
trigger1 = movecontact
value = 3

[State 0, ChangeState]
type = Destroyself
trigger1 = root,stateno != 1060

;---------------------------------------------------------------------------
;B³yskawica z nieba
[StateDef 1070]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1070
poweradd = -500
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 0
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 13
y = 13

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 1
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 18
y = 18

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S2,3
channel = 6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S2,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S3,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,12

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 250,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 45646
sparkxy = -10, -30
hitsound = F11, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.2,5
airguard.velocity = -0.2,5
air.type = High
air.velocity = -0.2,5
air.hittime = 12
fall = 1
givepower = 0
getpower = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1071
ID = 1071
pos = -20,-50
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = 20
scale = 0.75,0.75
supermovetime = 999
pausemovetime = 999
sprpriority = 6
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -1
trigger2 = time = 100
value = 1071
ctrl = 1

[StateDef 1071]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 341
poweradd = 20
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 15
channel = 6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2
channel = 7

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 27
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 80
ampl = -8
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 1190
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1.5,1.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(1172) = 0
anim = F588
ID = 1172
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-0.3
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
trans = addalpha
alpha = 150,256
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = F550
ID = 550
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 27
pausemovetime = 999
scale = 1.5,1.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air hit ground
[StateDef 1080]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1080
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 9
y = -13

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,11

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 20*(fvar(3)+1),4*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.2,5
airguard.velocity = -0.2,5
air.type = High
air.velocity = -0.2,5
air.hittime = 12
fall = 1

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 30,-20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y < -250 && p2bodydist y > -20 && p2bodydist y < 0
trigger2 = time > 40 && movecontact = 1
value = 1130
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y < -250 && p2bodydist y < -20 && p2bodydist y < 0
trigger2 = time = 10 && movecontact = 0
trigger3 = time = 41
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Air hit ground
[StateDef 1090]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0.5
ctrl = 0
anim = 1090
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,13

[state 0, posset]
type = posadd
trigger1 = time = 1
triggerall = var(1) = 1
y = p2bodydist y - 10
x = p2bodydist x + 15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 10*(fvar(3)+1),2*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 12
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.2,5
airguard.velocity = -0.2,5
air.type = High
air.velocity = -0.2,5
air.hittime = 12
fall = 1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State -1, Changestate]
type = ChangeState
triggerall = command = "a"
trigger1 = stateno = 1090 && time > 8
value = 270
ctrl = 1

[State -1, Changestate]
type = ChangeState
trigger1 = command = "c"
trigger1 = stateno = 1090 && time > 8
value = 2040
ctrl = 1

[State -1, Changestate]
type = ChangeState
trigger1 = command = "x"
trigger1 = stateno = 1090 && time > 8
value = 490
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 14
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Combo 1
[StateDef 1100]
type = S
movetype= A
physics = S
juggle = 0
velset = 1,0
ctrl = 0
anim = 1100
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = S1,10+random%4

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25*(fvar(3)+1),5*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%3
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2070
ID = 2070
pos = 30,-39
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.25
sprpriority = 3
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 2
[StateDef 1110]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 1110
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = S1,10+random%4

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 1
y = 0
x = p2bodydist x + 15

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25*(fvar(3)+1),5*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%3
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2070
ID = 2070
pos = 30,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 999
pausemovetime = 999
scale = 0.25,0.25
sprpriority = 3
ontop = 0
ownpal = 1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F300
ID = 320
pos = 10,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
supermovetime = 999
scale = 1.5,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 3
[StateDef 1120]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1120
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,2

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 1
y = 0
x = p2bodydist x + 15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-30
groundguard.velocity = -1,-30
airguard.velocity = -1,-30
air.type = High
air.velocity = -1,-30
air.hittime = 12
fall = 1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 220, end]
type = ChangeState
trigger1 = movehit = 1
value = 1130
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = movehit = 0 && time > 7
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 3
[StateDef 1130]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1130
poweradd = 20
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,5

[state 0, posset]
type = posadd
trigger1 = 1
y = p2bodydist y - 15
x = p2bodydist x - 5

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = prevstateno != 1080
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 50*(fvar(3)+1),10*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,20
groundguard.velocity = 0,20
airguard.velocity = 0,20
air.type = High
air.velocity = 0,20
air.hittime = 12
fall = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = prevstateno = 1080
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = 120
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,20
groundguard.velocity = 0,20
airguard.velocity = 0,20
air.type = High
air.velocity = 0,20
air.hittime = 12
fall = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Wie¿a b³yskawic
[StateDef 1140]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 1140
poweradd = -500
sprpriority = 2

[state 0, PosAdd]
type = PosAdd
trigger1 = time = 0
triggerall = var(1) = 1
x = p2bodydist x - 15

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S8,0+random%14
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = C,HP
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 3, Hit
pausetime = 3, 0
sparkno = 2001
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-6
airguard.velocity = -12,-6
air.type = High
air.velocity = -12,-6
air.hittime = 12
p2stateno = 100017
fall = 1

[State 220, end]
type = ChangeState
trigger1 = time > 10 && p2stateno != 100017
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time > 10 && p2stateno = 100017
value = 1150
ctrl = 1

[StateDef 1150]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1150
poweradd = -1500
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 310, 2]
type = Explod
trigger1 = time = 1 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 10 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 1 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 10 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 10
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 10
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
trigger2 = time = 10
value = F9,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F8,2

[state 0, posset]
type = posadd
trigger1 = time = 10
y = 0
x = p2bodydist x + 70

[State 1500]
type = SuperPause
trigger1 = time = 11
time = 18
movetime = 18
supertime = 18
anim = 3534524
darken = 1
unhittable = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 14
time = 1
pos = 10,-50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 1000,1000
getpower = 0
animtype = Light
guardflag = -1
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 4564
sparkxy = -10, -30
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-12
airguard.velocity = -3,-12
air.type = High
air.velocity = -3,-12
air.hittime = 12
p2stateno = 100018
fall = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time > 25 && timemod = 3,1
value = S2,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S2,3
channel = 12

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 71
channel = 12

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S7,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F11,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 25
anim = 1151
ID = 1151
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 56
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 25
anim = 1152
ID = 6012
pos = 5,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 56
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 71
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dzia³o eletryczne
[StateDef 1160]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1160
poweradd = -2000
sprpriority = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time =24
value = S1,20

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S4,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 25 && timemod = 10,1
trigger2 = time > 64
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S7,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S7,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1,10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 8
trigger2 = time = 29
value = F8,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = S, NA
damage = 200*(fvar(3)+1),40*(fvar(3)+1)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 43634
sparkxy = -10, -30
hitsound = 5, 245645
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -28,0
airguard.velocity = -28,0
air.type = High
air.velocity = -28,0
air.hittime = 12

[State 1500]
type = SuperPause
trigger1 = time = 25
time = 50
anim = 3534524
darken = 0
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 24
anim = 1152
ID = 1152
pos = 5,-51
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 0.05,0.05
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 17
time = 50
freq = 120
ampl = -11
phase = 120

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 26
time = 50
freq = 50
ampl = -5
phase = 50

[State 0, Helper]
type = Helper
trigger1 = time = 18 && numhelper(1161) = 0
helpertype = normal 
name = "Skala"
ID = 1161
stateno = 1161
pos = 57,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemovetime = 999

[State 0, Helper] 
type = Helper 
triggerall = numhelper(328) = 0
trigger1 = time = 18
helpertype = normal
name = "efekt ziemii" 
ID = 328
stateno = 328
pos = 20,0
postype = p1 
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 64
value = 0
ctrl = 1

[StateDef 1161]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1163
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109923

[State 0, VelSet]
type = VelSet
trigger1 = time > 1 && time < 3
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >16 && time < 100
x = 80

[State 0, VelSet]
type = posadd
trigger1 = time = 3
y = -30

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time > 16 && timemod = 7,1
value = S3,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
getpower = 0
damage = 1000,500
animtype = Light
guardflag = -1
hitflag = MAF
priority = 3, Hit
pausetime = 3, 15
sparkno = 56456
sparkxy = -10, -30
hitsound = 5, 46245
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 17
anim = 1171
ID = 1171
pos = -80,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 1.4,0.25
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && timemod = 4,1
anim = 1165
ID = 1165
pos = 40+random%100,-3
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = 1
removetime = 27
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && timemod = 2,1
anim = 1166
ID = 1166
pos = 50+random%100,-10+random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && timemod = 6,1
anim = 1167
ID = 1167
pos = 30+random%100,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 1170
ID = 1170
pos = -340,-10
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 10
pausemovetime = 999
scale = 1.5,0.3
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 17
anim = 1169
ID = 1169
pos = 0,-1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = 1168
ID = 1168
pos = 0,40
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = F300
ID = 320
pos = 0,35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 3,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = F300
ID = 320
pos = -30,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 2,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 60
removeexplods = 1

;---------------------------------------------------------------------------
;Ultimate: Raiga Bomu
[StateDef 1180]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 2090
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,0+random%14
volume = 255
channel = 4

[state 0, PosAdd]
type = PosAdd
trigger1 = time = 0
triggerall = var(1) = 1
x = p2bodydist x - 15

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = C,HP
damage = 0,0
animtype = Light
guardflag = -1
hitflag = MAF
priority = 1, Hit
pausetime = 0, 0
sparkno = 65436
sparkxy = -10, -30
hitsound = 5, 6546436
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100019
p1stateno = 1181
facing = -1
fall = 1

[State 220, end]
type = ChangeState
trigger1 = time = 15
value = 0
ctrl = 1

[StateDef 1181]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1180
poweradd = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "Rozciaganie"
ID = 1179
stateno = 1179
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "Rozciaganie"
ID = 1179
stateno = 1179
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80


[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 1
Time = 150
color = 0
add = -100,-100,-100
ignorehitpause = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S1,19

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S1,19

[State 1500]
type = SuperPause
trigger1 = time = 3
time = 30
anim = 3534524
darken = 0
unhittable = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F14,3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F14,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,0

[State 214, Vel X]
type = VelSet
trigger1 = time > 30 && time < 32
y = -20

[State 214, Vel X]
type = VelSet
trigger1 = time = 40
y = 40

[State 1500]
type = SuperPause
trigger1 = time = 39
time = 30
anim = 3534524
darken = 0
unhittable = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage =0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 0
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100019
facing = -1
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 23
pos = 40,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 3
pos = 40,-30

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 8
pos = 40,-47

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5
time = 5
pos = 22,-48

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 6
time = 3
pos = 25,-35

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 7
time = 1
pos = 26,-50

[State 0, Helper]
type = Helper
trigger1 = time > 40 && pos y > -10
helpertype = normal 
name = "Boom efekty"
ID = 1183
stateno = 1183
pos = 20,0
postype = p1  
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2065
ID = 2065
pos = 20,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
supermovetime = 999
pausemovetime = 999
scale = 0.75,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time > 40 && pos y > -5
value = 1182
ctrl = 1

[StateDef 1182]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1181
poweradd = -4000
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time < 101 && time%5
Time = 10
color = 0
add = -100,-100,-100
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 100
Time = 10
color = 0+((time-100)*17.06)
add = -100+((time-100)*6.66),-100+((time-100)*6.66),-100+((time-100)*6.66)
ignorehitpause = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,1
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,1
value = S2,2

[State 214, Vel X]
type = PosSet
trigger1 = time = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 150
freq = 100
ampl = -10
phase = 100

[State 220, end]
type = ChangeState
trigger1 = time = 115
value = 12
ctrl = 1

[StateDef 1183]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199
poweradd = 0
sprpriority = 4

[State 214, Vel X]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 30,1
anim = F580
ID = 1185
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 3,0.7
sprpriority = 8
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 5.5,0
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.6,0.6
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -5.5,0
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.6,0.6
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 1,-1
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.4,0.4
sprpriority = -6
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1,-1
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.4,0.4
sprpriority = -6
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 3,1
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.8,0.8
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 1173
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -3,1
removetime = 54
pausemovetime = 999
supermovetime = 9
scale = 0.8,0.8
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2087
ID = 1173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 70
pausemovetime = 999
supermovetime = 9
scale = 0.3,0.3
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1189
ID = 1189
pos = 40,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.7,0.7
sprpriority = 0
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1189
ID = 1189
pos = -40,-45
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.7,0.7
sprpriority = 0
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 1187
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 1.5,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1188
ID = 1188
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 134
pausemovetime = 999
supermovetime = 9
scale = 0.5,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1188
ID = 1188
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 134
pausemovetime = 999
supermovetime = 9
scale = 0.5,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 40,1
anim = 1190
ID = 1190
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.6,0.6
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 40,1
anim = 1190
ID = 1190
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.6,0.6
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1049
ID = 1049
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
trans = addalpha
alpha = 150,256
removetime = 117
pausemovetime = 999
supermovetime = 9
scale = 0.35,0.4
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 1190
ID = 1190
pos = 120,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 1190
ID = 1190
pos = -120,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 9
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 150
;-----------------
;Rozsciaganie ekranu
[StateDef 1179]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1179
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-250,250]
x = 2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-250,250]
x = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos x >= 250
x = 250
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos x <= -250
x = -250
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [1180,1181]
;---------------------------------------------------------------------------
;Combo 4-1
[StateDef 2000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F8,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3 && movehit
time = 2
pos = 60,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4 && movehit
time = 2
pos = 30,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5 && movehit 
time = 2
pos = 0,0

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F300
ID = 320
pos = 15,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
pausemovetime = 999
supermovetime = 999
scale = 1.5,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 5-1
[StateDef 2010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2010
poweradd = 20
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 8
trigger2 = time = 11
trigger3 = time = 14
trigger4 = time = 17
trigger5 = time = 20
trigger6 = time = 23
trigger7 = time = 26
trigger8 = time = 29
value = F8,1

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 1
y = 0
x = p2bodydist x + 15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 11
trigger8 = AnimElem = 12
trigger9 = AnimElem = 13
trigger10 = AnimElem = 14
trigger11 = AnimElem = 15
trigger12 = AnimElem = 16
attr = S, NA
damage = 10*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2
sparkxy = -35+random%50,-65+random%70
hitsound = 5,16+random%4
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0.5,-0.5
airguard.velocity = 0.5,-0.5
air.type = High
air.velocity = 0.5,-0.5
air.hittime = 12

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
trigger1 = time = 0
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 6-1
[StateDef 2020]
type = S
movetype= A
physics = S
juggle = 0
velset = 4*((var(1)*2)+1),0
ctrl = 0
anim = 2020
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S8,0+random%14
volume = 255
channel = 4

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State Hit]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = cond(var(1)=0,30,40),cond(var(1)=0,6,8)
ground.type = Low
air.type = Low
guardflag = MAF
pausetime = 3,5
ground.hittime = 20
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
sparkno = 0+random%4
sparkxy = -10, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
fall = 0
p1stateno = 2021

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[StateDef 2021]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 2021
poweradd = 0
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10

[State Hit]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage = cond(var(1)=0,30,50),cond(var(1)=0,6,10)
kill = 0
hitsound = 5,65464574
ground.type = Low
air.type = Low
guardflag = MAF
guardsound = 6,0
pausetime = 3,3
ground.hittime = 20
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
sparkno = -1
sparkxy = -15,-30
fall = 0
fall.recover = 1
fall.damage = cond(var(1)=0,30,50)
p2stateno = 100004

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
persistent = 0
anim = F60
pos = -30,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
persistent = 0
value = F15,4

[State 0, EnvShake]
type = EnvShake
trigger1 =animelem = 6 
time = 5
freq = 50
ampl = -5
phase = 90

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 1
id = -1
pos = 10,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4 
time = 1
id = -1
pos = 10,-10

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5 
time = 1
id = -1
pos = -50,-10

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 6
time = 1
id = -1
pos = -30,15

[State 80]
type = AfterImage
triggerall = 0;var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = F310
ID = 310
pos = -30,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 16
pausemovetime = 999
supermovetime = 999
scale = 1.5,1
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 7-1
[StateDef 2030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2030
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S1,10 + random%6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F8,2

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
trigger2 = animelem = 5
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5,21+random%6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7.5*(fvar(3)+1),-7.5*(fvar(3)+1)
airguard.velocity = -7.5*(fvar(3)+1),-7.5*(fvar(3)+1)
air.type = Low
air.velocity = -7.5*(fvar(3)+1),-7.5*(fvar(3)+1)
air.hittime = 20

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 13 && p2dist x > 50 && movecontact
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 13 && p2dist x > 50 && movecontact
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(1) = 1
trigger1 = movecontact
value = 2040
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(1) = 1
trigger1 = !movecontact
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(1) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo Air 1
[StateDef 2040]
type = S
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 0
anim = 2040
poweradd = 20
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time =  5
value = S1,10

[State 200, 2]
type = PlaySnd
trigger1 = time = 5
value = F8,3

[State 1500]
type = SuperPause
triggerall = prevstateno = 2030
trigger1 = time = 1
time = 15
movetime = 15
supermove = 15
anim = 9999
darken = 0
unhittable = 0

[state 0, posset]
type = posadd
trigger1 = time = 0
triggerall = var(1) = 1
y = p2bodydist y - 40
x = p2bodydist x + 15

[state 103, EdgeOfScreen]
type = screenbound
trigger1 = time = 0
value = 1
movecamera = 0,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 0
sparkno = 2
sparkxy = -10, -30
hitsound = 5,16+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,20
airguard.velocity = 0,20
air.type = High
air.velocity = 0,20
air.hittime = 12
fall = 1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Pchniêcie
[StateDef 2050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2050
poweradd = 20
sprpriority = 3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,13

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 1
y = 0
x = p2bodydist x + 10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 20
sparkno = 2
sparkxy = 10,-35
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = Low
air.velocity = 0,0
air.hittime = 20
p1stateno = 2051

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 15
value = 0
ctrl = 1

[StateDef 2051]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2051
poweradd = 20
sprpriority = 3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,13

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = F17,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,3

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 1
y = 0
x = p2bodydist x + 10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 20
sparkno = 2
sparkxy = 10,-35
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = Low
air.velocity = 0,0
air.hittime = 20

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 2
sparkxy = -29, -49
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,0
airguard.velocity = -20,0
air.type = Low
air.velocity = -20,0
air.hittime = 20

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
attr = S, NA
damage = 35*(fvar(3)+1),7*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 2
sparkxy = -37,-55
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,0
airguard.velocity = -20,0
air.type = Low
air.velocity = -20,0
air.hittime = 20
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 0 && time < 17 && movecontact = 1 && p2stateno != [5099,5999]
time = 15
id = -1
pos = -5,0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2 && p2stateno != [5099,5999]
time = 2
id = -1
pos = -2,-4

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3 && p2stateno != [5099,5999]
time = 2
id = -1
pos = -8,-4

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4 && movecontact = 1 && p2stateno != [5099,5999]
time = 2
id = -1
pos = 25,-5

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 5 && movecontact = 1 && p2stateno != [5099,5999]
time = 2
id = -1
pos = 50,-1

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1
trigger1 = time = 0 && p2dist x > 50
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Big Lariat
[StateDef 2060]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2060
poweradd = -100
sprpriority = 0

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = F19,4

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S3,0

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S1,15

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S3,1

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 2009
pos = -7,-36
darken = 1
unhittable = 0

[state 0, posadd]
type = Velset
trigger1 = time > 2 && time < 20
x = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = C,HP
damage = 0
animtype = Light
guardflag = -1
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100020

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F300
ID = 320
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 40
pausemovetime = 999
supermovetime = 999
scale = 3,1
sprpriority = 4
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 20 
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time < 20 && movecontact && p2stateno = 100020
value = 2061
ctrl = 1

[StateDef 2061]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2062
poweradd = -2400
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S10,0

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S7,2
channel = 14

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S7,2
channel = 14

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 35
channel = 14

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S2,2

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S2,2

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S2,1

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S2,1

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = F5,0

[state 0, posadd]
type = posadd
trigger1 = time = 0
y = 0
x = p2bodydist x + 15

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
supertime = 20
anim = 342234
pos = 23,-36
darken = 0
unhittable = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = C,HP
damage = 1000*(fvar(3)+1),500*(fvar(3)+1)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 2, Hit
pausetime = 20,0
sparkno = 2017
sparkxy = -10,-37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -25,-8
airguard.velocity = -25,-8
air.type = High
air.velocity = -25,-8
air.hittime = 12
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
p2stateno = 109990
givepower = 0
getpower = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movecontact
trigger2 = anim = 2062
value = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F12
angle = -25+random%50
ID = 12
pos = 10,-38
postype = p1 
facing = 1
bindtime = 1
removetime = -2
scale = 1,1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2064
ID = 2064
pos = 15,-30
postype = p1 
facing = 1
bindtime = 1
removetime = 24
scale = 1,1
supermovetime = 999
pausemovetime = 999
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2061
ID = 2061
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 35
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
removeongethit = 1
sprpriority = -2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2063
ID = 2063
pos = 7,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(2061) = 1
anim = 2065
ID = 2065
pos = 15,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
removeongethit = 1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 40
color = 0
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 19
Time = 10
color = 0+((time-19)*17.06)
add = -50+((time-19)*3.33),-50+((time-19)*3.33),-50+((time-19)*3.33)
ignorehitpause = 1

[State 220, end]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Elektryczny dwunogi kopniak
[StateDef 2080]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2080
poweradd = -2500
sprpriority = 0

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 4 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 4 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 4
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 4
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 4
value = F9,1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[state 0, posadd]
type = posadd
trigger1 = time = 3
y = -300
x = p2bodydist x + 10

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S1,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2
channel = 13

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2
channel = 13

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2
channel = 13

[State 0,0]
type = PlaySnd
trigger1 = timemod = 3,1
value = S2,2

[State 0,0]
type = PlaySnd
trigger1 = timemod = 3,1
value = S2,0

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S3,0

[state 103, EdgeOfScreen]
type = screenbound
trigger1 = time > 0 && time < 5
value = 0
movecamera = 0,0

[state -2]
type = BGpalfx
trigger1 = time = 3
add = -100,-100,-100
time = 50
invertall = 0
persistent = 1
ignorehitpause = 1

[state 0, posadd]
type = Velset
trigger1 = time > 3
y = 30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NT
getpower = 0
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
damage = 100,50
animtype = Light
guardflag = -1
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 252452
sparkxy = -10,-37
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2082) = 0
trigger1 = time = 3
helpertype = normal
name = "efekt pioruna" 
ID = 2082
stateno = 2082
pos = 0,0
postype = p1 

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S2,1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 220, end]
type = ChangeState
trigger1 = pos y > -3
value = 2081
ctrl = 1

[StateDef 2081]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2081
poweradd = 0
sprpriority = -1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109923

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S4,1

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = S4,2

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = F15,2

[State 0,0]
type = PlaySnd
trigger1 = time = 1
value = F15,4

[state 0, posadd]
type = posset
trigger1 = time = 0
trigger2 = time = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
freq = 80
ampl = -8
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = time < 50
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NA
getpower = 0
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70
damage = 550,250
animtype = Light
guardflag = -1
hitflag = MAF
priority = -1, Hit
pausetime = 0,0
sparkno = 252452
sparkxy = -10,-37
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-5
airguard.velocity = -10,-5
air.type = High
air.velocity = -10,-5
air.hittime = 12
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1182
ID = 1182
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 62
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1183
ID = 1183
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 51
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = -2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2085
ID = 2085
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2086
ID = 2086
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
id = 550
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.8
sprpriority = 4
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
id = 587
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.7,0.7
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
id = 64
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1,0.4
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = -10,5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.9,0.9
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = 10,5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.9,0.9
ownpal = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 55
channel = 13

[State 220, end]
type = ChangeState
trigger1 = time = 60
value = 11
ctrl = 1

;Efekt pioruna
[StateDef 2082]
type = S
anim = 8010

[state 0, posadd]
type = posset
trigger1 = 1
y = 0
x = root,pos x + 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2083
ID = 2083
pos = 0,-400
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2083
ID = 2083
pos = 30,-500
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = 1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2082
ID = 2082
pos = 0,-170
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = 39
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 39

;----------------------------------------------------------------------
;Krêcio³ek
[StateDef 2090]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4*((var(1)*2)+1),0
ctrl = 0
anim = 2090
poweradd = 0
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,0+random%14
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C, HP
damage = cond(var(1)=0,25,30),cond(var(1)=0,5,6)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 0+random%4
sparkxy = -15, -31
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p1stateno = 2091

[State 220, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[StateDef 2091]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2091
poweradd = 0
sprpriority = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S1,12

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = F14,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
volume = 100
value = F14,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = C,HP
getpower = 0
damage = cond(var(1)=0,10,15),cond(var(1)=0,2,3)
animtype = Light
guardflag = -1
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 0546276
sparkxy = -15, -42
hitsound = 5, 256726
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100021

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 40
anim = F674
ID = 1164
pos = -20,5
vel = -1,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 40
anim = F674
ID = 1164
pos = 20,5
vel = 1,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 50
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2093
ID = 2093
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 25
anim = F677
ID = 2094
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1.6,1.6
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2096
ID = 2096
pos = 0,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 51
pausemovetime = 999
supermovetime = 999
scale = 0.7,0.25
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2096
ID = 2096
pos = 0,3
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 51
pausemovetime = 999
supermovetime = 999
scale = 0.7,0.25
sprpriority = 1
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 50
value = 2092
ctrl = 1

[StateDef 2092]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2092
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = cond(var(1)=0,70,100),cond(var(1)=0,14,20)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = 0
sparkxy = -1
hitsound = 23,38
guardsound = 23,0
guard.sparkno = s51
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = -15,-10
air.velocity = -8,-8
sprpriority = 1
p1getp2facing = 0
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = cond(var(1)=0,70,100)
p2stateno = 109994

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Gilotyna
[StateDef 2100]
type = S
movetype= A
physics = A
juggle  = 1
velset = 4,9
ctrl = 0
anim = 2100
poweradd = -2000
sprpriority = 0

[state 0, posset]
type = posadd
triggerall = var(1) = 1
trigger1 = time = 2
y = p2bodydist y - 20
x = p2bodydist x + 10


[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
triggerall = var(1) = 1
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
triggerall = var(1) = 1
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
triggerall = var(1) = 1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
triggerall = var(1) = 1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
triggerall = var(1) = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
triggerall = var(1) = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
triggerall = var(1) = 1
value = F9,1

[State 0,0]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S2,1

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0,0]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2102) = 0
trigger1 = time = 1
helpertype = normal
name = "efekt pioruna" 
ID = 2102
stateno = 2102
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75

[State 80]
type = AfterImage
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 220, end]
type = ChangeState
trigger1 = pos y > -30
value = 2101
ctrl = 1

[StateDef 2101]
type = S
movetype= A
physics = A
juggle  = 1
velset = 0,2
ctrl = 0
anim = 2101
poweradd = 0
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F8,3

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
getpower = 0
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60
damage = 1000,600
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,20
groundguard.velocity = 0,20
airguard.velocity = 0,20
air.type = High
air.velocity = 0,20
air.hittime = 12
fall = 1
givepower = 0
getpower = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 30
freq = 80
ampl = -8
phase = 90

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2103) = 0
trigger1 = time = 0
helpertype = normal
name = "efekt pioruna" 
ID = 2103
stateno = 2103
pos = 0,0
postype = p1 
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75

[State 80]
type = AfterImage
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2104) = 0
trigger1 = animelem = 3
helpertype = normal
name = "efekt ziemii" 
ID = 2104
stateno = 2104
pos = 0,0
postype = p1 
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 11
value = 50
ctrl = 1

[StateDef 2102]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2063
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,3
channel = 9

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = 1
time = 1
pos = -2,-44

[State 220, end]
type = Destroyself
trigger1 = root,stateno != 2100
trigger2 = time = 20

[StateDef 2103]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2063
poweradd = 20
sprpriority = 2

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = root,animelem = 1
time = 1
pos = -2,-44

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = root,animelem = 2
time = 2
pos = 9,-35

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = root,animelem = 3
time = 5
pos = 4,-12

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = root,animelem = 4
time = 3
pos = 4,-12

[State 220, end]
type = Destroyself
trigger1 = root,stateno != 2101

[StateDef 2104]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,5

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2
channel = 8

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,0
channel = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 26
channel = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 20
channel = 9

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1173
ID = 1190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
id = 550
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.4,1.4
sprpriority = 4
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
id = 587
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
id = 64
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.8,0.3
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = -5,5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.6,0.6
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = 5,5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.6,0.6
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2102
ID = 2102
pos = 40,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 41
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2102
ID = 2102
pos = -40,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 41
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2103
ID = 2103
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
pausemovetime = 999
supermovetime = 999
scale = 0.65,0.65
sprpriority = 1
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 30

;---------------------------------------------------------------------------
;Full Power
[StateDef 2110]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2110
poweradd = 20
sprpriority = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,18

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S1,17

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,1
value = S3,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,1
value = S2,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,1
value = S2,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,3

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S3,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S3,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S3,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 50
freq = 10
ampl = -1
phase = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50
time = 50
freq = 30
ampl = -3
phase = 30

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 100
time = 50
freq = 50
ampl = -5
phase = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 150
time = 50
freq = 70
ampl = -7
phase = 70

[state 1000, 0]
type = BGpalfx
trigger1 = time = 1
add = -150,-150,-150
time = 200
invertall = 0
persistent = 1
ignorehitpause = 1

[State 1500, 0]
type = SuperPause
trigger1 = time = 1
time = 200
movetime = 200
supermove = 200
anim = 9999
darken = 0
unhittable = 0

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2111) = 0
trigger1 = time = 3
helpertype = normal
name = "efekt pioruna" 
ID = 2111
stateno = 2111
pos = 0,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1

[State 1520]
type = Explod
ownpal = 1
triggerall = time < 200
trigger1 = timemod = 3,1
anim = 2104+random%5
ID = 2104
pos = -30+random%70,-5
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-2+random%5
facing = 1
name = "kamienie"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1002
ID = 1002
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
supermovetime = 999
pausemovetime = 999
scale = 1,1
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2096
ID = 2096
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 204
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.3
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 198
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 11
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[state 0, posset]
type = posadd
trigger1 = time = 199
y = 0
x = p2bodydist x + 15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 198
anim = 2095
ID = 2095
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 26
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 200
value = 2112
ctrl = 1

[StateDef 2112]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2111
poweradd = 20
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[state 1000, 0]
type = BGpalfx
trigger1 = time = 0
add = -150,-150,-150
time = 5
invertall = 0
persistent = 1
ignorehitpause = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = C,HP
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 5,3
sparkno = 1
guard.sparkno = 0
sparkxy = 40,-40
hitsound = 5,0
guardsound = 6,0
guard.sparkno = s51
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = 7,-4
air.velocity = 7,-4
p2stateno = 100023
p1stateno = 2114
fall = 0

[State 220, end]
type = ChangeState
trigger1 = time = 5
value = 0
ctrl = 1

[StateDef 2114]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2119
poweradd = 20
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = F21,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,1
value = S3,2

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S2,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S2,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,1
value = F27,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
trigger3 = time = 200
value = S2,3

[state 1000, 0]
type = BGpalfx
trigger1 = time = 0
add = -150,-150,-150
time = 390
invertall = 0
persistent = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = C,HP
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 5,3
sparkno = 1
guard.sparkno = 0
sparkxy = 64,-40
hitsound = 5,0
guardsound = 6,0
guard.sparkno = s51
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = 7,-4
air.velocity = 7,-4
p2stateno = 100023
fall = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = C,HP
damage = 40*(fvar(3)+1),8*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 2,3
guard.sparkno = 0
sparkno = 2
sparkxy = (random%60-30)*7,(random%20-20)*8
hitsound = 5,0
guardsound = 6,0
guard.sparkno = s51
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 100025
fall = 1

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2116) = 0
trigger1 = time = 0
helpertype = normal
name = "efekt full power uwolnienie" 
ID = 2116
stateno = 2116
pos = 0,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2113) = 0
trigger1 = time = 1
helpertype = normal
name = "efekt pioruna" 
ID = 2113
stateno = 2113
pos = 0,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1.5
size.yscale = 1

[State 1533]
type = TargetBind
triggerall = time > 1
trigger1 = movecontact && target,life > 1
time = 5
pos = (random%60-30)*7,(random%10-10)*5

[State 1533]
type = TargetBind
triggerall = time > 1
trigger1 = movecontact && target,life = 1
time = 5
pos = 0,-50

[State 0, PosSet]
type = posset
trigger1 = time > 2 && time < 315
y = 0
x = 0

[State 0, PowerAdd]
type = poweradd
trigger1 = time = 314
value = -20000

[State 0, VarSet]
type = VarSet
trigger1 = time = 314
v = 13
value = 1200

[State 220, end]
type = ChangeState
trigger1 = time = 315
value = 2115
ctrl = 1

[StateDef 2115]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1045
poweradd = 20
sprpriority = 0

[State 220, end]
type = ChangeState
trigger1 = time = 8
value = 0
ctrl = 1

;-------------------------------------
;Efekty full power
[StateDef 2111]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = 4,-43
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.125,0.125
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = 17,-43
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.105,0.110
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = 10,-12
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.25,0.25
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = -10,-12
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.25,0.25
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = -35,-15
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.4,0.4
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 1165
ID = 1165
pos = -3,-15
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2112
ID = 2111
pos = 9,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.02,0.02
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2112
ID = 2111
pos = 13,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.01,0.02
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2114
ID = 2114
pos = -5,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2114
ID = 2114
pos = 5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.27,0.27
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 14,1
anim = 2113
ID = 2113
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 1,0
vfacing = -1
bindtime = 1
removetime = 14
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 14,1
anim = 2113
ID = 2113
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -1,0
vfacing = -1
bindtime = 1
removetime = 14
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2103
ID = 2103
pos = 5,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.4,0.5
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2103
ID = 2103
pos = 4,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
pausemovetime = 999
supermovetime = 999
scale = 0.2,0.2
sprpriority = 1
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 200

;Efekty pioruna
[Statedef 2113]
type    = S
anim = 8010
ctrl = 0
sprpriority = 0

[state 6000]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2118
ID = 2118
postype = p1
pos = 0,175
sprpriority = 7
ownpal = 1
removetime = 390
supermovetime = 999
pausemovetime = 999
scale = 4,4

[State 213, Okrag]
type = modifyExplod
trigger1 = 1
ID = 2118
pos = 175, 170
postype = left
scale = 4,4
supermovetime = 999
pausemovetime = 999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2117
ID = 2117
postype = p1
pos = 0,175
sprpriority = 6
ownpal = 1
removetime = 390
scale = 1.6,0.8
pausemovetime = 999
supermovetime = 999

[State 213, Okrag]
type = modifyExplod
trigger1 = 1
ID = 2117
pos = 175, 170
postype = left
scale = 1.6,0.8
pausemovetime = 999
supermovetime = 999

[State 220, end]
type = Destroyself
trigger1 = time = 350

[StateDef 2116]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = 2001
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = 1165
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = 1165
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = 1167
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = F102
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 37
supermovetime = 999
pausemovetime = 999
scale = 0.75,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = F101
ID = 2001
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 36
supermovetime = 999
pausemovetime = 999
scale = 0.75,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 1
trigger1 = timemod = 5,1
anim = 2115+random%2
ID = 2115
pos = (random%60-30)*7,(random%20-20)*8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
supermovetime = 999
pausemovetime = 999
scale = 0.75,0.75
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PosSet]
type = posset
trigger1 = time > 2 && time < 305
y = 0
x = 0

[State 220, end]
type = Destroyself
trigger1 = parent,stateno != 2114
trigger2 = time = 330

;---------------------------------------------------------------------------
;Pora¿enie
[StateDef 2120]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2120
poweradd = -400
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 310, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,15

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = S, NA
getpower = 0
damage = 10*(fvar(3)+1),5*(fvar(3)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 0,30
sparkno = 1420+random%3
guard.sparkno = 0
sparkxy = -20+random%20,-50+random%50
hitsound = F11,7
guardsound = 6,0
ground.type = High
ground.slide = 20
ground.hit = 20
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
fall = 0

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2121) = 0
trigger1 = time = 0
helpertype = normal
name = "efekt pioruna" 
ID = 2121
stateno = 2121
pos = 25,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1

[State 220, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;-------------------------------------
;Efekty pora¿enie
[StateDef 2121]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 1

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 310, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,2

[State 310, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,3
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 50
channel = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 25,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2121
ID = 2121
pos = 12,-28
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = 50
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim =  1152
ID = 1152
pos = 5,-28
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 999
supermovetime = 999
scale = 0.25,0.25
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 5
trigger1 = timemod = 5,1
anim = 1165+random%3
ID = 1165
pos = (random%20-10)*2,(random%20-20)*2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 6
supermovetime = 999
pausemovetime = 999
scale = 0.45,0.45
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1380
ID = 1168
pos =- 10,8
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1380
ID = 1168
pos = 10,8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 50
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 50

;---------------------------------------------------------------------------
;Teleport
[Statedef 2130]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -100
ctrl = 0
velset = 0,0
anim = 2130
sprpriority = -2

[State 80]
type = AfterImage
triggerall = var(1) = 1
trigger1 = (!time)
time = 40
length = 17
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x + 30
y = p2dist y

[State 310, 2]
type = Explod
trigger1 = time = 1 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 3 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 1 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 3 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 3
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 3
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 3
value = F9,1

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2131) = 0
trigger1 = time = 1
helpertype = normal
name = "efekt teleport" 
ID = 2131
stateno = 2131
pos = 0,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1

[State 20000, 4]
type = ChangeState
trigger1 = time = 3
value = 0
ctrl = 1

;Efekty teleport
[Statedef 2131]
type    = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 8010
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = S2,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = F14,4

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = F11,5

[State 200, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = F11,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2131
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.65,0.65
sprpriority = 2
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(21480) < 4
ID = 2132
anim = 2132
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = -1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2132) < 4
ID = 2132
anim = 2132
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = 1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2133) < 4
anim = 2133
ID = 2133
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = 1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2133) < 4
anim = 2133
ID = 2133
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 10
facing = -1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2134) < 4
anim = 2134
ID = 2134
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 7
facing = 1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2134) < 4
anim = 2134
ID = 2134
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 7
facing = -1
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(2135) < 2
anim = 2001
ID = 2135
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 2
removetime = 11
facing = 1
ontop = 0
ownpal = 1
bindtime = 1

[State 20000, 4]
type = Destroyself
trigger1 = time = 5
;---------------------------------------------------------------------------
;Kontratak
[Statedef 2200]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2200
sprpriority = 2
poweradd = -100
facep2 = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,26

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1,24

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F8,1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 15
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 15
time = 61
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 250,250,250
palpostbright = 20,20,20
paladd = 20,20,20
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, HitOverride]
type = HitOverride
Trigger1 = AnimElem = 4,>0
trigger1 = animelem = 11,<0
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
slot = 0
stateno = 2201
time = 1
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 15
Time = 10
color = 0+((time-15)*4.75)
add = -81+((time-15)*1.5),-81+((time-15)*1.5),-81+((time-15)*1.5)
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2201
poweradd = -400
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 220, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S1,6

[State 220, PlaySnd]
type = PlaySnd
triggerall = var(1) = 1
trigger1 = time = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2202) = 0
trigger1 = time = 0
helpertype = normal
name = "efekt ziemii" 
ID = 2202
stateno = 2202
pos = 0,0
postype = p1 
ownpal = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 300,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 3, 10
sparkno = 2015
sparkxy = -15, -10
guard.sparkno = s7124
guard.sparkxy = -26, -30
hitsound = s667,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12
givepower = 0
getpower = 0
fall = 1
p1sprpriority = 0
palfx.time = 20
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 220, end]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

;------------------------------------------------------------
;Efekt zniszczonej ziemii = kontratak
[StateDef 2202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = 20
sprpriority = 2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,13

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,2

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F15,10

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 70
ampl = -5
phase = 70

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
y = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 10
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.8,0.8
sprpriority = 4
ownpal = 1

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = F1301
ID = 1167
pos = -150+random%300,0-random%5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale =0.65,0.65
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 328
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 0.35,0.35
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
trans = addalpha
alpha = 200,256
pausemovetime = 999
supermovetime = 999
scale = 2,0.65
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F250
ID = 1161
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 2.5,2.5
sprpriority = 1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = -55,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1164
ID = 1164
pos = 55,30
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1380
ID = 1164
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1380
ID = 1164
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F64
ID = 1162
pos = 0,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1.25,0.5
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 326
ID = 327
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 1
ontop = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time = 30

;---------------------------------------------------------------------------
;Raiton Tail Create
[Statedef 60000]
type    = S
movetype= I
physics = N
anim = 60000
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Helper]
type = Helper
trigger1 = Abs(parent, pos x-pos x)>10
trigger2 = Abs(parent, pos y-pos y-30)>10
triggerall = time >= 6
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
helpertype = normal ;player
name = "raiton-tail"
ID = 60001
stateno = 60001
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = Abs(parent, pos x-pos x)>10
trigger2 = Abs(parent, pos y-pos y-30)>10
triggerall = time >= 6
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
value = 60000

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = parent, pos y - 30

[State 0, ChangeState]
type = destroyself
trigger1 = root,var(1) = 0


;---------------------------------------------------------------------------
;Raiton Tail
[Statedef 60001]
type    = S
movetype= I
physics = N
anim = 60000
sprpriority = -1

; zapamiêtanie pozycji startu
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = pos x

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5) = pos y

; zmiana do po³o¿enia postaci
[State 0, PosSet]
type = PosSet
trigger1 = time < 6
x = parent, pos x
y = parent, pos y

;pomiar kata
[State 1640, X]
Type=VarSet
Trigger1=time < 6
fvar(13)=(Pos X-var(4))*Facing

[State 1640, Y]
Type=VarSet
trigger1=time < 6
fvar(14)=-(pos y-var(5))

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))*180/PI +cond(fvar(13)>0,0,180)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,90,-90)

;pomiar d³ugoc ogona
[State 0, VarSet]
type = VarSet
trigger1 = time < 6
fvar(4) = Abs(var(4) - pos x)/150

[State 0, VarSet]
type = VarSet
trigger1 = time < 6
trigger1 = fvar(4) > 1.7
fvar(4) = 1.7

; zmina d³ugosci i kata
[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5*cond(fvar(4)<0.5,0.7,0.2+fvar(4)),0.5*cond(fvar(4)<0.5,0.8,0.3+fvar(4))
value = fvar(15)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,var(1) = 0
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000

;---------------------- Integer variable list ----------------------

; var(1):= 191, 1000, 1001, -2
; var(2):= 1000, 1001, -2
; var(4):= 60001
; var(5):= 60001
;var(10):= 77000, 78000, 77003
;var(11):= 320, 322, 323, -2
;var(12):= -2
;var(13):= 2114, -2
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= 70500
;var(19):= 1041
;var(20):= 5900, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 70650, 70651, 70655, 70656, 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(2):= 5900
; fvar(3):= -2
; fvar(4):= 60001
;fvar(10):= 320, 321, 322, 323, -2, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 70650, 70651, 70655, 70656, 60001, 60
;fvar(14):= 70650, 70651, 70655, 70656, 60001, 60
;fvar(15):= 70650, 70651, 70655, 70656, 60001, 60
;fvar(17):= 324, 325



;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S1,25+random%66
volume = 256
channel = 2






;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------


[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && timemod = 70,0
value = F11,6
channel = 11

[State 0, Helper]
type = Helper
triggerall = var(1) = 1 
trigger1 = numhelper(60000) = 0
helpertype = normal ;player
name = "raiton-tail Create"
ID = 60000
stateno = 60000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(1) = 1 
value = 0.345

[State 10000, VarSet]
type = VarSet
trigger1 = time = 1 && var(1) = 0
trigger2 = power <= 5 && fvar(3) = 0.25
fv = 3
value = 0

[State 10000, VarSet]
type = VarSet
trigger1 = time = 1 && var(1) = 1
fv = 3
value = 0.25

[State 10000, VarSet]
type = VarSet
trigger3 = var(13) != 0
trigger1 = power <= 5 && var(1) = 1
trigger2 = life = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger3 = var(13) != 0
trigger1 = var(1) = 1
v = 2
value = 0

[State 7500, VarSet od paska ³adowania "z"]
type = VarSet
trigger1 = stateno !=[320,323]
fv = 10    ;fv = 10
value = 0

[State -2, VarSet od paska ³adowania "z"]
type = VarAdd
trigger1 = stateno !=[320,323]
v = 11
value = 0

[State -2, varset od przerwy miedzy uderzeniem w ziemie]
type = VarAdd
trigger1 = var(12) != 0
v = 12
value = -1

[State -2, Poweradd gdy koniec full power]
type = VarAdd
trigger1 = var(13) != 0
v = 13
value = -1

[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 1
trigger1 = timemod = 5,0
triggerall = prevstateno != [190,194]
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = prevstateno != 5900
value = -5

[State -3, VarSet]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
v = 1
value = 0

[State -2, Poweradd gdy koniec full power]
type = PowerAdd
trigger1 = var(13) != 0
value = -6000

[State -2, Aura]
type = Helper
trigger1 = time = 1 && numhelper(1005) = 0
trigger1 = var(1) = 1
triggerall = life > 0 
helpertype = normal
name = "Aura"
ID = 1005
stateno = 1005
pos = 0,0
postype = p1
facing = 1
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 0.53
size.yscale = 0.53

[State -2, B³yskawice aura]
type = Helper
trigger1 = time = 1 && numhelper(1006) = 0
trigger1 = var(1) = 1
triggerall = life > 0 
triggerall = power > 5
helpertype = normal
name = "Aura"
ID = 1006
stateno = 1006
pos = 0,0
postype = p1
facing = 1
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1


;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,-13,5),cond(pos y = 0,-27,-25)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,-13,5),cond(pos y = 0,-47,-45)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,-3,15),cond(pos y = 0,-37,-35)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-23,-5),cond(pos y = 0,-37,-35)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
trigger6 = var(1) = 1
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
triggerall = var(1) = 0
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
triggerall = var(1) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
triggerall = var(1) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
triggerall = var(1) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
triggerall = var(1) = 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
triggerall = var(1) = 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
triggerall = var(1) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
triggerall = var(1) = 0
value = 1.25

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
triggerall = var(1) = 1
value = 1.4

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103 || stateno = 104 || stateno = 107
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
trigger5 = var(1) = 1
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
triggerall = var(1) = 0
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
triggerall = var(1) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
triggerall = var(1) = 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 6

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, EMS]
type = AfterImage
triggerall = var(1) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 70,125,140
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .25,.55,.65
timegap = 1
framegap = 1
trans = add
