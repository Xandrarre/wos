
[Data]
life = 3000
power = 6000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 0
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 0.9
yscale = 0.9
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 65
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -57
mid.pos = 0, -38
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.6
walk.back = -1.6
run.fwd  = 8.2, 0
run.back = -6.2,-5.7
jump.neu = 0,-8.9
jump.back = -3.35
jump.fwd = 3.35
runjump.back = -2.75,-8.9
runjump.fwd = 6.0,-8.9
airjump.neu = 0,-8.9
airjump.back = -2.75
airjump.fwd = 2.7

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,21
volume = 256
channel = 1

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,108

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S2,305

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 185]
type = S
anim = 185
sprpriority = 4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 4
value = time*20

[State -3]
type = AfterImage
trigger1 = time = 0
time = 40
length = 40
palcontrast = 100,150,200
paladd = 20,30,40
palmul = 1,1,1
trans = add1

[State 180, 1]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,104

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S2,109

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Susano"
ID = 295
stateno = 191
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 1000

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = Time = 220
value = 0
;-----------------
;Susanoo
[StateDef 191]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 295
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = 1
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 295 && prevstateno != [2921,2941]
value = S6,9

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(295) = 0
anim = 2952
id = 295
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 140
trigger2 = parent, stateno != 190
value = 2952
;---------------------------------------------------------------------------
; Stare Intro
; CNS difficulty: basic
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "Trumna"
ID = 193
stateno =  193
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = F15,6

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 11
time = 15
freq = 25
ampl = 10
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 11
anim = F1080
pos = 0.9*11,0
scale = 0.7,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 11
anim = F407
pos = 0,0
scale = 1.5,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 1921
pos = 0,0
scale = .4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 1000

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-----------------
;Intro
[StateDef 193]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 193
poweradd = 0
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F66
pos = 0,4
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F60
pos = 0,8
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.5,1.5
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F540
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.5,1.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
pos = 0,5
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.45,0.45
sprpriority = 4
ownpal = 1

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*3,(time-150)*3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 194
ID = 194
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime= 9999
pausemovetime= 9999
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 150
ID = 194
trans = addalpha
alpha = 256-(time-150)*3,(time-150)*3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 250
id = 194

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F15,2

[State 0, end]
type = destroyself
trigger1 = time = 250
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,108+random%18

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 195
value = 196

[State 195, 2]
type = ChangeState
trigger1 = Time = 200
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -52
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -58
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-.8
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 18
x = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
trigger1 = time = [3,18]
anim = F300
pos = 0.9*15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%27
volume = 255
channel = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F810
id = 80006
pos = 0.9*28,0.9*-38
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "katon"
ID = 2041
stateno =  2041
pos = 0.9*28,0.9*-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 2041]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2041
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 2041
trigger1 = parent, stateno != 204
value = 2042

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 204
time = 1
facing = 0
pos = 0.9*28,0.9*-38

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = anim = 2041 && time < 24
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 1402
sparkxy = -5-random%20,20-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo1
[StateDef 205]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-7
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time > 8 && pos y < 0
x = 8+(time-8)/2
y = 4+(time-8)/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 8 && pos y >= 0
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%19
volume = 255
channel = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
trigger1 = target, ishelper = 1
attr = S, NA
damage = 80,16
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,15
airguard.velocity = -6,15
air.type = High
air.velocity = -6,15
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p1stateno = 108

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
trigger1 = target, ishelper = 0
attr = C, HP
damage = 80,16
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,15
airguard.velocity = -6,15
air.type = High
air.velocity = -6,15
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p1stateno = 108
p2stateno = 103030

[State 0, End]
type = ChangeState
trigger1 = time > 5 && pos y >= 0
value = 105
ctrl = 1
;-----------------
;Combo2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -65
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo2
[StateDef 211]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0
air.type = High
air.velocity = -2,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo2
[StateDef 212]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -62
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo2
[StateDef 213]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 30
add = -70,-70,-70

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 2131
pos = 0,-30
scale = 0.25,0.25
postype = p2
facing = 1
bindtime = 1
removetime = 30
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 2132+var(1)
pos = 0,-30
scale = 0.25,0.25
postype = p2
facing = 1
bindtime = 1
removetime = 30
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2 
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%27
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = S6,6
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = 4
sparkxy = -15,0.9* -70
hitsound = S6, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo2
[StateDef 214]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 214
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -3,5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo2
[StateDef 215]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 215
poweradd = 20
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*12,0.9*-50
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%27
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && pos y = 0
x = 1
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && pos y != 0
x = 2
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && timemod = 5,0
x = -2
y = -0.5

[State 0, Helper]
type = Helper
trigger1 = time > 10 && timemod = 5,0
helpertype = normal;player
name = "katon"
ID = 2151
stateno = 2151
pos = 0.9*14,0.9*-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 2151]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2151
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Turn]
type = Turn
trigger1 = 0;time = 0 && random = [0,300]
persistent = 0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1402
sparkxy = -5-random%20,20-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,6
airguard.velocity = 0,6
air.type = High
air.velocity = 0,6
air.hittime = 12
;fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 2152
;-----------------
;Katon
[StateDef 2152]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2152
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F800
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 40
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 30
supermove
pausemove
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Combo3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4+cond(prevstateno = 100,4,0),0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0
air.type = High
air.velocity = -2,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
trigger2 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F370
pos = 0.9*15,3
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 224]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 224
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 21
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 21
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-40,0.9*-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-50,0.9*-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-60,0.9*-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 21
anim = F696
ownpal = 1
ID = 900
pos = 0.9*73,0.9*-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 21
anim = F696
ownpal = 1
ID = 900
pos = 0.9*62,0.9*-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 21
anim = F696
ownpal = 1
ID = 900
pos = 0.9*46,0.9*-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F305
pos = 0.9*50,0
facing = -1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F305
pos = 0.9*50,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.5,1.5
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,4
airguard.velocity = -2,4
air.type = High
air.velocity = -2,4
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 225]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-92
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-8,0.9*-108
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-22,0.9*-116
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2251
pos = 0,0
facing = 1
postype = p1
bindtime = -2
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.9,0.9
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F305
pos = 0.9*20,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1200
pos = 0.9*10,0
facing = -1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -80
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-9
airguard.velocity = -3,-9
air.type = High
air.velocity = -3,-9
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 226]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 226
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && time < 100 && timemod = 20,0
anim = F810
id = 80006
pos = 0.9*29,0.9*-39
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 15
time = 50
anim = 1330
sound = F19,4
pos = 0.9*5,0.9*-50
movetime = 0
darken = 1
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "katon"
ID = 2261
stateno = 2261
pos = 0.9*27,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 120
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 2261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2261
poweradd = 0
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 226
time = 1
facing = 0
pos = 0.9*27,0.9*-39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 1400
sparkxy = -5-random%20,enemy, pos y +25-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.5,-3
airguard.velocity = 0,-3
air.type = High
air.velocity = -0.5,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent, stateno != 226
;-----------------
;Combo4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -39
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F810
id = 810
pos = 0.9*12,0.9*-50
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%27
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = -2
y = -5

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "katon"
ID = 2331
stateno = 2331
pos = 0.9*18,0.9*-47
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1;0.04
size.yscale = 1;0.04
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 2331]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2331
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 5 
scale = 0.08*(time+1),0.08*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 5 
scale = 0.4,0.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = -45

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F730
ID = 750
pos = -5,-5
postype = p1
bindtime = 10
vel = 3,0
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = .7,.7
sprpriority = 4
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 10
freq = 10
ampl = 1
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 10
range = -120,100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 4
x = 0+time*2
y = 0+time*2+var(10)/100.0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
x = 8
y = 8+var(10)/100.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -10,-10
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1400
sparkxy = -15, 0
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 811, end]
type = changestate
trigger1 = time = 50
trigger2 = time > 5 && movehit = 1
value = 2332

[State 811, end]
type = changestate
trigger1 = pos y > 0
value = 2332
;-----------------
;Katon
[StateDef 2332]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2332
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 10,0
scale = 0.7,0.7
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 10,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 50,10
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 1400
sparkxy = -5-random%20, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= pos y < 0
x=2-time/10
y=2-time/10

[State 811, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -49
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 241
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 242
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -58
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-.8
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 243
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S4,9+random%7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F810
id = 80006
pos = 0.9*28,0.9*-40
scale = 0.2,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "katon"
ID = 246
stateno = 246
pos = 0.9*28,0.9*-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 244]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 244
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%17
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F810
id = 80006
pos = 0.9*30,0.9*-36
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "katon"
ID = 247
stateno = 247
pos = 0.9*30,0.9*-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 245]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 245
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,10
volume = 255
channel = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [21,80]
trigger1 = timemod = 10,0
anim = F810
id = 80006
pos = 0.9*25,0.9*-49
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 21
helpertype = normal;player
name = "katon"
ID = 249
stateno = 249
pos = 0.9*25,0.9*-49
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 95
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 246]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 246
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.03*(time+1),0.03*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 0.3,0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F730
ID = 750
pos = -5,0
postype = p1
bindtime = 10
vel = 3,0
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = .7,.7
sprpriority = 4
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 10
freq = 10
ampl = 1
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 10
range = -120,100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 4
x = 0+time*1.5
y = 0-time*0.1+var(10)/100.0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
x = 6
y = -0.4+var(10)/100.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -10,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1400
sparkxy = -15,0
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 811, end]
type = changestate
trigger1 = time = 50
trigger2 = time > 5 && movehit = 1
value = 248

[State 811, end]
type = changestate
trigger1 = pos y > 0
value = 248
;-----------------
;Katon
[StateDef 247]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 247
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 0.5,0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F730
ID = 750
pos = -5,0
postype = p1
bindtime = 10
vel = 3,0
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = .7,.7
sprpriority = 4
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 10
freq = 10
ampl = 1
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 10
range = -120,100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 4
x = 0+time*1
y = 0-time*0.1+var(10)/100.0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
x = 8
y = -0.5+var(10)/100.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1400
sparkxy = -15, 0
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 811, end]
type = changestate
trigger1 = time = 50
trigger2 = time > 5 && movehit = 1
value = 248

[State 811, end]
type = changestate
trigger1 = pos y > 0
value = 248
;-----------------
;Katon
[StateDef 248]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 248
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = ishelper(246)
scale = 0.3,0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = ishelper(247)
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 10,0
scale = 0.7,0.7
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 10,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 50,10
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 15
sparkno = 1400
sparkxy = -5-random%20, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 811, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Katon
[StateDef 249]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 249
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 249
trigger1 = parent, stateno != 245
value = 2491

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 245
time = 1
facing = 0
pos = 0.9*25,0.9*-49

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 1400
sparkxy = -5-random%20,enemy, pos y +25-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.5,-3
airguard.velocity = 0,-3
air.type = High
air.velocity = -0.5,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo6
[StateDef 250]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 251]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 251
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo6
[StateDef 252]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 252
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [2,10]
x = 4
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F60
pos = 15,0
scale = 1.3,1.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,2
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo6
[StateDef 253]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 253
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -65
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo6
[StateDef 254]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 254
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -65
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 255]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 255
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && time < 100 && timemod = 20,0
anim = F810
id = 80006
pos = 0.9*10,0.9*-55
scale = 0.33,0.5
postype = p1
facing = 1
angle = 20
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 11
time = 50
anim = 1330
sound = F19,4
pos = 0.9*10,0.9*-55
movetime = 0
darken = 1
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal;player
name = "katon"
ID = 2551
stateno =  2551
pos = 0.9*10,0.9*-55
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 115
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 2551]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2551
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 255
time = 1
facing = 0
pos = 0.9*10,0.9*-55

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 1400
sparkxy = -5-random%20,enemy, pos y +25-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.5,-3
airguard.velocity = 0,-3
air.type = High
air.velocity = -0.5,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent, stateno != 255
;-----------------
;Combo7
[StateDef 259]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 259
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 9 && time < 31
x = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
trigger1 = time = [9,31]
anim = F300
pos = 0.9*15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F16,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 14 && time < 31
anim = 901+random%2
ID = 901
pos = 20+random%60,-35-random%20
vel = -2+(-3+random%4)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15,0.9* -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 18
x = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
trigger1 = time = [3,18]
anim = F300
pos = 0.9*15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -52
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 262
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
trigger2 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -85
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 263]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 263
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F370
pos = 0.9*15,3
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 265]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 265
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 102
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 102
value = F9,2

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*15,0.9*-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 102
anim = F696
ownpal = 1
ID = 900
pos = 0,0.9*-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3 && pos y = 0
anim = F600
pos = 0.9*10,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2651
id = 2651
scale = 0.9,0.9
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 80
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
remappal = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -15,0.9* -20-random%50
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time < 92
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -20-random%50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 40 && command = "holddown" & var(50) != 1
trigger3 = time > 40 && var(50) = 1 && (enemy, numhelper(70700) = 0 || enemy, numhelper(70730) = 0)
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 266]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 266
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2664
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Kosa"
ID = 2662
stateno = 2662 
pos = 0.9*32,0.9*-52
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Lina"
ID = 2661
stateno = 2661 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
scale = 0.9,0.9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 10 && helper(2662), stateno = 2663
value = 267
ctrl = 1
;--------------------------------------------------------------
;Lina
[StateDef 2661]
type = S
movetype= I
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 2661
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 266
time = 1
pos = 0.9*32,0.9*-51

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 267
time = 1
pos = 0.9*17,0.9*-48

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(helper(2662),Pos X-Pos X)*Facing-parent,vel x

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)= -(helper(2662),pos Y-Pos Y)+parent,vel y

[State 1640, alfa]
Type=VarSet
trigger1= 1
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)<0,PI ,0)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)

[State 1640, R]
Type=VarSet
trigger1= 1
fvar(16)= Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))/4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(15)*180/PI
scale = fvar(16),1 

[State 0, DestroySelf]
type = destroyself
trigger1 = numhelper(2662)=0
;------------------
;Kosa
[StateDef 2662]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 2662
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -15+random%10, -15+random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 10,2
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 0+random%4
sparkxy = -5-random%20, -15+random%10
hitsound = S8, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2*cond(vel x >0,2,-2),0
airguard.velocity = -2*cond(vel x >0,2,-2),0
air.type = High
air.velocity = -2*cond(vel x >0,2,-2),0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, alive]
type = VarSet
trigger1 = time = 0
var(12) = cond((enemynear(0),alive),0,1)
ignorehitpause = 1

[State 1640, X]
Type=VarSet
Trigger1= time = 0
fvar(13)=(enemynear(var(12)),Pos X-Pos X)*Facing
ignorehitpause = 1

[State 1640, Y]
Type=VarSet
trigger1= time = 0
fvar(14)=-(enemynear(var(12)),pos Y-Pos Y)
ignorehitpause = 1

[State 1640, alfa]
Type=VarSet
trigger1= time = 0
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)<0,PI ,0)
ignorehitpause = 1

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
trigger1= time = 0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)
ignorehitpause = 1

[State 0, VelSet]
type=VelSet
trigger1= 1
x= 15*cos(fvar(15))
y= cond(-15*sin(fvar(15))>0,0,-15*sin(fvar(15)))
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI;fvar(15)*180/PI
ignorehitpause = 1

[State 0, DestroySelf]
type = destroyself
trigger1 = parent, stateno != 266
trigger1 = parent, stateno != 267

[State 0, DestroySelf]
type = changestate
trigger1 = time = 30
trigger2 = parent, stateno = 267
trigger3 = frontedgedist < 0
trigger4 = backedgedist < 0
trigger5 = time > 10 && pos y > -60*sin(fvar(15)+PI)
value = 2663
;------------------
;Kosa powrt
[StateDef 2663]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 2662
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -15+random%10, -15+random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 10,2
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 0+random%4
sparkxy = -5-random%20, -15+random%10
hitsound = S8, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2*cond(vel x >0,1,-2),0
airguard.velocity = -2*cond(vel x >0,1,-2),0
air.type = High
air.velocity = -2*cond(vel x >0,1,-2),0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 1640, X]
Type=VarSet
trigger1 = parent, stateno = 266
fvar(13)=(parent,Pos X-Pos X)*facing-10

[State 1640, X]
Type=VarSet
trigger1 = parent, stateno = 267
fvar(13)=(parent,Pos X-Pos X)*facing-20

[State 1640, Y]
Type=VarSet
trigger1 = parent, stateno = 266
fvar(14)=(parent,pos Y-Pos Y-50)

[State 1640, Y]
Type=VarSet
trigger1 = parent, stateno = 267
fvar(14)=(parent,pos Y-Pos Y-40)

[State 1640, alfa]
Type=VarSet
trigger1= fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)>0,PI ,0)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)

[State 0, VelSet]
type=VelSet
trigger1= 1
x= -20*cos(fvar(15))
y= -20*sin(fvar(15))

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -fvar(15)*180/PI

[State 0, DestroySelf]
type = destroyself
trigger1 = parent, stateno != 266
trigger1 = parent, stateno != 267
trigger2 = parent, stateno = 268

[State 0, DestroySelf]
type = destroyself
trigger1 = helper(2661), fvar(16) = [-5,5]
;-----------------
;Przyciagniecie kosy
[StateDef 267]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 267
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%27
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = numhelper(2662) = 0
value = 268
ctrl = 1
;-----------------
;Zlapanie kosy
[StateDef 268]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 268
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F9,2

[State 0, Srodek]
type = Explod
trigger1 = time = 10
anim = F696
ownpal = 1
ID = 900
pos = 0.9*10,0.9*-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo8
[StateDef 269]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 269
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 4 && time < 20
anim = 901+random%2
ID = 901
pos = 20+random%80,-40+random%40
vel = 1+random%4,1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15,0.9* -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 0+random%4
sparkxy = -15,0.9* -39
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%27
volume = 255
channel = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F810
id = 80006
pos = 0.9*24,0.9*-50
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "katon"
ID = 2721
stateno =  2721
pos = 0.9*24,0.9*-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 2721]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2041
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 2041
trigger1 = parent, stateno != 272
value = 2042

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 272
time = 1
facing = 0
pos = 0.9*24,0.9*-50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 1402
sparkxy = -5-random%20,20-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo8
[StateDef 273]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-2
ctrl = 0
anim = 273
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2691
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,0.9*-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F13+random%2
pos = -10,0.9*-35
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = -3
scale = 2,2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15,0.9* -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,7
airguard.velocity = -4,7
air.type = High
air.velocity = -4,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Rinnegan: Shinra
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2801
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 403
scale = 0.5,0.5
pos = 0.9*34,0.9*-56
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1070
scale = 0.25,0.8
pos = 0.9*34,0.9*-56
vel = 1,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
triggerall = var(11) < 119
v = 11
value = 119

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -52
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -14,-5
airguard.velocity = -14,-5
air.type = High
air.velocity = -14,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -52
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -14,-5
airguard.velocity = -14,-5
air.type = High
air.velocity = -14,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall.damage = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Rinnegan: Shinra
[StateDef 281]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2811
scale = 1,1
pos =0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 403
scale = 0.5,0.5
pos = 0.9*30,0.9*-67
vel = 0,0
angle = 15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1070
scale = 0.25,0.8
pos = 0.9*30,0.9*-67
vel = 1,-0.6
angle = 15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
triggerall = var(11) < 119
v = 11
value = 119

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -85
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-12
airguard.velocity = -6,-12
air.type = High
air.velocity = -6,-12
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -52
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-12
airguard.velocity = -6,-12
air.type = High
air.velocity = -6,-12
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall.damage = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Rinnegan: Bansho
[StateDef 282]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 282
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2821
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F1070
scale = 0.25,0.8
pos = 0.9*35,0.9*-52
vel = -1,0
;angle = -15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F676
scale = 0.5,0.5
pos = 0.9*145,15
vel = -3,0
;angle = -15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
triggerall = var(11) < 119
v = 11
value = 119

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -52
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 7,-1
airguard.velocity = 7,-1
air.type = High
air.velocity = 7,-1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 0
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && movehit
value = 299
ctrl = 1
;-----------------
;Rinnegan: Shinra
[StateDef 283]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 283
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2831
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1490
id = 1490
ownpal = 1
pos = -45,2
vel = -1,0
accel = 0.02,0
scale = 1.4,1.4
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1490
id = 1490
ownpal = 1
pos = 45,2
vel = 1,0
accel = -0.02,0
scale = 1.4,1.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F676
id = 676
ownpal = 1
pos = 13,10
vel = -0.5,0
accel = 0.01,0
scale = 0.45,0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F676
id = 676
ownpal = 1
pos = -13,10
vel = 0.5,0
accel = -0.01,0
scale = 0.45,0.45
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2832
scale = 0.35,0.35
pos = 0,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,6

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
triggerall = var(11) < 119
v = 11
value = 119

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 35675637
sparkxy = -15, -50
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-5
airguard.velocity = -6,-5
air.type = High
air.velocity = -6,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Rinnegan: Shinra
[StateDef 284]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 284
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2841
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1070
scale = 0.25,0.8
pos = 0.9*32,0.9*-19
vel = 0.4,2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
angle = -80
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
triggerall = var(11) < 119
v = 11
value = 119

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -20
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,10
airguard.velocity = -4,10
air.type = High
air.velocity = -4,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -20
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,10
airguard.velocity = -4,10
air.type = High
air.velocity = -4,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103030
fall.damage = 50
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Rinnegan: Mokuton
[StateDef 285]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 285
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1080
pos = 0.9*11,0
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 2851
stateno = 2851
pos = 0.9*70,0.9*0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2851]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2851
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -30+random%70,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 80,16
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Rinnegan: Mokuton
[StateDef 286]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 286
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1080
pos = 0.9*30,0
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 2861
stateno = 2861
pos = 0.9*15,0.9*5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2861
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -10+random%60+time*5,-10-random%40
vel = 1+(-2+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1200
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = F13,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,-20-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-7
airguard.velocity = -9,-7
air.type = High
air.velocity = -9,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,-20-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-7
airguard.velocity = -9,-7
air.type = High
air.velocity = -9,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall.damage = 50
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 35
trans = addalpha
alpha = 256-(time-35)*10,(time-35)*40

[State 0, end]
type = destroyself
trigger1 = time = 60
;-----------------
;Rinnegan: Mokuton
[StateDef 287]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 287
poweradd = 20
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
value = F17,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F1080
pos = 0.9*-8,0
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 6 && time < 25
anim = 901+random%2
ID = 901
pos = -30-(time-6)+random%(60+(time-6)*2),-10-random%30-(time-6)*2
vel = (-5+random%10)/4,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 21
trigger1 = numhelper(2871) < 4
helpertype = normal;player
name = "mokuton"
ID = 2871
stateno =  2871
pos = 0+random%40,10-random%10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
trigger1 = numhelper(2871) < 4
helpertype = normal;player
name = "mokuton"
ID = 2871
stateno =  2871
pos = 0-random%40,10-random%10
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 16
trigger1 = numhelper(2872) < 4
helpertype = normal;player
name = "mokuton"
ID = 2872
stateno =  2872
pos = 0+random%30,5-random%5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 15
trigger1 = numhelper(2872) < 4
helpertype = normal;player
name = "mokuton"
ID = 2872
stateno = 2872
pos = 0-random%30,5-random%5
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 11
trigger1 = numhelper(2873) < 4
helpertype = normal;player
name = "mokuton"
ID = 2873
stateno =  2873
pos = 0+random%20,0-random%5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger1 = numhelper(2873) < 4
helpertype = normal;player
name = "mokuton"
ID = 2873
stateno =  2873
pos = 0-random%20,0-random%5
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 7
trigger1 = numhelper(2874) < 4
helpertype = normal;player
name = "mokuton"
ID = 2874
stateno =  2874
pos = 0+random%20,0-random%10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 6
trigger1 = numhelper(2874) < 4
helpertype = normal;player
name = "mokuton"
ID = 2874
stateno = 2874
pos = 0-random%20,0-random%10
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4 
anim = F550
pos = 0,5
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F1190
pos = 0,5
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2871]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2871
poweradd = 0
sprpriority = cond(pos y > 2,4,-2)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = cond(pos y > 2,4,-2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0-random%30,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 15
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(pos y > 2,4,-2)
pausetime = 0, 15
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-(time-20)*10,(time-20)*10

[State 0, end]
type = destroyself
trigger1 = time = 45
;-----------------
;Mokuton
[StateDef 2872]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2872
poweradd = 0
sprpriority = cond(pos y > 2,4,-2)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = cond(pos y > 2,4,-2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0-random%30,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 15
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(pos y > 2,4,-2)
pausetime = 0, 15
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-(time-20)*10,(time-20)*10

[State 0, end]
type = destroyself
trigger1 = time = 45
;-----------------
;Mokuton
[StateDef 2873]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2873
poweradd = 0
sprpriority = cond(pos y > 2,4,-2)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = cond(pos y > 2,4,-2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0-random%30,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 15
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(pos y > 2,4,-2)
pausetime = 0, 15
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-(time-20)*10,(time-20)*10

[State 0, end]
type = destroyself
trigger1 = time = 45
;-----------------
;Mokuton
[StateDef 2874]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2874
poweradd = 0
sprpriority = cond(pos y > 2,4,-2)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = cond(pos y > 2,4,-2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0-random%30,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 15
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = cond(pos y > 2,4,-2)
pausetime = 0, 15
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-(time-20)*10,(time-20)*10

[State 0, end]
type = destroyself
trigger1 = time = 45
;-----------------
;Rinnegan: Mokuton
[StateDef 288]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 288
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1080
pos = 0.9*11,0
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 2881
stateno = 2881
pos = 0.9*25,0.9*0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2881]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2881
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = 30+random%40,0-random%10-time
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 30,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 30,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-6
airguard.velocity = -1,-6
air.type = High
air.velocity = -1,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Susanoo Bones 3
[StateDef 289]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,289,2913)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(291) = 0
helpertype = normal;player
name = "Reka"
ID = 291
stateno =  2911
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(289) = 0
helpertype = normal;player
name = "Reka"
ID = 289
stateno = 2891
pos = -5,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 2891]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2911
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -5,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-40-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103030
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 289
value = 2912
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 2892]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2912
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -5,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 1
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,290,2903)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(290) = 0
helpertype = normal;player
name = "Reka"
ID = 290
stateno =  2901
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 2901]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2901
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = F14,5

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 290
value = 2902
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 2902]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2902
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 2
[StateDef 291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,291,2913)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(291) = 0
helpertype = normal;player
name = "Reka"
ID = 291
stateno =  2911
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 2911]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2911
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-40-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
sprpriority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103030
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 291
value = 2912
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 2912]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2912
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo 1
[StateDef 292]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 292
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal;player
name = "Susano"
ID = 295
stateno =  2921
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo 1
[StateDef 2921]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2921
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(295) = 0
anim = 2952
id = 295
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(19) <= 2
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 295 && prevstateno != [2921,2941]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 && prevstateno != 2590 && prevstateno != [2910,2940]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-50-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S908
sparkxy = -15,-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(296) = 0
helpertype = normal;player
name = "Susano"
ID = 296
stateno =  130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 30
size.ground.back = -49
size.air.front = 30
size.air.back = -15
size.height = 125
size.head.pos = 20,-105 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 292
value = 295
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 293
triggerall = time > 5
value = 2931

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 294
triggerall = time > 5
value = 2941
;-----------------
;Susanoo 2
[StateDef 293]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 293
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal;player
name = "Susano"
ID = 295
stateno =  2931
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo 2
[StateDef 2931]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2931
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(295) = 0
anim = 2952
id = 295
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(19) <= 2
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 295 && prevstateno != [2921,2941]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 && prevstateno != 2590 && prevstateno != [2910,2940]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-60-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S908
sparkxy = -15,-70
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(296) = 0
helpertype = normal;player
name = "Susano"
ID = 296
stateno =  130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 30
size.ground.back = -49
size.air.front = 30
size.air.back = -15
size.height = 125
size.head.pos = 20,-105 
size.mid.pos = 0,-60

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 293
value = 295
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 292
triggerall = time > 5
value = 2921

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 294
triggerall = time > 5
value = 2941
;-----------------
;Susanoo 3
[StateDef 294]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 294
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(295) = 0
helpertype = normal;player
name = "Susano"
ID = 295
stateno =  2941
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo 3
[StateDef 2941]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2941
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(295) = 0
anim = 2952
id = 295
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(19) <= 2
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 295 && prevstateno != [2921,2941]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 && prevstateno != 2590 && prevstateno != [2910,2940]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-30-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S908
sparkxy = -15,-40
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,10
airguard.velocity = -4,10
air.type = High
air.velocity = -4,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(296) = 0
helpertype = normal;player
name = "Susano"
ID = 296
stateno =  130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 30
size.ground.back = -49
size.air.front = 30
size.air.back = -15
size.height = 125
size.head.pos = 20,-105 
size.mid.pos = 0,-60

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 294
value = 295
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 292
triggerall = time > 5
value = 2921

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 293
triggerall = time > 5
value = 2931
;-----------------
;Susanoo
[StateDef 295]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 295
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 80,80,240
palpostbright = 0,0,0
paladd = 2,2,5
palmul = .15,.15,.65
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = 1
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 295 && prevstateno != [2921,2941]
value = S6,9

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(295) = 0
anim = 2952
id = 295
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(296) = 0
helpertype = normal;player
name = "Susano"
ID = 296
stateno =  130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 30
size.ground.back = -49
size.air.front = 30
size.air.back = -15
size.height = 15
size.head.pos = 20,-105 
size.mid.pos = 0,-60

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 292
triggerall = time > 5
value = 2921

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 293
triggerall = time > 5
value = 2931

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 294
triggerall = time > 5
value = 2941

[State 0, End]
type = ChangeState
trigger1 = time = 30
trigger2 = parent, var(19) != 2
trigger3 = parent, stateno = [5000,5299]
trigger4 = parent, stateno = [100000,199999]
trigger5 = parent, stateno = 70600
trigger6 = parent, stateno = 70800
trigger7 = parent, stateno = [60,98]
trigger8 = parent, stateno = [102,103]
trigger9 = time > 15 && numhelper(296) = 0
trigger10 = parent, pos y < 0
triggerall = root, stateno != [292,294]
value = 2952
;-----------------
;Susanoo
[StateDef 2952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 295
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(19) = 2
v = 19  
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 295

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2953
id = 2953
pos = 0,-10
scale = 0.4,0.35
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, End]
type = destroyself
trigger1 = time = 10
;-----------------
;Podrzucenie
[StateDef 297]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 297
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 25
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*12,0.9*-83
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-6,0.9*-57
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-92
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-8,0.9*-108
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-22,0.9*-116
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,9+random%7
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2251
pos = 0,0
facing = 1
postype = p1
bindtime = -2
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.9,0.9
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F305
pos = 0.9*20,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1200
pos = 0.9*10,0
facing = -1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15,0.9* -80
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-10
airguard.velocity = -3,-10
air.type = High
air.velocity = -3,-10
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przerzucenie
[StateDef 298]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 298
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 20, 20
sparkno = 0+random%4
sparkxy = -15,0.9* -60
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
p1stateno = 299
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przerzucenie
[StateDef 299]
type = S
movetype= A
physics = S
juggle  = 1
velset = -4,0
ctrl = 0
anim = 299
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%27
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F310
ID = 310
pos = 0.9*-20,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F290
ID = 290
pos = 0.9*-20,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 80
ampl = -4
phase = 90

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 456
sparkxy = 15, -45
hitsound = 5, 456456
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 5,-4
airguard.velocity = -5,-4
air.type = High
air.velocity = 5,-4
air.hittime = 12
fall = 1
fall.recover = 0

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = 15, -45
hitsound = 5, 246456
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 6,-1
airguard.velocity = 6,-1
air.type = High
air.velocity = 6,-1
air.hittime = 12
fall = 1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 60
fall.envshake.ampl = -20
fall.envshake.phase = 20
fall.yvelocity = -3
yaccel = 1.5
fall.damage = 50

[State 0, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 5120
ctrl = 1
;-----------------
;Genjutsu
[StateDef 310]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = -100
sprpriority = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 30
add = -70,-70,-70

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 311
pos = 0,-35
scale = 0.25,0.25
postype = p2
facing = 1
bindtime = 1
removetime = 30
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 312
pos = 0,-35
scale = 0.25,0.25
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 2132+var(1)
pos = 5,-50
scale = 0.20,0.20
postype = p2
facing = 1
bindtime = 1
removetime = 30
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4 
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%17
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = S6,14
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = S1,0+random%27
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 100,20
getpower = -400
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 120
sparkno = 4
sparkxy = -15, -37
hitsound = S6, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Katon Hold
[StateDef 350]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,301

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,301

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
trigger7 = animelem = 14
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
value = F17,0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 75
time = 2
add = 0-(time-75)*2,0-(time-75)*2,0-(time-75)*2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0 
trigger1 = time > 75
anim = F1070
id = 1070
ownpal = 1
pos = 0.9*13,0.9*-46
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80009
ID = 9998
pos = -33,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 80010
ID = 9997
pos = -33,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_c" && time >= 0 && time < 58 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 58 && power >= 1000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 844
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_c" && time >= 58 && time < 115 && power >= 2000
trigger1 = var(50) = 0
trigger2 = time >= 58 && time < 115 && power >= 2000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 360
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 58 && power < 2000
value = 844
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 58 && time < 115 && power < 3000
value = 360
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 115 && power >= 3000
value = 370
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = power < 1000
value = 245
ctrl = 1
;-----------------
;Katon, Gouka Mekkyaku
[StateDef 360]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 10
freq = 30
ampl = -5
phase = 90

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 20
value = -15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "katon"
ID = 361
stateno =  361
pos = 0.9*28,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.8
size.yscale = 1.2
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*28,0.9*-42
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
angle = -10
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = time > 100 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 100 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 100 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 845
ctrl = 1
;-----------------
;Katon
[StateDef 361]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 361
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -10

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360
time = 1
facing = 0
pos = 0.9*28,0.9*-42

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 20
ampl = 2
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 50
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 50
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 20+var(12)*3,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch ziemia]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(1200) < 4 && time > 30
anim = F1200
ID = 1200
pos = 350,-pos y-20
postype = p1
bindtime = 10
vfacing = -1
removetime = 60
scale = 1.8,1.8
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time > 20
anim = F271
ID = 271
pos = 100,-15
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 2 && time > 40
anim = F271
ID = 272
pos = 250,-50
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 2,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%20 = 0 && numexplod(810) < 2
anim = F810
id = 810
pos = 100,20
scale = 1.2,2.5
vel = -2,-0.5
angle = -10
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 20 && time%5 = 0 && numexplod(1463) < 10
anim = F1462
id = 1463
pos = 50+random%400,50-random%80
scale = 1.5,1.5
vel = -3,-1
angle = time*35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 360
value = 362
;-----------------
;Katon
[StateDef 362]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 362
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Katon, Gouka Meshitsu
[StateDef 370]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370
poweradd = 0
sprpriority = 1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 2
add = -80,-80,-80

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 371
pos = 0.9*-7,0.9*-56
scale = 0.9*0.4,0.9*0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 20
movetime = 20
supermove = 20
sound = F19,6
anim = 9999
darken = 0
unhittable = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 20
value = -25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 378
id = 378
pos = 0.9*26,0.9*-42
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
supermovetime=9999
pausemovetime=9999
removeongethit = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "katon"
ID = 375
stateno =  375
pos = 0.9*40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 15 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*28,0.9*-42
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
angle = -10
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = time > 110 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 110 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 60 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 371
ctrl = 1
;-----------------
;Katon
[StateDef 371]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 2
add = -80+time*4,-80+time*4,-80+time*4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,306
volume = 255
channel = 2

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 375]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 375
poweradd = -500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109914

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 370
time = 1
pos = 0.9*40,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 15
freq = 30
ampl = 3
phase = 90

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 100
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 50
v = 12
value = 0

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0 
trigger1 = numexplod(3771) < 4 && time > 20
anim = 377
ID = 3771
pos = 250+var(12)*10,-150
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 0.4,0.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 15
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 370
value = 376
;-----------------
;Katon
[StateDef 376]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time)*5,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = time = 50
;-----------------
;Uchihagaeshi
[StateDef 380]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = -200
sprpriority = 0


[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 75
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 75
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*15,0.9*-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*10,0.9*-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = 0.9*15,0.9*-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-10,0.9*-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Gunbai]
type = Explod
trigger1 = animelem = 2
anim = 381
ownpal = 1
ID = 381
pos = 0.9*-15,0.9*-71
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 0.9,0.9
sprpriority = 4
ontop = 0
angle = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S8,1


[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [11,25]
anim = 381
ownpal = 1
ID = 381
pos = 0.9*-15,0.9*-71
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 0.9,0.9
sprpriority = 4
ontop = 0
angle = 90-(time-10)*30

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 381

[State 0, Gunbai]
type = Explod
trigger1 = animelem = 2
anim = 384
ownpal = 1
ID = 384
pos = 0.9*-15,0.9*-71
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 0.9,0.9
sprpriority = 3
ontop = 0
trans = addalpha
alpha = 200,267
angle = 105

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [11,25]
anim = 384
ownpal = 1
ID = 384
pos = 0.9*-15,0.9*-71
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 0.9,0.9
sprpriority = 3
ontop = 0
trans = addalpha
alpha = 200,267
angle = 105-(time-10)*30

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 384

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 10
value = 0

[State 0, HitOverride]
type = HitOverride
Trigger1 = Time = [30,70]
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
slot = 0
stateno = 382
time = 1
ignorehitpause = 1


[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 30
Time = 10
color = 0+((time-30)*4.75)
add = -81+((time-30)*1.5),-81+((time-30)*1.5),-81+((time-30)*1.5)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%17
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Uchihagaeshi
[StateDef 382]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 382
poweradd = -300
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,14

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 0
anim = 101
pos = -3*0.9,-35*0.9
sound = 19,6
anim = 9999
darken = 1
unhittable = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 5 && timemod = 10,0
time = 20
freq = 20
ampl = -6
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 15,0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 15,0
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,8

[State 0, Gunbai]
type = Explod
trigger1 = animelem = 2
anim = 383
ownpal = 1
ID = 383
pos = 0.9*0,0.9*0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, 1]
type = Explod
trigger1 = animelem = 2
anim = 385
ownpal = 1
ID = 385
pos = 0.9*35,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,1
sprpriority = 4
ontop = 0

[State 0, 2]
type = Explod
trigger1 = animelem = 2
anim = 386
ownpal = 1
ID = 386
pos = 0.9*35,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [36,50]
anim = 386
ownpal = 1
ID = 386
pos = 0.9*35,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 1,1
sprpriority = 4
ontop = 0
trans = addalpha
alpha = 256-(time-36)*17,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 386

[State 0, 2]
type = Explod
trigger1 = animelem = 2
anim = 387
ownpal = 1
ID = 387
pos = 0.9*35,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1.3,1
sprpriority = 5
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [36,50]
anim = 387
ownpal = 1
ID = 387
pos = 0.9*35,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1
scale = 1.3,1
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-(time-36)*17,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 387

[State 0, 2]
type = Explod
trigger1 = time > 5 && timemod = 10,0
anim = 389
ownpal = 1
ID = 389
pos = 0.9*50,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [36,50]
anim = 389
ownpal = 1
ID = 389
pos = 0.9*50,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ontop = 0
trans = addalpha
alpha = 256-(time-36)*17,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 389

[State 0, 2]
type = Explod
trigger1 = time = 5
anim = F641
ownpal = 1
ID = 641
pos = 0.9*45,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [36,50]
anim = F641
ownpal = 1
ID = 641
pos = 0.9*45,0.9*-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ontop = 0
trans = addalpha
alpha = 256-(time-36)*17,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 641

[State 0, 2]
type = Explod
trigger1 = time > 5 && timemod = 15,0
anim = F461
ownpal = 1
ID = 461
pos = 0.9*50,0.9*-45
vel = -2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 4
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [36,50]
anim = F461
ownpal = 1
ID = 461
pos = 0.9*50,0.9*-45
vel = -2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 4
ontop = 0
trans = addalpha
alpha = 256-(time-36)*17,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 461

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 5 && time < 45
anim = F591
ID = 591
pos = 0+random%250,0-random%30
vel = 3+random%7,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Uchihageashi"
ID = 388
stateno = 388
pos = 1,1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;-----------------
;Uchihagaeshi
[StateDef 388]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 388
poweradd = -500
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = time > 0
time = 1
pos = 0,0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
triggerall = hitcount < 5
attr = S, NA
damage = 100,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 123456
sparkxy = -15,-20-random%50
hitsound = 262436,2
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-6
airguard.velocity = -10,-6
air.type = High
air.velocity = -10,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = Destroyself
trigger1 = time = 45
trigger2 = parent, stateno != 382
;-----------------
;Fuuton
[StateDef 390]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 390
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 40
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 40
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*12,0.9*-83
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-6,0.9*-57
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 40
anim = F696
ownpal = 1
ID = 900
pos = 0.9*5,0.9*-92
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 40
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-8,0.9*-108
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1
scale = .8,.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 40
anim = F696
ownpal = 1
ID = 900
pos = 0.9*-22,0.9*-116
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%27
volume = 255
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 15 && time < 40
anim = F591
ID = 591
pos = 10+random%40,0-random%20
vel = 0+random%5,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2251
pos = 0,0
facing = 1
postype = p1
bindtime = -2
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.9,0.9
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F305
pos = 0.9*20,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1200
pos = 0.9*10,0
facing = -1
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F461
pos = 0.9*30,-50*0.9
facing = 1
vel = -2,0
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.7
sprpriority = 4
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "Futon"
ID = 395
stateno = 395
pos = 20,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Futon"
ID = 396
stateno = 395
pos = 20,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal;player
name = "Futon"
ID = 397
stateno = 395
pos = 20,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Futon"
ID = 398
stateno = 395
pos = 20,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "Futon"
ID = 399
stateno = 395
pos = 20,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Futon
[StateDef 395]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 395
poweradd = -300
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(395)
x = 12-time/5
y = -1-time/5

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(396)
x = 12-time/6
y = -2-time/6

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(397)
x = 12-time/7
y = -3-time/7

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(398)
x = 12-time/8
y = -4-time/8

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(399)
x = 12
y = -6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H ;&& timemod = 2,0
anim = F10+random%3
angle = -25+random%50
pos = -5-random%20,-20-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F643
pos = -5-random%20,-15-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,0

[State 0, TargetBind]
type = TargetBind
trigger1 = ishelper(395)
time = 1
pos = 15,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = !ishelper(399)
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5+vel y/2
airguard.velocity = -5,-5+vel y/2
air.type = High
air.velocity = -5,-5+vel y/2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = ishelper(399)
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0
hitsound = 14,5
guardsound = 14, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-7
airguard.velocity = -7,-7
air.type = High
air.velocity = -7,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 25

;-----------------
;Kuchiyose: Kyubi
[StateDef 470]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 470
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 11
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = F7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S3,7

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(472) = 0
trigger1 = var(1) < 2
triggerall = P2Name != "Naruto"
helpertype = normal
name = "Kyubi"
stateno = 472
ID = 472
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(472) = 0
trigger1 = var(1) = 2
triggerall = P2Name != "Naruto"
helpertype = normal
name = "Kyubi"
stateno = 473
ID = 472
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(472) = 0
triggerall = P2Name = "Naruto"
helpertype = normal
name = "Kyubi"
stateno = 475
ID = 472
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper] 
type = Helper 
trigger1 = animelem = 12
triggerall = P2Name = "Naruto"
helpertype = normal
name = "pieczec kuchiyose" 
ID = 471
stateno = 471
pos = 9,2
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------
;Piecz
[StateDef 471]
type = S
anim = 471
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 17
scale = 0.0015*(time*22),0.00020*(time*19)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
scale = 0.5625,0.065

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 70
;--------------
;Niewidzialna anim
[StateDef 472]
type = S
anim = 472

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kyubi"
stateno = 480
ID = 480
pos = -50,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.7
size.yscale = 0.7
size.ground.front = 10*0.7
size.ground.back = -200*0.7
size.air.front = 150*0.7
size.air.back = -200*0.7
size.height = 250*0.7
size.head.pos = 150*0.7,-250 *0.7
size.mid.pos = -50*0.7,-200 *0.7

[State 0, ChangeState]
type = Destroyself
trigger1 = numhelper(480) = 1
;--------------
;Niewidzialna anim
[StateDef 473]
type = S
anim = 473

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kyubi"
stateno = 490
ID = 480
pos = -50,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.7
size.yscale = 0.7
size.ground.front = 10*0.7
size.ground.back = -200*0.7
size.air.front = 150*0.7
size.air.back = -200*0.7
size.height = 250*0.7
size.head.pos = 150*0.7,-250 *0.7
size.mid.pos = -50*0.7,-200 *0.7

[State 0, ChangeState]
type = Destroyself
trigger1 = numhelper(480) = 1
;-----------------
;DMG do Naruto
[StateDef 475]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 475
poweradd = -500
sprpriority = 2

[State 0, BindToTarget]
type = BindToTarget
trigger1 = 1
pos = 0,0,Mid

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 476
ID = 476
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 0.1,0.1
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = enemy, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 250,250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = -1
sparkxy = -15,0
hitsound = 35, 345636
guardsound = 6, 0
ground.type = High
ground.slidetime = 60
ground.hittime  = 60
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 60
fall = 1

[State 0, End]
type = destroyself
trigger1 = Time = 30
;--------------------
;Kyubi
[StateDef 480]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480
poweradd = -2000
sprpriority = -2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 10
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 3.5*0.7,3.5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 5*0.7,5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F587
ID = 587
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 10
freq = 10
ampl = -3
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1370
ID = 1370
pos = -130*0.7,30*0.7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 2*0.7,2*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1370
ID = 1370
pos = 70*0.7,30*0.7
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 2*0.7,2*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 481
ctrl = 1
;--------------------
;Kyubi
[StateDef 481]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481
poweradd = 0
sprpriority = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
freq = 5
ampl = -2
phase = 90

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bijudama"
stateno = 485
ID = 485
pos = 135*0.7,-230*0.7
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 482
ctrl = 1
;--------------------
;Kyubi
[StateDef 482]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = 0
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,0+random%4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 483
ctrl = 1
;--------------------
;Kyubi
[StateDef 483]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 483
poweradd = 0
sprpriority = -2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 10
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 3.5*0.7,3.5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 5*0.7,5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = destroyself
trigger1 = time = 10
;--------------------
;Bijudama
[StateDef 485]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 485
poweradd = 0
sprpriority = -3

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && time%5 = 0
time = 20
freq = 20
ampl = -4
phase = 90

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 30
time = 1
pos = 160*0.7,-273*0.7

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 30 && time < 60
time = 1
pos = 140*0.7,-298*0.7

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 60
time = 1
pos = 170*0.7,-190*0.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 60 && timemod = 15,0 
anim = F1070
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 2,2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 60 && timemod = 15,0 
anim = 484
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 40 && timemod = 15,0 
anim = 4851
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.9,0.9
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 0 && time < 50 && timemod = 5,0 
anim = 4852
pos = -30+random%60,-30+random%60
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 0 && time < 50 && timemod = 5,0 
anim = 4853
pos = -30+random%60,-30+random%60
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 65
value = 486
ctrl = 1
;--------------------
;Bijudama
[StateDef 486]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 486
poweradd = 0
sprpriority = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 10,30


[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 484

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F461
id = 4860
pos = 0,0
postype = p1
bindtime = 5
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
vel = -vel x/10,-vel y/10
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = F461
id = 4860
pos = 0,0
postype = p1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
vel = -vel x/10,-vel y/10
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 15
anim = 4861
id = 4861
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 4861
id = 4861
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
Type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type=VelSet
trigger1= time = 1
x=abs((Fvar(13))/(fvar(15))*30)
y=abs((FVar(14))/(fvar(15))*30)

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 5
y = 0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 10,0
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,3
airguard.velocity = -7,3
air.type = High
air.velocity = -7,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
value = 487
ctrl = 1
;--------------------
;Bijudama
[StateDef 487]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 487
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4860

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4861

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 40
ampl = -8
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = -100,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 999
scale = 1.3,1.3
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = 100,20
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 3,0
removetime = -2
pausemovetime = 999
scale = 1.3,1.3
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F64
pos = 0,0
scale = 3,1.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time < 25
anim = F591
ID = 591
pos = -100+random%200,0-random%60
vel = -7+random%15,-4-random%3
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4872
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.6,0.6
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1332
pos = 0,-40
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 2.5,2.5
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.5,1.5
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = hitcount < 2
attr = S, NA
damage = 500,250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-10
airguard.velocity = -6,-10
air.type = High
air.velocity = -6,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, destroyself]
type = destroyself
trigger1 = time = 25
;--------------------
;Kyubi
[StateDef 490]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 490
poweradd = -2000
sprpriority = -2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 10
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 4902
ID = 4902
pos = 162*0.7,-261*0.7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 3.5*0.7,3.5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 5*0.7,5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F587
ID = 587
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 10
freq = 10
ampl = -3
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1370
ID = 1370
pos = -130*0.7,30*0.7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 2*0.7,2*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1370
ID = 1370
pos = 70*0.7,30*0.7
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 2*0.7,2*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,5

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 4901
ID = 4901
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 491
ctrl = 1
;--------------------
;Kyubi
[StateDef 491]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 491
poweradd = -1000
sprpriority = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4911
ID = 4911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 4901

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
freq = 5
ampl = -2
phase = 90

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bijudama"
stateno = 495
ID = 495
pos = 220*0.7,-260*0.7
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 492
ctrl = 1
;--------------------
;Kyubi
[StateDef 492]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 492
poweradd = 0
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4921
ID = 4921
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 4911

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 493
ctrl = 1
;--------------------
;Kyubi
[StateDef 493]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 493
poweradd = 0
sprpriority = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4931
ID = 4931
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
pausemovetime = 999
scale = 1*0.7,1*0.7
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 4921

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F9,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 40
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 3.5*0.7,3.5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = F697
ID = 697
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 5*0.7,5*0.7
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = destroyself
trigger1 = time = 50
;--------------------
;Bijudama
[StateDef 495]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 485
poweradd = 0
sprpriority = -3

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && time%5 = 0
time = 20
freq = 20
ampl = -4
phase = 90

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 60
time = 1
pos = 220*0.7,-260*0.7

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 60
time = 1
pos = 197*0.7,-212*0.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 495
id = 495
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime= 9999
pausemovetime= 9999
scale = 0.2,0.2
sprpriority = -1

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time > 30 && time < 60
anim = 495
id = 495
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime= 9999
pausemovetime= 9999
scale = (20+(time-30))*0.01,(20+(time-30))*0.01
sprpriority = -1
angle = (time-30)*5*(time-30)

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = time>= 60
anim = 495
id = 495
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = -1
angle = (time-30)*5*(time-30)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 60 && timemod = 15,0 
anim = F1070
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 2,2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 60 && timemod = 15,0 
anim = 484
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && time < 40 && timemod = 15,0 
anim = 4851
id = 484
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.9,0.9
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 0 && time < 50 && timemod = 5,0 
anim = 4852
pos = -30+random%60,-30+random%60
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 0 && time < 50 && timemod = 5,0 
anim = 4853
pos = -30+random%60,-30+random%60
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 65
value = 496
ctrl = 1
;--------------------
;Bijudama
[StateDef 496]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 486
poweradd = 0
sprpriority = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 10,30

[State 0, Explod]
type = ModifyExplod
ownpal = 1
trigger1 = 1
anim = 495
id = 495
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = -2
angle = time*5*time

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 484

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F461
id = 4860
pos = 0,0
postype = p1
bindtime = 5
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
vel = -vel x/10,-vel y/10
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = F461
id = 4860
pos = 0,0
postype = p1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
vel = -vel x/10,-vel y/10
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 15
anim = 4861
id = 4861
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 4861
id = 4861
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.4
sprpriority = 4
angle = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
Type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type=VelSet
trigger1= time = 1
x=abs((Fvar(13))/(fvar(15))*30)
y=abs((FVar(14))/(fvar(15))*30)

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 5
y = 0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 10,0
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,3
airguard.velocity = -7,3
air.type = High
air.velocity = -7,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
value = 497
ctrl = 1
;--------------------
;Bijudama
[StateDef 497]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 494
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 495

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4860

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4861

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 40
ampl = -8
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 496
pos = 0,0
postype = p1
bindtime = -2
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 2,2
sprpriority = 6

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = -200,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 999
scale = 1.8,1.8
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = 200,20
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 3,0
removetime = -2
pausemovetime = 999
scale = 1.8,1.8
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F64
pos = 0,0
scale = 4,1.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time < 25
anim = F591
ID = 591
pos = -100+random%200,0-random%60
vel = -7+random%15,-4-random%3
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 498
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1,1
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 497
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1,1
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1332
pos = 0,-50
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 3.2,3.2
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 2,2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = hitcount < 2
attr = S, NA
damage = 750,300
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-10
airguard.velocity = -6,-10
air.type = High
air.velocity = -6,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, destroyself]
type = destroyself
trigger1 = time = 25
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 103030]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = time = 10
value = 105502
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105502]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 8

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0
persistent = 0
anim = F64
pos = 0,2
scale = 0.6,0.3
postype = p1
facing = 1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1  

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F540
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F550
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 105503
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105503]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A  

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
;-----------------
;Katon: Goenka
[StateDef 530]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 530
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 0.9*14,0.9*-48
scale = 0.40,0.55
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 8
trigger6 = animelem = 9
x = -2
y = -4

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 8
trigger6 = animelem = 9
helpertype = normal;player
name = "katon"
ID = 535
stateno = 535
pos = 0.9*14,0.9*-38
postype = p1    ;p2,front,back,left,right
facing = cond(random,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 535]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 535
poweradd = -400
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 1+random%8

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
y = 3+time/2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = 0.8,0.8
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999
angle = -90

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1480
angle = -atan(vel y/vel x)*180/PI

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time < 100
anim = F271
ID = 271
pos = 0,0
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
angle = -90

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 5 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = 15,15
scale = 0.7,1.4
vel = -1,-2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999
angle = -90

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = atan(vel y/vel x)*180/PI

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 536
;-----------------
;Katon ziemia
[StateDef 536]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 536
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1450
id = 1450
pos = 0,0
scale = 1,0.35
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1480

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = .7,0.7
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 537
ID = 537
pos = 0,5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.3
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1400
ID = 1400
pos = 0,-10
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 3
ownpal = 1

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1330
id = 1330
pos = 0,0
scale = 0.7,0.7
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 50
;-----------------
;Katon: Ryuen Hoka no Jutsu
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = 0
sprpriority = 0

[State 1500]
type = SuperPause
trigger1 = animelem = 4
time = 20
movetime = 0
supermove = 0
sound = F19,7
anim = 2006
pos = 9*0.9,-51*0.9
anim = 9999
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 
value = S3,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
trigger4 = animelem = 9
trigger5 = animelem = 10
anim = F810
id = 80006
pos = 0.9*28,0.9*-39
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "katon"
ID = 545
stateno = 545
pos = 0.9*28,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "katon"
ID = 546
stateno = 545
pos = 0.9*28,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal;player
name = "katon"
ID = 547
stateno = 545
pos = 0.9*28,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal;player
name = "katon"
ID = 548
stateno = 545
pos = 0.9*28,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal;player
name = "katon"
ID = 549
stateno = 545
pos = 0.9*28,0.9*-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon: Ryuen Hoka no Jutsu
[StateDef 545]
type = A
movetype= A
juggle  = 1
ctrl = 0
anim = 545
poweradd = -600
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 20
ampl = -4
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 2+time

[State 0, VelSet]
type = VelSet
trigger1 = time >= 10
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(545)
y = -1

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(545)
y = 0.05

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(546)
y = -3

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(546)
y = 0.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(547)
y = -5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(547)
y = 0.2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(548)
y = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(548)
y = 0.2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(549)
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(549)
y = 0.1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F18,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F271
ID = 271
pos = 20,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 5 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -10,0
scale = 1,1.8
vel = 0,0
postype = p1
facing = -1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = -atan(vel y/vel x)*180/PI

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 5
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -6,-2
air.type = High
air.velocity = -6,-3
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, ChangeState]
type = ChangeState
trigger1 = hitcount >= 4
trigger2 = time = 80
trigger3 = frontedgedist < 0
trigger4 = backedgedist < 0
trigger5 = pos y >= 10
value = 546
ctrl = 0
;-----------------
;Katon: Ryuen Hoka no Jutsu
[StateDef 546]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 546
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 271

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 30
ampl = -7
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= 0
anim = 548
id = 548
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= 0
anim = F64
id = 64
pos = 0,0
scale = 0.8,0.6
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 547
id = 547
pos = 0,0
scale = .5,.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 25,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 100,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Katon: Haijingakure no Jutsu	
[StateDef 550]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,303

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,303

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,303

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,15

[State 0, Dym]
type = Explod
ownpal = 0
trigger1 = animelem = 4
anim = 552
id = 552
pos = -8,-55*0.9
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -2
removetime = -2
removeongethit = 1
sprpriority = 4
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal;player
name = "katon"
ID = 551
stateno = 551
pos = 120,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon: Haijingakure no Jutsu	
[StateDef 551]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 551
poweradd = 0
sprpriority = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 550
time = 1
pos = 120,0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -7

[State 0, Dym]
type = Explod
ownpal = 0
trigger1 = timemod = 20,0
anim = 555
id = 555
pos = 2,-58*0.9
scale = 0.4,0.4
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 8
supermovetime=9999
pausemovetime=9999

[State 0, Zar]
type = Explod
ownpal = 0
trigger1 = timemod = 6,0
anim = 556
id = 556
pos = 2,-58*0.9
scale = 0.7,0.7
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
supermovetime=9999
pausemovetime=9999

[State 0, Zar]
type = Explod
ownpal = 0
trigger1 = timemod = 6,0
anim = 557
id = 557
pos = 2,-58*0.9
scale = 0.7,0.7
vel = -3+random%7,-1+random%3
angle = time*5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F10,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 1400+random%2
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.ampl = -5
envshake.freq = 15
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 70
trigger2 = parent, stateno != 550


;-----------------
;Housenka
[StateDef 836]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 836
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*28,0.9*-42
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 0.9*28,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,21+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1

;-----------------
;Housenka
[StateDef 837]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 837
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F810
id = 810
pos = 0.9*28,0.9*-42
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 0.9*28,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,21+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1

;-----------------
;Katon
[StateDef 838]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1.5
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 839

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 840
persistent = 1


;-----------------
;Katon
[StateDef 839]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = time = 12
;-----------------
;Katon
[StateDef 840]
type = S
movetype= A
physics = S
anim = 861
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Goukakyu Hold
[StateDef 844]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 844
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 27 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*28,0.9*-42
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -10

[State 0, Helper]
type = Helper
trigger1 = animelem = 8 && numhelper(846) = 0
helpertype = normal;player
name = "katon"
ID = 846
stateno = 846
pos = 0.9*28,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 845
ctrl = 1
;-----------------
;Goukakyu
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,306
volume = 255
channel = 2

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 846]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 846
poweradd = -200
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 844
time = 1
facing = 0
pos = 0.9*28,0.9*-42

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 25
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 40
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 40
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 50+var(12)*6,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time % 16 = 0 && numexplod(271) <= 2
anim = F271
ID = 271
pos = 100,5
postype = p1
vel = 0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 5
ownpal = 1

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 15 && time % 20 = 0 && numexplod(820) <= 1
anim = F820
id = 820
pos = 200,0
scale = 1.3,2
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 12,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 844 && parent, stateno != 8451
value = 847
;-----------------
;Katon
[StateDef 847]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 847
poweradd = 0
sprpriority = 3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyuu
[StateDef 849]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 849
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F810
id = 80006
pos = 0.9*28,0.9*-42
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal;player
name = "katon"
ID = 850
stateno = 850
pos = 0.9*53,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 60; && (numhelper(850) = 0 || command != "hold_c")
value = 845
ctrl = 1
;-----------------
;Katon
[StateDef 850]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 850
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,4

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
pos = 20,0
postype = p1
bindtime = 130
removetime = 130
scale = 1.8,1.8
sprpriority = 4
ownpal = 1

[State 0, Skaly]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1490) < 8 && time < 100
anim = F1490
ID = 1490
pos = 10,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 1.5,1.2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1462) < 10 && time < 100
anim = F1462
ID = 1462
pos = 20,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 3.5,2.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch ziemia]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(1200) < 2 && time < 100
anim = F1200
ID = 1200
pos = 20,-pos y-20
postype = p1
bindtime = 10
vfacing = -1
removetime = 60
scale = 1.5,1.5
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 1 && time < 100
anim = F271
ID = 271
pos = 30,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 1 && time < 100
anim = F271
ID = 272
pos = 0,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -25,-5
scale = 1.3,2
vel = -3,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1340
id = 1340
pos = 25,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1331
id = 1331
pos = 25,0
scale = 2,2
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = time = 115
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 120
time = 1
pos = 30,30

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time <= 120
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 125
hitonce = 1
attr = S, NA
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-10
airguard.velocity = -5,-10
air.type = High
air.velocity = -5,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 130
;-----------------
;Housenka Air
[StateDef 858]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1.3,-5
ctrl = 0
anim = 858
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 0.9*25,0.9*-48
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 0.9*27,0.9*-49
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,21+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Housenka Air
[StateDef 8581]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 8581
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
y = -1.3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F810
id = 810
pos = 0.9*25,0.9*-48
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 0.9*27,0.9*-49
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,21+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 859]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3+var(7)
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 860

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 861
;-----------------
;Katon
[StateDef 860]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=1;-time/10
y=1;-time/10

[State 0, end]
type = changestate
trigger1 = pos y >= 0
value = 861

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Katon
[StateDef 861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Goukakyu Air
[StateDef 863]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 863
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 0.9*25,0.9*-48
scale = 0.40,0.55
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 315

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = -5
y = -3

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "katon"
ID = 864
stateno = 864
pos = 0.9*45,0.9*-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 864]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 864
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 6001
angle = atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 3+time/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 8-(time-20)/20+var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time < 100
anim = F271
ID = 271
pos = 15,15
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 2 && time < 100
anim = F271
ID = 272
pos = -10,-10
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 272
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = 15,15
scale = 1.3,2
vel = -3,-3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = atan(vel y/vel x)*180/PI

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = 1.5,1.5
sprpriority = 4
angle = -45
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 866
;-----------------
;Katon ziemia
[StateDef 866]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 866
poweradd = 0
sprpriority = 3

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1450
id = 1450
pos = 0,0
scale = 1.4,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1480

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.6,1.6
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1400
ID = 1400
pos = 0,-10
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 0,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 50

;-----------------
[StateDef 868]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 868
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -8


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%19
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,3
volume = 255
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && numexplod(80007) = 0
anim = F810
id = 80007
pos = 0,-25
scale = 0.3,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90

[State 0, Helper]
type = Helper
trigger1 = time > 6 && timemod = 6,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 8,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10

[State 0, end]
type = ChangeState
trigger1 = time = 50
value = 50
ctrl = 1

;-----------------
;Katon z powietrza pionowy
[StateDef 8231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8231
poweradd = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= time = 1
x=0+(random%27-13)/2
y=8

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = parent, var(15) = 0
attr = S, NA
damage = 40,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -15+random%20,-10-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 2
envshake.freq = 20
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = var(15) = 1
attr = S,NA
damage = 40,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -15+random%20,-10-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 2
envshake.freq = 20

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 8232
;-----------------
[StateDef 8232]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8232
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F800
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 40
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 30
supermove
pausemove
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 40

;-----------------
[StateDef 896]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 895
poweradd = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 65

;----------------------------------------------------------------------------
;Sharingan
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 0.9*3,0.9*-61
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Sharingan
[Statedef 1005]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 0.9*9,0.9*-66
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1010]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1012
pos = 0.9*3,0.9*-61
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1015]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1015
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1012
pos = 0.9*9,0.9*-66
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;Rinnegan
[Statedef 1020]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,27
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*10,0-time*10,0-time*10

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -100,-100,-100

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -100+(time-20)*10,-100+(time-20)*10,-100+(time-20)*10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1022
pos = 0.9*3,0.9*-61
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 3

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Rinnegan
[Statedef 1025]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1025
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,27
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*10,0-time*10,0-time*10

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -100,-100,-100

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -100+(time-20)*10,-100+(time-20)*10,-100+(time-20)*10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1022
pos = 0.9*9,0.9*-66
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 3

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Kage Bunshin
[StateDef 2000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,301+random%1
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,0+random%27
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 90004
ID = 20001
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 90
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1
ontop = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && time <= 100
anim = 90002
ID = 20002
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(20000) = 0
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 40
triggerall = numhelper(20000) <= 1
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 60
triggerall = numhelper(20000) <= 2
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 80
triggerall = numhelper(20000) <= 3
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = numhelper(20000) <= 4
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 1000
trigger3 = var(50) = 1 && random = [0,100-var(49)*var(49)/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 100
trigger10 = numhelper(20000) = 5
value = 0
ctrl = 1
;-----------------
;Moku Bunshin
[StateDef 2001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,301+random%1
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,0+random%27
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 90005
ID = 20001
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 90
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1
ontop = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && time <= 100
anim = 90002
ID = 20002
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 25
triggerall = numhelper(30000) = 0
helpertype = player
name = "bunshin"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 50
triggerall = numhelper(30000) <= 1
helpertype = player
name = "bunshin"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 75
triggerall = numhelper(30000) <= 2
helpertype = player
name = "bunshin"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = numhelper(30000) <= 3
helpertype = player
name = "bunshin"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 0
pausemovetime = 0

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 1500
trigger3 = var(50) = 1 && random = [0,100-var(49)*var(49)/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 100
trigger10 = numhelper(30000) = 4
value = 0
ctrl = 1
;-----------------------------
;Kawarimi
[StateDef 4501]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F21,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F700
ID = 700
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;--------------
;Kunai
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 4
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 0.9*5,0.9*-48
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Reverse Kunai
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70651
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,14+random%3

[State -1, ReversalDef]
Type = ReversalDef
Trigger1 = time > 5
Reversal.Attr = A,NP
Pausetime = 0,0
NumHits = 0
SparkNo = -1
SparkXY = 0,0
p1stateno = 70652
p2stateno = 103031

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 10 && command = "holdfwd" & var(50) != 1
trigger3 = time > 10 && var(50) = 1 && (enemy, numhelper(70700) = 0 || enemy, numhelper(70730) = 0)
value = 0
ctrl = 1
;--------------
;Reverse Kunai
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70652
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%17
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 4
triggerall = var(21) <= 9
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
triggerall = var(21) <= 9
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 0.9*20,0.9*-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
triggerall = var(21) > 9
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 0.9*20,0.9*-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Reverse Kunai
[StateDef 103031]
type = A
movetype = A
physics = N
juggle = 0
anim = 9998
ctrl = 0

[State 310, end]
type = Destroyself
trigger1 = Time = 1
;--------------
;Pret
[StateDef 70653]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70653
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S1,0+random%27
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "kunai"
ID = 1200
stateno = 1200
pos = 0.9*5,0.9*-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;Pret
[Statedef 1200]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 1200
sprpriority = 2
poweradd = -200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, AngleDraw]
Type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, VelSet]
type=VelSet
trigger1= time = 1
x=(Parent,Fvar(13))/(Parent,fvar(15))*25
y=(Parent,FVar(14))/(Parent,fvar(15))*25-1

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
x = -0.1
y = 0.1

[State 0, VarSet]
type = VarSet
trigger1 = time > 1
v = 1    
value = vel x

[State 0, VarSet]
type = VarSet
trigger1 = time > 1
v = 2    
value = vel y

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 1205
id = 1205
pos = vel x,-vel y
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.4,0.2
sprpriority = 3
angle = -atan(vel y/vel x)*180/PI

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, 1]
type = HitDef
trigger1 = !time
attr = A, NP
damage = 50
givepower = -100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = -1
sparkxy = -10, 0
hitsound = -1;S4,21
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = F21,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1 && p2movetype = H
value = 1201
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 1202
time = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
trigger2 = pos y < -800
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 1202
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 1204
;------------------------------------------------------------------
;Pret Wbity
[Statedef 1201]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 1202
sprpriority = 2
poweradd = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1205

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F10
angle = -25+random%50
ID = 10
pos = 10,0
scale = 1.4,1.4
postype = p1
facing = 1
vfacing = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
persistent = 0
anim = 1022
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BindToTarget]
type = BindToTarget
trigger1 = 0;time > 0
time = 3
pos = 0,-40,Feet

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 0, AngleDraw]
Type = AngleDraw
trigger1 = 1
value = -atan(var(2)/var(1))*180/PI 

[State 0, Pret]
type = Explod
trigger1 = time = 0
anim = 1200
ownpal = 1
ID = 1203
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 75
supermovetime = 9999
pausemovetime = 9999
scale = 0.9,0.9
sprpriority = -2
ontop = 0
angle = -atan(var(2)/var(1))*180/PI 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [50,75]
anim = 1200
ownpal = 1
ID = 1203
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = 75
supermovetime = 9999
pausemovetime = 9999
scale = 0.9,0.9
sprpriority = -2
ontop = 0
trans = addalpha
alpha = 256-(time-50)*10,(time-50)*10
angle = -atan(var(2)/var(1))*180/PI 

[State 0, Trans]
type = Trans
trigger1 = time = [50,75]
trans = addalpha
alpha = 256-(time-50)*10,(time-50)*10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 75
id = 1203

[State 0, 1]
type = HitDef
trigger1 = timemod = 5,0
trigger1 = time < 50
attr = A, NP
getpower = 0,0
damage = 5,0
givepower = -20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = -1
sparkxy = -10, 0
hitsound = -1;S4,21
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -1.9,0
air.type = High
air.velocity = -2,0
air.hittime = 12

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 75
ignorehitpause = 1
;------------------------------------------------------------------
;Pret (odbicie)
[Statedef 1202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 1200
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1205

[State 0, Explod]
type = Explod
trigger1 = p2stateno != [120,155]
trigger1 = time = 0
anim = F230
pos = 0,0
postype = p1
scale =  1,1
sprpriority = 3
bindtime = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = p2stateno != [120,155]
trigger1 = time = 0
value = F21,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -time*30

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 707002, VelSet]
type = VelSet
trigger1 = time = 0
y = -(random%30+20)/10

[State 707002, VelSet]
type = VelSet
trigger1 = 1
x = (random%30+20)/10

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 707002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y >= -5
value = 1204

;------------------------------------------------------------------
;Pret (wbicie w ziemi)
[StateDef 1204]
type = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 1204
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1205

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,0

[State 707002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1012, Trans]
type = Trans
trigger1 = time >= 35
trans = addalpha
alpha = 256-(time-35)*9.6,(time-35)*9.6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 65
;--------------
;Kunai Air
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%17
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 0.9*15,0.9*-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------
[Statedef 103004]
type = A
movetype= I
physics = S
anim = 5090+var(0)*10000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = [-10,10]
anim = F62
ID = 24
pos = 20,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = 0,0
bindtime = 1
ownpal = 1
ontop = 0

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 5
value = F7,2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time < 5
x = -12
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = time >= 5
x = -12
y = -10

[State 1025, State]
type = ChangeState
trigger1 = time = 8
value = 109990
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(20000)
triggerall = !ishelper(30000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(296)
trigger3 = ishelper(660)
trigger4 = ishelper(2600)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(296)
trigger3 = ishelper(660)
trigger4 = ishelper(2600)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(296)
trigger3 = ishelper(660)
trigger4 = ishelper(2600)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(296)
trigger3 = ishelper(660)
trigger4 = ishelper(2600)
value = 130

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(296)
trigger3 = ishelper(660)
trigger4 = ishelper(2600)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050





;---------------------- Integer variable list ----------------------

; var(0):= 20000, 30000
; var(1):= 535, 1000, 1005, 1010, 1015, 1020, 1025, 1200, -3, 510, 686, 20000, 30000
; var(2):= 1200, 565, 566, 567, 571, 510, 30000
; var(3):= 572, 575, 576, 577
; var(4):= -2, 2450, 2520, 2530, 2540
; var(5):= 450, 468
; var(6):= 750
; var(7):= 859, -2, 700, 750
; var(8):= 2151, 838, 859, 700, 750, 202151, 302151
; var(9):= 700
;var(10):= 2151, 2331, 246, 247, 838, 859, -2, 130, 77000, 78000, 565, 566, 567, 625, 202151, 202331, 20246, 20247, 302151, 302331, 30246, 30247, 77003
;var(11):= 280, 281, 282, 283, 284, -2, 400, 405, 407, 410, 420, 580, 682
;var(12):= 2662, 361, 375, 846, 202662, 302662
;var(13):= 502, 510
;var(14):= 77000, 78000, 77001, 78001, 501, 502, 77003
;var(15):= 60
;var(16):= 70500
;var(17):= 600
;var(18):= 630, 635, 648, 649, 650
;var(19):= 191, 2921, 2931, 2941, 295, 2952, -2, 625, 626
;var(20):= 70650, 70655, 5900, 270650, 270655, 370650, 370655, 104097, 104098
;var(21):= 70652, 5900
;var(22):= 5900
;var(23):= 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, 109990, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110, 5120
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -3, -1
;var(49):= -3, -1
;var(50):= -2, -1
;var(51):= -2, 5900, 70300, 760, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 760, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 760, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 760, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 760, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 760, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 760, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(2):= 5900
;fvar(10):= 350, 2000, 2001, 77000, 78000, 6571
;fvar(11):= 77000, 78000, 6572
;fvar(12):= 77003
;fvar(13):= 2661, 2662, 2663, 486, 496, 70653, 60, 657, 6572, 202661, 202662, 202663, 302661, 302662, 302663
;fvar(14):= 2661, 2662, 2663, 486, 496, 70653, 60, 657, 6572, 202661, 202662, 202663, 302661, 302662, 302663
;fvar(15):= 2661, 2662, 2663, 486, 496, 70653, 60, 657, 6572, 202661, 202662, 202663, 302661, 302662, 302663
;fvar(16):= 2661, 202661, 302661










;5 gedo rinne life
;6 - limit izanagi
;7 - czas izanagi
;8 - aktywne izanagi
;9 - lifeset izanagi
;10 - hp podczas izanagi
;18 - susanoo
;19 - susanoo bones

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

;Susanoo

[State 0, VarSet]
type = VarSet
trigger1 = var(19) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 0 && command = "hold_y" && (command = "hold_c" || command = "hold_z")
trigger2 = power = 0
trigger3 = var(19) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive 
trigger9 = var(1) < 2
trigger10 = var(19) = 1 && numhelper(625) = 0
trigger11 = numhelper(295) = 1 && helper(295), stateno = 2952
triggerall = stateno != [289,294]
triggerall = numhelper(289) = 0
triggerall = numhelper(290) = 0
triggerall = numhelper(291) = 0
v = 19
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(19) != 0
trigger2 = var(18) = 1
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 150, 1]
type = ChangeState
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(296) && stateno != 130
trigger3 = ishelper(660) && stateno != 130
value = 130

[State 150, 1]
type = destroyself
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(296) && stateno != 130
trigger3 = ishelper(660) && stateno != 130

;Uchihagaeshi

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [380,382]
id = 383

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [380,382]
id = 385

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [380,382]
id = 386

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [380,382]
id = 387

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [380,382]
id = 389

;Klony explod

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2000
trigger1 = stateno != 2001
id = 20001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2000
trigger1 = stateno != 2001
id = 20002

;Gedo Rinne Lifeset

[State 0, LifeSet]
type = LifeSet
trigger1 = var(5) > 0
trigger1 = life > 3000-var(5)
value = 3000-var(5)

;Izanagi

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(8) != 0 && var(7) > 0
triggerall = timemod = 2,0
value = -5

[State 0, VarAdd]
type = VarAdd
trigger1 = var(8) != 0 && var(7) > 0
v = 7
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(7) < 0
v = 7
value = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(8) = 1
triggerall = stateno != [300,799]
triggerall = stateno != [1000,1099]
triggerall = stateno != [100000,199999]
triggerall = stateno != 5150
triggerall = stateno != [170,189]
trigger1 = var(7) <= 0
trigger2 = power = 0 
value = 750

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(8) != 0 && var(7) = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = var(8) != 0 && var(7) = 0
value = 0

[State 0, LifeSet]
type = LifeSet
trigger1 = 0;var(8) != 0
value = var(9)

[State 0, VarSet]
type = VarSet
trigger1 = var(8) != 0
v = 10    
value = Life

[State 0, LifeSet]
type = LifeSet
trigger1 = var(8) != 0
trigger1 = var(10) < 200
value = var(10)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(8) != 0 && life < 100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = var(8) != 0 && life < 100
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = var(8) != 0 && life < 100
value = 100

[State 0, LifeSet]
type = LifeSet
trigger1 = var(8) != 0 && life < 100
value = 100

;-----------------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 370
id = 378

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(445) = 0
id = 446

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [440,441]
id = 444

;Licznik Shinra

[State 0, VarAdd]
type = VarAdd
trigger1 = var(11) > 0
v = 11   
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(11) < 0
v = 11  
value = 0

;-------------


[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,0+random%77
volume = 256
channel = 2

;Edo Tensei
[State 0, Edo Tensei]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
triggerall = life > 0 
triggerall = var(1) = 4
value = 1
kill = 0 

;Zmiany Palety
;--------------------------
[state 0, Sharingan]
type = RemapPal
triggerall = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,460
dest = 0,464

[state 0, Sharingan]
type = RemapPal
triggerall = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,464
dest = 0,464

[state 0, Sharingan]
type = RemapPal
triggerall = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,465
dest = 0,464

[state 0, Sharingan]
type = RemapPal
triggerall = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,466
dest = 0,464

[state 0, Sharingan]
type = RemapPal
triggerall = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,467
dest = 0,464
;--------------------------
[state 0, EMS]
type = RemapPal
triggerall = var(1) = 2
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,460
dest = 0,460

[state 0, EMS]
type = RemapPal
triggerall = var(1) = 2
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,464
dest = 0,460

[state 0, EMS]
type = RemapPal
triggerall = var(1) = 2
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,465
dest = 0,460

[state 0, EMS]
type = RemapPal
triggerall = var(1) = 2
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,466
dest = 0,460

[state 0, EMS]
type = RemapPal
triggerall = var(1) = 2
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,467
dest = 0,460
;--------------------------
[state 0, Rinnegan]
type = RemapPal
triggerall = var(1) = 3
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,460
dest = 0,465

[state 0, Rinnegan]
type = RemapPal
triggerall = var(1) = 3
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,464
dest = 0,465

[state 0, Rinnegan]
type = RemapPal
triggerall = var(1) = 3
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,465
dest = 0,465

[state 0, Rinnegan]
type = RemapPal
triggerall = var(1) = 3
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,466
dest = 0,465

[state 0, Rinnegan]
type = RemapPal
triggerall = var(1) = 3
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,467
dest = 0,465
;--------------------------
[state 0, Edo Tensei]
type = RemapPal
triggerall = var(1) = 4
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,460
dest = 0,466

[state 0, Edo Tensei]
type = RemapPal
triggerall = var(1) = 4
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,464
dest = 0,466

[state 0, Edo Tensei]
type = RemapPal
triggerall = var(1) = 4
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,465
dest = 0,466

[state 0, Edo Tensei]
type = RemapPal
triggerall = var(1) = 4
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,466
dest = 0,466

[state 0, Edo Tensei]
type = RemapPal
triggerall = var(1) = 4
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,467
dest = 0,466
;--------------------------
[state 0, OFF]
type = RemapPal
triggerall = var(1) = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,460
dest = 0,467

[state 0, OFF]
type = RemapPal
triggerall = var(1) = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,464
dest = 0,467

[state 0, OFF]
type = RemapPal
triggerall = var(1) = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,465
dest = 0,467

[state 0, OFF]
type = RemapPal
triggerall = var(1) = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,466
dest = 0,467

[state 0, OFF]
type = RemapPal
triggerall = var(1) = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
source = 0,467
dest = 0,467
;--------------------------

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300


;--------------------

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [836,837]
trigger1 = command = "c"
trigger2 = stateno = 836 && time = 5 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [836,837]
id = 1608

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 858 || stateno = 8581
trigger1 = stateno = 858 && time = 5
trigger2 = command = "c" 
triggerall = numexplod(16082) = 0
anim = F1608
ID = 16082
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8581 && stateno != 858
id = 16082

;----------------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 265
id = 2651

;Klony

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(20000)
trigger1 = stateno = 0
value = 20000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(20000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 50
triggerall = ishelper(20000)
triggerall = stateno != 22223
triggerall = helper(20000), stateno != 22223
value = 22223
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(30000)
trigger1 = stateno = 0
value = 30000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(30000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(30000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 500
triggerall = ishelper(30000)
triggerall = stateno != 32223
triggerall = helper(30000), stateno != 32223
value = 32223
ctrl = 1

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
trigger2 = ishelper(30000)
v = 4
value = 0

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
triggerall = !ishelper(20000)
triggerall = !ishelper(30000)
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]

;--------------------------------

[State 0, Usuwanie paska katon hold]
type = RemoveExplod
trigger1 = stateno != 350
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 501
id = 50180011

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 245
id = 246

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 247
id = 247

; amaterasu usuwanie

[State 0, Trans]
type = Trans
trigger1 =ishelper(500) && root, stateno = 540
trans = addalpha
alpha = 256-(root, time-60)*9.6,(root, time-60)*9.6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper(500) && root, stateno = 540 && root, time = 110


;amaterasu controlled

[State 0, PalFX]
type = PalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 501

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,2,6),cond(pos y = 0,-33,-39)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,2,6),cond(pos y = 0,-53,-59)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,12,16),cond(pos y = 0,-43,-49)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-8,-4),cond(pos y = 0,-43,-49)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------


[Statedef -3]

;BUNSHIN

[State -1, BUNSHIN AI]
type = VarSet
trigger1 = ishelper(20000) || ishelper(30000)
v = 49
value = ((Root,Life/100)+(Root,Power/100)+30+MatchNo)/5

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [20200,20299]
trigger1 = movecontact
triggerall = ishelper(20000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [20200,20299]
triggerall = var(48) > 0
triggerall = ishelper(20000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [20200,20299]
trigger2 = prevstateno = [20200,20299]
triggerall = ishelper(20000)
v = 48   
value = 500

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [30200,30299]
trigger1 = movecontact
triggerall = ishelper(30000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [30200,30299]
triggerall = var(48) > 0
triggerall = ishelper(30000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [30200,30299]
trigger2 = prevstateno = [30200,30299]
triggerall = ishelper(30000)
v = 48   
value = 500

;--------------------------------------------------

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 2,0
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,199]
triggerall = prevstateno != 190
triggerall = 0;life < 3000-var(5)
value = 1

;EMS
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 2
trigger1 = timemod = 5,0
triggerall = stateno != [450,451]
triggerall = stateno != [600,699]
triggerall = stateno != [1000,1009]
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
triggerall = var(8) = 0
value = -3

;Rinnegan
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 3
trigger1 = timemod = 5,0
triggerall = stateno != [450,451]
triggerall = stateno != [600,699]
triggerall = stateno != [1000,1009]
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
triggerall = var(8) = 0
value = -3

[State -3, VarSet - usunicie sharingana i MS]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
v = 1
value = 0

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, Afterimage sharingan]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 0
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State -3, EMS]
type = AfterImage
triggerall = var(1) = 2
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add

[State -3, Rinnegan]
type = AfterImage
triggerall = var(1) = 3
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,100,125
palpostbright = 0,0,0
paladd = 4,3,5
palmul = .55,.45,.60
timegap = 1
framegap = 1
trans = add
