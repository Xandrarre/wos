;---------------------------------------------------------------------------
;Scorpion Stand
[Statedef 79999]
type = S
physics = S
sprpriority = -1
velset = 0,0
ctrl = 0
anim = 80001

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 9
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 8

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = Velset
trigger1 = 1
y = 0.35*sin((time*2*PI)/40)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 38
anim = 80002
ID =  80002
pos = 10,-26
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = -5,-3
accel = 0,0.3
removetime = -2
supermovetime = 999
scale = 1,1
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S2,13

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 38
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion Stand
[Statedef 80000]
type = S
physics = S
sprpriority = -1
velset = 0,0
ctrl = 0
anim = 80000

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 8

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = Velset
trigger1 = 1
y = 0.35*sin((time*2*PI)/40)

[State 0, Turn]
type = Turn
trigger1 = pos x > enemynear(cond((enemynear(0),alive),0,1)), pos x && facing = 1
trigger2 = pos x < enemynear(cond((enemynear(0),alive),0,1)), pos x && facing = -1

;---------------------------------------------------------------------------
;Scorpion Move
[Statedef 80020]
type    = S
physics = S
sprpriority = -1


[State 0, ChangeState]
type = ChangeState
triggerall = numhelper(80945) !=0
triggerall = helper(80945),fvar(16)>=200
;triggerall = root,var(50) = 1
trigger1 = command = "hold_b" && (helper(80940),pos y > pos y)
trigger2 = command = "hold_x" && (helper(80940),pos x > pos x)
trigger3 = command = "hold_y" && (helper(80940),pos y < pos y)
trigger4 = command = "hold_z" && (helper(80940),pos x < pos x)
value = 80000

;[State 0, ChangeState]
;type = ChangeState
;triggerall = numhelper(80945) !=0
;triggerall = helper(80945),fvar(16)>=200
;triggerall = root,var(50) = 1
;trigger1 = vel y < 0 && (helper(80940),pos y > pos y)
;trigger2 = cond(facing = 1,vel x < 0, vel x > 0) && (helper(80940),pos x > pos x)
;trigger3 = vel y > 0 && (helper(80940),pos y < pos y)
;trigger4 = cond(facing = 1,vel x > 0, vel x < 0) && (helper(80940),pos x < pos x)
;value = 80000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x < 0
anim = F300
ownpal = 1
ID = 60
pos = 13,-pos y+3
facing = -1
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = parent, stateno != 2000
value = S2,8
channel = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -2

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdz"
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x > 40
trigger2 = root, var(50) = 1 
trigger3 = root, command = "holdz"
trigger3 = root, var(50) = 1
trigger3 = p2bodydist x > 40
trigger3 = numhelper(80945) != 0
;trigger3 = numhelper(80945) =0
x = 7.5*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdx"
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x < -40
trigger2 = root, var(50) = 1
trigger3 = root, command = "holdx"
trigger3 = root, var(50) = 1
trigger3 = p2bodydist x < -40
trigger3 = numhelper(80945) != 0
;triggerall = numhelper(80945) =0
x = -7.5*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = (root, command != "holdb" || pos y < -600) && root, command != "holdy" && Ailevel = 0
trigger3 = (root, command != "holdb" || pos y < -200) && root, command != "holdy" && Ailevel != 0
trigger2 = (root, command != "holdy" || pos y >= -5) && root, command != "holdb"
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command != "holdb" || root, command != "holdy"
trigger1 = root, var(50) = 0
trigger2 = p2bodydist y = [-20,30]
trigger2 = root, var(50) = 1
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdb"
trigger1 = root, var(50) = 0 && pos y > -600 
trigger2 = p2bodydist y < -20
trigger2 = root, var(50) = 1 && pos y > -200
trigger3 = root, command = "holdb"
trigger3 = root, var(50) = 1 && pos y > -200
trigger3 = p2bodydist x < -20
trigger3 = numhelper(80945) != 0
;trigger2 = numhelper(80945) =0
y = -7.5

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdy"
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist y > 20
trigger2 = root, var(50) = 1
trigger3 = root, command = "holdy"
trigger3 = root, var(50) = 1 
trigger3 = p2bodydist x > 20
trigger3 = numhelper(80945) != 0
triggerall = pos y < -5
;trigger2 = numhelper(80945) =0
y = 7.5


[State 20, 4]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 80010
value = 80010

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 80020
value = 80020

[State 20, 4]
type = ChangeAnim
triggerall = vel x = 0
trigger1 = Anim != 80000
value = 80000

[State 0, ChangeState]
type = ChangeState
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = root, var(50) = 0
trigger2 = root, var(50) = 1
trigger2 = p2bodydist x = [-50,50]
trigger2 = p2bodydist y = [-20,30]
trigger3 = parent, stateno = 2300
trigger4 = parent, ctrl =0  && parent, stateno != 2100 && parent, stateno != 6001 && parent, stateno != 6002 && parent, stateno != [120,155]
trigger4 = parent, stateno != [70500,70511]
value = 80000

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "hold_b"
trigger1 = command != "hold_x"
trigger1 = command != "hold_y"
trigger1 = command != "hold_z"
trigger2 = parent, ctrl =0  && parent, stateno != 2100 && parent, stateno != 6001 && parent, stateno != 6002 && parent, stateno != [120,155]
trigger2 = parent, stateno != [70500,70511]
trigger3 = parent, stateno = 2300
triggerall = 0
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion No Power
[Statedef 80100]
type    = S
movetype = H
physics = S
anim = 80100
ctrl = 0
sprpriority = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 4

[State 0, Veladd]
type=Veladd
trigger1= 1
y= 0.4

[State 0, ChangeState]
type = ChangeState
trigger1 = pos Y >= (-5 + var(5))
value = 80105

;---------------------------------------------------------------------------
;Scorpion No Power
[Statedef 80105]
type    = S
movetype = H
physics = S
anim = 80105
ctrl = 0
velset = 0,0
sprpriority = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,1

[State 0, Explod]
type = Explod
ownpal = 1
postype = p1
trigger1 = time = 0
anim = F60
ID = 60
pos = 0,3
scale = 1.7,1.7
removetime = -2

[State 0, AngleDraw]
type = Angleset
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
stateno = 80105

[State 0, PosAdd]
type = PosAdd
triggerall = time = 0
trigger1 = var(10) > 999
trigger2 = root, life = 0
y = 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(10) > 999
trigger2 = root, life = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = 4

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = var(10) > 999
trigger2 = root, life = 0
value = 80106

[State 0, ChangeState]
type = ChangeState
trigger1 = power != 0
trigger1 = var(10) < 1000
trigger1 = root, life != 0
value = 80107

;---------------------------------------------------------------------------
;Scorpion Destroy
[Statedef 80106]
type    = S
movetype = H
physics = S
anim = 80106
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = power != 0
trigger1 = var(10) < 1000
trigger1 = root, life != 0
trigger1 = !lose
value = 80107

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 0, dead]
type = destroyself
triggerall = time >= 10
trigger1 = var(10) >= 1000
trigger2 = root, life = 0
trigger3 = lose

;---------------------------------------------------------------------------
; Scorpion Get up
[Statedef 80107]
type    = L
movetype= I
physics = N
anim = 80107

[State 5120, s] ;Scorpion
type = Changestate
triggerall = time = 0
trigger1 = root, life = 0
trigger2 = lose
value = 80106

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 25*facing

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 20
value = -time*4.5
scale = 1.05,1.05

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = -1.25
y = -0.45

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
triggerall = root, life != 0
triggerall = !lose
value = 80000

;---------------------------------------------------------------------------
;Scorpion Guard
[Statedef 80130]
type = S
physics = S
sprpriority = -1
velset = 0,0
ctrl = 0
anim = 80130

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "life"
ID = 80131
stateno = 131
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
supermovetime=9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 18,12
anim = 80155
ID = 80155
pos = 10,-43
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, VelSet]
type = posadd
trigger1 = time%41 = [0,20]
y = 0.1

[State 0, VelSet]
type = posadd
trigger1 = time%41 = [20,40]
y = -0.1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PowerAdd]
type = PowerAdd
triggerall = timemod = 2,1
trigger1 = 1
value = -1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x < 0
anim = F300
ownpal = 1
ID = 60
pos = 13,-pos y+3
facing = -1
scale = 1,1
removetime = -2
sprpriority=1
postype = p1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = parent, stateno != 2000
value = S2,8
channel = 2

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdz"
;trigger1 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x > 40
;trigger2 = (rootdist x > -60 && facing = 1 && Ailevel != 0) || (rootdist x < 60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1 
x = 3*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdx"
;trigger1 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist x < -40
;trigger2 = (rootdist x < 60 && facing = 1 && Ailevel != 0) || (rootdist x > -60 && facing = -1 && Ailevel != 0)
trigger2 = root, var(50) = 1
x = -3*cond(root,var(50)=0,facing,1)

[State 20, 1]
type = VelSet
trigger1 = (root, command != "holdb" || pos y < -600) && root, command != "holdy" && Ailevel = 0
trigger3 = (root, command != "holdb" || pos y < -200) && root, command != "holdy" && Ailevel != 0
trigger2 = (root, command != "holdy" || pos y >= -5) && root, command != "holdb"
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command != "holdb" || root, command != "holdy"
trigger1 = root, var(50) = 0
trigger2 = p2bodydist y = [-20,30]
trigger2 = root, var(50) = 1
y = 0

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdb"
trigger1 = root, var(50) = 0 && pos y > -600 
trigger2 = p2bodydist y < -20
trigger2 = root, var(50) = 1 && pos y > -200
y = -3

[State 20, 1]
type = VelSet
trigger1 = root, command = "holdy"
trigger1 = root, var(50) = 0 
trigger2 = p2bodydist y > 20
trigger2 = root, var(50) = 1
triggerall = pos y < -5
y = 3

[State 130, Kazekage guard]
type = ChangeState
trigger1 = parent, ctrl = 0 && parent, stateno != 2100 && parent, stateno != 6001 && parent, stateno != 6002 && parent, stateno != [120,155]
trigger1 = parent, stateno != [120,155]
trigger2 = (root, var(50) = 0 && parent, command != "holddown") && parent, command != "hold_s"
trigger3 = (root, var(50) = 1 && random = [200,210+root,var(49)*root,var(49)/200])
trigger4 = root, var(50) = 0 && parent, command = "hold_s"
trigger5 = parent,stateno =[5000,5999]
trigger6 = parent,stateno >=100000
value = 80000
;---------------------------------------------------------------------------
; Scorpion combo speed.1
[Statedef 80200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80200                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 4,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 35,7                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4  
sparkxy = -15,-32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8210
triggerall = movecontact
value = 80210

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo speed.2
[Statedef 80210]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80210                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 4,0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 35,7               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes

sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                  ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8220
triggerall = movecontact
value = 80220

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo speed.3
[Statedef 80220]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80220                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 4,-1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-25
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 35,7                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -3,-1.5             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-1.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8230
triggerall = movecontact
value = 80230

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo speed.4
[Statedef 80230]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80230                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10
y = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 80910
ID = 80910
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 13
sprpriority = 2
removeongethit = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                ;Time attacker pauses, time opponent shakes
              ;Spark x y
                                ;Y-offset for the spark rel. to p1
guardsound = -1,0
ground.type = High
fall = 1
                                ;Y-offset for the spark rel. to p1
sparkno = 0+random%4  
sparkxy = -15,-35
hitsound = 24, 2 
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12           ;Time opponent is in hit state
ground.velocity = 0,-5             ;Velocity at which opponent is pushed
airguard.velocity = 0,-1     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-5          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = Time = 13
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 1.1
[Statedef 80240]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80240                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 2,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 35,7                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4
sparkxy = -15, -44
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12           ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1,-.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-.5           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8250
triggerall = movecontact
value = 80250

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 1.2
[Statedef 80250]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80250                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 2
value = F8,3

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 35,7                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1,-.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8260
triggerall = movecontact
value = 80260

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 1.3
[Statedef 80260]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80320                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                 ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  timemod = 4,0
value = S2,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-15-random%50
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 4,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4  
sparkxy = -15,-15-random%50
hitsound = 24, 2 
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -1,-4            ;Velocity at which opponent is pushed
airguard.velocity = -.5,-.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-4          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                 ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8270
triggerall = movecontact
value = 80270

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 1.4
[Statedef 80270]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80270                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 10
trigger3 = animelem = 15
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 7
trigger3 = animelem = 12
value = F8,0+random%5

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water gun"
ID = 80275
stateno = 80275
pos = 25,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal ;player
name = "water gun"
ID = 80275
stateno = 80276
pos = 20,-53
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal ;player
name = "water gun"
ID = 80275
stateno = 80277
pos = 16,-64
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal ;player
name = "water gun"
ID = 80277
stateno = 80277
pos = 22,-66
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Water gun 0'
[Statedef 80275]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80275                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.08

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "water hit"
ID = 800275
stateno = 800275
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Water hit 0'
[Statedef 800275]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80276                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15,p2dist y-40                ;Spark x y
hitsound = S1, 12                 ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -.5,-5            ;Velocity at which opponent is pushed
airguard.velocity = -.5,-5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.5,-5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12                ;Time before opponent regains control in air
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10 

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Water gun 30'
[Statedef 80276]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80275                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.08
value = 30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "water hit"
ID = 800276
stateno = 800276
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Water hit 30'
[Statedef 800276]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80277                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                ;Spark anim no (Def: set above)
sparkxy = -15,p2dist y-40                 ;Spark x y
hitsound = S1, 12                   ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -.5,-8           ;Velocity at which opponent is pushed
airguard.velocity = -.5,-8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.5,-8          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10 

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Water gun 60'
[Statedef 80277]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80275                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.08
value = 60

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "water hit"
ID = 800277
stateno = 800277
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Water hit 60'
[Statedef 800277]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80278                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, ishelper(80277)
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15,p2dist y-40                  ;Spark x y
hitsound = S1, 12                   ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -3,-6            ;Velocity at which opponent is pushed
airguard.velocity = -3,-6     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-6          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Scorpion combo 2.1
[Statedef 80280]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80300                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -15,-35                   ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10              ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8290
triggerall = movecontact
value = 80290

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 2.2
[Statedef 80290]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80310                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                   ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -18,-38                    ;Spark x y
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                  ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                  ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8300
triggerall = movecontact
value = 80300

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 2.3
[Statedef 80300]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80260                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                ;Spark anim no (Def: set above)
sparkxy = -21,-55                    ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12           ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8310
triggerall = movecontact
value = 80310

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 2.4
[Statedef 80310]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80330                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 4,-6


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S2,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 2
value = S2,9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.35

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "atak"
pos = 0,0
ID = 80315
stateno = 80315
facing = 1

[State 200, 2]
type = ChangeState
trigger1 = pos y > 0
trigger1 = time>5
value = 80000

;---------------------------------------------------------------------------
; Hit
[Statedef 80315]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80335                       ;Change animation (Def: no change)
sprpriority = 3                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  timemod = 3,0
value = S2,12

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4
sparkxy = -15, 0-random%40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = 0,-2              ;Velocity at which opponent is pushed
airguard.velocity = 0,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-2          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 200, 2]
type = destroyself
trigger1 = parent, stateno != 80310

;---------------------------------------------------------------------------
; Scorpion combo 3.1
[Statedef 80320]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80300                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 2,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -15,-35                   ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8330
triggerall = movecontact
value = 80330

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 3.2
[Statedef 80330]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80360                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                ;Spark anim no (Def: set above)
sparkxy = -21,-55                    ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12           ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                 ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8340
triggerall = movecontact
value = 80340

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 3.3
[Statedef 80340]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80310                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                   ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -18,-38                    ;Spark x y
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                  ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12  
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10               ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8350
triggerall = movecontact
value = 80350

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 3.4
[Statedef 80350]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80350                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                  ;Time attacker pauses, time opponent shakes
sparkno = 3                ;Spark anim no (Def: set above)
sparkxy = -21,-11                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12           ;Time opponent is in hit state
ground.velocity = -1,-1            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,-1          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12                ;Time before opponent regains control in air
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10 

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8360
triggerall = movecontact
value = 80360

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion combo 3.5
[Statedef 80360]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80370                       ;Change animation (Def: no change)
poweradd = -20
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, VarRandom]
type =  Varrandom
trigger1 = 1
v = 6
range = 0,1000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = anim = 80370
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 10,2                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -18-2*(var(6)%4),-25-5*(var(6)%6)                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                  ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12             ;Time opponent is in hit state
ground.velocity = -1,0            ;Velocity at which opponent is pushed
airguard.velocity = -0.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1,0          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 26
value = 80300
elem = 3

[State 0, TargetState]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
trigger1 = anim = 80300
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 30,6               ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                   ;Time attacker pauses, time opponent shakes
sparkno = 3                 ;Spark anim no (Def: set above)
sparkxy = -15,-35                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 0                   ;Sound to play on hit
guardsound = 6, 0                 ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 12            ;Time opponent is in hit state
ground.velocity = -5,-0.5            ;Velocity at which opponent is pushed
airguard.velocity = -3.5,-0.5     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-0.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 12               ;Time before opponent regains control in air
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = anim = 80300
value = 80000


;---------------------------------------------------------------------------
; Water/Fire combo 1
[Statedef 80400]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80410                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = F810
ID = 50235
pos = 25,-44
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.30,0.45
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "fire hit"
ID = 80405
stateno = 80405
pos = 26,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8410
value = 80410

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Water/Fire combo 1 (up)
[Statedef 80401]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80411                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = F810
ID = 50237
pos = 19,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.6,0.6
angle = 45
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "fire hit"
ID = 80405
stateno = 80406
pos = 19,-35
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8410
value = 80411

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Fire
[Statedef 80405]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80415                       ;Change animation (Def: no change)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0
poweradd = -150

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109910

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%10 = 8
anim = F271
ID = 6000
pos = time*5,0
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 26,-44

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.33,0.22

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80400
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 30,6                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 1400                ;Spark anim no (Def: set above)
sparkxy = 0,p2dist y-40               ;Spark x y
hitsound = 10, 0
guardsound = 10, 0
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -.5,0            ;Velocity at which opponent is pushed
airguard.velocity = -.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.5,-1.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80420
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 40,8                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 1402               ;Spark anim no (Def: set above)
sparkxy = 0,p2dist y-40                 ;Spark x y
hitsound = 10, 0
guardsound = 10, 0
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -5,0            ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-1.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Fire
[Statedef 80406]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80416                      ;Change animation (Def: no change)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0
poweradd = -150

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109910

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 19,-35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%10 = 8
anim = F271
ID = 6000
pos = time*2.5*1.7,time*2.5
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.33,0.22
value = -30

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = 5
trigger1 = pos y > -100
anim = F840
ID = 840
pos = -45+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = 5
trigger1 = pos y > -100
anim = F840
ID = 840
pos = -25+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80401
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 25,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 1402                ;Spark anim no (Def: set above)
sparkxy = 0,p2dist y-40                ;Spark x y
hitsound = 10, 0
guardsound = 10, 0
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -.5,0            ;Velocity at which opponent is pushed
airguard.velocity = -.5,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -.5,-1.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80421
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 25,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 1402                ;Spark anim no (Def: set above)
sparkxy = 0,p2dist y-40                ;Spark x y
hitsound = 10, 0
guardsound = 10, 0
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -5,0            ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-1.5          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10 


[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; Water/Fire combo 2
[Statedef 80410]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80400                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 50238
ID = 50238
pos = 27,-44
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80415
stateno = 80415
pos = 28,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8420
value = 80420

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Water/Fire combo 2 (up)
[Statedef 80411]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80401                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 50239
ID = 50239
pos = 28,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80415
stateno = 80416
pos = 30,-32
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno = 8420
value = 80421

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Water
[Statedef 80415]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80405                       ;Change animation (Def: no change)
sprpriority = 1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0
poweradd = -150

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109930

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 28,-44

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.40,0.1

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80410
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 30,6                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15-10+random%20,p2dist y-40-10+random%20                ;Spark x y
hitsound = 12, 0                 ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -2,0           ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-2          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80420 && parent, time > 8
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 40,8                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15-10+random%20,p2dist y-40-10+random%20                   ;Spark x y
hitsound = 12, 0                ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -5,0            ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-1.5          ;X-velocity at which opponent is pushed,
fall = 1                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
; Water (up)
[Statedef 80416]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80406                       ;Change animation (Def: no change)
sprpriority = 1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0
poweradd = -150

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109930

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 30,-32

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.40,0.1
value = -30

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80411
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 25,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15-10+random%20,p2dist y -30 -10+random%20               ;Spark x y
hitsound = 12, 0               ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -2,0           ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -2,-2          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = parent, stateno = 80421 && parent, time > 8
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 25,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240                 ;Spark anim no (Def: set above)
sparkxy = -15-10+random%20,p2dist y -30 -10+random%20                 ;Spark x y
hitsound = 12, 0                ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -5,0            ;Velocity at which opponent is pushed
airguard.velocity = -4,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-1.5          ;X-velocity at which opponent is pushed,
fall = 1                               ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; Water/Fire combo 3
[Statedef 80420]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80420                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = F810
ID = 50235
pos = 25,-44
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.30,0.45
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 50238
ID = 50238
pos = 27,-44
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "fire hit"
ID = 80415
stateno = 80405
pos = 26,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80405
stateno = 80415
pos = 28,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Water/Fire combo 3 (up)
[Statedef 80421]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80421                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = F810
ID = 50237
pos = 19,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.6,0.6
angle = 45
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 50239
ID = 50239
pos = 28,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "fire hit"
ID = 80415
stateno = 80406
pos = 19,-35
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80405
stateno = 80416
pos = 30,-32
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 200, 2]
type = changestate
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
; Long Water Attack
[Statedef 80450]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80450                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12,2
anim = 50238
ID = 50238
pos = 34,-45
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12,2
anim = 50238
ID = 50238
pos = -19,-46
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80455
stateno = 80455
pos = 35,-45
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80455
stateno = 80455
pos = -20,-46
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1

[State 200, 2]
type = changestate
trigger1 = parent, stateno != 8450
trigger2 = parent, anim = 272+parent,var(0)
triggerall = time > 5
value = 80451

;---------------------------------------------------------------------------
; Long Water Attack end
[Statedef 80451]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80451                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 200, 2]
type = changestate
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
; Long Water Attack (up)
[Statedef 80452]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80452                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12,2
anim = 50239
ID = 50239
pos = 31,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12,2
anim = 50239
ID = 50239
pos = -13,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80457
stateno = 80457
pos = 35,-32
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "water hit"
ID = 80457
stateno = 80457
pos = -20,-32
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1

[State 200, 2]
type = changestate
trigger1 = parent, stateno != 8450
trigger2 = parent, anim = 272+parent,var(0)
triggerall = time > 5
value = 80453

;---------------------------------------------------------------------------
; Long Water Attack end (up)
[Statedef 80453]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80453                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 200, 2]
type = changestate
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
; Water
[Statedef 80455]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80455                       ;Change animation (Def: no change)
sprpriority = 1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109931

[State 0, BindToParent]
type = BindToParent
trigger1 = facing = parent, facing
time = 1
facing = 0
pos = 35,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = facing != parent, facing
time = 1
facing = 0
pos = -20,-46

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.08

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -15

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 30,6                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240+random%2                 ;Spark anim no (Def: set above)
sparkxy = -35-random%40,-10+random%20                ;Spark x y
hitsound = 12,0               ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -6,-2           ;Velocity at which opponent is pushed
guard.velocity = -2
airguard.velocity = -6,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-2         ;X-velocity at which opponent is pushed,
                              ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
fall = 1              ;Time before opponent regains control in air

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno!=80450
trigger2 = power < 200
triggerall = anim != 80456
value = 80456

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0
trigger1 = anim = 80456

;---------------------------------------------------------------------------
; Water (up)
[Statedef 80457]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80457                       ;Change animation (Def: no change)
sprpriority = 1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109931

[State 0, BindToParent]
type = BindToParent
trigger1 = facing = parent, facing
time = 1
facing = 0
pos = 35,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = facing != parent, facing
time = 1
facing = 0
pos = -20,-32

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S1,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.08
value = -30

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -15


[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
damage = 30,6             ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,0                 ;Time attacker pauses, time opponent shakes
sparkno = 240+random%2                 ;Spark anim no (Def: set above)
sparkxy = -35-random%40,p2dist y-10+random%20                ;Spark x y
hitsound = 12,0               ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15            ;Time opponent is in hit state
ground.velocity = -6,-2           ;Velocity at which opponent is pushed
guard.velocity = -2
airguard.velocity = -6,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-2         ;X-velocity at which opponent is pushed,
                              ;Y-velocity at which opponent is pushed
air.hittime = 15                ;Time before opponent regains control in air
fall = 1                  ;Time before opponent regains control in air

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno!=80452
trigger2 = power < 200
triggerall = anim != 80458
value = 80458

[State 200, 2]
type = destroyself
trigger1 = AnimTime = 0
trigger1 = anim = 80458
;---------------------------------------------------------------------------
; Scorpion Fire Attack
[Statedef 80460]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80460                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,fvar(15)>=0.5
trigger1 = time = 0
value = 80470

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12, 2
triggerall = parent,fvar(15)<0.5
anim = F810
ID = 50235
pos = 25,-44
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.35,0.6
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)<0.25
helpertype = normal ;player
name = "weak fire"
ID = 80470
stateno = 80471
pos = 26,-44
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)>=0.25 && parent,fvar(15)<0.5
helpertype = normal ;player
name = "middle fire"
ID = 80470
stateno = 80472
pos = 28,-44
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)>=0.5
helpertype = normal ;player
name = "strong fire"
ID = 80470
stateno = 80474
pos = 26,-44
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 20
trigger1 = numhelper(80470) = 0
trigger2 = parent, stateno != 8465
triggerall = anim!= 80465 && anim!= 80475
value = anim+5

[State 0, ChangeState]
type = ChangeState
trigger1 = anim= 80465 || anim= 80475
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion Fire Attack (up)
[Statedef 80461]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80461                       ;Change animation (Def: no change)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,fvar(15)>=0.5
trigger1 = time = 0
value = 80462

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 13
trigger1 = timemod = 12, 2
triggerall = parent,fvar(15)<0.5
anim = F810
ID = 50237
pos = 19,-33
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 0.5,0.5
angle = 45
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)<0.25
helpertype = normal ;player
name = "weak fire"
ID = 80470
stateno = 80476
pos = 20,-34
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)>=0.25 && parent,fvar(15)<0.5
helpertype = normal ;player
name = "middle fire"
ID = 80470
stateno = 80477
pos = 26,-30
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = parent,fvar(15)>=0.5
helpertype = normal ;player
name = "strong fire"
ID = 80470
stateno = 80479
pos = 26,-30
postype = p1    ;p2,front,back,left,right
facing = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 20
trigger1 = numhelper(80470) = 0
trigger2 = parent, stateno != 8465
triggerall = anim!= 80466 && anim!= 80467
value = anim+5

[State 0, ChangeState]
type = ChangeState
trigger1 = anim= 80466 || anim= 80467
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
;Weak Fire
[Statedef 80471]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80471
poweradd = -1000

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%15 = 0
trigger1 = time > 0
anim = F271
ID = 6000
pos = time*5,0
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 26,-44

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.33,0.22

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
getpower = 0,0
givepower = 0,0
attr = S, NA
givepower = 0,0
damage = 75, 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -10+random%20,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Middle Fire
[Statedef 80472]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80472
poweradd = -2000

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%14 = 0
trigger1 = time = [1,60]
anim = F271
ID = 6000
pos = 20+time*2,-5
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
trigger1 = time <= 35
triggerall = pos y >= -60
anim = F840
ID = 840
pos = 20+20*time/5,-pos y+6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = (69-time)-(69-time)%27
scale = 1.3,1.3
sprpriority = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [15,60]
trigger1 =  numexplod(50236) = 0
anim = F810
id = 50236
pos = 130,-5
scale = 1,2
vel = -4,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 28,-44

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<15
scale = 0.3,0.25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=15
scale = 0.65,0.55

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 80, 40
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -10+random%20,5-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno != 80460
value = 80473

[State 0, PlaySnd]
type = StopSnd
trigger1 = animtime = 0
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Middle Fire end
[Statedef 80473]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80473

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.55

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 80, 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -10+random%20,5-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Strong Fire
[Statedef 80474]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80474
poweradd = -3900

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109914

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 48
freq = 60
ampl = -4
phase = 70

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.6,0.25

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%8 = 0
trigger1 = time = [1,40]
anim = F271
ID = 6000
pos = 20+time*6,0
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 1.2,1.2
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [10,40]
trigger1 =  timemod = 4,3
anim = F740
id = 50236
pos = 30+80*(time-5)/6,0
scale = 0.3,1.8
vel = -4,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [8,41]
trigger1 =  timemod = 3,2
triggerall = pos y >= -60
anim = F840
ID = 840
pos = -20+40*(time-2)/3,-pos y+6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1.5,1.5
sprpriority = 6

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 50
color = 0
add = -150,-150,-150
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 38
Time = 10
color = 0+((time-38)*25.6)
add = -150+((time-38)*15),-150+((time-38)*15),-150+((time-38)*15)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 26,-44

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
triggerall = hitcount < 7
givepower = 0,0
getpower = 0,0
attr = S, NT
damage = 260, 260
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1400
sparkxy = -15+random%30,5-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 10
fall = cond(time>35,1,0)
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = StopSnd
trigger1 = animtime = 0
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Weak Fire
[Statedef 80476]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80476
poweradd = -1000

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%10 = 0
trigger1 = time > 0
anim = F271
ID = 6000
pos = time*2.5*1.7,time*2.5
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
angle = 45
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [5,24]
trigger1 = timemod = 14,5
trigger1 = pos y > -100
anim = F840
ID = 840
pos = -25+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [5,24]
trigger1 = timemod = 14,5
trigger1 = pos y > -100
anim = F840
ID = 840
pos = -50+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 20,-34

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.33,0.22
value = -30

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
getpower = 0,0
givepower = 0,0
attr = S, NA
givepower = 0,0
damage = 75, 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Middle Fire
[Statedef 80477]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80477
poweradd = -2000

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%10 = 0
trigger1 = time = [1,60]
anim = F271
ID = 6000
pos = (20+time*2)*0.85,-15+time
random = 0,0
vel = 0,0
angle = 45
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [15,60]
trigger1 = timemod = 15,0
trigger1 = pos y > -150
anim = F840
ID = 840
pos = -5+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [15,60]
trigger1 = timemod = 15,0
trigger1 = pos y > -150
anim = F840
ID = 840
pos = -25+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [15,60]
trigger1 = timemod = 15,0
trigger1 = pos y > -130
anim = F840
ID = 840
pos = -50+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 26,-30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<15
scale = 0.3,0.25
value = -30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=15
scale = 0.65,0.55
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 80, 40
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno != 80461
value = 80478

[State 0, PlaySnd]
type = StopSnd
trigger1 = animtime = 0
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Middle Fire end
[Statedef 80478]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80478

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.55
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 80, 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Strong Fire
[Statedef 80479]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80479
poweradd = -3900

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109914

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%5 = 0
trigger1 = time = [1,40]
anim = F271
ID = 6000
pos = (20+time*6)*0.85,(-15+time*3)
random = 0,0
vel = 0,0
angle = 45
postype = p1
bindtime = 1
removetime = -2
scale = 1.2,1.2
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 48
freq = 60
ampl = -4
phase = 70

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.55,0.25
value = -30

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time = [21,40]
trigger1 =  timemod = 4,3
anim = F740
id = 50237
pos = (30+60*(time-5)/6)*0.8,(40*(time-5)/6)*0.8
scale = 0.3,1.8
angle = -30
vel = -4,-3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time > 21
trigger1 = timemod = 10,8
anim = F840
ID = 840
pos = (-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1.3,1.3
supermovetime = 999
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time > 21
trigger1 = timemod = 10,8
anim = F840
ID = 840
pos = -25+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1.3,1.3
supermovetime = 999
sprpriority = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0
Time = 50
color = 0
add = -150,-150,-150
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 38
Time = 10
color = 0+((time-38)*25.6)
add = -150+((time-38)*15),-150+((time-38)*15),-150+((time-38)*15)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 26,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%5 = 0
triggerall = hitcount < 7
givepower = 0,0
getpower = 0,0
attr = S, NT
damage = 260, 260
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1400
sparkxy = -15+random%30,5-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = StopSnd
trigger1 = animtime = 0
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Scorpion Senbon
[Statedef 80500]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = -500
anim = 80500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 16 && time < 70
trigger1 = timemod = 10,1
value = S2,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, Helper]
type = Helper
trigger1 = timemod = 8,1
trigger1 = time > 15 && time < 70
helpertype = normal
name = "senbon"
pos = 13,-40
ID = 40501
stateno = 80501
facing = 1

[State 0, Helper]
type = Helper
trigger1 = timemod = 12,1
trigger1 = time > 15 && time < 70
helpertype = normal
name = "senbon"
pos = 8,-35
ID = 40501
stateno = 80501
facing = 1

[State 0, Helper]
type = Helper
trigger1 = timemod = 12,1
trigger1 = time > 16 && time < 54
helpertype = normal
name = "senbonunguard"
pos = 13,-40
ID = 40501
stateno = 80502
facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Senbon 1st Hand
[Statedef 80501]
movetype= A
physics = N
juggle  = 5
ctrl = 0
anim = 40505
sprpriority = 3

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 13
range = 0,100

[State 450, VelSet]
type = VelSet
trigger1 = time = 0
x = 22*cos(var(13)*PI/480 - PI/4)
y = -22*sin(var(13)*PI/480 - PI/4)

[State 0, AngleSet]
type = Angledraw
trigger1 = 1
value = var(13)*3/8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 450, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 20, 5
getpower = 0,0
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1234
sparkxy = -10, 0
hitsound = 0,-1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,5
air.hittime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT;SCA, NA, SA, HA, NP, SP, HP
stateno = 40505
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
;trigger2 = movehit
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 40505
ctrl = 0

[State 1004, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 40506

;---------------------------------------------------------------------------
;Senbon Ungardable
[Statedef 80502]
movetype= A
physics = N
juggle  = 5
ctrl = 0
anim = 40505
sprpriority = 3

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 13
range = 0,100

[State 450, VelSet]
type = VelSet
trigger1 = time = 0
x = 22*cos(var(13)*PI/480 - PI/4)
y = -22*sin(var(13)*PI/480 - PI/4)

[State 0, AngleSet]
type = Angledraw
trigger1 = 1
value = var(13)*3/8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 450, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 20, 4
getpower = 0,0
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1234
sparkxy = -10, 0
hitsound = 0,-1
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT;SCA, NA, SA, HA, NP, SP, HP
stateno = 40505
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
;trigger2 = movehit
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 40505
ctrl = 0

[State 1004, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 40506

;---------------------------------------------------------------------------
;Scorpion toxic bomb
[Statedef 80530]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = -100
anim = 80530

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 9
value = S2,10

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "toxic bomb"
pos = 19,-42
ID = 40530
stateno = 40531
facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion triangles
[Statedef 80550]
movetype= I
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = -1500
anim = 80550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,10

[State 0, Helper]
type = Helper
trigger1 = time=[12,28]
trigger1 = time%5=0
helpertype = normal
name = "triangles"
pos = 18,-40
ID = 80555
stateno = 80555
facing = 1

[State 0, Helper]
type = Helper
trigger1 = time=[12,28]
trigger1 = time%5=0
helpertype = normal
name = "triangles"
pos = 20,-36
ID = 80555
stateno = 80555
facing = 1

[State 0, Helper]
type = Helper
trigger1 = time=[12,28]
trigger1 = time%5=0
helpertype = normal
name = "triangles"
pos = 28,-47
ID = 80555
stateno = 80555
facing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "head"
pos = 5,-54
ID = 80551
stateno = 80551
facing = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim =  80552
ID = 80552
pos = 5,-54
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion head
[Statedef 80551]
movetype= I
physics = N
juggle  = 4
velset = -3,-6
anim = 80551

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent,stateno !=80550
trigger2 = parent, animelem = 5
triggerall = anim !=80552
value = S1,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent,stateno !=80550
trigger2 = parent, animelem = 5
triggerall = anim !=80552
value = S1,3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,stateno !=80550
trigger2 = parent, animelem = 5
triggerall = anim !=80552
value = 80552

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 80551
value = time*15
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = anim = 80551
y = 0.5

[State 0, VelAdd]
type = Velset
trigger1 = anim = 80552
x = 0
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim =80552
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Triangles
[Statedef 80555]
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 80555

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F220
ID = 220
pos = -23,5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,3

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 0,60

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 0.5-var(6)*0.033

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 80555
ID = 80555
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.25,0.25
ownpal = 1

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = A, NP
damage = 1
animtype = Light
getpower = 0,0
givepower = 0,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 29
sparkxy = -10, 0
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT;SCA, NA, SA, HA, NP, SP, HP
stateno = 80556
time = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = frontedgebodydist < -50
id = 80555

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 80557

;---------------------------------------------------------------------------
;Triangles
[Statedef 80556]
movetype= A
physics = N
juggle  = 4
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = A, NP
damage = 1
animtype = Light
getpower = 0,0
givepower = 0,0
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 29
sparkxy = -10, 0
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 6
trigger2 = movecontact
value = 80557

;---------------------------------------------------------------------------
;Explode
[Statedef 80557]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = 80556 ; animacja wybuchu explode kunaia



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,0
channel = 5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 80555

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
ID = 80557
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.8,0.8
ownpal = 1
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1330
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 33
removetime = -2
sprpriority = 5
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 80, 20
getpower = 0,0
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 8
sparkno = -1
hitsound = -1, 3
guardsound = -1, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -random%7,0
airguard.velocity = -random%7,-.8
air.type = High
air.velocity = -random%7,0
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
;affectteam = B
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 50
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Scorpion Come back
[Statedef 80600]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -80
velset = 0,0
ctrl = 0
anim = 80600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = 10-random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = -15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = 1,0
sprpriority = 2
bindtime = 1
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F401
ID = 24
pos = -20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8

[State 0, Turn]
type = Turn
triggerall = animelem = 3
trigger1 = facing != parent, facing

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
x = parent, pos x + 70*facing
y = parent, pos y

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -5

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80130

;---------------------------------------------------------------------------
;Scorpion Come forward
[Statedef 80650]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -80
ctrl = 0
anim = 80650

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 30,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 0,5                 ;Time attacker pauses, time opponent shakes
sparkno = 42642              ;Spark anim no (Def: set above)
sparkxy = -15,-42                 ;Spark x y
hitsound = 5, 24646
guardsound = 6, 0               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = 0             ;Velocity at which opponent is pushed
airguard.velocity = 0,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0                 ;Time before opponent regains control in air

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = Abs(enemy(cond((enemy(0),alive),0,1)), pos x - pos x)

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
trigger1 = var(1) < 450
x = enemy(cond((enemy(0),alive),0,1)), pos x - 70*facing
y = enemy(cond((enemy(0),alive),0,1)), pos y

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
trigger1 = var(1) >= 450
x = pos x + 450*facing
y = enemy(cond((enemy(0),alive),0,1)), pos y

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
;Scorpion Counter
[Statedef 80700]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80700                       ;Change animation (Def: no change)
poweradd = -250
velset = 0,0                    ;Power to add (Def: 0)
sprpriority = -1                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 2
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 25
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 310, 2]
type = Explod
trigger1 = AnimElem = 3 && pos y >= -20
anim = F290
ID = 290
pos = 0,-pos y+5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger2 = AnimElem = 4
trigger1 = AnimElem = 5
trigger3 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
getpower = 0,0
givepower = 0,0
damage = 20,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = 0,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-1           ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 0                 ;Time before opponent regains control in air

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 30, 4
getpower = 0,0
givepower = 0,0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 4
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7 
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -1.9,-4
air.type = High
air.velocity = -1.4,-4
air.hittime = 15
fall = 1
fall.recover = 0
getpower = 0

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 80000

;---------------------------------------------------------------------------
;Karasu  Hand Killer
[Statedef 80800]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80800                       ;Change animation (Def: no change)
poweradd = -750
velset = 0,0                    ;Power to add (Def: 0)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 80155

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
pos = 0,-30
sound = F19,5375
anim = 654646
darken = 1
unhittable = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, Turn]
type = Turn
trigger1 = pos x > enemy(cond((enemy(0),alive),0,1)), pos x && facing = 1
trigger2 = pos x < enemy(cond((enemy(0),alive),0,1)), pos x && facing = -1

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)-10

[State 1640, Vector Length]
Type=VarSet
trigger1= 1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "hand 1 "
ID = 80810
stateno = 80810
pos = -18,-29
postype = p1
facing = 1
keyctrl = 0
supermovetime = 100

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "hand 2"
ID = 80811
stateno = 80811
pos = 4,-20
postype = p1
facing = 1
keyctrl = 0
supermovetime = 100

[State 200, 2]
type = ChangeState
trigger1 = helper(80810), stateno = 80816
trigger2 = helper(80811), stateno = 80816
value = 80801

[State 200, 2]
type = ChangeState
trigger1 = numhelper(80810) = 0
trigger1 = numhelper(80811) = 0
trigger1 = numhelper(60810) = 0
trigger1 = numhelper(60811) = 0
trigger1 = numhelper(60812) = 0
trigger1 = numhelper(60813) = 0
trigger1 = time > 20
value = 80801

;---------------------------------------------------------------------------
; Karasu hand killer end
[Statedef 80801]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 80801
velset = -5,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,8

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Hand 1
[Statedef 80810]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80810                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0                    ;Power to add (Def: 0)
sprpriority = 4                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, time < 70
value = 36

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 1
pos = 0,-33

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(13)= (parent,Fvar(13))/(parent,fvar(15))

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(parent,FVar(14))/(parent,fvar(15))

[State 0, AngleDraw]
type = Angleset
trigger1 =  parent, time >= 70
value = (atan(fvar(14)/fvar(13))+(4*Pi/2))*(-180/Pi) + 36

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 95
value = 80815

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno != 80800
trigger1 = parent, stateno != 80801
value = 80817

;---------------------------------------------------------------------------
;Hand 2
[Statedef 80811]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80810                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0                    ;Power to add (Def: 0)
sprpriority = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 1
pos = 15,-32

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, time < 70
value = 36

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(13)= (parent,Fvar(13))/(parent,fvar(15))

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(parent,FVar(14))/(parent,fvar(15))

[State 0, AngleDraw]
type = Angleset
trigger1 =  parent, time >= 70
value = (atan(fvar(14)/fvar(13))+(4*Pi/2))*(-180/Pi) + 36

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 200, 2]
type = ChangeState
trigger1 = time = 100
value = 80815

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno != 80800
trigger1 = parent, stateno != 80801
value = 80817

;---------------------------------------------------------------------------
; Hand killer
[Statedef 80815]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80811                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0                   ;Power to add (Def: 0)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random%1
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10

[State 0, VelSet]
type=VelSet
trigger1= !movehit
x= fvar(13)*18
y= fvar(14)*18

[State 0, AngleDraw]
type = Angleset
trigger1 = 1
value = (atan(fvar(14)/fvar(13))+(4*Pi/2))*(-180/Pi) + 36

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 450, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 100,20
getpower = 0,0
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 10+random%3
sparkxy = -10, 0
hitsound = F24,10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
p2stateno = 106003

;trafienie w ziemi

[State 0, VelSet]
type=VelSet
trigger1= movehit
trigger2 = pos y > 0
x= 0
y= 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y > 0 && anim != 80813
value = 80813

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > 0 && numexplod(40800) = 0 && !movehit
value = S2,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > 0 && numexplod(40800) = 0 && !movehit
ID = 40800
anim = 40551
pos = 12,12
postype = p1
scale =  1,1
sprpriority = 5
removetime = -1

;trafienie w przeciwnika
[State 1640, Y]
Type=VarSet
trigger1= movehit && var(13) = 0
var(13)= facing*random%11

[State 1640, Y]
Type=VarSet
trigger1= movehit && var(14) = 0
var(14)= EnemyNear,Pos Y - pos Y

[State 0, PosSet]
type = PosSet
trigger1 = movehit
x = EnemyNear,Pos X - var(13)
y = EnemyNear,Pos Y - var(14)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = movehit && anim != 80812
value = 80812

[State 0, SprPriority]
type = SprPriority
trigger1 = anim = 80812
value = 1+ishelper(80811)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 200, 2]
type = ChangeState
trigger1 = ishelper(80810)
triggerall = time = 85
triggerall = Abs(parent, pos x - pos x)<500
value = 80816

[State 200, 2]
type = ChangeState
trigger1 = ishelper(80811)
triggerall = time = 80
triggerall = Abs(parent, pos x - pos x)<500
value = 80816

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno != 80800
trigger1 = parent, stateno != 80801
trigger2 = Abs(parent, pos x - pos x)>=500
trigger2 = time > 100
value = 80817

;---------------------------------------------------------------------------
; Hand killer end
[Statedef 80816]
movetype= I                      ;Move-type: A-attack, I-idle, H-gethit
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80814                     ;Change animation (Def: no change)
poweradd = 0
velset = 0,0                    ;Power to add (Def: 0)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id =  40800

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F24,0+random%5

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(parent,Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(parent,pos Y-Pos Y)-10

[State 1640, Vector Length]
Type=VarSet
trigger1= 1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VelSet]
type=VelSet
trigger1= 1
x= -(parent,Fvar(13))/(parent,fvar(15))*18
y= -(parent,Fvar(14))/(parent,fvar(15))*18

[State 0, AngleDraw]
type = Angleset
trigger1 = time = 0
value = (atan(fvar(14)/fvar(13))+(4*Pi/2))*(-180/Pi) ;+ 36

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos x - parent, pos x = [-10,10]

[State 200, 2]
type = ChangeState
trigger1 = parent, stateno != 80800
trigger1 = parent, stateno != 80801
value = 80817

;---------------------------------------------------------------------------
; Scorpion hand killer counter
[Statedef 80817]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 40815

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id =  40800

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Scorpion&Kuroari combo prolog
[Statedef 80845]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = 0
anim = 80000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 150
movetime = 150
anim = -1
sound = 0,-1
darken = 0
unhittable = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(80945)=0
value = 80850
;---------------------------------------------------------------------------
;Scorpion&Kuroari combo
[Statedef 80850]
movetype= A
physics = N
juggle  = 4
ctrl = 0
poweradd = -500
anim = 80850

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8
channel = 8


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F31

[State 0, Turn]
type = Turn
trigger1 = facing!=helper(60000),facing
trigger1 = animelem = 3

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 3
x = parent,var(2)
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80860

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 8850
trigger1 = parent, stateno != 8860
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion&Kuroari combo 2
[Statedef 80860]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = 0
anim = 80860

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 8
trigger1 = timemod = 12, 2
anim = F810
ID = 50237
pos = 35,-27
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.6,0.6
angle = 45
sprpriority = 0
supermovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,6
trigger1 = anim = 80860
value = S2,8
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S2,10
channel = 8

[State 0, VelSet]
type = VelSet
triggerall = time>=8
trigger1 = (pos x)-(helper(60000),pos x) < -40
trigger2 = (pos x)-(helper(60000),pos x) > 40
x = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =  time>10
trigger1 =  timemod = 5,0
trigger1 = numhelper(80861) != 0
anim = F840
ID = 840
pos = 50,6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
supermovetime = 999
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = anim = 80860
helpertype = normal ;player
ID = 80861
stateno = 80861
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = anim = 80860
helpertype = normal ;player
ID = 80861
stateno = 80863
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = (pos x)-(helper(60000),pos x) =[-40,40]
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (pos x)-(helper(60000),pos x) =[-40,40]
trigger1 = anim != 80870
value = 80870

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, anim = 20870
trigger2 = parent, anim = 30870
value = 80870

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 8850
trigger1 = parent, stateno != 8860
value = 80000
ctrl = 0

;---------------------------------------------------------------------------
;Scorpion&Kuroari combo end
[Statedef 80870]
movetype= A
physics = N
juggle  = 4
ctrl = 0
poweradd = 0
velset = -2,0
anim = 80850

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F31

[State 0, BindToParent]
type = BindToParent
trigger1 = animelem = 3
time = 1
pos = 30,-5

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
;Fire front
[Statedef 80861]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80472
poweradd = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%8 = 0
anim = F270
ID = 6000
pos = 40,-15
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 40,-32

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.3,0.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
getpower = 0,0
attr = S, NA
damage = 15, 3
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno != 80860
value = 80862

[State 0, PlaySnd]
type = StopSnd
trigger1 = parent,anim = 80870
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,anim = 80870

;---------------------------------------------------------------------------
;Fire end
[Statedef 80862]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80862

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 15, 3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Fire 30
[Statedef 80863]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80863
poweradd = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 34,-25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.3,0.25
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,2
loop = 1
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
getpower = 0,0
attr = S, NA
damage = 15, 3
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno != 80860
value = 80864

[State 0, PlaySnd]
type = StopSnd
trigger1 = parent,anim = 80870
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,anim = 80870

;---------------------------------------------------------------------------
;Fire end
[Statedef 80864]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80864

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.3,0.25
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 15, 3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = 0,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Scorpion Rush
[Statedef 80900]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = -1000
sprpriority = 0
anim = 80900

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,6
value = S2,10
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,6
value = S2,8
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S2,13

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(15) = 0

[State 0, VelSet]
type = VelSet
trigger1 = time>6
x = 10

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem =2
helpertype = normal ;player
name = "shadow1"
ID = 80901
stateno = 80901
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = frontedgedist < 5
trigger2 = helper(80901),moveguarded = 1
value = 80905

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80901),movehit = 1
value = 80910

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(80901)=0
trigger1 = time > 10
value = 80000

;---------------------------------------------------------------------------
; Scorpion Shadow
[Statedef 80901]
type = S
physics = N
movetype= A
juggle  = 4
ctrl = 0
anim = 80910

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = Angledraw
trigger1= 1
value = parent,fvar(15)

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  timemod = 2,0
trigger1 = time>2
value = S2,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,6
value = S2,10
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S2,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && timemod = 2,1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod=2,0
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 35,20
pausetime = 0,0
sparkno = 1020+10*random%4
guard.sparkno = -1
sparkxy = -15,-45
hitsound = 0, -1
guardsound = -1,0
ground.type = High
fall = 1
                                ;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0,-6             ;Velocity at which opponent is pushed
airguard.velocity = 0,-1     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-6          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15

[State 0, TargetState]
type = TargetState
trigger1 = enemynear, var(30) = 0
value = 106000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno!=80900
trigger1 = parent,stateno!=80910
trigger2 = time = 70

;------------------------------------------------------------------
;Scorpion rush guarded
[StateDef 80905]
type = S
movetype= A
physics = N
juggle  = 3
velset = -3,-2
ctrl = 0
sprpriority = 3
anim = 80905

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.12
y = 0.08

[State 1210, end]
type = changeState
trigger1 = animtime = 0
value = 80000

;---------------------------------------------------------------------------
;Scorpion Rush
[Statedef 80910]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = timemod = 5,0
anim = F1391
ownpal = 1
pos = 0,-30
scale = 0.5,0.5
removetime = -2
sprpriority=4
postype = p1
ownpal = 1
angle = 260+atan(vel y/vel x)*180/PI

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time<=18
fvar(15) = time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time<21
value = fvar(15)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 6*cos(fvar(15)*PI/180)
y = -10*sin(fvar(15)*PI/180)

[State 0, VarSet]
type = VarSet
trigger1 = time = 21
fvar(15) = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 21
value = 80000

;---------------------------------------------------------------------------
;Scorpion Tail
[Statedef 80930]
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
poweradd = -300
sprpriority = -1
anim = 80930

[State 0, alive]
type = VarSet
trigger1 = 1
var(12) = cond((enemynear(0),alive),0,1)

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(enemynear(var(12)),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(enemynear(var(12)),pos Y-Pos Y)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,10

[State 0, Helper]
type = Helper
trigger1 = animelem =2
helpertype = normal ;player
name = "spike"
ID = 80940
stateno = 80940
pos = 8,-33
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999

[State 0, Helper]
type = Helper
trigger1 = animelem =2
helpertype = normal ;player
name = "wire"
ID = 80945
stateno = 80945
pos = 8,-33
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(80940)=0
triggerall = time > 10
trigger2 = helper(80940),stateno = 80942
value = 80000

;---------------------------------------------------------------------------
; Spike
[Statedef 80940]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80940                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 5

[State 1640, alfa]
Type=VarSet
trigger1= time = 0
fvar(15)= Atan(parent,fvar(14)/parent,fvar(13))

[State 0, VelSet]
type=VelSet
trigger1= 1
x= 8*cos(fvar(15))
y= 8*sin(fvar(15))

[State 0, AngleDraw]
type = Angleset
trigger1 = time = 0
value = -fvar(15)*180/PI

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = 1
attr = C,HP       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 10,0
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = S2,11
guardsound = 0,0
p2stateno = 106008
ID = 80900

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 80942
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=80930
trigger2 = helper(80945),fvar(16) >=198
trigger3 = moveguarded
value = 80941
ctrl = 0

;---------------------------------------------------------------------------
; Spike back
[Statedef 80941]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80940                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(80945)=0
flag = invisible
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 0,0
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1,0
guardsound = -1,0
ground.type = High
chainID = 80900
p2stateno = 106013
fall = 1
fall.damage = 100

[State 0, Turn]
type = Turn
trigger1 = facing!=parent,facing

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(helper(80945),Pos X-Pos X)*facing

[State 1640, X]
Type=VarSet
Trigger1= fvar(13)=[-1,0]
fvar(13)=-1

[State 1640, X]
Type=VarSet
Trigger1= fvar(13)=[0,1]
fvar(13)=1

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(helper(80945),pos Y-Pos Y)

[State 1640, y]
Type=VarSet
Trigger1= 1
fvar(14)=cond(fvar(14)>=0&&fvar(14)<=1,1,cond(fvar(14)>=-1&&fvar(14)<0,-1,fvar(14)))

[State 1640, alfa]
Type=VarSet
trigger1= 1
fvar(15)= Atan(fvar(14)/fvar(13))

[State 0, VelSet]
type=VelSet
trigger1= 1
x= -10*cos(fvar(15))
y= -10*sin(fvar(15))

[State 0, AngleDraw]
type = Angleset
trigger1 = 1
value = -fvar(15)*180/PI

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = fvar(13) > 0

;---------------------------------------------------------------------------
; Spike bind
[Statedef 80942]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80942                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 6

[State 0, ID]
type = VarSet
trigger1 = time = 0
var(12)= enemynear(0),ID

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time%2=0
value = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = playerID(var(12)),pos x -5*playerID(var(12)),facing
y = playerID(var(12)),pos y -31

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT;SCA, NA, SA, HA, NP, SP, HP
stateno = 80941
time = 99

[State 0, ChangeState]
type = ChangeState
trigger1 = playerID(var(12)),stateno!=106008
trigger2 = power < 100
trigger3 = parent, stateno = 80845
trigger4 = helper(80945),fvar(16)>=240
trigger5 = parent,stateno !=[80000,89999]
trigger6 = !(playerID(var(12)),alive)
trigger7 = numhelper(80945) = 0
value = 80941

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno=80950
trigger1 = parent,time =5
value = 80943

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno=81000
trigger1 = parent,time =5
value = 80946


;---------------------------------------------------------------------------
; Spike slash
[Statedef 80943]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 6

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = -2,30

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = parent,vel x*cond((parent,pos x -pos x)*facing<0,-1,1)
y = -parent,vel y

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = playerID(var(12)),stateno!=106008
value = 80941

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=80950
value = 80942

;---------------------------------------------------------------------------
; Spike throw
[Statedef 80944]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 6

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = -2,30

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = parent,vel x*cond((parent,pos x -pos x)*facing<0,-1,1)
y = -parent,vel y

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = playerID(var(12)),stateno!=106008
value = 80941

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=81000
value = 80942

;---------------------------------------------------------------------------
; Wire
[Statedef 80945]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80941                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 0

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(helper(80940),Pos X-Pos X)*Facing

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=cond(fvar(13)>=0&&fvar(13)<=1,1,cond(fvar(13)>=-1&&fvar(13)<0,-1,fvar(13)))

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(helper(80940),pos Y-Pos Y)

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(14)=cond(fvar(14)>=0&&fvar(14)<=1,1,cond(fvar(14)>=-1&&fvar(14)<0,-1,fvar(14)))

[State 1640, alfa]
Type=VarSet
trigger1= 1
fvar(15)= Atan(fvar(14)/fvar(13))

[State 1640, R]
Type=VarSet
trigger1= 1
fvar(16)= Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 80941
elem = fvar(16)/2 +cond(helper(80940),stateno=80940||helper(80940),stateno=80941,2,-2) + cond(helper(80940),stateno=80947,4,0)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = (fvar(16)/2 +cond(helper(80940),stateno=80940||helper(80940),stateno=80941,2,-2) + cond(helper(80940),stateno=80947,4,0))>150

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1
value = -fvar(15)*180/PI +cond(fvar(13)<0,180,0)

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80940
trigger2 = parent, anim = 80500
trigger3 = parent, anim = 80530
trigger4 = parent, anim = 80801 && parent,time >= 5
trigger5 = parent, anim = [80240,80270]
trigger6 = parent, anim = [80400,80420]
trigger7 = parent, anim = [80460,80475]
trigger8 = parent, anim = 80550
trigger9 = parent, anim = 80930
time = 10
pos = 8,-33

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80000
trigger2 = parent, anim = 81000 && parent,animelem = 1
trigger3 = parent, anim = 81000 && parent,animelem = 5
trigger4 = parent, anim = 81000 && parent,animelem = 9
time = 10
pos = 12,-33

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80010
time = 10
pos = 8,-25

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80020
time = 10
pos = 8,-27

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80800
trigger2 = parent, anim = 80801 && parent,time = [0,4]
trigger3 = parent, anim = 80100 && parent,time = [0,4]
trigger4 = parent, anim = 80130
trigger5 = parent, anim = 80107 && parent,time >= 30
trigger6 = parent, anim = 80700
trigger7 = parent, anim = [85000,85001]
trigger8 = parent, anim = [85005,85011]
trigger9 = parent, anim = [85015,85021]
trigger10 = parent, anim = [85025,85027]
trigger11 = parent, anim = 85040
trigger12 = parent, anim = [85210,85300]
trigger13 = parent, anim = 80900 && parent,time = [0,6]
trigger14 = parent, anim = [80450,80451]
time = 10
pos = 11,-32

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 85002
trigger2 = parent, anim = 85012
trigger3 = parent, anim = 85022
trigger4 = parent, anim = 85030
trigger5 = parent, anim = 85035
trigger6 = parent, anim = [85050,85070]
time = 10
pos = -5,-21

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80100 && parent,time >= 5
trigger2 = parent, anim = 80105 && parent,time = [0,4]
trigger3 = parent, anim = [85080,85100]
trigger4 = parent, anim = [85120,85200]
time = 10
pos = -2,-15

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80105 && parent,time >= 5
trigger2 = parent, anim = 80106
trigger3 = parent, anim = 85110
time = 10
pos = -2,-10

[State 0, get up]
type = BindToParent
trigger1 = parent, anim = 80107 && parent,time = [0,29]
time = 10
pos = -32*cos(PI/6+parent,time*3*PI/180),-32*sin(PI/6+parent,time*3*PI/180)

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 80900 && parent,time > 6
time = 10
pos = 8,-25

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 81000 && parent,animelem = 2
trigger2 = parent, anim = 81000 && parent,animelem = 6
trigger3 = parent, anim = 81000 && parent,animelem = 10
time = 10
pos = 18,-32

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 81000 && parent,animelem = 3
trigger2 = parent, anim = 81000 && parent,animelem = 7
trigger3 = parent, anim = 81000 && parent,animelem = 11
time = 10
pos = 6,-32

[State 0, BindToRoot]
type = BindToParent
trigger1 = parent, anim = 81000 && parent,animelem = 4
trigger2 = parent, anim = 81000 && parent,animelem = 8
trigger3 = parent, anim = 81000 && parent,animelem = 12
time = 10
pos = -3,-32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = numhelper(80940)=0

;---------------------------------------------------------------------------
; Spike throw
[Statedef 80946]
type    = A                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = A                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 6

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = -2,30

[State 106, 3]
type = MakeDust
trigger1 = 0
pos = -5,0
spacing = 2

[State 106, 3]
type = MakeDust
trigger1 = 0
pos = -5,20
spacing = 1

[State 106, 3]
type = MakeDust
trigger1 = 0
pos = -5,-20
spacing = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(80945)=0
flag = invisible
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13.5*cond((parent,pos x -pos x)*facing<0,-1,1)
y = (parentdist y)/10

[State 0, VelSet]
type = VelSet
trigger1 = vel y >= 0
y = -0.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = playerID(var(12)),stateno!=106008
trigger2 = frontedgedist < 5
trigger3 = backedgedist < 5
value = 80947

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=81000
value = 80942

;---------------------------------------------------------------------------
; Spike back after throw
[Statedef 80947]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 80940                      ;Change animation (Def: no change)
poweradd = 0
velset = 0,0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(80945)=0
flag = invisible
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 60,20
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1,0
guardsound = -1,0
ground.type = High
chainID = 80900
p2stateno = 105580;109990;106009

[State 0, Turn]
type = Turn
trigger1 = facing!=parent,facing

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(helper(80945),Pos X-Pos X)*facing

[State 1640, X]
Type=VarSet
Trigger1= fvar(13)=[-1,0]
fvar(13)=-1

[State 1640, X]
Type=VarSet
Trigger1= fvar(13)=[0,1]
fvar(13)=1

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(helper(80945),pos Y-Pos Y)

[State 1640, y]
Type=VarSet
Trigger1= 1
fvar(14)=cond(fvar(14)>=0&&fvar(14)<=1,1,cond(fvar(14)>=-1&&fvar(14)<0,-1,fvar(14)))

[State 1640, alfa]
Type=VarSet
trigger1= 1
fvar(15)= Atan(fvar(14)/fvar(13))

[State 0, VelSet]
type=VelSet
trigger1= 1
x= -10*cos(fvar(15))
y= -10*sin(fvar(15))

[State 0, AngleDraw]
type = Angleset
trigger1 = 1
value = -fvar(15)*180/PI

[State 0, AngleDraw]
type = Angledraw
trigger1 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = fvar(13) > 0
trigger1 = time > 5

;---------------------------------------------------------------------------
; Scorpion Slash
[Statedef 80950]
type = S
physics = N
movetype= A
juggle  = 4
ctrl = 0
anim = 80900

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,6
value = S2,10
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,6
value = S2,8
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S2,13

[State 0, SuperPause]
type = SuperPause
trigger1 = 0;time =0
time = 20
movetime = 5
anim = 1160
pos = 5,-35
sound = -1
darken = 1
unhittable = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = 1
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 106, 3]
type = MakeDust
trigger1 = 0;Time > 6
pos = -5,-30
spacing = 2

[State 106, 3]
type = MakeDust
trigger1 = 0;Time > 6
pos = -5,-10
spacing = 1

[State 106, 3]
type = MakeDust
trigger1 = 0;Time > 6
pos = -5,-50
spacing = 1

[State 0, Helper]
type = Helper
trigger1 = animelem =2
helpertype = normal ;player
name = "shadow"
ID = 80955
stateno = 80955
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  timemod = 2,0
trigger1 = time > 6
value = S2,12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && timemod = 2,1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.75,0.75
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod=2,0
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 50,0
pausetime = 0,0
sparkno = 1020+10*random%4
guard.sparkno = -1
sparkxy = -15,-45
hitsound = 0, -1
guardsound = -1,0
ground.type = High
fall = 1
                                ;Y-offset for the spark rel. to p1
hitsound = 5, 0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0,-4             ;Velocity at which opponent is pushed
airguard.velocity = 0,-1     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-4          ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15

[State 0, Turn]
type = Turn
trigger1 = (helper(80940),Pos X-Pos X)*Facing<0
trigger1 = time = 5

[State 1640, X]
Type=VarSet
Trigger1=time=5
fvar(13)=(helper(80940),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=time=5
fvar(14)=(helper(80940),pos Y-Pos Y)+25

[State 1640, alfa]
Type=VarSet
trigger1= time=5
fvar(15)= Atan(fvar(14)/fvar(13))

[State 1640, alfa]
Type=VarSet
trigger1= time=5
var(16)= helper(80945),fvar(16)

[State 0, AngleDraw]
type = Angledraw
trigger1= time>5
value = -fvar(15)*180/PI

[State 0, VelSet]
type=VelSet
trigger1= time = 6
x= 10*cos(fvar(15))
y= 10*sin(fvar(15))

[State 0, VelSet]
type=VelSet
trigger1= pos y >=0
y= 0

[State 0, VelSet]
type=posSet
trigger1= pos y >0
y= 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = changestate
trigger1 = time > 6
trigger1 = time = var(16)/9 +10
value=80000

;---------------------------------------------------------------------------
; Scorpion Shadow
[Statedef 80955]
type = S
physics = N
movetype= A
juggle  = 4
ctrl = 0
anim = 80910

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = Angledraw
trigger1= 1
value = -parent,fvar(15)*180/PI

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno!=80950

;---------------------------------------------------------------------------
; Scorpion Throw
[Statedef 81000]
type = S
physics = N
movetype= A
juggle  = 4
ctrl = 0
velset = -6,0
anim = 81000


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F1391
ownpal = 1
pos = -5,-10
scale = 0.4,0.4
vel = 0,-3
removetime = -2
sprpriority=4
postype = p1
ownpal = 1
angle = 260+atan(vel y/vel x)*180/PI

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 40953
ID = 40953
pos = 0,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 4
facing = -1
bindtime = -1
scale = 0.6,0.6
removetime = -2

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(40953)=1
ID = 40953
sprpriority = 4
scale = 0.3+time*0.02,0.3+time*0.02
trans = addalpha
alpha = 200-time*11.11,256

[State 0, Turn]
type = Turn
trigger1 = pos x > helper(80940), pos x && facing = 1
trigger2 = pos x < helper(80940), pos x && facing = -1
triggerall = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%5 = 0
value = S2,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,10

[State 0, VelAdd]
type = VelAdd
trigger1 = vel x < 0
x = 0.3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "shadow"
ID = 81010
stateno = 81010
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80940),stateno = 80947
trigger2 = numhelper(80945) = 0
value = 80000

;---------------------------------------------------------------------------
; Scorpion Shadow
[Statedef 81010]
type = S
physics = N
movetype= A
juggle  = 4
ctrl = 0
anim = 81010

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time<30
trans = addalpha
alpha = time*8.53,256

[State 0, Trans]
type = Trans
trigger1 = time>=30
trans = addalpha
alpha = 256,256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno!=81000

;------------------------------------------------------------------
;Scorpion Flamethrower
[StateDef 81100]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
sprpriority = -1
poweradd = -1000
anim = 80650

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = S2,10
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = S2,8
channel = 8

[State 0, VarAdd]
type = Varset
trigger1 = time = 0
v = 1
value = facing

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = Posadd
trigger1 = animelem = 3
trigger1 = anim = 80650
x = -330-backedgedist
y = -pos y-90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 80650
value = 80480

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = facing != var(1)
trigger1 = anim != 80010
value = 80010

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = parent, stateno != 2000
value = S2,8
channel = 8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = facing != var(1)
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 7

[State 0, Turn]
type = Turn
trigger1 = frontedgedist < -110

[State 0, NotHitBy]
type = NotHitBy
trigger1 = facing != var(1)
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Helper]
type = Helper
trigger1 = anim = 80480
trigger1 = animelem = 4
helpertype = normal
name = "fire"
pos = 33,-23
ID = 81105
stateno = 81105
facing = 1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = facing != var(1)
scale = 0.5,0.5
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = facing != var(1)
value = -10

[State 0, ChangeState]
type = ChangeState
trigger1 = facing = var(1)
trigger1 = backedgedist < -10
trigger1 = time > 20
triggerall = anim = 80010
value = 80000

;---------------------------------------------------------------------------
;Fire
[Statedef 81105]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80485
poweradd = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time%13 = 0
anim = F271
ID = 6000
pos = 100,90
random = 0,0
vel = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 0.9,0.9
sprpriority = 1
ownpal = 1
supermovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 15,0
time = 20
freq = 40
ampl = -4
phase = 40
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 33,-23

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 8,0
anim = F840
ID = 840
pos = -25+(-pos y+6)*1.7,-pos y + 6
vel = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1.3,1.3
supermovetime = 999
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.55
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
getpower = 0,0
attr = S, NA
damage = 55, 25
givepower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1400
sparkxy = -10+random%20,p2dist y-40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -2,0
air.hittime = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno != 81100
value = 81106

[State 0, PlaySnd]
type = StopSnd
trigger1 = parent, anim != 80480
channel = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, anim != 80480

;---------------------------------------------------------------------------
;Fire end
[Statedef 81106]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0,0
ctrl = 0
anim = 80478

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.55
value = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans =addalpha
alpha =256,256

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time%4 = 0
attr = S, NA
givepower = 0,0
damage = 55, 25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -0.3,0
airguard.velocity = -0.3,0
air.type = High
air.velocity = -0.3,0
air.hittime = 10
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0



;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(0) - StateDef 40000, 40100, 40105, 80000, 80100, 80105, 1010, 1020, 1030, 1060
; Var(1) - StateDef 41000
; Var(2) - StateDef 41000
; Var(3) - StateDef 40210, 40710, 1700, 1710
; Var(4) - StateDef 40710, 1700, 1710
; Var(5) - StateDef -2
; Var(6) - StateDef 40950, 3121
; Var(7) - StateDef 3121
; Var(10) - StateDef 50000, -2
; Var(11) - StateDef 1010, 1050, 1200, 1300, 2200, 2300, 8200, -2
; Var(12) - StateDef 80930, 80942
; Var(13) - StateDef 40815, 80501, 80502, 80815
; Var(14) - StateDef 40815, 80815, 77000, 78000, 77001, 78001
; Var(15) - StateDef 2200
; Var(16) - StateDef 80900
; Var(20) - StateDef 500, 502, 505
; Var(21) - StateDef 510, 512, 515
; Var(22) - StateDef 520, 522, 525
; Var(30) - StateDef 106000, 106001, 106002, 106003, 106005, 106008, -2

;--------------------- Float Variable List ----------------------

; fVar(13) - StateDef 40220, 40800, 40810, 40811, 40812, 40813, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80810, 80811, 80816, 80900, 80930, 80941, 80945, 80947
; fVar(14) - StateDef 40220, 40800, 40810, 40811, 40812, 40813, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80810, 80811, 80816, 80900, 80930, 80941, 80945, 80947
; fVar(15) - StateDef 40220, 40800, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80816, 80900, 80940, 80941, 80945, 80947, 1000, 1040, 2200, 2300
; fVar(16) - StateDef 80945
