[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60	
airjuggle = 15
sparkno = 3
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1		
yscale = 1		
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -50
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.4
walk.back = -1.4
run.fwd  = 6.8, 0
run.back = -5.3,-3
jump.neu = 0,-8.3
jump.back = -3.0
jump.fwd = 3.0
runjump.back = -2.55,-8.2
runjump.fwd = 4.0,-8.2
airjump.neu = 0,-8.2
airjump.back = -2.55
airjump.fwd = 2.5	
	
[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(0)*10000
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = var(0) = 1
trigger2 = var(0) = 3
triggerall = helper(40000), stateno != 42450
value = 181

[State 180, 1]
type = ChangeState
trigger1 = var(0) = 2
value = 183

[State 180, 1]
type = ChangeState
trigger1 = var(0) = 0
value = 182

;---------------------------------------------------------------------------
; Win pose Karasu
[Statedef 181]
type = S
ctrl = 0
anim = 180+var(0)*10000
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = anim = 180+var(0)*10000
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = anim = 181+var(0)*10000
value = S4,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 53
anim = 199
pos = -14,-26
postype = p1
facing = 1
angle = 75
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = 4
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
trigger1 = anim = 180+var(0)*10000
trigger1 = numhelper(40000) = 0
helpertype = normal ;player
name = "karasu"
ID = 181
stateno = 40180
pos = 0,5000
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 40105

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 40
value = 181+var(0)*10000

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 120
y = -0.3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 160
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose Puppets
[Statedef 182]
type = S
ctrl = 0
anim = 180
velset = 0,0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 11
anim = 181
ID = 181
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = -1
sprpriority = -2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 711
ID = 711
pos = 0,10
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 710
ID = 710
pos = -50,7
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = time = 52
trigger3 = time = 54
value = S1,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 710
ID = 710
pos = 50,7
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 140
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose Kuroari (Elevator)
[Statedef 183]
type = S
ctrl = 0
anim = 20180
velset = 0,0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(60000)=1
flag = roundnotover

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
trigger1 = anim = 20180
value = 20020

[State 0, Turn]
type = Turn
trigger1 = time = 60
trigger1 = var(6)*facing=-1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 20020
x = 2.9

[State 0, VelSet]
type = VelSet
trigger1 = anim != 20020
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 20180
trigger1 = animelem = 2
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 20180
trigger1 = animelem = 5
value = F17,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos x - helper(60000), pos x = [-3,3]
trigger1 = anim != 20181
value = 20181

[State 0, Turn]
type = Turn
trigger1 = facing != helper(60000),facing
trigger1 = anim = 20181
trigger1 = numhelper(60000)=1

[State 0, PosSet]
type = PosSet
trigger1 = anim = 20181
x = helper(60000), pos x-3*facing

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = helper(60000), stateno = 60181
trigger1 = helper(60000), time>5
trigger2 = numhelper(60000)=0
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(60187)!=0
flag = noshadow

;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
anim = 193
velset = 0,0
sprpriority = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "salamander"
ID = 191
stateno = 191
pos = -150,25
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 50
size.xscale = 1.2
size.yscale = 1.2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 199
ID = 191
pos = -123,-40
postype = p1
facing = 1
bindtime = 1
removeongethit = 1
removetime = -1
sprpriority = 1
vel = 1,0
scale = 0.2,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 199
ID = 192
pos = -166,-39
postype = p1
facing = 1
bindtime = 1
removeongethit = 1
removetime = -1
sprpriority = 1
scale = 0.5,0.5
vel = 1,0
ownpal = 1
angle = 270

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = anim != 193
id = 191

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = anim != 193
id = 192

[State 0, PowerSet]
type = PowerSet
trigger1 = time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 150
value = 191

[State 0, VelSet]
type = VelSet
trigger1 = anim = 191
trigger1 = animelem = 2
y = -8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 191
trigger1 = animelem = 2
value = F3,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 191
trigger1 = animelem = 2
statetype = A
movetype = I
physics = A

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro


;---------------------------------------------------------------------------
; Salamander
[Statedef 191]
type = S
physics = S
ctrl = 0
anim = 50020
velset = 0,0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
trigger1 = anim = 50020
anim = F60
ID = 310
pos = 58,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
trigger1 = anim = 50020
anim = F60
ID = 310
pos = 7,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = anim = 50020
anim = F60
ID = 310
pos = 75,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = anim = 50020
anim = F60
ID = 310
pos = -5,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = anim = 50020
anim = F60
ID = 310
pos = -47,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 2
scale = 0.6,0.6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = S2,14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 20, 1]
type = VelSet
trigger1 = time > 0
x = 1.02

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, anim = 191
trigger1 = parent, animelem = 2
value = S1,9

[State 52, 5]
type = ChangeState
trigger1 = parent, anim = 191
trigger1 = parent, animelem = 2
value = 192

;---------------------------------------------------------------------------
; Salamander
[Statedef 192]
type = S
physics = S
ctrl = 0
anim = 50020
velset = 0,0
sprpriority = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 50001

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 192
ID = 192
pos = 4,14
postype = p1
facing = -1
vfacing = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 192
ID = 192
pos = 34,14
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 0.5,0.
sprpriority = 2
ownpal = 1

[State 52, 5]
type = destroyself
trigger1 = time = 7

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 1950+var(0)*1
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 1951
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 59
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 49
ID = 1951
pos = 23,-26 
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 1952
pos = -16,-39
postype = p1
facing = -1
bindtime = -1
removeongethit = 1
removetime = 59
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 49
ID = 1952
pos = 8,-26
postype = p1  


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,4

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "Matka"
ID = 195
stateno = 1954
pos = -30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "Ojciec"
ID = 195
stateno = 1955
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1954]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 1954                
poweradd = 0
sprpriority = 4              

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 8
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
trigger3 = animelem = 8
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 64
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 64
value = F9,2

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
[Statedef 1955]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 1955                
poweradd = 0
sprpriority = 4               

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 8
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
trigger2 =  animelem = 5
trigger3 =  animelem = 8
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 64
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 64
value = F9,2

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 200+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 202+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 203+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 1
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = 0+random%4
sparkxy = -15, -58
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
x = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S4,15
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S2,8

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -25, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 210+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -22
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------
;Combo 2
[StateDef 212]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 212+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2 
statetype = A       ;S,A,C,L
movetype = A
physics = A         ;A,C,S,N

[State 0, VelSet]
type = VelSet
trigger1 = time = [4,25]
x = 2
y = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
ownpal = 1
ownpal = 1
trigger1 = animelem = 2
anim = F360
pos = 0,0
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -60
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------
;Combo 2
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-4
ctrl = 0
anim = 213+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,5
airguard.velocity = -2,5
air.type = High
air.velocity = -2,5
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 8,0
ctrl = 0
anim = 220+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
fall = 1
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 222+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -52
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-7
fall = 1
airguard.velocity = -3,-7
air.type = High
air.velocity = -3,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------
;Combo 3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 223+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,15
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 2231
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 34
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 13
ID = 2231
pos = 23,-26 
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 2232
pos = -16,-39
postype = p1
facing = -1
bindtime = -1
removeongethit = 1
removetime = 34
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 13
ID = 2232
pos = 8,-26
facing = 1
angle = 180
postype = p1

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "Karasu"
ID = 224
stateno = 224
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Karasu
[Statedef 224]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 224               
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 225
ID = 225
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 40
sprpriority = 5
scale = 1,1
ownpal = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [4,34]
time = 1
pos = 10,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 224
pos = 0,-30
postype = p1
facing = 1
angle = 0+atan(vel y/vel x)*180/PI
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 0;1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = time = [4,30]
x = 6
y = -1
       

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 12
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = 15+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -15+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 30
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 6542
sparkxy = -15, -35
hitsound = 5, 6464
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = [30,34]
hitonce = 1
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 6542
sparkxy = -15, -35
hitsound = 5, 6464
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-3
airguard.velocity = -8,-3
air.type = High
air.velocity = -8,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------
;Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 213+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,5
airguard.velocity = -2,5
air.type = High
air.velocity = -2,5
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 240
pos = 38,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 240
pos = -11,-33
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Ojciec"
ID = 246
stateno = 246
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Ojciec
[Statedef 246]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 246              
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 246
pos = 0,-35
postype = p1
facing = 1
angle = atan(vel y/vel x)*180/PI
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 1
scale = 0.4,1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 20
ID = 246
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,30]
x = 4
y = 0   

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 5
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-40                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------
;Combo 5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 242
pos = 37,-39
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 242
pos = 18,-32
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = -1
scale = 0.5,0.5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Matka"
ID = 245
stateno = 245
pos = 150,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Matka
[Statedef 245]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 245              
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 245
pos = 0,-35
postype = p1
facing = 1
angle = 180+atan(vel y/vel x)*180/PI
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,30]
x = 6
y = 0   

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 5
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 42
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 42
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-40                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0

[State 200, 2]
type = changestate
trigger1 = parent, stateno = 243
value = 247
;---------------------------
;Combo 5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 231+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,13
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 2431
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 17
ID = 2431
pos = 23,-26 
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 2432
pos = -16,-39
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 31
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 17
ID = 2432
pos = 8,-26
angle = 30
postype = p1

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(245) = 0
helpertype = normal
name = "Matka"
ID = 247
stateno = 247
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Matka
[Statedef 247]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 247              
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 26
trigger1 = timemod = 5,0
anim = F1391
ownpal = 1
pos = 15,-30
scale = 0.4,0.4
removetime = -2
sprpriority=4
postype = p1
ownpal = 1
angle = 260+atan(vel y/vel x)*180/PI

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -6
trigger1 = timemod = 5,0
trigger1 = vel x > 0
anim = F300
ownpal = 1
ID = 60
pos = -13,-pos y+3
scale = 1,1
removetime = -2
sprpriority=1
postype = p1
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0 && ishelper(245)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 245

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 198
ID = 247
pos = 0,-30
postype = p1
facing = 1
angle = atan(vel y/vel x)*180/PI
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 26
x = 5
y = -1 

[State 0, VelSet]
type = VelSet
trigger1 = time = [26,30]
x = 2
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 5
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0 && ishelper(247)
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0 && ishelper(247)
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0 && ishelper(247)
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && ishelper(247)
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && ishelper(247)
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 43
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 43
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 43
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 43
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 43
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 20 && timemod = 10,0
value = S2,13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time < 20 && timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3,-2             ;Velocity at which opponent is pushed
airguard.velocity = -3,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,-2          ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 15,3                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-40                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,-2             ;Velocity at which opponent is pushed
airguard.velocity = -5,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,-2           ;X-velocity at which opponent is pushed,
fall = 1                               ;Y-velocity at which opponent is pushed
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------
;Combo 6
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,14
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 199
ID = 260
pos = 18,-34
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 15
angle = 40
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 199
ID = 260
pos = -1,-35
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 15
angle = 70
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Karasu"
ID = 262
stateno = 262
pos = 70,-150
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 35
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Kuroari
[Statedef 262]
type    = A                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 262              
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10
trigger1 = timemod = 5,0
anim = F1391
ownpal = 1
pos = 0,0
scale = 0.5,0.5
vel = 0,-2
removetime = -2
sprpriority=4
postype = p1
ownpal = 1
angle = 255

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 262
pos = 0,-30
postype = p1
facing = 1
angle = 70
bindtime = -1
removeongethit = 1
removetime = 10
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 11
x = 0
y = 2

[State 0, Gravity]
type = Gravity
trigger1 = time > 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 154353
sparkxy = -15, -20
hitsound = 5, 64364
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 200, 2]
type = Changestate
trigger1 = pos y >= 0
value = 263
;---------------------------------------------------------------------------
;Kuroari
[Statedef 263]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 263              
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F1190
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.1,1.1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F550
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.5,1.5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 10
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 10
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 38
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 38
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 38
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = F9,2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 6
freq = 60
ampl = -4
phase = 90

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 80,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 154353
sparkxy = -15, -20
hitsound = 5, 64364
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 200, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------
;Combo 7
[StateDef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 251+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,13
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 250
pos = 16,-34
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 51
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 199
ID = 250
pos = 14,-54
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 51
angle = -30
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Salamandra"
ID = 252
stateno = 252
pos = 50,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 0, End]
type = ChangeState
trigger1 = Time = 60
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Salamandra
[Statedef 252]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 252              
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 252
pos = -24,-17
postype = p1
facing = 1
angle = -50
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 4
scale = 0.4,0.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 252
pos = 9,-42
postype = p1
facing = 1
angle = atan(vel y/vel x)*180/PI
bindtime = -1
removeongethit = 1
removetime = 44
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = 35+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 2,2
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 64
anim = F696
ownpal = 1
ID = 900
pos = -35-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 49,-25
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 154353
sparkxy = -15, -20
hitsound = 5, 64364
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 12

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "katon"
ID = 253
stateno = 253
pos = 49,-25
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5


[State 200, 2]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------
;Katon
[StateDef 253]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 253
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 252
time = 1
facing = 0
pos = 41,-21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 70,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1402
sparkxy = -15+random%45,20-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;---------------------------
;Combo 8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 505+var(0)*10000 
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,18

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 199
ID = 270
pos = -20,-44
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 14
sprpriority = 3
scale = 0.5,0.5
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sasori"
ID = 272
stateno = 269
pos = 20,-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Sasori
[Statedef 269]
type    = S                    
movetype= A                     
physics = S                     
juggle  = 1                                                   
ctrl = 0                         
anim = 269             
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 198
ID = 272
pos = 10,-25
postype = p1
facing = 1
angle = 40-time*2.5
bindtime = -1
removeongethit = 1
removetime = 30
sprpriority = 1
scale = 1,1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 272
angle = 40-time*2.5

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,25]
trigger1 = pos y < 0
x = 8
y = 6   

[State 0, VelSet]
type = VelSet
trigger1 = time > 25
trigger2 = pos y >= 0
x = 0
y = 0  

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 2
value = S2,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 25
value = S2,8

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,0-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20,4                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4                 ;Spark anim no (Def: set above)
sparkxy = -15,-20               ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -2,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-1           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25 
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10                ;Time before opponent regains control in air

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time > 25
hitonce = 1 
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 25,5                 ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,2                 ;Time attacker pauses, time opponent shakes
sparkno = 0+random%4              ;Spark anim no (Def: set above)
sparkxy = -20,-30                ;Spark x y
                                ;Y-offset for the spark rel. to p1
hitsound = 24, 2                  ;Sound to play on hit
guardsound = 21, 7                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -5,4             ;Velocity at which opponent is pushed
airguard.velocity = -5,4      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -5,4           ;X-velocity at which opponent is pushed,
                               ;Y-velocity at which opponent is pushed
air.hittime = 25
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(30) = 0
trigger1 = movehit
value = 106000

[State 200, 2]
type = Destroyself
trigger1 = Time = 30
;---------------------------------------------------------------------------
;Kunai throw
[StateDef 500]
type = S
movetype = A
physics = S
juggle = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 500
stateno = 70700;600
pos = 17,-31
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kunai Crouch throw
[StateDef 502]
type = S
movetype = A
physics = S
juggle = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 500
stateno = 70700;600
pos = 27,-6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Kunai Air throw
[StateDef 505]
type = A
movetype = A
physics = A
juggle = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20    ;fv =
value = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -1
y = -1.5

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 500
stateno = 70701
pos = 7,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Explode Kunai throw
[StateDef 510]
type = S
movetype = A
physics = S
juggle = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "exp. kunai"
ID = 620
stateno = 70730
pos = 10,-28
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Explode Kunai Crouch throw
[StateDef 512]
type = S
movetype = A
physics = S
juggle = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 620
stateno = 70730;600
pos = 15,-6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Explode Kunai Air throw
[StateDef 515]
type = A
movetype = A
physics = A
juggle = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21    ;fv =
value = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -1
y = -1.5

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "exp. kunai"
ID = 620
stateno = 70731
pos = 15,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Smoke Kunai throw
[StateDef 520]
type = S
movetype = A
physics = S
juggle = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "s. kunai"
ID = 630
stateno = 70740
pos = 10,-28
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Explode Kunai Crouch throw
[StateDef 522]
type = S
movetype = A
physics = S
juggle = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22    ;fv =
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 630
stateno = 70740;600
pos = 27,-6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Smoke Kunai Air throw
[StateDef 525]
type = A
movetype = A
physics = A
juggle = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,20

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22    ;fv =
value = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -1
y = -1.5

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "s. kunai"
ID = 630
stateno = 70741
pos = 15,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 20,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Stan postaci
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 20,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 20,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70653]
type = C
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 25,-15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70658]
type = C
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 25,-15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70654]
type = C
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 502+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 25,-15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 11,-19
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70741
stateno = 70741
pos = 11,-19
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 505+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 11,-19
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Kawarimi
[Statedef 700]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -300
ctrl = 0
velset = 0,0
anim = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0, Trans]
type = Trans
trigger1 = time < 20
trans = addalpha
alpha = 0,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 17
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 500, PosAdd]
type = Posset
trigger1 = Time = 17
x = enemy(cond((enemy(0),alive),0,1)),pos x - 70*enemy(cond((enemy(0),alive),0,1)),facing

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 0 || Time = 17
anim = F690
ID = 460
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 2,2
removetime = -2
ownpal = 1
sprpriority = 3

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 7
anim = F700
ID = 450
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = 30
scale = 2,2
ownpal = 1

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 500]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Kawarimi Air
[Statedef 710]
type    = A
movetype= I
physics = A
juggle  = 4
poweradd= -300
ctrl = 0
velset = 0,0
anim = 44

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0, Trans]
type = Trans
trigger1 = time < 20
trans = addalpha
alpha = 0,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 17
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 500, PosAdd]
type = Posset
trigger1 = Time = 17
x = enemy(cond((enemy(0),alive),0,1)),pos x - 70*enemy(cond((enemy(0),alive),0,1)),facing

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 0 || Time = 17
anim = F690
ID = 460
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 2,2
removetime = -2
ownpal = 1
sprpriority = 3

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 7
anim = F700
ID = 450
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
ownpal = 1
scale = 2

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 500]
type = ChangeState
trigger1 = Time = 30
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Puppets sammon 1
[Statedef 1000]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S3,19

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 50250
ID = 9998
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = -1
scale = 0.5,0.5
sprpriority = 5
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 50251
ID = 9999
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = fvar(15), 0.5
sprpriority = 4
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 15    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 15
value = 0.0083

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 0 && time < 60 && power >= 500
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 60 && power >= 500 && random = [0,100-var(49)*(var(49))/100] 
trigger2 = var(50) = 1
value = 1010
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 60 && time < 100 && power >= 500
trigger1 = var(50) = 0
trigger2 = time >= 60 && time < 120 && power >= 500 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 1020
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 60 && power < 1000
value = 1010
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 60 && time < 120 && power < 1000
value = 1020
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 120 && power >= 1000
value = 1030
ctrl = 1

;---------------------------------------------------------------------------
; Summon Karasu
[Statedef 1010]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1000 + var(0) * 10000
poweradd = -500            ;Change animation (Def: no change)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 20
time = 20
add = -time*2.5,-time*2.5,-time*2.5
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,15
volume = 300

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7 && cond(prevstateno = 2100,0,1)
anim = 1001
ID = 1001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -1
ownpal = 1
sprpriority = 1
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = player
name = "Karasu"
ID = 40000
stateno = 40000
pos = 30,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 50

[State 0, VarSet]
type = Varadd
trigger1 = time = 30
v = 0
value = 1

[State 0, Prawa]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 40+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 25+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 25
anim = F696
ownpal = 1
ID = 900
pos = 20-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F9,2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 30
time = 1
add = -50+(time-30)*2.5,-50+(time-30)*2.5,-50+(time-30)*2.5
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = S4,23
darken = 0
unhittable = 0

;[State 0, VarSet]
;type = VarSet
;trigger1 = 1
;v = 0
;value = 1

[State 500, Explod]
type = removeExplod
trigger1 = Time = 50
ID = 1001

[State 200, 2]
type = ChangeState
trigger1 = Time = 50
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Summon Salamander and Kuroari
[Statedef 1020]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2000+var(0)*10000
poweradd = -500
sprpriority = 2           ;Change animation (Def: no change)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 20
time = 120
add = -time*2.5,-time*2.5,-time*2.5
mul = 256,256,256

[State 0, VarSet]
type = Varadd
trigger1 = time = 30
v = 0
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,13
volume = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S4,14
volume = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = F9,2

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal
name = "salamander"
ID = 50000
stateno = 50000
pos = -15,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 50
size.xscale = 1.2
size.yscale = 1.2

[State 0, Prawa]
type = Explod
trigger1 = time = 50
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 50
anim = F696
ownpal = 1
ID = 900
pos = -20+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 2,2
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 50
anim = F696
ownpal = 1
ID = 900
pos = -50-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal
name = "kuroari"
ID = 60000
stateno = 60000
pos = 20,-3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 50
size.xscale = 0.9
size.yscale = 0.9

[State 0, Prawa]
type = Explod
trigger1 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = 40+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = 25+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = 20-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = F9,2

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal
name = "ground kuroari"
ID = 60001
stateno = 60001
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 50
size.xscale = 0.9
size.yscale = 0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 115
time = 1
add = -50+(time-115)*2.5,-50+(time-115)*2.5,-50+(time-115)*2.5
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 115
movetime = 115
anim = -1
sound = -1
darken = 0
unhittable = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 105
value = 2005+var(0)*10000-20000

[State 0, VelSet]
type = VelSet
trigger1 = Time = 110
x = -0.25
y = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 110
value = F3,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 110
statetype = A
movetype = I
physics = A

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 9
anim = 2001
ID = 2001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -1
ownpal = 1
sprpriority = 0
supermovetime = 9999

[State 500, Explod]
type = removeExplod
trigger1 = Time = 90
ID = 2001

[State 200, 2]
type = ChangeState
trigger1 = Time = 115
value = 51
ctrl = 1

;---------------------------------------------------------------------------
; Summon All Puppets 1
[Statedef 1030]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3000
poweradd = -1000
sprpriority = 2           ;Change animation (Def: no change)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 30
time = 120
add = -time*2,-time*2,-time*2
mul = 256,256,256

[State 0, VarSet]
type = Varset
trigger1 = time = 30
v = 0
value = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S4,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S4,15

[State 0, Helper]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "salamander"
ID = 50000
stateno = 50000
pos = -37,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 50
size.xscale = 1.2
size.yscale = 1.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = 0+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = -40+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 2,2
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 75
anim = F696
ownpal = 1
ID = 900
pos = -70-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1.5,1.5
sprpriority = 5
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 90
helpertype = normal
name = "kuroari"
ID = 60000
stateno = 60000
pos = 36,-1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 50
size.xscale = 0.9
size.yscale = 0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 85
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 85
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 85
anim = F696
ownpal = 1
ID = 900
pos = 40+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 85
anim = F696
ownpal = 1
ID = 900
pos = 25+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 85
anim = F696
ownpal = 1
ID = 900
pos = 20-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 70
helpertype = player
name = "karasu"
ID = 40000
stateno = 40000
pos = 60,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 65
anim = F696
ownpal = 1
ID = 900
pos = 75+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 65
anim = F696
ownpal = 1
ID = 900
pos = 60+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 65
anim = F696
ownpal = 1
ID = 900
pos = 45-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 90
helpertype = normal
name = "ground kuroari"
ID = 60001
stateno = 60001
pos = 16,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 90
size.xscale = 0.9
size.yscale = 0.9

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 105
time = 1
add = -60+(time-105)*2,-60+(time-105)*2,-60+(time-105)*2
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 135
movetime = 135
anim = 102
pos = 5,-33
sound = F19,4
darken = 0
unhittable = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 125
value = 12005

[State 0, VelSet]
type = VelSet
trigger1 = Time = 130
x = -0.6
y = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 130
value = F3,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 130
statetype = A
movetype = I
physics = A

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 9
anim = 3001
ID = 3001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -1
ownpal = 1
sprpriority = 0
supermovetime = 9999

[State 500, Explod]
type = removeExplod
trigger1 = Time = 135
ID = 3001

[State 200, 2]
type = ChangeState
trigger1 = Time = 135
value = 51
ctrl = 1

;---------------------------------------------------------------------------
; Puppets sammon 2
[Statedef 1040]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,7

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 50252
ID = 9998
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = -1
scale = 0.5,0.5
sprpriority = 5
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 50251
ID = 9999
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = fvar(15), 0.5
sprpriority = 4
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 15    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 15
value = 0.0083*2

[State 0, ChangeState]
type = changeState
trigger1 = command != "hold_c"
triggerall = time < 60
trigger2 = power < 2000
value = 1050

[State 0, ChangeState]
type = changeState
trigger1 = time = 60
value = 1060

;---------------------------------------------------------------------------
; Summon Scorpion
[Statedef 1050]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 1005 + var(0) * 10000
poweradd = -500           ;Change animation (Def: no change)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 20
time = 100
add = -time*2.5,-time*2.5,-time*2.5
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,18
volume = 300

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = player
name = "Scorpion"
ID = 80000
stateno = 79999
pos = 50,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 60

[State 0, Prawa]
type = Explod
trigger1 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 60+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 45+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 40-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = F9,2

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 40
anim = 80552
ID = 80552
pos = 25,-26
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.6,0.6
removetime = -2
ownpal = 1
sprpriority = 1
supermovetime = 30

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 80
time = 1
add = -50+(time-80)*2.5,-50+(time-80)*2.5,-50+(time-80)*2.5
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = S4,23
darken = 0
unhittable = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 68
value = 1006 + var(0) * 10000

[State 200, 2]
type = ChangeState
trigger1 = Time = 100
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Summon All Puppets 2
[Statedef 1060]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes                                ;Commonly-used controllers:
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2000+var(0)*10000
poweradd = -1950
sprpriority = 2           ;Change animation (Def: no change)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9998

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 20
time = 220
add = -time*2.5,-time*2.5,-time*2.5
mul = 256,256,256

[State 0, VarSet]
type = Varadd
trigger1 = time = 30
v = 0
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,13
volume = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S4,14
volume = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S1,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = S1,8

[State 0, Helper]
type = Helper
trigger1 = time = 55
helpertype = normal
name = "salamander"
ID = 50000
stateno = 50000
pos = -15,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 150
size.xscale = 1.2
size.yscale = 1.2

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 50
anim = 711
ID = 461
pos = -40,15
postype = p1  ;p2,front,back,left,right
facing = 1
vel = -0.2,0
removetime = -2
ownpal = 1
sprpriority = 1
scale = 0.8,0.8
supermovetime = 130

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 50
anim = 711
ID = 461
pos = 15,15
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.2,0
removetime = -2
ownpal = 1
sprpriority = 1
scale = 0.8,0.8
supermovetime = 130

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal
name = "kuroari"
ID = 60000
stateno = 60000
pos = 20,-3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 150
size.xscale = 0.9
size.yscale = 0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 79
value = S1,8

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 79
anim = 710
ID = 460
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -2
ownpal = 1
sprpriority = 3
supermovetime = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 78
value = S1,8

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal
name = "ground kuroari"
ID = 60001
stateno = 60001
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 150
size.xscale = 0.9
size.yscale = 0.9

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 79
anim = 710
ID = 460
pos = 40,3
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -2
ownpal = 1
sprpriority = 3
supermovetime = 30

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 215
time = 1
add = -50+(time-215)*2.5,-50+(time-215)*2.5,-50+(time-215)*2.5
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 215
movetime = 215
anim = -1
sound = -1
darken = 0
unhittable = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 105
value = 1005 + var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 105
value = S1,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 105
value = S4,18
volume = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 135
value = S1,8

[State 0, Helper]
type = Helper
trigger1 = time = 145
helpertype = player
name = "Scorpion"
ID = 80000
stateno = 79999
pos = 50,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 60

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 137
anim = 710
ID = 460
pos = 55,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -2
ownpal = 1
sprpriority = 3
supermovetime = 30

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 145
anim = 80552
ID = 80552
pos = 25,-26
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.6,0.6
removetime = -2
ownpal = 1
sprpriority = 3
supermovetime = 30

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 173
value = 1006 + var(0) * 10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 205
value = 2005+var(0)*10000-20000

[State 0, VelSet]
type = VelSet
trigger1 = Time = 210
x = -0.25
y = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 210
value = F3,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 210
statetype = A
movetype = I
physics = A

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 9
anim = 2001
ID = 2001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1,1
removetime = -1
ownpal = 1
sprpriority = 0
supermovetime = 9999

[State 500, Explod]
type = modifyExplod
trigger1 = time > 100
ID = 2001
trans = addalpha
alpha = 256-(time-100)*6.4,(time-100)*6.4

[State 500, Explod]
type = removeExplod
trigger1 = Time = 140
ID = 2001

[State 200, 2]
type = ChangeState
trigger1 = Time = 215
value = 51
ctrl = 1
;---------------------------------------------------------------------------
; Control Karasu (bomb attack)
[Statedef 1100]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 990+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 130
value = S4,10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = helper(40000), frontedgedist < -110
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (combo 1.1)
[Statedef 1200]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 201+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), stateno != 40200
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1
;---------------------------------------------------------------------------
; Control Karasu (combo 1.2)
[Statedef 1210]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 211+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), stateno != 40210
trigger1 = helper(40000), stateno != 40211
trigger1 = time > 10
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (combo 1.3) + Salamander
[Statedef 1215]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 231+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(50000), anim != 40240
trigger1 = time > 20
value = 2100

;---------------------------------------------------------------------------
; Control Karasu (combo 1.3)
[Statedef 1220]
type = S
physics = S
movetype= A
juggle  = 4
ctrl = 0
velset = 0,0
anim = 221+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
damage = 20, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 4
sparkno = 0+random%4
sparkxy = -15, -65
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30             ;Time opponent is in hit state
ground.velocity = -0.5,-13             ;Velocity at which opponent is pushed
airguard.velocity = -0.5,-1      ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -0.5,-13             ;X-velocity at which opponent is pushed,
                                 ;Y-velocity at which opponent is pushed
air.hittime = 15
fall = 1
fall.recover = 0
getpower = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (combo 1.4)
[Statedef 1230]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 231+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 11
time = 30
pos = 5,-30
anim = 3456
sound = F19,5
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,7
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Control Kuroari(combo 2.2)
[Statedef 1240]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 241+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "ground kuroari"
ID = 60240
stateno = 60240
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9



[State 0, ChangeState]
type = ChangeState
trigger1 = time = 35
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (combo 2.3)
[Statedef 1250]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 211+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,21
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), stateno != 40250
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu&Kuroari (toxic combo)
[Statedef 1300]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 305+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = 0;time = 0
time = 50
anim = 102
pos = 5,-35
sound = S4,4
darken = 0
unhittable = 0

[State 0, ChangeState]
type = ChangeState
triggerall = time > 10
trigger1 = helper(60000), stateno = 60000
trigger2 = helper(60000), stateno = 60020
trigger3 = helper(60000), stateno = 65000
value = cond(var(11) = 2100,2100,0)
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(60000), stateno = 60310
value = 1310
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu&Kuroari (toxic combo2)
[Statedef 1310]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 306+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 300
movetime = 300
anim = -1
sound = 0,-1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,16

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 0;1
flag = nobardisplay

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(60000), stateno = 60000
trigger2 = helper(60000), stateno = 60020
trigger2 = helper(60000), stateno = 65000
value = cond(var(11) = 2100,2100,0)
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), stateno = 40320
value = 1320
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu&Kuroari (toxic combo3)
[Statedef 1320]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 307+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,11

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), stateno = 40000
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (senbon)
[Statedef 1500]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 500+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = prevstateno != 1250
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = prevstateno = 1250
trigger1 = animtime = 0
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (senbon) Air
[Statedef 1505]
type = A
physics = A
movetype= I
juggle  = 4
ctrl = 0
anim = 505+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (kunai)
[Statedef 1510]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 500+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (kunai) Air
[Statedef 1515]
type = A
physics = A
movetype= I
juggle  = 4
ctrl = 0
anim = 505+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (smoke bomb)
[Statedef 1520]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 500+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (smoke bomb) Air
[Statedef 1525]
type = A
physics = A
movetype= I
juggle  = 4
ctrl = 0
anim = 505+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (toxic bomb)
[Statedef 1530]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 530+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (kunai explode)
[Statedef 1540]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 500+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (kunai explode) Air
[Statedef 1545]
type = A
physics = A
movetype= I
juggle  = 4
ctrl = 0
anim = 505+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (poison knife)
[Statedef 1550]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 500+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = 0;time = 0
trigger1 = numhelper(80000)=1
time = 40
anim = 101
sound = S4,19
pos = 0,-30
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = numhelper(80000)=0
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = numhelper(80000)=1
value = S4,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = numhelper(80000)=1
value = S4,19

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (poison knife) Air
[Statedef 1555]
type = A
physics = A
movetype= I
juggle  = 4
ctrl = 0
anim = 505+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
trigger1 = numhelper(80000)=1
time = 40
anim = 101
sound = S4,19
pos = 0,-30
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; Control Karasu&Scorpion (come back)
[Statedef 1600]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 600+var(0)*10000


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (come forward)
[Statedef 1650]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 650+var(0)*10000


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Kawarimi
[Statedef 1700]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 0+var(0)*10000

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = helper(40000), pos x

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = helper(40000), pos y

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 500, PosAdd]
type = Posset
trigger1 = Time = 5
x = var(3)
y = var(4)

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 6
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 6
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 6
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 310, 2]
type = Explod
trigger1 = time = 6 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 6 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 6
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 6
value = F9,2


[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 500]
type = ChangeState
trigger1 = Time = 10
value = cond(pos y < 0,50,0)
ctrl = 1

;---------------------------------------------------------------------------
; Kawarimi Air
[Statedef 1710]
type    = A
movetype= I
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 44+var(0)*10000

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = helper(40000), pos x

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = helper(40000), pos y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,9

[State 0, Trans]
type = Trans
trigger1 = time < 20
trans = addalpha
alpha = 0,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 17
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 500, PosAdd]
type = Posset
trigger1 = Time = 17
x = var(3)
y = var(4)

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = Time = 0 || Time = 17
anim = F690
scale = 1.5,1.5
ID = 460
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
ownpal = 1
sprpriority = 3

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy(cond((enemy(0),alive),0,1)), pos x > pos x
trigger2 = facing = 1 && enemy(cond((enemy(0),alive),0,1)), pos x < pos x

[State 500]
type = ChangeState
trigger1 = Time = 30
value = cond(pos y < 0,50,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (counter)
[Statedef 1720]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 720+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (hand killer)
[Statedef 1800]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 800+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
pos = 0,-30
sound = F19,6
anim = 654646
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F19,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S4,10

[State 0, ChangeState]
type = ChangeState
trigger2 = animtime = 0
trigger1 = numhelper(40810) = 0
trigger1 = numhelper(40811) = 0
trigger1 = numhelper(40812) = 0
trigger1 = numhelper(40813) = 0
trigger1 = numhelper(60810) = 0
trigger1 = numhelper(60811) = 0
trigger1 = numhelper(60812) = 0
trigger1 = numhelper(60813) = 0
trigger1 = numhelper(80810) = 0
trigger1 = numhelper(80811) = 0
trigger1 = time > 20
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (Puppet Rendan)
[Statedef 1900]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 900+var(0)*10000


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
trigger1 = 0;numhelper(80000)=1
time = 60
pos = 5,-40
sound = S3,19
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,7

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion (Tail Attack)
[Statedef 1930]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 930+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,7

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu (Tatsumaki)
[Statedef 1950]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 950+var(0)*10000

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,7

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Salamander Stand start
[Statedef 2099]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F4,0

[State 0, ChangeState]
type = selfState
trigger1 = time = 0
value = 2100

;---------------------------------------------------------------------------
; Salamander Stand
[Statedef 2100]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 3000+var(0)*10000
sprpriority = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 9
trigger1 = anim = 3000+var(0)*10000
trigger2 = time > 17
trigger2 = anim = 3001+var(0)*10000
triggerall = numexplod(2101) = 0
anim = 199
ID = 2101
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -2
sprpriority = -2
scale = 0.2,0.5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 9
trigger1 = anim = 3000+var(0)*10000
trigger2 = time > 17
trigger2 = anim = 3001+var(0)*10000
triggerall = numexplod(2102) = 0
anim = 199
ID = 2102
pos = -16,-39
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -2
sprpriority = -2
scale = 0.5,0.5
ownpal = 1
angle = 270

[State 0, Turn]
type = Turn
trigger1 = pos x > enemy(cond((enemy(0),alive),0,1)), pos x && facing = 1
trigger2 = pos x < enemy(cond((enemy(0),alive),0,1)), pos x && facing = -1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 2099
trigger1 = time = 0
value = 3001+var(0)*10000

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = helper(50000), pos x -7 * facing
y = helper(50000), pos y -20

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0 && command = "Up" && command != "hold_c"
trigger2 = numhelper(50000)=0
trigger3 = helper(50000), stateno = 50500
trigger4 = var(50) = 1 && random = [0,cond(var(10) = 1 || var(9) = 1,10-var(49)*var(49)/100,20+var(49)*var(49)/50)]
value = 40
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = win
trigger2 = lose
trigger3 = drawgame
trigger4 = matchover
value = 105

;---------------------------------------------------------------------------
; Control Salamander (fire)
[Statedef 2200]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 2200 + var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S3,19

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 15    ;fv = 10
value = 0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 50250
ID = 9998
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = -1
scale = 0.5,0.5
sprpriority = 5
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 50251
ID = 9999
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = fvar(15), 0.5
sprpriority = 4
removeongethit = 1
ownpal = 1

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 15
value = 0.0083

[State 7500, VarSet]
type = VarSet
trigger1 = time < 60
v = 15    ;fv = 10
value = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time >= 60 && time < 120
v = 15    ;fv = 10
value = 2

[State 7500, VarSet]
type = VarSet
trigger1 = time = 120
v = 15    ;fv = 10
value = 3

[State 200, 2]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c" 
trigger2 = var(50) = 1 && time >= 40 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power < var(15)*500+cond(var(15) = 3,500,0)
trigger4 = power < 1000 && time = [1,59]
trigger5 = power < 2000 && time = [61,119]
trigger6 = time = 120
value = 2201
ctrl = 0

;---------------------------------------------------------------------------
; Control Salamnder (fire)
[Statedef 2201]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 2201+var(0)*10000
poweradd = -var(15)*500-cond(var(15) = 3,500,0)

[State 0, in Salamander]
type = NotHitBy
trigger1 = var(11)=2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 255
channel = 4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9998

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(var(11)=2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Kuroari (Kurohigi Kiki Nihatsu)
[Statedef 2300]
type = S
physics = S
movetype= I
juggle  = 4
velset = 0,0
ctrl = 0
anim = 2300+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = numhelper(40000) = 1
value = S3,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = numhelper(40000) = 0
value = S4,6

[State 0, Kurohigi Kiki Nihatsu]
type = Helper
trigger1 = time < 100 && command != "hold_z" && numhelper(60001) = 0 && numhelper(40000) = 1
trigger1 = var(50) = 0
trigger2 = time < 100 && numhelper(60001) = 0 && numhelper(40000) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
trigger3 = time = 5 && numhelper(40000) = 0
trigger4 = Abs(p2dist x) > 700
trigger5 = numenemy != 1
trigger6 = numpartner != 0
trigger7 = power < 3500
triggerall = numhelper(60001) = 0
helpertype = normal
name = "ground kuroari"
ID = 60001
stateno = 62300
pos = -15,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, Kurohigi Kiki Ippatsu]
type = Helper
trigger1 = time = 100 && numhelper(40000) = 1
triggerall = numhelper(60001) = 0
triggerall = numenemy = 1
triggerall = numpartner = 0
helpertype = normal
name = "ground kuroari"
ID = 60001
stateno = 62400
pos = -15,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 99999
size.xscale = 0.9
size.yscale = 0.9

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, ChangeState]
type = Changeanim
trigger1 = helper(60001), stateno = 62310
trigger1 = helper(60001), time = 1
value = 2310+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2310+var(0)*10000
trigger1 = animelem = 1
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2310+var(0)*10000
trigger1 = animelem = 2
value = F8,3

[State 0, ChangeState]
type = Changeanim
trigger1 = helper(60001), anim = 62310
trigger1 = helper(60001), animelem = 21
value = 2320+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2320+var(0)*10000
trigger1 = animelem = 1
value = S4,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2320+var(0)*10000
trigger1 = animelem = 2
value = F8,3

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 2320+var(0)*10000
trigger1 = animtime = 0
trigger2 = helper(60001), anim = 60001 || helper(60001), anim = 60003
trigger2 = helper(60001), animelem = 10
value = cond(var(11) = 2100,2100,0)
ctrl = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 1 && time <= 100
triggerall = numhelper(40000) = 1
triggerall = numhelper(60001) = 0
anim = 50252
ID = 9998
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = 0.5,0.5
sprpriority = 5
removeongethit = 1
ontop = 0
supermovetime = 999999
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2 && time <= 100
triggerall = numhelper(40000) = 1
triggerall = numhelper(60001) = 0
anim = 50251
ID = 9999
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = fvar(15), 0.5
sprpriority = 4
removeongethit = 1
supermovetime = 999999
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 15    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 15
value = 0.01

[State 0, SuperPause]
type = SuperPause
trigger1 = helper(60001),time = 0
trigger1 = helper(60001),stateno = 62410
time = 1110
movetime = 1110
anim = -1
sound =  0,-1
unhittable = 0
darken = 0

[State 0, ChangeAnim]
type = Changestate
trigger1 = helper(60001),stateno = 62410
value = 2400
ctrl = 1

;---------------------------------------------------------------------------
; Control Karasu&Kuroari (Kurohigi Kiki Ippatsu)
[Statedef 2400]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S3,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,17

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 60
value = 32400

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 0 && time < 60
time = 9999
add = -time*1.33,-time*1.33,-time*1.33
color = 256-(time*4.26)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 73
anim = 199
;ID = 24001
pos = 13,-63
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 8
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 73
anim = 199
;ID = 24002
pos = -14,-25
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 8
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 88
anim = 199
;ID = 24001
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 10
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 88
anim = 199
;ID = 24002
pos = -16,-39
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = 10
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 700
value = 32410

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 715
anim = 199
ID = 24001
pos = 27,-40
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 990
ID = 24001
pos = 23,-26 
postype = p1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 715
anim = 199
ID = 24002
pos = -16,-39
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,1)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 990
ID = 24002
pos = 8,-26
angle = 30
postype = p1

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 715
anim = 32415
ID = 32415
pos = -13,-39
postype = p1  ;p2,front,back,left,right
facing = 1
removeongethit = 1
removetime = -1
ownpal = 1
sprpriority = cond(var(11)=2100,-3,1)
supermovetime = 99999

[State 500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 715
anim = 32415
ID = 32415
pos = 25,-41
postype = p1  ;p2,front,back,left,right
facing = 1
removeongethit = 1
removetime = -1
ownpal = 1
sprpriority = cond(var(11)=2100,-3,1)
supermovetime = 99999

[State 500, Explod]
type = modifyExplod
trigger1 = time <= 795
ID = 32415
trans = addalpha
alpha = (time-715)*3.2,256

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 990
value = 32420

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 990
id = 32415

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = cond(var(11)=2100,-4,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(40000), anim = 42405
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Daimos
[Statedef 3100]
type = S
ctrl = 0
anim = 180
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 100
value = S5,2
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 100
value = S5,2
channel = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 240
time = 9999
add = -time*0.5,-time*0.5,-time*0.5
mul = 256,256,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 711
ID = 711
pos = 0,10
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 1
ownpal = 1
supermovetime = 99999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 710
ID = 710
pos = 50,5
postype = p1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 2
ownpal = 1
supermovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S1,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 10
anim = 710
ID = 710
pos = -50,-1
postype = p1
facing = 1
vfacing = 1
removetime = 2
scale = 1,1
sprpriority = 2
ownpal = 1
supermovetime = 99999

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "kuroari"
ID = 63000
stateno = 3160
pos = -50,-3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
supermovetime = 99999
size.xscale = 0.9
size.yscale = 0.9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 11
ID = 53000
anim = 3150
pos = 0,5
postype = p1
facing = 1
vfacing = 1
removetime = -1
scale = 1.2,1.2
sprpriority = 0
ownpal = 1
supermovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 800
id = 53000

[State 0, VelSet]
type = VelSet
trigger1 = time = 150
y = -0.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 800
y = 0

[State 0, VelSet]
type = posadd
trigger1 = time = 800
y = -70

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal
name = "karasu"
ID = 43000
stateno = 3140
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1
supermovetime = 9999

[State 0, PalFX]
type = PalFX
trigger1 = time > 300 && time < 800
time = 1
add = (time-300)*0.4,(time-300)*0.4,(time-300)*0.4
mul = 256,256,256
invertall = 0
color = 256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 750
ID = 3105
anim = 3105
pos = 0,5
postype = front
facing = 1
vfacing = 1
removetime = -1
scale = 10,10
sprpriority = 40
ownpal = 1
supermovetime = 99999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [750,782]
ID = 3105
postype = p1  ;p2,front,back,left,right
facing = 1
trans = addalpha
alpha = (time-750)*8,256

[State 0, Gravity]
type = Gravity
trigger1 = time > 820

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 800
value = 3110

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [820,852]
ID = 3105
postype = p1  ;p2,front,back,left,right
facing = 1
trans = addalpha
alpha = 256-(time-820)*10,256

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > var(5)-10
trigger1 = anim = 3110
value = 3110
ctrl = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time%3 = 0
time = 1+time/100
anim = -1
sound = 0,-1
movetime = 1+time/100
darken = 0
unhittable = 0

;---------------------------------------------------------------------------
; Daimos
[Statedef 3110]
type = S
ctrl = 0
anim = 3110
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F60
ID = 310
pos = -13,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
supermovetime = 999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F60
ID = 310
pos = 20,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,2

[State 0, SuperPause]
type = SuperPause
trigger1 = helper(3122), movecontact = 0
trigger1 = numhelper(3122) = 1
trigger2 = helper(3121), time < 261
time = 2
anim = -1
sound = 0,-1
movetime = 2
darken = 0
unhittable = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 30
ampl = -4
phase = 45

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 40
value = 3120

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "beam"
ID = 3121
stateno = 3121
pos = 2,-66
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1
supermovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 450
time = 1
add = -120+(time-450)*2.4,-120+(time-450)*2.4,-120+(time-450)*2.4
mul = 256,256,256

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 495
anim = 711
ID = 711
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1.2
sprpriority = 3
ownpal = 1
supermovetime = 99999

[State 1520]
type = Explod
ownpal = 1
trigger1 = time = 495
anim = 711
ID = 711
pos = 20,8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
removetime = -2
scale = 1,1.2
sprpriority = 3
ownpal = 1
supermovetime = 99999

[State 0, PosSet]
type = Posadd
trigger1 = time = 500
y = -60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 495
value = S1,8

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 500
value = 40

;---------------------------------------------------------------------------
;Beam
[Statedef 3121]
type = S
sprpriority = 5
ctrl = 0
anim = 3121

[State 0, VarRandom]
type =  Varrandom
trigger1 = 1
v = 6
range = 0,100

[State 0, VarRandom]
type = Varrandom
trigger1 = 1
v = 7
range = 0,100

[State 1520]
type = Explod
ownpal = 1
trigger1 = time%5 = 0 && time <= 190
anim = F402
ID = 402
pos = var(6)-50,var(7)-50
postype = p1  ;p2,front,back,left,right
vel = -(var(6)-50)*0.025,-(var(7)-50)*0.025
facing = 1
vfacing = 1
removetime = 40
scale = 0.125,0.125
sprpriority = 3
ownpal = 1
supermovetime = 99999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
ID = 3122
anim = 3122
pos = -2,0
postype = p1
facing = 1
vfacing = 1
removetime = 450
scale = 0.098,0.098
sprpriority = 4
ownpal = 1
supermovetime = 99999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 50
ID = 3122
postype = p1  ;p2,front,back,left,right
facing = 1
trans = addalpha
alpha = time*1.28,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [50,250]
ID = 3122
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.098+(time-50)*0.0016,0.098+(time-50)*0.0016
trans = addalpha
alpha = time*1.28,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 250 && time < 400
ID = 3122
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.418,0.418
trans = addalpha
alpha = 256,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 400
ID = 3122
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.418,0.418
trans = addalpha
alpha = 256-(time-400)*5.12,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
ID = 3123
anim = 3123
pos = -2,0
postype = p1
facing = 1
vfacing = 1
removetime = 250
sprpriority = 3
ownpal = 1
supermovetime = 99999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 150
ID = 3123
postype = p1  ;p2,front,back,left,right
facing = 1
scale = time*0.0066,time*0.0066
trans = addalpha
alpha = time*1.71,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 230
ID = 3123
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 1-(time-230)*0.05,1-(time-230)*0.05
trans = addalpha
alpha = time*12.8,256

[State 0, Trans]
type = Trans
trigger1 = time < 64
trans = addalpha
alpha = time*4,256

[State 0, Trans]
type = Trans
trigger1 = time >= 64
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 120
value = time*2
scale = 0.27,0.27

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 120 && time <= 150
value = time*5
scale = 0.27+(time-120)*0.017,0.27+(time-120)*0.017

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 150
value = time*9
scale = 0.78,0.78

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S5,1
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S5,1
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 260
helpertype = normal
name = "beam"
ID = 3122
stateno = 3122
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = -1
ownpal = 1
supermovetime = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 440
value = 3126

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 3126
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Beam
[Statedef 3122]
type = S
sprpriority = 5
movetype = A
ctrl = 0
anim = 3124

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
channel = 4

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = time*25.6,256

[State 0, Trans]
type = Trans
trigger1 = time >= 10 && time < 100
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 5
scale = 0.3,0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 5 && time < 22
scale = 0.3+(time-5)*0.1,0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 22 && time < 52
scale = 2+(time-22)*0.1,0.3+(time-22)*0.01

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 52 && time <= 92
scale = 5+(time-52)*0.1,0.6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 92
scale = 9, 0.6-(time-100)*0.03

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
ID = 3124
anim = 3124
pos = 0,0
postype = p1
scale = 0.3,0.3
facing = 1
vfacing = 1
removetime = 115
bindtime = 1
sprpriority = 4
ownpal = 1
supermovetime = 99999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 12
ID = 3124
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 0.3+(time-5)*0.1,0.3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 12 && time < 22
ID = 3124
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 1,0.3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 22 && time < 52
ID = 3124
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 1, 0.3+(time-22)*0.01

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 52 && time < 100
ID = 3124
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 1, 0.6

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 100
ID = 3124
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 1+(time-100)*0.05, 0.6-(time-100)*0.03
trans = addalpha
alpha = 256-(time-100)*12.8,256

[State 0, Trans]
type = Trans
trigger1 = time >= 100
trans = addalpha
alpha = 256-(time-100)*12.8,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 120

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
ID = 3125
anim = 3125
pos = 70,0
postype = p1
vel = 21
facing = 1
vfacing = 1
scale = 0.8,0.8
removetime = 100
sprpriority = 6
ownpal = 1
supermovetime = 99999

;[State 0, ModifyExplod]
;type = ModifyExplod
;trigger1 = 1
;ID = 3125
;postype = p1  ;p2,front,back,left,right
;facing = 1
;scale = 1,1
;trans = addalpha
;alpha = time*12.8,256

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time < 105
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 80,80
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = 0,-1
guardsound = 0,-1
ground.type = High      ;Low,Trip,None
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
fall = 0
p2stateno= 5000
palfx.time = 99999
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
envshake.time = 50
envshake.freq = 80
envshake.ampl = 4
envshake.phase = 30

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 105
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
getpower = 0,0
givepower = 0,0
animtype = light          ;light,medium,hard,back,up,diagup
air.animtype = light
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 8000,8000
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = 0,-1
guardsound = 0,-1
ground.type = High      ;Low,Trip,None
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
palfx.time = 99999
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
envshake.time = 50
envshake.freq = 80
envshake.ampl = 4
envshake.phase = 30

;---------------------------------------------------------------------------
;Karasu
[Statedef 3140]
type = S
sprpriority = 0
velset = 3,0
ctrl = 0
anim = 40010

[State 0, SprPriority]
type = SprPriority
trigger1 = facing = 1
value = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = facing = -1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = parent, pos y

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, Turn]
type = Turn
trigger1 = rootdist x < -50

[State 0, 2]
type = Velset
trigger1 = vel x < 0
x = -vel x

[State 0, 2]
type = Veladd
trigger1 = facing = 1
trigger2 = facing = -1
x = 0.02

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, anim = 3110

;---------------------------------------------------------------------------
;Kuroari
[Statedef 3160]
type = S
sprpriority = 0
velset = 3,0
ctrl = 0
anim = 60010

[State 0, SprPriority]
type = SprPriority
trigger1 = facing = 1
value = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = facing = -1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = parent, pos y

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, Turn]
type = Turn
trigger1 = rootdist x < -50

[State 0, 2]
type = Velset
trigger1 = vel x < 0
x = -vel x

[State 0, 2]
type = Veladd
trigger1 = facing = 1
trigger2 = facing = -1
x = 0.02

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, anim = 3110

;---------------------------------------------------------------------------
; Control Scorpion (combo speed.1)
[Statedef 8200]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 201+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80200
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1


;---------------------------------------------------------------------------
; Control Scorpion (combo speed.2)
[Statedef 8210]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 211+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80210
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo speed.3)
[Statedef 8220]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 201+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80220
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo speed.4)
[Statedef 8230]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 231+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion (combo 1.1)
[Statedef 8240]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 211+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80240
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1
;---------------------------------------------------------------------------
; Control Scorpion (combo 1.2)
[Statedef 8250]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 241+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80250
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1
;---------------------------------------------------------------------------
; Control Scorpion (combo 1.3)
[Statedef 8260]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 251+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80260
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1
;---------------------------------------------------------------------------
; Control Scorpion (combo 1.4)
[Statedef 8270]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 261+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 26,0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,6

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80270
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion (combo 2.1)
[Statedef 8280]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 271+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80280
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1


;---------------------------------------------------------------------------
; Control Scorpion (combo 2.2)
[Statedef 8290]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80290
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1


;---------------------------------------------------------------------------
; Control Scorpion (combo 2.3)
[Statedef 8300]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80300
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo 2.4)
[Statedef 8310]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 281+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80310
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion (combo 3.1)
[Statedef 8320]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 291+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,14

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80320
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo 3.2)
[Statedef 8330]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 301+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,14

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80330
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1


;---------------------------------------------------------------------------
; Control Scorpion (combo 3.3)
[Statedef 8340]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 241+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,14

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80340
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo 3.4)
[Statedef 8350]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 201+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,18

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80350
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1



;---------------------------------------------------------------------------
; Control Scorpion (combo 3.5)
[Statedef 8360]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 231+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80360
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion water/fire combo 1
[Statedef 8400]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 241+var(0)*10000
poweradd = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = var(11) = 0
value = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80400
trigger1 = helper(80000), stateno != 80401
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1
;---------------------------------------------------------------------------
; Control Scorpion water/fire combo 2
[Statedef 8410]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 211+var(0)*10000
poweradd = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,0+random%14
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80410
trigger1 = helper(80000), stateno != 80411
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion water/fire combo 3
[Statedef 8420]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 201+var(0)*10000
poweradd = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,7
volume = 255
channel = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(80000), stateno != 80420
trigger1 = helper(80000), stateno != 80421
trigger1 = time > 5
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion Long Water Attack
[Statedef 8450]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 271+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = var(11) = 0
value = 3

;[State 200, 2]
;type = changeanim
;trigger1 = power < 50
;trigger2 = var(50) = 0 && command != "holdc"
;trigger3 = var(50) = 1 && random = [0,40-var(49)*var(49)/100]
;triggerall = time > 5
;trigger4 = time >= 150
;trigger5 = helper(80000), stateno != 80450
;trigger5 = helper(80000), stateno != 80452
;value = 272+var(0)*10000

[State 0, ChangeState]
type = ChangeState
trigger1 = power < 50
trigger2 = var(50) = 0 && command != "holdc"
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
triggerall = time > 5
trigger4 = time >= 150
trigger5 = helper(80000), stateno != 80450
trigger5 = helper(80000), stateno != 80452
;trigger1 = anim = 272+var(0)*10000
;trigger1 = animtime = 0
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion Fire Attack
[Statedef 8460]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 70500+var(0)*10
poweradd = 0;-1000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(11) = 2100
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 3

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = var(11) = 0
value = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S3,19

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 50250
ID = 9998
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = -1
scale = 0.5,0.5
sprpriority = 5
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 50251
ID = 9999
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 9999
removetime = 1
scale = fvar(15), 0.5
sprpriority = 4
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 15    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 15
value = 0.0067

[State 310, end]
type = ChangeState
trigger1 = command != "hold_c" && time >= 0 && time < 75 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 75 && power >= 1000 && random = [0,100-var(49)*(var(49))/100] 
trigger2 = var(50) = 1
value = 8465
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_c" && time >= 75 && time < 150 && power >= 2000
trigger1 = var(50) = 0
trigger2 = time >= 60 && time < 150 && power >= 2000 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 8465
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 75 && power < 2000
value = 8465
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 60 && time < 150 && power < 3900
value = 8465
ctrl = 1

[State 310, end]
type = ChangeState
triggerall = time >= 150 && power >= 2000
trigger1 = numenemy != 1
trigger2 = numpartner != 0
value = 8465
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 150 && power >= 3900
triggerall = numenemy = 1
triggerall = numpartner = 0
value = 8461
ctrl = 1
;---------------------------------------------------------------------------
; Control Scorpion Fire Attack Ultimate
[Statedef 8461]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 291+var(0)*10

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound =  0,-1
move = -1
darken = 0
unhittable = 0

[State 7500, Explod]
type = removeExplod
trigger1 = time = 0
ID = 9998

[State 7500, Explod]
type = removeExplod
trigger1 = time = 0
ID = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4001
ID = 4001
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 199
ID = 8461
pos = 27,-36
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,6)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 199
ID = 8461
pos = 17,-30
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,6)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 8465
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion Fire Attack
[Statedef 8465]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
velset = 0,0
anim = 201+var(0)*10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 8461


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,21

[State 7500, Explod]
type = removeExplod
trigger1 = time = 0
ID = 9998

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = prevstateno = 8461
anim = 199
ID = 8465
pos = 34,-38
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,6)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger1 = prevstateno = 8461
anim = 199
ID = 8465
pos = -11,-35
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
removetime = -1
sprpriority = cond(var(11)=2100,-3,6)
scale = 0.7,0.5
ownpal = 1
supermovetime = 9999


[State 0, ChangeState]
type = ChangeState
trigger1 = time > 18
trigger1 = helper(80000), stateno!=80460
trigger1 = helper(80000), stateno!=80461
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion&Kuroari combo
[Statedef 8850]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 850+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno = 2100
v = 11   ;fv = 10
value = 2100

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 2100
v = 11   ;fv = 10
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = helper(60000), stateno =60860
value = 8860

[State 0, ChangeState]
type = ChangeState
trigger1 = time>5
trigger1 = helper(60000), stateno!=60850
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion&Kuroari combo 2
[Statedef 8860]
type = S
physics = S
movetype= I
juggle  = 4
poweradd = -1000
ctrl = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 150
movetime = 150
anim = -1
sound = S3,18
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S4,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S4,20

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(80945)=0
trigger1 = anim != 860+var(0)*10000
value = 860+var(0)*10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = helper(60000),stateno=60870
trigger1 = helper(60000),time=81
value = 870+var(0)*10000

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 18
trigger1 = helper(80000), stateno!=80845
trigger1 = helper(80000), stateno!=80850
trigger1 = helper(80000), stateno!=80860
trigger1 = helper(80000), stateno!=80870
value = cond(var(11) = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Control Scorpion (Enemy Throw)
[Statedef 11000]
type = S
physics = S
movetype= I
juggle  = 4
ctrl = 0
anim = 1010+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = cond(prevstateno = 2100,2100,0)
ctrl = 1

;---------------------------------------------------------------------------
; Opponent State (Kuroari : Gas Attack)
[Statedef 106001]
movetype= H
juggle  = 0
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 30
value = 130

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper
value = 199989

[State 0, end]
type = SelfState
trigger1 = !ishelper
value = cond(pos y = 0,5000,5050)

;---------------------------------------------------------------------------
;Opponent State (Knife hit)
[StateDef 106002]
movetype= H
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 1
velset = 0,0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 =  pos y >= 0
y = 0

[State 0, PosSet]
type = velSet
trigger1 =  pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000 + var(0)*10000

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 30
value = 100

[State 1210, end]
type = SelfState
trigger1 = ishelper && time = 10
value = 0
ctrl = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = !time && !ishelper
time = 200
mul = 120,20,160
add = 100,0,50
sinadd = 85,0,50,15
invertall = 0
color = 0

[State 1210, end]
type = SelfState
trigger1 = time = 150
value = 5000
ctrl = 1

;---------------------------------------------------------------------------
;Opponent State (hand killer)
[StateDef 106003]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 30
value = 100

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 =  pos y > 0
y = 0 

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000 + var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = F21,3

[State 1210, end]
type = SelfState
trigger1 = time >= 60
trigger2 = life = 0
value = 5050
ctrl = 1

;---------------------------------------------------------------------------
;Opponent State (Puppet Rendan)
[StateDef 106004]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 5000+var(0)*10000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 70
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time =1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = cond((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype) +var(0)*10000

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+var(0)*10000

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) +var(0)*10000 ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = (5000+var(0)*10000)
trigger2 = anim = (5010+var(0)*10000)
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = (5001+var(0)*10000)
trigger2 = anim = (5011+var(0)*10000)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = (5012+var(0)*10000)
trigger2 = anim = (5002+var(0)*10000)
trigger3 = anim = (5030+var(0)*10000)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 0, SelfState]
type = SelfState
trigger1 = enemynear(0), stateno !=40910
trigger1 = enemynear(0), stateno !=40900
value = 5050

;---------------------------------------------------------------------------
;Opponent state (Toxic combo)
[StateDef 106005]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 30
value = 100

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 30

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,256

;---------------------------------------------------------------------------
;Opponent state (Kuro Higi Impatsu)
[StateDef 106006]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
velset = 0,0
sprpriority = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = 0;time = 0
trigger1 = 0;life = 0
y = 2500

[State 0, ChangeState]
type = selfState
trigger1 = 0;time > 0
trigger1 = life = 0
value = 5150
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno != 106006
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,256

;---------------------------------------------------------------------------
;Opponent state (Kuro Higi Nihatsu)
[StateDef 106007]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
velset = 0,0
sprpriority = 3

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -1
kill = 1

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 5050

;---------------------------------------------------------------------------
;Opponent state (Scorpion bind)
[StateDef 106008]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 =  pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000 + var(0)*10000

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time = 40
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 30
value = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;Opponent state (Wall bounce)
[Statedef 106009]
type = A
movetype= H
physics = N
velset = 0,-6
anim = 5060

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = F72
pos = 15,-25
postype = p1
facing = 1
sprpriority = 1
ownpal = 1

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 0
movecamera = 0,0

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Opponent state (S&K combo)
[StateDef 106010]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

;---------------------------------------------------------------------------
;Opponent state (S&K combo) 1
[StateDef 106011]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, PalFXWiz]
type = PalFX
trigger1 = time<=20
time = 120
add = time*12,time*2.5,0
mul = 256-time*0.3,256-time*1.6,256-time*6.8
sinadd = time*5.5,time*2.75,time*4.25,time*0.5
invertall = 0
color = 256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

;---------------------------------------------------------------------------
;Opponent state (S&K combo) 2
[StateDef 106012]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

[State 0, SelfState]
type = SelfState
trigger1 = time = 1
value = 5050

;---------------------------------------------------------------------------
;Opponent state (tail bind)
[StateDef 106013]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 3

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 5050
;---------------
[Statedef 105580]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 9
y = -6

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 105581


;---------------------------------------------------------------------------
[Statedef 105581]
type = A
movetype= H
physics = N
anim = 5000

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 9
y = -6

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
triggerall = !ishelper(40000)
triggerall = !ishelper(50000)
triggerall = !ishelper(60000)
triggerall = !ishelper(80000)
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(40000)
triggerall = !ishelper(50000)
triggerall = !ishelper(60000)
triggerall = !ishelper(80000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
value = 104000

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = ishelper(40000)
value = 40000

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = ishelper(50000)
value = 50000

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = ishelper(60000)
value = 60000

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = ishelper(80000)
value = 80000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050



;---------------------- Integer variable list ----------------------

; var(0):= 1010, 1020, 1030, 1060, 40000, 40100, 40105, 79999, 80000, 80100, 80105
; var(1):= 40650, 41000, 80650, 81100
; var(2):= 60310, 60860
; var(3):= 1700, 1710, 40210, 40710
; var(4):= 1700, 1710, 40710
; var(5):= -2
; var(6):= 3121, 40950, 60180, 80360, 80555
; var(7):= 3121
; var(8):= -2
; var(9):= 79999
;var(10):= -2, 130, 40000, 50000, 50500, 77000, 78000, 77003
;var(11):= 1200, 1300, 2200, 2300, 8200, 8240, 8280, 8320, 8400, 8450, 8460, 8850, -2, 70510, 70850
;var(12):= 80930, 80942
;var(13):= 40815, 80501, 80502, 80815
;var(14):= 40815, 80815, 77000, 78000, 77001, 78001, 77003
;var(15):= 2200, 60
;var(16):= 80950
;var(18):= 70500, 70510
;var(20):= 500, 502, 505, 70650, 70653, 70655, 5900, 104097, 104098
;var(21):= 510, 512, 515, 70652, 70654, 70657, 5900
;var(22):= 520, 522, 525, 70651, 70658, 70656, 5900
;var(23):= 5900
;var(30):= 106001, 106002, 106003, 106005, 106008, -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 5900
;fvar(10):= 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 60, 40220, 40800, 40810, 40811, 40812, 40813, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80810, 80811, 80816, 80930, 80941, 80945, 80947, 80950
;fvar(14):= 60, 40220, 40800, 40810, 40811, 40812, 40813, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80810, 80811, 80816, 80930, 80941, 80945, 80947, 80950
;fvar(15):= 1000, 1040, 2200, 2300, 8460, 60, 40220, 40800, 40816, 40900, 42410, 42411, 42420, 42421, 42430, 42431, 42440, 42441, 42455, 42456, 42457, 60800, 80800, 80816, 80900, 80910, 80940, 80941, 80945, 80947, 80950
;fvar(16):= 80945



;---------------------------------------------------------------------------
[statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S4,1+random%10 || 30+random%8
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 998
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S4,30+random%8
volume = 256
channel = 2

[State -3, Salamandra]
type = PowerAdd
trigger1 = timemod = 5,0
triggerall = numhelper(50000) = 1
triggerall = helper(50000), stateno = [50000,51000]
triggerall = stateno = [2100,2200]
triggerall = stateno != [5000,5299]
triggerall = stateno != 70850
triggerall = stateno != 2300
triggerall = stateno != 2400
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -5

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
triggerall = !ishelper(40000)
triggerall = !ishelper(50000)
triggerall = !ishelper(60000)
triggerall = !ishelper(80000)
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------


;---------------
;Usuwanie Nici
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 190
trigger1 = !ishelper
ID = 191

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 190
trigger1 = !ishelper
ID = 192

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 195
trigger1 = !ishelper
ID = 1951

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 195
trigger1 = !ishelper
ID = 1952

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 223
trigger1 = !ishelper
ID = 2231

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 223
trigger1 = !ishelper
ID = 2232

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 240
trigger1 = !ishelper
ID = 240

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 242
trigger1 = !ishelper
ID = 242

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2431
trigger1 = !ishelper
ID = 2431

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2432
trigger1 = !ishelper
ID = 2432

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 250
trigger1 = !ishelper
ID = 250

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 260
trigger1 = !ishelper
ID = 260

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 270
trigger1 = !ishelper
ID = 270

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2100
trigger1 = !ishelper
ID = 2101

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2100
trigger1 = !ishelper
ID = 2102

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 70850
trigger1 = !ishelper
ID = 2111

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 70850
trigger1 = !ishelper
ID = 2112

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2400
trigger1 = !ishelper
ID = 24001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 2400
trigger1 = !ishelper
ID = 24002

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8461
trigger1 = !ishelper
ID = 8461

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8465
trigger1 = !ishelper
ID = 8465


[State 0, zniszczenie Kuroari]
type = VarSet
trigger1 = playerID(56), numhelper(12321) != 0 && partner, ID !=56
trigger2 = playerID(57), numhelper(12321) != 0 && partner, ID !=57
trigger3 = playerID(58), numhelper(12321) != 0 && partner, ID !=58
trigger4 = playerID(59), numhelper(12321) != 0 && partner, ID !=59
triggerall = !ishelper
var(8) = 1

;[State 0, Weapon]
;type = Helper
;trigger1 = gametime%300 = 0 && gametime > 10
;helpertype = normal
;name = "Weapon"
;ID = 70100
;stateno = 70100
;pos = 0,0
;postype = p1
;facing = 1
;ownpal = 1
;supermovetime = 999999

[State -1,Air Punch]
type = ChangeState
value = 3100
trigger1 = command = "hold_x"
trigger1 = command = "hold_z"
trigger1 = command = "holdfwd"
trigger1 = command = "holdback"
triggerall = statetype = S
triggerall = ctrl
triggerall = 0;var(0) = 0

;>>>>>>>>>>>>Karasu<<<<<<<<<<<<<<<<<

[State 0, kurohigi Nihatsu]
type = SuperPause
trigger1 = helper(60001),time = 0
trigger1 = helper(60001),stateno = 62410
trigger1 = ishelper(40000)
time = 1110
movetime = 1110
anim = -1
sound =  0,-1
unhittable = 0
darken = 0

[State 0, stop terkot]
type = StopSnd
triggerall = ishelper(40000)
trigger1 = stateno != 40020 && stateno != 130 && stateno != 40900 && stateno != 41000 && stateno != 40300
trigger2 = stateno = 130 && vel x = 0 && vel y = 0
channel = 2

[State -1,Karasu come back]
type = selfState
trigger1 = parent, stateno = 1600
triggerall = stateno != [40120,41999]
triggerall = stateno != [130,151]
triggerall = stateno != [5000,5900]
triggerall = power != 0
triggerall = ishelper(40000)
value = 40600

[State -1,Karasu block]
type = ChangeState
trigger1 =  parent, command = "c"
triggerall = prevstateno = 130 || prevstateno = 150 || prevstateno = 151
triggerall = stateno = [0,120]
triggerall = ishelper(40000)
value = 130

[State -1,Karasu block2]
type = ChangeState
trigger1 =  parent, command = "c"
triggerall = stateno != [120,155]
trigger1 = parent, stateno = [120,155]
triggerall = stateno = 40000 || stateno = 40020
triggerall = ishelper(40000)
value = 130

[State -1,Karasu Kurohigi Kiki Ippatsu]
type = ChangeState
trigger1 =  parent, anim = 32400
triggerall = stateno != 42400
triggerall = ishelper(40000)
triggerall = stateno != 42450
triggerall = prevstateno != 42450
value = 42400

[State 0, anty toxic]
type = NotHitBy
trigger1 = ishelper(40000)
trigger2 = ishelper(80000)
triggerall = stateno != 40700
value = C,HP

[State 0, dead]
type = Explod
ownpal = 1
trigger1 = numexplod(40105) = 0
trigger1 = helper(40000),anim = 40106
trigger1 = !ishelper
;trigger1 = numhelper(40000) = 1
anim = 40106
ID = 40105
pos = ((helper(40000),pos x)-pos x)*facing,((helper(40000),pos y)-pos y)
postype = p1
facing = facing*helper(40000),facing
vfacing = 1
removetime = -1
ownpal = 1

[State 0, screen block]
type = ScreenBound
trigger1 = ishelper(40000)
value = 1
movecamera = 1,0

[State 0, Karasu life]
type = Varadd
trigger1 = ishelper(40000) && var(10) < 1000
v = 10
value = gethitvar(damage)*0.5

[State -1,Karasu destroy]
type = SelfState
trigger1 =  var(10) >= 1000
triggerall = ishelper(40000)
triggerall = stateno != 40100
triggerall = stateno != 40105
triggerall = stateno != 40106
trigger2 = root, life = 0
value = 40100

;>>>>>>>>>>>>Salamander<<<<<<<<<<<<<<<<<

[State 0, VarSet]
type = VarSet
triggerall = prevstateno = 1210
trigger1 = var(11) != 0
v = 11
value = 0

[State 0, in Salamander]
type = NotHitBy
triggerall = !ishelper
trigger1 = stateno = 2100
trigger2 = prevstateno = 2100
trigger2 = statetype = S
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Salamander destroy - zeskok]
type = ChangeState
triggerall = !ishelper
trigger1 = var(11) = 2100
triggerall = numhelper(50000)= 0
triggerall = helper(50000), stateno = 50500
value = 40
ctrl = 1

;>>>>>>>>>>>>Scorpion<<<<<<<<<<<<<<<<<

[State 0, stop terkot]
type = StopSnd
triggerall = ishelper(80000)
trigger1 = stateno != 80020 && stateno != 80130 && stateno != 80900 && stateno != 81000 && stateno != 80300 && stateno != 81100
trigger2 = stateno = 80130 && vel x = 0 && vel y = 0
channel = 8

[State -1,Scorpion come back]
type = selfState
trigger1 = parent, stateno = 1600
triggerall = stateno != [80120,81999]
triggerall = stateno != [5000,5900]
triggerall = power != 0
triggerall = ishelper(80000)
value = cond(numhelper(80940)=0,80600,80130)

[State -1,Scorpion block]
type = ChangeState
trigger1 =  parent, command = "hold_c"
triggerall = stateno != 80130
trigger1 = parent, stateno = [120,155]
triggerall = stateno = 80000 || stateno = 80020
triggerall = ishelper(80000)
value = 80130

[State 0, screen block]
type = ScreenBound
trigger1 = ishelper(80000)
value = 1
movecamera = 1,0

[State 0, kisame]
type = VarSet
trigger1 = enemynear, numhelper(855) = 1 && enemynear, numhelper(8551) = 1
trigger1 = var(5) = 0
v = 5
value = -80

[State 0, Scorpion life]
type = Varadd
trigger1 = ishelper(80000) && var(10) < 1000
v = 10
value = gethitvar(damage)*0.4

[State 0, VarSet]
type = VarSet
trigger1 = ishelper = 1
trigger1 = var(10) < 0
v = 10
value = 0

[State -1,Scorpion destroy]
type = SelfState
trigger1 =  var(10) >= 1000
triggerall = ishelper(80000)
triggerall = stateno != 80100
triggerall = stateno != 80105
triggerall = stateno != 80106
trigger2 = root, life = 0
value = 80100

[State 0, dead]
type = Explod
ownpal = 1
trigger1 = numexplod(80105) = 0
trigger1 = helper(80000),anim = 80106
trigger1 = !ishelper
;trigger1 = numhelper(40000) = 1
anim = 80106
ID = 80105
pos = ((helper(80000),pos x)-pos x)*facing,((helper(80000),pos y)-pos y)
postype = p1
facing = facing*helper(80000),facing
vfacing = 1
removetime = -1
ownpal = 1

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
trigger3 = stateno = 2100 && command = "hold_c"
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
trigger3 = var(50) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,5,2),cond(pos y = 0,-28,-28)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
trigger3 = stateno = 2100 && command = "hold_c"
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
trigger3 = var(50) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,5,2),cond(pos y = 0,-48,-48)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
trigger3 = stateno = 2100 && command = "hold_c"
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
trigger3 = var(50) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,15,12),cond(pos y = 0,-38,-38)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
trigger3 = stateno = 2100 && command = "hold_c"
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
trigger3 = var(50) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-5,-8),cond(pos y = 0,-38,-38)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
trigger1 = !ishelper
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 4
