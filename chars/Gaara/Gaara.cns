
[Data]
life = 3000			
power = 4000	
attack = 100	
defence = 100	
fall.defence_up = 50
liedown.time = 60		
airjuggle = 15	
sparkno = 1	
guard.sparkno = 40
KO.echo = 0		
volume = 0		
IntPersistIndex = 0
FloatPersistIndex = 0 

[Size]
xscale = 1		
yscale = 1		
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -53
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.4		
walk.back = -1.4		
run.fwd  = 6.9, 0	
run.back = -5.9,-3	
jump.neu = 0,-8.3	
jump.back = -3.0	
jump.fwd = 3.0		
runjump.back = -2.55,-8.2
runjump.fwd = 4.0,-8.2
airjump.neu = 0,-8.2
airjump.back = -2.55	
airjump.fwd = 2.5

[Movement]
airjump.num = 1	
airjump.height = 35	
yaccel = .44		
stand.friction = .85	
crouch.friction = .82

;-----------------------------
;Przemieszczenie sie
[StateDef 101]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 101
poweradd = -80
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S6,5
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S2,10
volume = 256
channel = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 27
x = 10

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time < 27
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 27
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.2,-2.5
accel = -0.12,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = time > 27 && p2bodydist x < -40
trigger2 = time = 60
value = 102
ctrl = 1


;---------------------------------------------------------------------------
;Szybkie latanie
[StateDef 107]
type = A
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 107
poweradd = -80
sprpriority = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 5
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,4

[State 1533]
type = VelSet
trigger1 = time > 6
x = 10

[State 0, Explod]
type = Explod
triggerall = time > 4 && time < 21
trigger1 = timemod = 3,1
anim = 80000
Id = 80000
pos = -25+random%10,-4+random%10
postype = p1 
facing = 1 
scale = 0.5,0.5
bindtime = 1
removetime = -2
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 404
Id = 404
pos = 0,0
postype = p1 
facing = 1 
scale = 1,1
bindtime = -1
removetime = -2
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1

[State 630, end]
type = changestate
trigger1 = time = 25
value = 50
ctrl = 1

[StateDef 108]
type = A
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 108
poweradd = -80
sprpriority = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 5
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,4

[State 1533]
type = VelSet
trigger1 = time > 6
x = -10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 404
Id = 404
pos = 0,0
postype = p1 
facing = -1 
scale = 1,1
bindtime = -1
removetime = -2
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = time > 4 && time < 21
trigger1 = timemod = 3,1
anim = 80000
Id = 80000
pos = -25+random%10,-4+random%10
postype = p1 
facing = 1 
scale = 0.5,0.5
bindtime = 1
removetime = -2
sprpriority = -1
ontop = 0
ownpal = 1

[State 630, end]
type = changestate
trigger1 = time = 25
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;PIASEK
[Statedef 110]
type = A
movetype = I
physics = S
juggle = 0
poweradd = 0
anim = 110
ctrl = 0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -10

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 380192

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = parent, stateno != 350
value = S6,3
channel = -6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = parent, stateno != 195
triggerall = parent, stateno != 350
trigger1 = parent, var(1) = 1
trigger2 = timemod = 15,0
trigger2 = parent, stateno = 5100
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = parent, stateno != 195
triggerall = parent, stateno != 350
trigger1 = parent, var(1) = 1
trigger2 = timemod = 15,0
trigger2 = parent, stateno = 5100
value = S6,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, pos y < 0 && numhelper(905) = 0
trigger2 = parent, statetype = L
trigger3 = parent, stateno = 350
triggerall = parent, stateno != [180,181]
triggerall = parent, stateno != [900,999]
triggerall = parent, stateno != [910,999]
triggerall = parent, stateno != [4000,4010]
triggerall = parent, stateno != 70851
trigger4 = parent, stateno = [101,103]
trigger5 = parent, pos y < 0 && helper(905), stateno = 906
id = 192

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, pos y < 0 && numhelper(905) = 0
trigger2 = parent, statetype = L
trigger3 = parent, stateno = 350
trigger4 = parent, stateno = [101,103]
trigger5 = parent, pos y < 0 && helper(905), stateno = 906
triggerall = parent, stateno != [180,181]
triggerall = parent, stateno != [900,999]
triggerall = parent, stateno != [910,999]
triggerall = parent, stateno != [4000,4010]
triggerall = parent, stateno != 70851
id = 194

[State 0, Explod]
type = Explod
triggerall = numexplod(192) = 0
trigger1 = parent, var(1) = 0 && parent, pos y = 0
trigger2 = stateno = [180,181]
trigger3 = parent, var(1) = 1 && parent, pos y = 0
trigger4 = parent, stateno = [910,999]
trigger5 = parent, stateno = [4000,4010]
trigger6 = parent, stateno = 70851
trigger7 = parent, stateno = [70500,70501]
triggerall = parent, statetype != L
triggerall = parent, stateno != 350
triggerall = parent, stateno != [101,103]
triggerall = helper(905), stateno != 906
anim = 192
id = 192
pos = 0,4
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
triggerall = timemod = 30,0
triggerall = parent, stateno != 195
triggerall = parent, statetype != L
triggerall = parent, stateno != 350
triggerall = parent, var(1) = 1
trigger1 = parent, stateno = [900,999]
trigger2 = parent, stateno = [910,999]
trigger3 = parent, stateno = [4000,4010]
trigger4 = parent, stateno = 70851
trigger5 = pos y = 0 || statetype = C || statetype = S
triggerall = parent, stateno != [101,103]
triggerall = parent, pos y = 0 || numhelper(905) != 0
triggerall = helper(905), stateno != 906
anim = 194
id = 194
pos = -8,3
scale = 0.4,0.4
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
triggerall = timemod = 30,0
triggerall = parent, stateno != 195
triggerall = parent, statetype != L
triggerall = parent, stateno != 350
triggerall = parent, var(1) = 1 
trigger1 = parent, stateno = [900,999]
trigger2 = parent, stateno = [910,999]
trigger3 = parent, stateno = [4000,4010]
trigger4 = parent, stateno = 70851
trigger5 = pos y = 0 || statetype = C || statetype = S
triggerall = parent, stateno != [101,103]
triggerall = parent, pos y = 0 || numhelper(905) != 0
triggerall = helper(905), stateno != 906
anim = 194
id = 194
pos = 8,3
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
triggerall = timemod = 15,0
trigger1 = parent, stateno = 5100
anim = 194
id = 5100194
pos = -8,3
scale = 0.4,0.4
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
triggerall = timemod = 15,0
trigger1 = parent, stateno = 5100
anim = 194
id = 5100194
pos = 8,3
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 30,0
trigger1 = parent, stateno = 195
anim = 194
pos = -5,0
scale = 0.6,0.6
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 30,0
trigger1 = parent, stateno = 195
anim = 194
pos = 5,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 30,0
trigger1 = parent, stateno = 195
anim = 194
pos = -10,3
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = timemod = 30,0
trigger1 = parent, stateno = 195
anim = 194
pos = 10,3
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = 0;parent, stateno = 40 && parent, time = 1 && parent, vel x = 0
anim = 80020
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = 0;parent, stateno = 40 && parent, time = 1 && parent, vel x > 0
anim = 80021
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 =0;parent, stateno = 40 && parent, time = 1 && parent, vel x < 0
anim = 80021
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 350
trigger1 = numhelper(905) = 0
value = 360

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 350
trigger1 = numhelper(905) != 0
value = 361

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x = [0,100+root,var(49)*root,var(49)/10]
trigger1 = p2movetype = A
trigger1 = random = [0,500+root,var(49)*root,var(49)/10]
;trigger1 = root, var(1) = 1
trigger2 = root, stateno = [120,159]
;trigger3 = root, command = "y" && root, command = "holdback"
;trigger3 = root, var(50) = 0 && root, var(1) = 1
triggerall = root, pos y = 0
triggerall = root, stateno != [101,103]
triggerall = (root,numhelper(980) = 0)
triggerall = (root,numhelper(905) = 0 && root,statetype != A) || (root,numhelper(905) != 0 && helper(905), stateno = 906)
triggerall = power >= 50
value = 388

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x = [-100-root,var(49)*root,var(49)/20,100+root,var(49)*root,var(49)/20]
trigger1 = p2movetype = A
trigger1 = random = [0,300+root,var(49)*root,var(49)/10]
;trigger1 = root, var(1) = 1
trigger2 = root, stateno = [120,159]
;trigger3 = root, command = "y" && root, command = "holdback"
;trigger3 = root, var(50) = 0 && root, var(1) = 1
triggerall = root, stateno != [101,103]
triggerall = (root,numhelper(905) != 0)
triggerall = (root,numhelper(980) = 0)
triggerall = power >= 50
value = 389

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 310
trigger1 = root, var(50) = 0 
trigger2 = root, stateno = 310
trigger2 = root, var(50) = 1 
trigger2 = p2bodydist x = [0,100+root,var(49)*root,var(49)/10]
trigger2 = p2movetype = A
trigger2 = random = [0,500+root,var(49)*root,var(49)/10]
triggerall = root, pos y = 0
triggerall = root, stateno != [101,103]
triggerall = (root,numhelper(980) = 0)
triggerall = (root,numhelper(905) = 0 && root,statetype != A) || (root,numhelper(905) != 0 && helper(905), stateno = 906)
triggerall = power >= 50
value = 388


[State 310, end]
type = Changestate
trigger1 = parent, life = 0
trigger2 = parent, stateno = 170 && parent, time > 20
value = 199
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0


[State 0, PalFXWiz]
type = PalFX
trigger1 = time > 5
time = 6
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,2
volume = 255
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,5
volume = 255
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S2,14
volume = 256
channel = 2

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90000

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90001

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 15 && timemod = 5,0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 35
value = S6,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,16
volume = 256
channel = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 182
pos = 0,-43
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;-----------------
;Matka
[StateDef 182]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 181
poweradd = 0
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
y = -0.2

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 20,0
y = - vel y

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 182
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
scale = 0.4,0.4
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 30 && timemod = 10,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 30 && timemod = 10,0
value = S6,3

[State 0, End]
type = Destroyself
trigger1 = Time = 1000

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time < 125
time = 6
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S6,5
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S6,0
volume = 255
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 110
value = S2,1
volume = 255
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
trigger1 = time = [0,70]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10-random%30,-10-random%40
postype = p1
vel = 1,-2
accel = 0.2,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
trigger1 = time = [0,70]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+random%30,-10-random%40
postype = p1
vel = -1,-2
accel = -0.2,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6

;PIASEK HELPER
[State -1, PIASEK HELPER]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "PIASEK"
ID = 110
stateno = 110
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,28+random%4
volume = 256
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = time = 100
value = 196
ctrl = 1
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 196]
type = S
ctrl = 1
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;PUSTY STAN DO UTRZYMANIA PALETY EXPLODOW
[Statedef 199]
type = C
ctrl = 1
anim = 199
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = 511
anim = 512
id = 512
pos = 5,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 582

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 512

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 581

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 50
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 195, 2]
type = Destroyself
trigger1 = time = 30
;-----------------
; Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
; Combo 1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
; Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2021
pos = -12,-14
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 2021]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2021
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 202
time = 1
facing = 1
pos = -12,-4

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 203
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,8
volume = 255
channel = 4


[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2031
pos = 26,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 2031]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2031
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 203
time = 1
facing = 1
pos = 26,-37

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-15+random%30
postype = p1
vel = 3,0
accel = -0.05,0.008
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
p2stateno = 109990
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 1
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-4
airguard.velocity = -9,-4
air.type = High
air.velocity = -9,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
;fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -29
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
; Combo 2
[StateDef 211]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2111
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2111
pos = 80,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 2
[StateDef 2111]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2111
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 3-random%15,-10-random%30-time
postype = p1
vel = -0.2,-3
accel = -0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -3+random%15,-10-random%30-time
postype = p1
vel = 0.2,-3
accel = 0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 2
[StateDef 212]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2121
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 2
[StateDef 2121]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2121
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+time*2,-10-random%20
postype = p1
vel = 0.4,-2.5
accel = 0.1,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 2
[StateDef 213]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2131
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, Kolo]
type = Explod
trigger1 = animelem = 5
anim = F1070
id = 1070
ownpal = 1
pos = 26,-45
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 2
[StateDef 2131]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2131
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 20
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60-random%40
postype = p1
vel = 2,-2
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 20
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60+random%40
postype = p1
vel = 2,2
accel = -0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 20
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60+random%40
postype = p1
vel = -2,2
accel = 0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 20
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60-random%40
postype = p1
vel = -2,-2
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
p2stateno = 105011
attr = C, HP
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
time = 2
pos = 0,-20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 6
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
trigger1 = time = 30
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -2,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 30
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
id = 11
pos = -2,-32
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 10
ampl = -10
freq = 80
phase = 230

[State 0, Explod]
type = Explod
trigger1 = time = 30
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -10,-20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.2,1.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 2201
pos = 1,-8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 2201]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2201
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 220
time = 1
facing = 1
pos = 1,-8

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time < 10
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -20+time*4,-45-time*2
postype = p1
vel = 1,-1.5
accel = -0.02,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 20+time,-65+time*2
postype = p1
vel = 0.2,.6
accel = -0.02,0.015
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2211
pos = -20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5


[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 2211]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2211
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time < 20
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+time*3,-5-time*2
postype = p1
vel = 1,-1.5
accel = -0.02,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,25]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 30+time,-45+time*2
postype = p1
vel = 0.2,.6
accel = -0.02,0.015
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,01
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2221
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 2221]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2221
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 5-random%40,-10-random%20-time
postype = p1
vel = -0.2,-3
accel = -0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -5+random%40,10-random%20-time
postype = p1
vel = 0.2,-3
accel = 0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2231
pos = 70,-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 2231]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2231
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 8
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,0-random%40
postype = p1
vel = 2,-2
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 8
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,0+random%40
postype = p1
vel = 2,2
accel = -0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 8
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,0+random%40
postype = p1
vel = -2,2
accel = 0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 8
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,0-random%40
postype = p1
vel = -2,-2
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 15
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 3
[StateDef 224]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 8
x = 3
y = -1.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "sand"
ID = 204
stateno = 2241
pos = 14,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 910
ctrl = 1
;-----------------
;Combo 3
[StateDef 2241]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2331
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 224
time = 1
facing = 1
pos = 14,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+time*2,-10-random%20
postype = p1
vel = 0.4,-2.5
accel = 0.1,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 3
[StateDef 225]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 234
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 205
stateno = 2251
pos = 40,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 3
[StateDef 2251]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2341
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, VelSet]
type = VelSet
trigger1 = time = [8,28]
x = 6
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 28
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = [8,28]
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -40+random%80,0-random%50
postype = p1
vel = -1.8,-1.5
accel = 0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,7
airguard.velocity = -5,7
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
; Combo 4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2311
pos = -4,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 2311]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2311
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 231
time = 1
facing = 1
pos = -4,-5

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time < 10
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -20+time*4,-45-time*2
postype = p1
vel = 1,-1.5
accel = -0.02,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 20+time,-65+time*2
postype = p1
vel = 0.2,.6
accel = -0.02,0.015
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2321
pos = -8,-11
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 2321]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2321
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 232
time = 1
facing = 1
pos = -8,-11

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 8
x = 3
y = -1.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2331
pos = 14,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 910
ctrl = 1
;-----------------
;Combo 4
[StateDef 2331]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2331
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 233
time = 1
facing = 1
pos = 14,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+time*2,-10-random%20
postype = p1
vel = 0.4,-2.5
accel = 0.1,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 4
[StateDef 234]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 234
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 204
stateno = 2341
pos = 40,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 2341]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2341
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, VelSet]
type = VelSet
trigger1 = time = [8,28]
x = 6
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 28
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = [8,28]
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -40+random%80,0-random%50
postype = p1
vel = -1.8,-1.5
accel = 0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,7
airguard.velocity = -5,7
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 2401
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 2401]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2401
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 245
pos = 19,-7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.5,0.4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+time*2,-10-random%20
postype = p1
vel = 0.4,-2.5
accel = 0.1,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 241
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2411
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 2411]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2411
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 245
pos = 0,-4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.6,0.4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2411
pos = -12,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.3,0.3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2411
pos = 12,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.3,0.3
ownpal = 0


[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 3-random%15,-10-random%30-time*1.5
postype = p1
vel = -0.2,-3
accel = -0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -3+random%15,-10-random%30-time*1.5
postype = p1
vel = 0.2,-3
accel = 0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-6
airguard.velocity = -1,-6
air.type = High
air.velocity = -1,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 242
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2421
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 2421]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2421
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, VelSet]
type = VelSet
trigger1 = time > 4
x = 0
y = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 245
pos = -60,-4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.6,0.45
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 245
pos = 60,-4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.6,0.45
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -40-random%60,10-random%40
postype = p1
vel = 0,1
accel = -0.02,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 40+random%60,10-random%40
postype = p1
vel = 0,1
accel = -0.02,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-5
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 2422
pos = -60,-2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 2422
pos = 60,-2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 243
value = 2431

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 243
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4


[State 0, Kolo]
type = Explod
trigger1 = animelem = 2
anim = F1070
id = 1070
ownpal = 1
pos = 6,-40
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 2431]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2431
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,12]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60-random%30
postype = p1
vel = 2,-2
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,12]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60+random%40
postype = p1
vel = 2,2
accel = -0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,12]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60+random%40
postype = p1
vel = -2,2
accel = 0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,12]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60-random%30
postype = p1
vel = -2,-2
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time > 4 && timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -40-random%60,10-random%40
postype = p1
vel = -3,0.5
accel = -0.02,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time > 4 && timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 40+random%60,10-random%40
postype = p1
vel = 3,0.5
accel = -0.02,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S6,3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
ampl = -10
freq = 80
phase = 230

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-4
airguard.velocity = 0,-4
air.type = High
air.velocity = 0,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
persistent = 0
anim = F450
id = 450
pos = -2,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
persistent = 0
anim = F10
angle = -25+random%50
id = 11
pos = -2,-33
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
persistent = 0
anim = F450
id = 450
pos = -10,-20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.2,1.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 6
[StateDef 250]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 2501
pos = 0,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 6
[StateDef 2501]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2501
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 250
time = 1
facing = 1
pos = 0,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 3-random%35,3-random%15
postype = p1
vel = -0.2,-1
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -3+random%35,3-random%15
postype = p1
vel = 0.2,-1
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 6
[StateDef 251]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 251
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2511
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 2511]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2511
poweradd = 0
sprpriority = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 251
time = 1
facing = 1
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 194
id = 194
pos = -10,3
scale = 0.6,0.6
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 194
id = 194
pos = 10,3
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 5-random%40,-10-random%20-time
postype = p1
vel = -0.2,-3
accel = -0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -5+random%40,10-random%20-time
postype = p1
vel = 0.2,-3
accel = 0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 6
[StateDef 252]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 252
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time > 4 && timemod = 4,0
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2521
pos = 20+random%80,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 2521]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2521
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 3-random%15,0-random%35-time*2
postype = p1
vel = -0.2,-1.3
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -3+random%15,3-random%35-time*2
postype = p1
vel = 0.2,-1.3
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 2601
pos = -10,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 2601]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2601
poweradd = 0
sprpriority = -1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 350

[State 0, VelSet]
type = VelSet
trigger1 = time = [16,26]
x = 3
y = 0.4

[State 0, VelSet]
type = VelSet
trigger1 = time > 26
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,-20+random%40
postype = p1
vel = -2,-0.8
accel = 0.1,0.08
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,1
airguard.velocity = -3,1
air.type = High
air.velocity = -3,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Combo 7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2611
pos = 0,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 2611]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2611
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = [16,26]
x = 3
y = -0.4

[State 0, VelSet]
type = VelSet
trigger1 = time > 26
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,-20+random%40
postype = p1
vel = -2,0.8
accel = 0.1,-0.06
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Combo 7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 262
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2621
pos = 30,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 2621]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2621
poweradd = 0
sprpriority = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45

[State 0, VelSet]
type = VelSet
trigger1 = time = [16,26]
x = 3
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time > 26
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,20-random%40-time*2
postype = p1
vel = -2,-2
accel = 0.1,0.6
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-6
airguard.velocity = -4,-6
air.type = High
air.velocity = -4,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Combo 7
[StateDef 263]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 263
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2631
pos = 0,-100
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2632
pos = 35,-120
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 2631]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2631
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 325

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,31]
x = 4
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 31
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,20-random%40-time*2
postype = p1
vel = -2,-0.7
accel = 0.1,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 3
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,7
airguard.velocity = -7,7
air.type = High
air.velocity = -7,7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
;Combo 7
[StateDef 2632]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2631
poweradd = 0
sprpriority = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 325

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,31]
x = 4
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 31
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,20-random%40-time*2
postype = p1
vel = -2,-0.7
accel = 0.1,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 3
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,7
airguard.velocity = -7,7
air.type = High
air.velocity = -7,7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Combo 7
[StateDef 264]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 264
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 204
stateno = 2641
pos = 120,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Kolo]
type = Explod
trigger1 = time > 5 && timemod = 20,0
anim = F1080
id = 1080
ownpal = 1
pos = 5,2
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 2641]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2641
poweradd = 0
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 15
time = 10
ampl = -10
freq = 80
phase = 230

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F21,2
volume = 255
channel = 9

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2642
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 0.5,0.5
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 16
anim = F1200
pos = 0,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.2,1.2

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 16
anim = F1200
pos = 0,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.2,1.2

[State 0, Explod]
type = Explod
trigger1 = animelem = 16
anim = F1190
pos = 0,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.1,1.1

[State 0, Explod]
type = Explod
trigger1 = animelem = 16
anim = F580
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = F15,4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 50
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 15
trigger2 = animelem = 16
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,12
airguard.velocity = 0,12
air.type = High
air.velocity = 0,12
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 1012, Trans]
type = Trans
trigger1 = time >= 60
trans = addalpha
alpha = 256-(time-60)*9.5,(time-60)*9.5

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 8
x = 2.5
y = -0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 2701
pos = 14,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 2701]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2701
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 270
time = 1
facing = 1
pos = 14,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 215
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10+time*2,-10-random%20
postype = p1
vel = 0.4,-2.5
accel = 0.1,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-6
airguard.velocity = -4,-6
air.type = High
air.velocity = -4,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Combo 8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2



[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5
y = -0.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 201
stateno = 2711
pos = -3,-7
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 910
ctrl = 1
;-----------------
;Combo 8
[StateDef 2711]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2711
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 271
time = 1
facing = 1
pos = -3,-7

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
; Combo 8
[StateDef 272]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5
y = -0.6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 202
stateno = 2721
pos = -10,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 910
ctrl = 1
;-----------------
;Combo 8
[StateDef 2721]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2721
poweradd = 0
sprpriority = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 272 && time < 16
time = 1
facing = 1
pos = -10,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = [16,26]
x = 3
y = -0.4

[State 0, VelSet]
type = VelSet
trigger1 = time > 26
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,-20+random%40
postype = p1
vel = -2,-0.8
accel = 0.1,0.08
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Combo 8
[StateDef 273]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 273
poweradd = 20
sprpriority = 2



[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5
y = -0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 203
stateno = 2731
pos = 15,-75
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 910
ctrl = 1
;-----------------
;Combo 8
[StateDef 2731]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2731
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 272 && time < 20
time = 1
facing = 1
pos = -15,-55

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 325

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,31]
x = 6
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = time > 31
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%50+time*2,20-random%40-time*2
postype = p1
vel = -2,-0.7
accel = 0.1,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = C, HP
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,9
airguard.velocity = -7,9
air.type = High
air.velocity = -7,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------------------
[StateDef 105011]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = -1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, ChangeState]
type = SelfState
trigger1 = time = 60
value = 5050
ctrl = 1
;-----------------------------
; Small Ryuusa
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,26

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = F1080
pos = 5,3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 0.6,0.6
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 281
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 282
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 283
pos = 10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F12,3

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------------------
;Small Ryuusa
[StateDef 281]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 281
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 11,0
time = 20
ampl = -3
freq = 20
phase = 230

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = 2-time/10
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
getpower = 0
animtype = Light
sprpriority = 4
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  -3,2
airguard.velocity =  -3,2
air.type = High
air.velocity = -3,2
air.hittime = 12
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
;Small Ryuusa
[StateDef 282]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 282
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 11,0
time = 20
ampl = -3
freq = 20
phase = 230

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = 2-time/10
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
getpower = 0
animtype = Light
sprpriority = 4
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  -3,2
airguard.velocity =  -3,2
air.type = High
air.velocity = -3,2
air.hittime = 12
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
;Small Ryuusa
[StateDef 283]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 283
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 11,0
time = 20
ampl = -3
freq = 20
phase = 230

[State 0, VelSet]
type = VelSet
trigger1 = time < 20
x = 2-time/10
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
getpower = 0
animtype = Light
sprpriority = 4
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  -3,2
airguard.velocity =  -3,2
air.type = High
air.velocity = -3,2
air.hittime = 12
fall = 1

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Reka
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 290
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 200
stateno = 291
pos = 0,-22
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 291]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 291
poweradd = 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%20,10-random%20
postype = p1
vel = vel x/2,vel y/2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 25
value = time*2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 25
value = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = time < 25
x = 0.3

[State 0, VelSet]
type = VelAdd
trigger1 = time >= 25
x = -0.3

[State 0, VelAdd]
type = VelAdd
trigger1 = time < 25
y = -0.05

[State 0, VelAdd]
type = VelSet
trigger1 = time = 25
y = -1.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 25
y = 0.3

[State 0, VelAdd]
type = VelSet
trigger1 = time >= 30
x = 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-9
airguard.velocity = -4,-9
air.type = High
air.velocity = -4,-9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; - Kula
[StateDef 350]
type = C
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
trigger2 = numhelper(905) != 0
triggerall =  pos y < -20 
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
trigger1 =  pos y < -20 
y = - vel y

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 25
flag = noshadow

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 10 
value = cond((-1-(time/200))>=-3,-3-(time/200),-3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,3
volume = 255
channel = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = helper(110), stateno = 360
trigger2 = helper(110), stateno = 362
trigger3 = helper(110), stateno = 364 && helper(110), time < 20
trigger4 = helper(110), stateno = [370,379]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 3

[State 0, End]
type = ChangeState
triggerall = time > 25
trigger1 = numhelper(355) = 0
triggerall = numhelper(905) = 0
value = 11
ctrl = 1

[State 0, End]
type = ChangeState
triggerall = time > 25
trigger1 = numhelper(355) = 0
triggerall = numhelper(905) != 0
value = 910
ctrl = 1
;--------------
;Oko
[StateDef 351]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
anim = 351
ctrl = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = 0.3

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 0
y = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 310, end]
type = ChangeState
trigger1 = animtime = 0
value = 352
ctrl = 1
;--------------
;Oko
[StateDef 352]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
anim = 352
ctrl = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, VelSet]
type = VelSet
trigger1 = pos x - parent, pos x > 50
x = -0.6*root,facing

[State 0, VelSet]
type = VelSet
trigger1 = pos x - parent, pos x < -50
x = 0.6*root,facing

[State 0, VelSet]
type = VelSet
trigger1 = pos y - parent, pos y > -45
y = -0.6

[State 0, VelSet]
type = VelSet
trigger1 = pos y - parent, pos y < -65
y = 0.6

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = -0.1

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 22,0
triggerall = pos y - parent, pos y = [-65,-45]
y = -vel y

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = p2bodydist x < -20 && anim = 352
value = 354

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = p2bodydist x > -20 && anim = 354
value = 352

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 310, end]
type = ChangeState
trigger1 = root, stateno != 350
value = 353
ctrl = 1
;--------------
;Oko
[StateDef 353]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
anim = 353
ctrl = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 310, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
; Kula Def
[StateDef 355]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 355
poweradd = 0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State -2, VarSet]
type = ParentVarSet
trigger1 = 1
v = 2
value = gethitvar(damage)

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0 
value = -Parent,var(2)*1;*3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 355
time = 9999
forceair = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = helper(110), stateno = 364 && helper(110), time >= 20
trigger2 = helper(110), stateno = 384 && helper(110), time >= 6
trigger3 = helper(110), stateno = 365 && helper(110), time >= 20
trigger4 = helper(110), stateno = 385 && helper(110), time >= 6
trigger5 = helper(110), stateno = 110 
;-----------------
; Kula Def
[StateDef 356]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 356
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
time = 1

[State 0, End]
type = Destroyself
trigger1 = time = 0
;-----------------
; Kula Start
[StateDef 360]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 194
id = 380194
pos = -8,8
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 194
id = 380194
pos = 8,8
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(355) = 0
helpertype = normal
name = "def"
ID = 355
stateno = 355
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; Kula Stance
[StateDef 362]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 362
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Helper]
type = Helper
trigger1 = numhelper(351) = 0
helpertype = normal;player
name = "oko"
ID = 351
stateno = 351
pos = 30,-55
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn


[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, Kolce >]
type = ChangeState
;P1 LEWA
trigger1 = root, var(50) = 0 && root, command = "c" && root, facing = 1
;P1 PRAWA
trigger2 = root, var(50) = 0 && root, command = "a" && root, facing = -1
;AI
trigger3 = root, var(50) = 1
trigger3 = root, p2bodydist x = [0,50]
trigger3 = root, p2bodydist y = [-40,40]
trigger3 = random = [100,111+root, var(49)*root,var(49)/20]
;P1 AI
trigger4 = root, var(50) = 0
trigger4 = root, p2bodydist x = [0,50]
trigger4 = root, p2bodydist y = [-40,40]
trigger4 = random = [100,111+root, var(49)*root,var(49)/20]
value = 370

[State 0, Kolce <]
type = ChangeState
;P1 LEWA
trigger1 = root, var(50) = 0 && root, command = "a" && root, facing = 1
;P1 PRAWA
trigger2 = root, var(50) = 0 && root, command = "c" && root, facing = -1
;AI
trigger3 = root, var(50) = 1
trigger3 = root, p2bodydist x = [-50,0]
trigger3 = root, p2bodydist y = [-40,40]
trigger3 = random = [150,161+root, var(49)*root,var(49)/20]
;P1 AI
trigger4 = root, var(50) = 0
trigger4 = root, p2bodydist x = [-50,0]
trigger4 = root, p2bodydist y = [-40,40]
trigger4 = random = [150,161+root, var(49)*root,var(49)/20]
value = 372

[State 0, Kolce ^]
type = ChangeState
;P1 
trigger1 = root, var(50) = 0 && root, command = "b"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [-40,40]
trigger2 = root, p2bodydist y = [-110,-60]
trigger2 = random = [200,211+root, var(49)*root,var(49)/20]
;P1 AI
trigger3 = root, var(50) = 0
trigger3 = root, p2bodydist x = [-40,40]
trigger3 = root, p2bodydist y = [-110,-60]
trigger3 = random = [200,211+root, var(49)*root,var(49)/20]
value = 374

[State 0, Lapa]
type = ChangeState
;P1
trigger1 = root, var(50) = 0 && root, command = "y"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [50,135]
trigger2 = root, p2bodydist y = [-50,50]
trigger2 = random = [250,261+root, var(49)*root,var(49)/50]
value = 376

[State 0, Pociski]
type = ChangeState
;P1
trigger1 = root, var(50) = 0 && root, command = "x"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [-55,55]
trigger2 = root, p2bodydist y = [-100,20]
trigger2 = random = [300,311+root, var(49)*root,var(49)/50]
value = 378

[State 0, End]
type = ChangeState
trigger1 = root, stateno != 350
trigger2 = root, var(50) = 0 && root, command != "hold_z"
trigger3 = root, var(50) = 1 && root, random = [0,20-root, var(49)*root,var(49)/100]
trigger4 = var(2)*3 > power
trigger5 = power < 5
trigger6 = win
trigger7 = lose
trigger8 = drawgame
trigger9 = root, life = 0
trigger10 = matchover
value = 364
;-----------------
; Kula End
[StateDef 364]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 364
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380192

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 110
;-----------------
; Kula Kolce >
[StateDef 370]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 50,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 15+random%40,-10-random%50
postype = p1
vel = 2.5,-0.5
accel = -0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 15+random%30+(time-20)/2,-10-random%50
postype = p1
vel = 1,-1
accel = -0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-3
airguard.velocity = -8,-3
air.type = High
air.velocity = -8,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; Kula Kolce <
[StateDef 372]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 372
poweradd = 0
sprpriority = 0


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 50,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -15-random%40,-10-random%50
postype = p1
vel = -2.5,-0.5
accel = 0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -15-random%30+(time-20)/2,-10-random%50
postype = p1
vel = -1,-1
accel = 0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 8,-3
airguard.velocity = 8,-3
air.type = High
air.velocity = 8,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; Kula Kolce ^
[StateDef 374]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 374
poweradd = 0
sprpriority = 0


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 0,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-60-random%40
postype = p1
vel = -.5,-2.5
accel = 0.05,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-60-random%30-(time-20)/2
postype = p1
vel = -0.2,-1.5
accel = 0.03,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,-60-random%40
postype = p1
vel = .5,-2.5
accel = -0.05,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,-60-random%30-(time-20)/2
postype = p1
vel = 0.2,-1.5
accel = -0.03,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-8
airguard.velocity = 0,-8
air.type = High
air.velocity = 0,-8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10


[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; Kula Lapa
[StateDef 376]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 376
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,40]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 30+random%35+(time-15),-15-random%30
postype = p1
vel = 2,-0.5
accel = -0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [76,90]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 30+random%35,-15-random%30
postype = p1
vel = 2,-0.5
accel = -0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 14
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time = [16,40]
attr = S, NA
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 8
trigger2 = animelem = 9
attr = S, NA
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 15
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 8,0
airguard.velocity = 8,0
air.type = High
air.velocity = 8,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time = [60,80]
attr = S, NA
damage = 8,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 5,0
airguard.velocity = 5,0
air.type = High
air.velocity = 5,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 14
damage = 25,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 5,-2
airguard.velocity = 5,-2
air.type = High
air.velocity = 5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1


[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; Kula Pociski
[StateDef 378]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 378
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-25-random%30
postype = p1
vel = -2,-1
accel = 0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 30-random%40,-25-random%30
postype = p1
vel = 2,-1
accel = -0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F8,0+random%5
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; A Kula Start
[StateDef 361]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 361
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(355) = 0
helpertype = normal
name = "def"
ID = 355
stateno = 355
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0


[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A Kula Stance
[StateDef 363]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 363
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Helper]
type = Helper
trigger1 = numhelper(351) = 0
helpertype = normal;player
name = "oko"
ID = 351
stateno = 351
pos = 30,-55
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn


[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, Kolce >]
type = ChangeState
;P1 LEWA
trigger1 = root, var(50) = 0 && root, command = "c" && root, facing = 1
;P1 PRAWA
trigger2 = root, var(50) = 0 && root, command = "a" && root, facing = -1
;AI
trigger3 = root, var(50) = 1
trigger3 = root, p2bodydist x = [0,50]
trigger3 = root, p2bodydist y = [-40,40]
trigger3 = random = [100,111+root, var(49)*root,var(49)/20]
;P1 AI
trigger4 = root, var(50) = 0
trigger4 = root, p2bodydist x = [0,50]
trigger4 = root, p2bodydist y = [-40,40]
trigger4 = random = [100,111+root, var(49)*root,var(49)/20]
value = 371

[State 0, Kolce <]
type = ChangeState
;P1 LEWA
trigger1 = root, var(50) = 0 && root, command = "a" && root, facing = 1
;P1 PRAWA
trigger2 = root, var(50) = 0 && root, command = "c" && root, facing = -1
;AI
trigger3 = root, var(50) = 1
trigger3 = root, p2bodydist x = [-50,0]
trigger3 = root, p2bodydist y = [-40,40]
trigger3 = random = [150,161+root, var(49)*root,var(49)/20]
;P1 AI
trigger4 = root, var(50) = 0
trigger4 = root, p2bodydist x = [-50,0]
trigger4 = root, p2bodydist y = [-40,40]
trigger4 = random = [150,161+root, var(49)*root,var(49)/20]
value = 373

[State 0, Kolce ^]
type = ChangeState
;P1 
trigger1 = root, var(50) = 0 && root, command = "b"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [-40,40]
trigger2 = root, p2bodydist y = [-110,-60]
trigger2 = random = [200,211+root, var(49)*root,var(49)/20]
;P1 AI
trigger3 = root, var(50) = 0
trigger3 = root, p2bodydist x = [-40,40]
trigger3 = root, p2bodydist y = [-110,-60]
trigger3 = random = [200,211+root, var(49)*root,var(49)/20]
value = 375

[State 0, Kolce ^]
type = ChangeState
;P1 
trigger1 = root, var(50) = 0 && root, command = "y"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [-40,40]
trigger2 = root, p2bodydist y = [-10,80]
trigger2 = random = [250,261+root, var(49)*root,var(49)/20]
;P1 AI
trigger3 = root, var(50) = 0
trigger3 = root, p2bodydist x = [-40,40]
trigger3 = root, p2bodydist y = [-10,80]
trigger3 = random = [250,261+root, var(49)*root,var(49)/20]
value = 377

[State 0, Pociski]
type = ChangeState
;P1
trigger1 = root, var(50) = 0 && root, command = "x"
;AI
trigger2 = root, var(50) = 1
trigger2 = root, p2bodydist x = [-55,55]
trigger2 = root, p2bodydist y = [-100,20]
trigger2 = random = [300,311+root, var(49)*root,var(49)/50]
value = 379

[State 0, End]
type = ChangeState
trigger1 = root, stateno != 350
trigger2 = root, var(50) = 0 && root, command != "hold_z"
trigger3 = root, var(50) = 1 && root, random = [0,20-root, var(49)*root,var(49)/100]
trigger4 = var(2)*3 > power
trigger5 = power < 5
trigger6 = win
trigger7 = lose
trigger8 = drawgame
trigger9 = root, life = 0
trigger10 = matchover
value = 365
;-----------------
; A Kula End
[StateDef 365]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 365
poweradd = 0
sprpriority = 4


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380192

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 110
;-----------------
; A Kula Kolce >
[StateDef 371]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 371
poweradd = 0
sprpriority = 0


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 50,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 15+random%40,-10-random%50
postype = p1
vel = 2.5,-0.5
accel = -0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 15+random%30+(time-20)/2,-10-random%50
postype = p1
vel = 1,-1
accel = -0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-3
airguard.velocity = -8,-3
air.type = High
air.velocity = -8,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A Kula Kolce <
[StateDef 373]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 373
poweradd = 0
sprpriority = 0


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos =-50,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -15-random%40,-10-random%50
postype = p1
vel = -2.5,-0.5
accel = 0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -15-random%30+(time-20)/2,-10-random%50
postype = p1
vel = -1,-1
accel = 0.05,0.07
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 8,-3
airguard.velocity = 8,-3
air.type = High
air.velocity = 8,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A Kula Kolce ^
[StateDef 375]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 375
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 0,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-60-random%40
postype = p1
vel = -.5,-2.5
accel = 0.05,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-60-random%30-(time-20)/2
postype = p1
vel = -0.2,-1.5
accel = 0.03,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,-60-random%40
postype = p1
vel = .5,-2.5
accel = -0.05,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,-60-random%30-(time-20)/2
postype = p1
vel = 0.2,-1.5
accel = -0.03,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-8
airguard.velocity = 0,-8
air.type = High
air.velocity = 0,-8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10


[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A Kula Kolce v
[StateDef 377]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 377
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
id = 10
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,0+random%40
postype = p1
vel = -.5,2.5
accel = 0.05,-0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,0+random%30+(time-20)/2
postype = p1
vel = -0.2,1.5
accel = 0.03,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [15,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,0+random%40
postype = p1
vel = .5,2.5
accel = -0.05,-0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
trigger1 = time = [20,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,0+random%30+(time-20)/2
postype = p1
vel = 0.2,1.5
accel = -0.03,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8, 6+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 5, 32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,8
airguard.velocity = 0,8
air.type = High
air.velocity = 0,8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
attr = S, NA
damage = 12,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A Kula Pociski
[StateDef 379]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 379
poweradd = 0
sprpriority = 0


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -30+random%40,-25-random%30
postype = p1
vel = -2,-1
accel = 0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 30-random%40,-25-random%30
postype = p1
vel = 2,-1
accel = -0.05,0.02
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 350
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F8,0+random%5
volume = 255
channel = 8

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0
sprpriority = 0
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; Kula -> PolKula
[StateDef 380]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PosSet]
type = PosSet
trigger1 = root, pos y >= 0
triggerall = root, stateno != [101,103]
x = root, pos x
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 382
;-----------------
; PolKula Stance
[StateDef 382]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 382
poweradd = 0
sprpriority = 3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, PosSet]
type = PosSet
trigger1 = root, pos y >= 0
triggerall = root, stateno != [101,103]
x = root, pos x
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = root, statetype = A
trigger2 = root, movetype = H && root, var(1) = 0
trigger3 = time > 10+root, var(49)*root,var(49)/50
trigger3 = p2movetype != A
trigger4 = root, stateno = [101,103]
trigger5 = root, stateno = 4500
trigger6 = power <= 20
value = 384

[State 0, End]
type = ChangeState
trigger1 = root, stateno = 350
value = 386
;-----------------
; PolKula End
[StateDef 384]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 384
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380192

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 110
;-----------------
; Pol Kula -> Kula
[StateDef 386]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 386
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PosSet]
type = PosSet
trigger1 = root, pos y >= 0
triggerall = root, stateno != [101,103]
x = root, pos x
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 362
;-----------------
; PolKula Start
[StateDef 388]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 388
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Helper]
type = Helper
trigger1 = root,var(1) = 1
triggerall = numhelper(1120) = 0
triggerall = root, stateno = 1020
helpertype = normal
name = "def"
ID = 1120
stateno = 1120
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 194
id = 380194
pos = -8,8
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 194
id = 380194
pos = 8,8
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 1;3;0
triggerall = numhelper(355) = 0
helpertype = normal
name = "def"
ID = 355
stateno = 355
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PosSet]
type = PosSet
trigger1 = root, pos y >= 0
triggerall = root, stateno != [101,103]
x = root, pos x
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 382
;-----------------
; A Kula -> PolKula
[StateDef 381]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 381
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 383
;-----------------
; A PolKula Stance
[StateDef 383]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 383
poweradd = 0
sprpriority = 3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, PosSet]
type = PosSet
trigger1 = 1;numhelper(905) != 0
triggerall = root, stateno != [101,103]
x = root, pos x
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = root, movetype = H && root, var(1) = 0
trigger2 = time > 10+root, var(49)*root,var(49)/50
trigger3 = p2movetype != A
trigger4 = root, stateno = [101,103]
trigger5 = root, stateno = 4500
trigger6 = numhelper(905) != 0
trigger7 = power <= 20
value = 385

[State 0, End]
type = ChangeState
trigger1 = root, stateno = 350
value = 387
;-----------------
; A PolKula End
[StateDef 385]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 385
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380192

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 110
;-----------------
; A Pol Kula -> Kula
[StateDef 387]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 387
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 350
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 363
;-----------------
; A PolKula Start
[StateDef 389]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 389
poweradd = 0
sprpriority = 3


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 15,15,5
mul = 236,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, Helper]
type = Helper
trigger1 = time = 1;3;0
triggerall = numhelper(355) = 0
helpertype = normal
name = "def"
ID = 355
stateno = 355
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = numhelper(905) != 0
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3


[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 351
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%20,5-random%20
postype = p1
vel = 0.1,-2.5
accel = 0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = parent, stateno != 351
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%20,5-random%20
postype = p1
vel = -0.1,-2.5
accel = -0.08,0.1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 3
scale = 0.6,0.6
ownpal = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 383
;-----------------------------
; Wir
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,22

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "sand"
ID = 500
stateno = 501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c"
triggerall = time > 30
trigger2 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power = 0
trigger4 = time = 200
value = 11
ctrl = 1
;-----------------
;Wir
[StateDef 501]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(54) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109941

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 500
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 501
anim = 501
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.8,0.6
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root, stateno != 500
id = 501


[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 194
pos = 10,2
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 194
pos = -10,2
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = timemod = 35,0
anim = F677
pos = 0,5
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1 
value = -10

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = F1391
pos = 5,-10
scale = 0.7,0.7
vel = 0,-6
angle = 250
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 500
time = 1
facing = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = 1
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%15,-10+random%20
postype = p1
vel = (-2-random%8)/10,-5
accel = -0.05,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = 1
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%15,-10+random%20
postype = p1
vel = (2+random%8)/10,-5
accel = 0.05,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 28,0
value = F14,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 6
loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 6
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = root, stateno != 500
channel = 6

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 30,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 3
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = root, stateno != 500
value = 199
;-----------------------------
; Stunujaca Reka
[StateDef 510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,6

[State 0, Kolo]
type = Explod
trigger1 = animelem = 4
anim = F1070
id = 1070
ownpal = 1
pos = 27,-36
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 510
stateno = 511
pos = 15,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Reka
[StateDef 511]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 511
poweradd = -200
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 10
pos = 15,-8

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time < 30 && timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -8+random%20,-5+random%10
postype = p1
vel = (2+random%8)/10,-3
accel = -.01,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 512
id = 512
pos = 5,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F15,4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 20,0
attr = S, NA
damage = 10,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 30
sparkno = 4
sparkxy = -15, -35
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 25
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199

[State 0, End]
type = Changestate
trigger1 = time > 50 && !movecontact
value = 512
;-----------------
;Reka
[StateDef 512]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 513
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 514
id = 514
pos = 5,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 512


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -8+random%20,-5+random%10
postype = p1
vel = (2+random%8)/10,-3
accel = -.01,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Kolec 
[StateDef 520]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 520
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 520
stateno = 521
pos = 170,-200
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Kolec
[StateDef 521]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 521
poweradd = -1000
sprpriority = 2


[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time > 40
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 40+random%40,40+random%40
postype = p1
vel = -3,-3
accel = .05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time > 40 && timemod = 5,0
anim = F1391
pos = 20,20
postype = p1
facing = 1
angle = 287
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F14,6

[State 0, VelSet]
type = VelSet
trigger1 = time > 40
trigger1 = pos y < -20
x = 8
y = 8

[State 0, VelSet]
type = VelSet
trigger1 = time < 40
trigger2 = pos y > -20
x = 0
y = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 500,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,6
airguard.velocity = -6,6
air.type = High
air.velocity = -6,6
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 3
envshake.freq = 20

[State 0, End]
type = Changestate
trigger1 = pos y >= -20
value = 522
;-----------------
;Kolec
[StateDef 522]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 522
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1200
pos = 38,52
postype = p1
facing = 1
angle = -45
bindtime = -1
removetime = -2
sprpriority = 5
scale = 1.2,1.2
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 4
freq = 60
ampl = -4
phase = 90


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 70-time*2+random%30,70-time*2+random%30
postype = p1
vel = (2+random%8)/10,-3
accel = -.01,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
; Kolec 
[StateDef 530]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 530
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 530
stateno = 531
pos = 60,20
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Kolec
[StateDef 531]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 531
poweradd = -1000
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 20

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = 1
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = time+random%40,-time-random%40
postype = p1
vel = 3,-3
accel = -.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time && time < 30
attr = C, HP
damage = 500,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-6
airguard.velocity = -8,-6
air.type = High
air.velocity = -8,-6
air.hittime = 12
p2stateno = 109990
envshake.time = 20
envshake.ampl = 3
envshake.freq = 20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time && time >= 30
attr = C, HP
damage = 250,150
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 3
envshake.freq = 20

[State 0, End]
type = Changestate
trigger1 = time = 60
value = 532
;-----------------
;Kolec
[StateDef 532]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 532
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 70-time*2+random%30,-70+time*2-random%30
postype = p1
vel = 3,-3
accel = -.01,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------------------
;Sabakuha
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 540
velset = 0,0
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,19

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "sand"
ID = 540
stateno = 541
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
trigger1 = time > 15 && timemod = 15,0
anim = F1080
ID = 1080
pos = 5,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
removeongethit = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Sabakuha
[StateDef 541]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 541
poweradd = -1000
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 2
time = 5
freq = 60
ampl = -4
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 20
triggerall = ishelper(540)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 20
trigger3 = parentdist x < -80
triggerall = ishelper(540)
v = 11
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 546
anim = 546
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 0.3,0.4
supermovetime = 9999
pausemovetime = 9999
ownpal = 1


[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 547
anim = 547
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 0.3,0.4
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 10
sprpriority = 10
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 12
fall = 1
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, Helper]
type = Helper
trigger1 = time = 15
triggerall = numhelper(545) = 0
helpertype = normal
name = "def"
ID = 545
stateno = 545
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 542
;-----------------
;Sabakuha
[StateDef 542]
type = A
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 542
poweradd = 0
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 20
triggerall = ishelper(540)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 20
trigger3 = parentdist x < -80
triggerall = ishelper(540)
v = 11
value = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,3

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Helper]
type = Helper
trigger1 = 1
triggerall = numhelper(545) = 0
helpertype = normal
name = "def"
ID = 545
stateno = 545
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 500
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root, life = 0
trigger6 = matchover
value = 543
;-----------------
;Sabakuha
[StateDef 543]
type = A
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 543
poweradd = 0
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 2
time = 5
freq = 60
ampl = -4
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 20
triggerall = ishelper(540)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 20
trigger3 = parentdist x < -80
triggerall = ishelper(540)
v = 11
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 546
anim = 546
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 0.3,0.4
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 547
anim = 547
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 0.3,0.4
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;-----------------
;Sabakuha
[StateDef 545]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 545
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 545
time = 9999
forceair = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = numhelper(540) = 0
trigger2 = helper(540), stateno = 543
;-----------------------------
;Suna no Yoroi
[StateDef 550]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 550
velset = 0,0
poweradd = 0
sprpriority = 0


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
triggerall = numhelper(905) != 0
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
anim = 436346
sound = S146346,0
pos = 45636,0
movetime = 60
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,3

[State 0, VarSet]
type = VarSet
trigger1 = time = 13
v = 3
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 551
id = 551
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, Helper]
type = Helper
trigger1 = var(3) != 0 && numhelper(555) = 0
helpertype = normal ;player
ID = 555
stateno = 555
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numexplod(551) = 0
value = 0
ctrl = 1
;-----------------------------
;Suna no Yoroi
[StateDef 552]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 550
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
triggerall = numhelper(905) != 0
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
anim = 436346
sound = S146346,0
pos = 45636,0
movetime = 60
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 55
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S6,3

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 3
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 552
id = 552
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = ChangeState
trigger1 = time > 10 && numexplod(552) = 0
value = 0
ctrl = 1
;-----------------------------
;Suna no Yoroi
[StateDef 555]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 555
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = [5000,5099]
trigger1 = parent, time = 0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = [5000,5099]
trigger1 = parent, time = 0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, stateno = [5000,5099]
trigger1 = parent, time = 0
value = S6,2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = parent, stateno = [5000,5099]
trigger1 = parent, time = 1 
triggerall = numexplod(556) < 1
anim = 556
id = 556
pos = -5+random%10,-10-random%40
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ownpal = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = Destroyself
trigger1 = parent, var(3) = 0
;-----------------------------
;Ryuusa
[StateDef 560]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 560
velset = 0,0
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,20

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "sand"
ID = 560
stateno = 565
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
trigger1 = time = 41
anim = F1080
ID = 1080
pos = 5,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 0.8,0.8
sprpriority = -1
ontop = 0
shadow = 0,0,0
removeongethit = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------------------
;Ryuusa
[StateDef 565]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565
poweradd = -250
sprpriority = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F12,3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -3
freq = 30
phase = 90

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 5,2
getpower = 0
givepower = 0
getpower = 0
animtype = Light
sprpriority = -1
guardflag = MA
hitflag = MAF
priority = -1
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = changestate
trigger1 = animtime = 0
value = 566
;-----------------------------
;Ryuusa
[StateDef 566]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 566
poweradd = -250
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 80
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 194
id = 194
pos = -10,3
scale = 0.6,0.6
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 194
id = 194
pos = 10,3
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 5-random%40,-10-random%20-time
postype = p1
vel = -0.2,-3
accel = -0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -5+random%40,10-random%20-time
postype = p1
vel = 0.2,-3
accel = 0.05,0.15
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim  = 567
id = 575
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.2,0.2
ownpal = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,5

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 11,0
time = 10
ampl = -3
freq = 30
phase = 90

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 200,100
getpower = 0
givepower = 0
getpower = 0
animtype = Light
sprpriority = 4
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  0,-8
airguard.velocity =  0,-8
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall =1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------------------
; Gokusa Maiso
[StateDef 580]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1080
pos = 5,3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 0.6,0.6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,22

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 580
stateno = 581
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.3

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Gokusa Maiso
[StateDef 581]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 581
poweradd = -200
sprpriority = 2

[State 0, BindToTarget]
type = BindToTarget
trigger1 = 1
time = -1
pos = 0,0,foot

[State 0, Explod]
type = Explod
trigger1 = numexplod(192) = 0
anim = 192
id = 581
pos = 0,4
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 582
id = 582
pos = 0,2
postype = p1
facing = 1
bindtime = -1
removetime = 240
sprpriority = -1
scale = 1,0.4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1080
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 0.8,0.8
ownpal = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 100
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -20+random%40,5-random%10
postype = p1
vel = (-20+random%40)/10,-3
accel = 0,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time && time < 25
attr = C, HP
p2stateno = 100053
damage = 10,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2
sprpriority = 2
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -15
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, End]
type = Changestate
trigger1 = animtime = 0
trigger2 = time > 20 && !movecontact
value = 199

;-----------------------------
; - Shukaku no Hoko
[StateDef 600]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 600
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Shukaku no Hoko"
ID = 601
stateno = 601
pos = 0,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------
;Shukaku no Hoko
[StateDef 601]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 601
poweradd = -500
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1
volume = 255
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2
volume = 255
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S6,4
volume = 255
channel = 9



[State 0, VelSet]
type = VelSet
trigger1 = time > 50
x = 25-(time-50)/20
y = (time-50)/20



[State 0, AngleDraw]
type= AngleDraw
trigger1 = 1
value = vel y*(-5)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 5
value = F21,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 51
value = F3,0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 300,250
getpower = 0
animtype = Light
sprpriority = 4
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = 0, 20
hitsound = 5,32
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,0
airguard.velocity = -10,0
air.type = High
air.velocity = -10,0
air.hittime = 12
p1stateno = 602
fall = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
ID = 12
pos = 45,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 2,2
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, End]
type = Changestate
trigger1 = time > 120
trigger2 = time < 35 && parent, stateno != 600 && parent, stateno != 956
trigger3 = pos y > 0
trigger4 = movecontact
value = 602
;-----------------------------
;Shukaku no Hoko
[StateDef 602]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 602
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = pos y < 0
persistent = 0
anim = F1200
pos = 20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.2,1.2

[State 0, Explod]
type = Explod
trigger1 = pos y > 0
persistent = 0
anim = F1190
pos = 0,10
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.2,1.2

[State 0, Explod]
type = Explod
trigger1 = pos y > 0
persistent = 0
anim = F1200
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.2,1.2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = pos y > 0
value = 325

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1
volume = 255
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2
volume = 255
channel = 9

[State 0, VelSet]
type = VelAdd
trigger1 = 1
x = cond(vel x > 5,-0.5,-vel x/15)

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0
x = 0

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------------------
; - Shukaku no Tate
[StateDef 610]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 610
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "Shukaku no Tate"
ID = 611
stateno = 611
pos = 80,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.45
size.yscale = 0.45

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
; Shukaku no Tate Start
[StateDef 611]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 611
poweradd = -500
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 0
triggerall = ishelper(611)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 0
trigger3 = parentdist x < -80
triggerall = ishelper(611)
v = 11
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1


[State 0, PosSet]
type = PosSet
trigger1 = time > 0
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Helper]
type = Helper
trigger1 = time = 15
triggerall = numhelper(614) = 0
helpertype = normal
name = "def"
ID = 614
stateno = 614
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-6
airguard.velocity = -4,-6
air.type = High
air.velocity = -4,-6
air.hittime = 12
fall = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 612
;-----------------
; Shukaku No Tate
[StateDef 612]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 612
poweradd = 0
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 40
triggerall = ishelper(611)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 40
trigger3 = parentdist x < -80
triggerall = ishelper(611)
v = 11
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = time > 0
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn



[State 0, End]
type = ChangeState
trigger1 = win
trigger2 = lose
trigger3 = drawgame
trigger4 = root, life = 0
trigger5 = matchover
trigger6 = time > 150+root,var(49)*var(49)/25
value = 613
;-----------------
; Shukaku no Tate End
[StateDef 613]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 613
poweradd = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6


[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 40
triggerall = ishelper(611)
v = 11
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 40
trigger3 = parentdist x < -80
triggerall = ishelper(611)
v = 11
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = time > 0
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
id = 380192

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,3

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
;-----------------
; Shukaku no Tate Def
[StateDef 614]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 614
poweradd = 0
sprpriority = 0

[State -2, VarSet]
type = ParentVarSet
trigger1 = 1
v = 2
value = gethitvar(damage)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 614
time = 9999
forceair = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = helper(611), stateno = 613 && helper(611), time > 15
;-----------------------------
; - Ryuusa Bakyruu
[StateDef 620]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 620
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time > 55 && timemod = 8,0
anim = F370
pos = -3,7
postype = p1  ;p2,front,back,left,right
scale = 1.3,1.3
sprpriority = 4
vel = -.5,0
bindtime = 1
ontop = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 40
time = 0
anim = 101
sound = F19,2
pos = 5,-30
move = 1
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 8
trigger6 = animelem = 9
value = F17,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,27


[State 0, Helper]
type = Helper
trigger1 = time > 40 && timemod = 30,0
helpertype = normal ;player
name = ">"
ID = 624
stateno = 624
pos = 10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 40
trigger2 = time = 80
trigger3 = time = 130
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = -20,30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 45
trigger2 = time = 85
trigger3 = time = 125
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = 0,20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, Helper]
type = Helper
trigger1 = time = 50
trigger2 = time = 90
trigger3 = time = 120
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = 20,10
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 55
trigger2 = time = 95
trigger3 = time = 115
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 0, Helper]
type = Helper
trigger1 = time = 60
trigger2 = time = 100
trigger3 = time = 110
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 0, Helper]
type = Helper
trigger1 = time = 65
trigger2 = time = 105
helpertype = normal ;player
name = "suna"
ID = 622
stateno = 622
pos = 80,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 2
size.yscale = 2

[State 0, End]
type = ChangeState
trigger1 = time = 150
value = 0
ctrl = 1
;-----------------------------
;Sabaku Taisou
[StateDef 621]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 621
poweradd = -1000
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 20
ampl = -25
freq = 200
phase = 230

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
anim = 102
sound = F19,2
pos = 5,-32
move = 1
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,1
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "suna"
ID = 623
stateno = 623
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 0, Explod]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F1080
ID = 1080
pos = 5,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------------------
;Ryuusa Bakyruu
[StateDef 622]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 622
poweradd = -170
sprpriority = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F12,3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 11,0
time = 20
ampl = -4
freq = 40
phase = 230

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,10
getpower = 0
givepower = 0
getpower = 0
animtype = Light
sprpriority = 12
guardflag = MA
hitflag = MAF
priority = 12
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  0,0
airguard.velocity =  0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 1012, Trans]
type = Trans
trigger1 = time >= 150
trans = addalpha
alpha = 256-(time-150)*9.6,(time-150)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 180
;-----------------------------
;Ryuusa Bakyruu
[StateDef 623]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 623
poweradd = -1000
sprpriority = 13

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F1190
pos = 0,-5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 2.3,2.3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 635
pos = 0,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 11
scale = 2,2
ownpal = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr =  S,NT
damage = 2000,1000
getpower = 0
givepower = 0
getpower = 0
animtype = Light
sprpriority = 3
guardflag = MA
hitflag = MAF
priority = 13
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  0,15
airguard.velocity =  0,15
air.type = High
air.velocity = 0,15
air.hittime = 12
fall = 1

[State 1012, Trans]
type = Trans
trigger1 = time >= 35
trans = addalpha
alpha = 256-(time-35)*9.6,(time-35)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 65
;->
[Statedef 624]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
ctrl = 0
anim = 624

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 14, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[state a]
type = destroyself
trigger1 = time = 100
;-----------------
; - Sabaku Taisou
[StateDef 630]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 630
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,8
volume = 255
channel = 2 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S4,23
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
;triggerall = p2dist x = [0,200+var(49)*10]
helpertype = normal ;player
name = "sand"
ID = 632
stateno = 632
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
triggerall = 0;p2dist x != [0,200+var(49)*10]
helpertype = normal ;player
name = "sand"
ID = 632
stateno = 632
pos = 200,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 100
trigger1 = helper(632), movecontact
value = 631
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;-----------------------------
;Sabaku Taisou
[StateDef 631]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 631
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 20
ampl = -25
freq = 200
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,1
volume = 255
channel = 8

[State 0, Explod]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F1080
ID = 1080
pos = 5,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
removeongethit = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Sabaku Taisou
[StateDef 632]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 632
poweradd = -1500
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F21,2
volume = 255
channel = 9

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 633
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 16
anim = F1190
pos = 0,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1.8,1.8
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 16
anim = F580
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2.2,1
supermovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = F15,4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 75
getpower = 0
givepower = 0
attr = S, NA
damage = 8,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 15
time = 10
ampl = -15
freq = 100
phase = 230

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 15
trigger2 = animelem = 16
getpower = 0
givepower = 0
attr = S, NA
damage = 300,150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,12
airguard.velocity = 0,12
air.type = High
air.velocity = 0,12
air.hittime = 12
fall = 1

[State 1012, Trans]
type = Trans
trigger1 = time >= 120
trans = addalpha
alpha = 256-(time-120)*9.5,(time-120)*9.5

[State 0, End]
type = Destroyself
trigger1 = Time = 150

[State 0, End]
type = Changestate
trigger1 = Time = [100,140]
trigger1 = root, stateno = 631
trigger1 = power >= 1500
value = 634
;-----------------------------
;Sabaku Taisou
[StateDef 634]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 634
poweradd = -1500
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F1200
pos = 0,-5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 2.1,2.1
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F1200
pos = 0,-5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 2.1,2.1
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F1190
pos = 0,-5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 2.1,2.1

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 635
pos = 0,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = F580
pos = 0,-3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2.5,1.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3



[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr =  S,NT
damage = 750,750
getpower = 0
givepower = 0
animtype = Light
sprpriority = 3
guardflag = MA
hitflag = MAF
priority = 13
pausetime = 0, 0
sparkno = -1
sparkxy = 0, -30
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity =  0,15
airguard.velocity =  0,15
air.type = High
air.velocity = 0,15
air.hittime = 12
fall = 1

[State 1012, Trans]
type = Trans
trigger1 = time >= 35
trans = addalpha
alpha = 256-(time-35)*9.6,(time-35)*9.6

[State 0, End]
type = destroyself
trigger1 = time = 65
;-----------------
; - Sabaku Kyuu
[StateDef 640]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 640
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 645
stateno = 645
pos = 10,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time > 5 && (numhelper(645) = 0 || helper(645), stateno = 199)
value = 0
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = helper(645), movehit = 1
value = 641
ctrl = 1
;-----------------
;Sabaku Kyuu
[StateDef 641]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 641
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,2

[State 0, End]
type = ChangeState
trigger1 = time = 150
value = 642
ctrl = 1
;-----------------
;Sabaku Kyuu
[StateDef 642]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 642
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, Kolo]
type = Explod
trigger1 = animelem = 1
anim = F1070
id = 1070
ownpal = 1
pos = 26,-45
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Sabaku Kyuu
[StateDef 643]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 643
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1

[State 0, Kolo]
type = Explod
trigger1 = animelem = 1
anim = F1070
id = 1070
ownpal = 1
pos = 26,-45
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Sabaku Kyuu
[StateDef 645]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 645
poweradd = -500
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -25+random%30,5-random%20
postype = p1
vel = 2,-3
accel = -.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 4
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
trigger1 = 0;time < 110
anim = 6452
id = 645
pos = 0,-3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 0.5,0.2
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
trigger1 = time < 110
anim = 6451
id = 645
pos = 0,5-random%8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.6
ownpal = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4
y = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%40,-30+random%40
postype = p1
vel = -1,-1
accel = 0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NT
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,1
air.hittime = 12
p1stateno = 646
 
[State 0, End]
type = Changestate
trigger1 = Time = 120
trigger2 = parent, stateno != 640
trigger2 = parent, stateno != 960
value = 199
;-----------------
;Sabaku Kyuu
[StateDef 646]
type = A
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 646
poweradd = -500
sprpriority = 4

[State 0, Piasek]
type = Explod
trigger1 = time = 57
anim = 647
id = 647
ownpal = 0
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = 100
sprpriority = -1
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 80
ID = 647
trans = addalpha
alpha = 256-(time-80)*5,(time-80)*5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time < 40
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10-random%40,0-random%30-time
postype = p1
vel = -1,-1
accel = 0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time < 40
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,0-random%30-time
postype = p1
vel = 1,-1
accel = -0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time = [40,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10-random%40,0-random%70
postype = p1
vel = -1,-1
accel = 0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0


[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time = [40,50]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10-random%40,0-random%70
postype = p1
vel = -1,-1
accel = 0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time > 50
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%40,-20-random%70
postype = p1
vel = 1,2
accel = -0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time > 50
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 10-random%40,-20-random%70
postype = p1
vel = -1,2
accel = 0.02,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 40
attr = C, HP
damage = 5,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105012

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time > 40
triggerall = p2stateno = [105012,105013]
attr = C, HP
damage = 5,2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 105013

[State 0, TargetBind]
type = TargetBind
trigger1 = time <= 50
time = 2
pos = 0,0

[State 0, TargetBind]
type = TargetBind
trigger1 = time >= 50
time = 2
pos = 0,-20

[State 0, VelSet]
type = VelSet
trigger1 = time = [60,150]
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = time > 150
y = 0

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 642
trigger2 = parent, stateno = 643
trigger3 = parent, stateno = 962
trigger4 = parent, stateno = 963
value = 648

[State 0, End]
type = Changestate
trigger1 = time = 200
value = 649
;-----------------
;Sabaku Soso
[StateDef 648]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 648
poweradd = -1500
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 15
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60-random%40
postype = p1
vel = 2,-2
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 15
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60+random%40
postype = p1
vel = 2,2
accel = -0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 15
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60+random%40
postype = p1
vel = -2,2
accel = 0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time > 15
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60-random%40
postype = p1
vel = -2,-2
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
triggerall = p2stateno = 105013
p2stateno = 105013
attr = C, HP
damage = 1200,500
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity =0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
triggerall = p2stateno = 105013
attr = S, NT
damage = 0,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time <= 15
time = 2
id = 2
pos = 0,-20


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
trigger2 = time = 16
time = 15
ampl = -10
freq = 100
phase = 230

[State 0, Explod]
type = Explod
trigger1 = time = 16
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -2,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.8,1.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 16
trigger1 = movehit = 1 && p2movetype = H
anim = F19
angle = random
id = 12
pos = -2,-50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 2,2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 16
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -10,-50
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.8,1.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 16
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -2,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 2.4,2.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 16
trigger1 = movehit = 1 && p2movetype = H
anim = F450
id = 450
pos = -10,-60
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 2.4,2.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------
;Sabaku Soso
[StateDef 649]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 649
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60-random%40
postype = p1
vel = 2,-2
accel = -0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30,-60+random%40
postype = p1
vel = 2,2
accel = -0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60+random%40
postype = p1
vel = -2,2
accel = 0.05,-0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0-random%30,-60-random%40
postype = p1
vel = -2,-2
accel = 0.05,0.05
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 3
sparkno = 4
sparkxy = -15, -25
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------------------
[StateDef 105012]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = -1

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, ChangeState]
type = SelfState
trigger1 = time = 60
value = 5050
ctrl = 1
;-----------------------------
[StateDef 105013]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = invisible

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, ChangeState]
type = SelfState
trigger1 = time = 60
value = 5050
ctrl = 1
;-----------------
; - Suna Shigure
[StateDef 650]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 650
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "sand"
ID = 651
stateno = 651
pos = 0,-100
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 0.8

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Suna Shigure
[StateDef 651]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 651
poweradd = -200
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
trigger1 = time < 70
anim = 651
pos = -40+random%80,-30+random%60
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1,0.8
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, Helper]
type = Helper
trigger1 = timemod = 7,0
helpertype = normal ;player
name = "sand"
ID = 652
stateno = 652
pos = -40+random%80,-30+random%50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.8
size.yscale = 0.8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,0
value = S6,3

[State 0, End]
type = Changestate
value = 199
trigger1 = Time = 100
;-----------------
;Suna Shigure
[StateDef 652]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 652
poweradd = 0
sprpriority = 4

[State 0, VelSet]
type = VelAdd
trigger1 = pos y < 0
x = -1+random%3

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
triggerall = pos y < 0
triggerall = time < 60
anim = 652
id = 652
pos = -25+random%50,20-random%40
postype = p1
facing = 1
bindtime = -1
removetime = 20
sprpriority = 5
scale = 0.8,0.8
ownpal = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 5,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 1
sparkno = 4
sparkxy = -15, -25
hitsound = 15328, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 2
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 2

[State 0, End]
type = Destroyself
trigger1 = Time = 80
;--------------
; - Rendan, Suna Shigure
[StateDef 660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 660
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 661
stateno = 661
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 662
stateno = 662
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 663
stateno = 663
pos = -12,-3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,11

[State 310, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Rendan, Suna Shigure
[StateDef 661]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 661
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 660
trigger2 = parent, stateno = 966
time = 1
facing = 1
pos = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 8
trigger2 = time = 12
trigger3 = time = 16
trigger4 = time = 20
trigger5 = time = 24
trigger6 = time = 28
helpertype = normal ;player
name = "sand"
ID = 665
stateno = 665
pos = 30+random%5,-10-random%30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.15


[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root, stateno != 660
trigger2 = root, stateno != 966
;-----------------
;Rendan, Suna Shigure
[StateDef 662]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 662
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 660
trigger2 = parent, stateno = 966
time = 1
facing = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time < 10
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -20+time*4,-45-time*2
postype = p1
vel = 1,-1.5
accel = -0.02,0.2
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
trigger1 = time = [5,20]
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 20+time,-65+time*2
postype = p1
vel = 0.2,.6
accel = -0.02,0.015
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,3

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root, stateno != 660
trigger2 = root, stateno != 966
;-----------------
;Rendan, Suna Shigure
[StateDef 663]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 663
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 660
trigger2 = parent, stateno = 966
time = 1
facing = 1
pos = -12,-3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,3

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root, stateno != 660
trigger2 = root, stateno != 966
;------------------
;Rendan, Suna Shigure
[StateDef 665]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 665
poweradd = -333
sprpriority = 2

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 20
triggerall = p2bodydist x != [-40,40]
y = -0.4

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 20
triggerall = p2bodydist x != [-40,40]
y = 0.4

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.3,0.3
ownpal = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 45 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 10
triggerall = vel y < 5
trigger1 = (p2bodydist y - 45) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 39) < 0 && fvar(11) = [-0.09,0.09]
y = 0.3

[State 0, VelSet]
type = Veladd
triggerall = time > 10
triggerall = vel y > -5
trigger1 = (p2bodydist y - 45) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 45) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.3

[State 0, VelSet]
type = Veladd
triggerall = 1
triggerall = vel x < 5
trigger1 = p2bodydist x +20 >= 0
x = 0.3

[State 0, VelSet]
type = Veladd
triggerall = 1
triggerall = vel x > -5
trigger1 = p2bodydist x +20 < 0
x = -0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 666

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
trigger2 = pos y >= 0
value = 666
ctrl = 0
;------------------
;Rendan, Suna Shigure
[StateDef 666]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 666
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, Explod]
type = Explod
trigger1 = time = 0 && numexplod(666) = 0
anim = 666
ID = 666
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermove
pausemove
scale = 0.3,0.3
sprpriority = 3
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 20,0
value = S6,3
channel = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 100,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = 0, 0
hitsound = 8, 6+random%2
guardsound = 8, 6+random%2
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 10
fall = 1
envshake.time = 20
envshake.ampl = 2
envshake.freq = 20

[State 0, End]
type = destroyself
trigger1 = Time = 20

;----------------------------------------------------------------------
;Sandstorm
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = -750
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 15 && enemy(0),alive = 1
helpertype = normal
name = "sandstorm"
ID = 701
stateno = 701
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 15 && enemy(1),alive = 1
helpertype = normal
name = "sandstorm"
ID = 702
stateno = 702
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;p2
[StateDef 701]
type = S
anim = 701
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIME = 0
value = S6,5
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIME = 0
value = F14,2
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIMEmod = 15,1
value = S6,3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 300
channel = 15

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 702
ID = 702
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 1,1
sprpriority = -1
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 703
ID = 702
pos = 5,0
postype = p1
bindtime = -1
removetime = -1
facing = -1
supermove
pausemove
scale = 1,1
sprpriority = -1
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 704
ID = 702
pos = 10,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 1,1
sprpriority = 7
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 705
ID = 702
pos = -10,0
postype = p1
bindtime = -1
facing = -1
removetime = -1
supermove
pausemove
scale =1,1
sprpriority = 8
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 707
ID = 702
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 0.75,0.75
sprpriority = 9
ownpal = 0
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 260
trans = addalpha
alpha = 256-((time-260)*8.53),256

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = timemod = 4,1
x = enemy(0),pos x 
y = enemy(0),pos y -45

[State 0, Turn]
type = Turn
trigger1 = animelemtime(2) = 1 && p2dist x < -10

[State 0, VarRandom]
type = VarRandom
trigger1 = animelem = 1
v = 2
range = 3,5

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x < -10
x = -var(2)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x > 3
x = var(2)

[State 0, VelSet]
type = VelAdd
trigger1 = time = 1
x = 0.2

[State 0, VelSet]
type = VelAdd
trigger1 = time > 1 && timemod = 5,0
x = -0.2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 290 

[State 0, End]
type = Destroyself
trigger1 = time = 300

;p4
[StateDef 702]
type = S
anim = 701
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIME = 0
value = S6,5
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIME = 0
value = F14,2
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIMEmod = 15,1
value = S6,3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 300
channel = 15

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 702
ID = 702
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 1,1
sprpriority = -1
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 703
ID = 702
pos = 5,0
postype = p1
bindtime = -1
removetime = -1
facing = -1
supermove
pausemove
scale = 1,1
sprpriority = -1
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 704
ID = 702
pos = 10,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 1,1
sprpriority = 7
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 705
ID = 702
pos = -10,0
postype = p1
bindtime = -1
facing = -1
removetime = -1
supermove
pausemove
scale =1,1
sprpriority = 8
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 707
ID = 702
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermove
pausemove
scale = 0.75,0.75
sprpriority = 9
ownpal = 0
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 260
trans = addalpha
alpha = 256-((time-260)*8.53),256

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = timemod = 4,1
x = enemy(1),pos x 
y = enemy(1),pos y -45

[State 0, Turn]
type = Turn
trigger1 = animelemtime(2) = 1 && p2dist x < -10

[State 0, VarRandom]
type = VarRandom
trigger1 = animelem = 1
v = 2
range = 3,5

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x < -10
x = -var(2)

[State 0, VelSet]
type = VelSet
trigger1 = p2dist x > 3
x = var(2)

[State 0, VelSet]
type = VelAdd
trigger1 = time = 1
x = 0.2

[State 0, VelSet]
type = VelAdd
trigger1 = time > 1 && timemod = 5,0
x = -0.2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 290 

[State 0, End]
type = Destroyself
trigger1 = time = 300


;----------------------------------------------------------------------
; - Suna Arare
[StateDef 740]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 740
poweradd = 0
sprpriority = 2

[State -2, Explod]
type = Explod
trigger1 = 0;numexplod(90006) = 0
anim = 80005
ID = 90006
pos = 0,1
postype = p1
bindtime = -1
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal;player
name = "piasek"
ID = 742
stateno = 742
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemove
size.xscale = 0.5
size.yscale = 0.5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 15 && time < 54
Time = 1
color = 256-((time-15)*2.56)
add = 0-((time-15)*1.79),0-((time-15)*1.79),0-((time-15)*1.79)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 53
Time = 180
color = 156
add = -70,-70,-70
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S3,12

[State 0, end]
type = ChangeState
trigger1 = time = 70
value = 741
ctrl = 1

;Suna Arare
[StateDef 741]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 741
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F8,3

[State -2, Explod]
type = Explod
trigger1 = 0;numexplod(90006) = 0
anim = 80005
ID = 90006
pos = 0,1
postype = p1
bindtime = -1
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, end]
type = ChangeState
trigger1 = time = 35 && numhelper(905) = 0
value = 0
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time = 35 && numhelper(905) != 0
value = 910
ctrl = 1

;Suna Arare
[StateDef 742]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 742
poweradd = -300
sprpriority = 5

[State 0, PosSet]
type = PosSet
triggerall = enemynear,alive = 1
trigger1 = time = 0
x = enemynear,pos x 

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -300

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 4,1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time > 160 
trans = addalpha
alpha = 256-((time-160)*12.8), 0+((time-160)*12.8)

[State 0, Helper]
type = Helper
trigger1 = time > 35 && time < 165
trigger1 = timemod = 4,1
helpertype = normal;player
name = "pociski1"
pos = -100+random%200,10-random%50
ID = 1
stateno = 743
postype = p1 
ownpal = 0
facing = 1
size.xscale = 0.25
size.yscale = 0.35

[State 0, Helper]
type = Helper
trigger1 = time > 35 && time < 165
trigger1 = timemod = 4,1
helpertype = normal;player
name = "pociski2"
pos = -150+random%300,10-random%50
ID = 2
stateno = 743
postype = p1
ownpal = 0
facing = 1
size.xscale = 0.25
size.yscale = 0.35

[State 0, Helper]
type = Helper
trigger1 = time > 35 && time < 165
trigger1 = timemod = 4,1
helpertype = normal;player
name = "pociski4"
pos = -200+random%400,10-random%50
ID = 4
stateno = 743
postype = p1 
ownpal = 0
facing = 1
size.xscale = 0.25;45
size.yscale = 0.35;6

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 742
ID = 742
pos = 100,50
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = 180
supermovetime = 9999
pausemove
scale = 0.5,0.5
sprpriority = 5
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 742
ID = 742
pos = 50,0
postype = p1
facing = 1
vfacing = -1
bindtime = -1
removetime = 180
supermovetime = 9999
pausemove
scale = 0.5,0.5
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 150
Time = 1
color = 156+((time-150)*2.5)
add = -70+((time-150)*1.75),-70+((time-150)*1.75),-70+((time-150)*1.75)
ignorehitpause = 1

[State 0, end]
type = Destroyself
trigger1 = time = 190

;Suna Arare
[StateDef 743]
type = S
movetype = A
physics = N
anim = 743
ctrl = 0
sprpriority = 5
poweradd = -20

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 5
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,9

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y != 0
trigger1 = 1
x = 0.5

[State 0, VelSet]
type = VelSet
trigger1 = pos y != 0
trigger1 = 1
y = 17

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 5

[State 16523, AngleSet]
type = AngleDraw
trigger1 = 1
value = var(0)

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 2
sparkno = 4
sparkxy = -15, -5
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State -2, Explod]
type = Explod
trigger1 = time = 15/ishelper
anim = F280
ID = 280
pos = 0,8
postype = p1
facing = 1
vel = 0,-0.3
vfacing = -1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemove
scale = 0.6,0.6
sprpriority = 6
ownpal = 0
ontop = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y > 2
trigger2 = time = 60
id = 280

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 2
value = 744
ctrl = 1 

[State 0, end]
type = Destroyself
trigger1 = time = 60

;Suna Arare
[StateDef 744]
type = S
movetype = I
physics = N
anim = 744
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, end]
type = Destroyself
trigger1 = time = 18

;----------------------------------------------------------------------
;Sabaku Ryou
[StateDef 800]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 800
poweradd = 0
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
triggerall = numhelper(905) != 0
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,27
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = F8,9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 5
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "sand wave"
ID = 810
stateno = 810
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 1 && time < 100
Time = 3
color = 256
add = 0-((time-1)*1.2),0-((time-1)*1.2),0-((time-1)*1.2)
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 100
channel = 8

[State 0, End]
type = ChangeState
trigger1 = time = 100 && numhelper(811) = 0
value = cond(numhelper(905) = 0,0,910)
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time = 100 && numhelper(811) = 1
value = 801
ctrl = 1

[StateDef 801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 805
poweradd = 0
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = numhelper(905) = 0 && pos y < 0
helpertype = normal;player
name = "sand"
ID = 905
stateno = 904
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
triggerall = numhelper(905) != 0
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 310
value = F8,1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 301
Time = 3
color = 256
add = -120,-120,-120
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 300 && time < 333
Time = 3
color = 256
add = -120+((time-300)*3.63),-120+((time-300)*3.63),-120+((time-300)*3.63)
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = time = 10 && numhelper(811) = 0
trigger2 = time = 333
value = cond(numhelper(905) = 0,0,910)
ctrl = 1

;sand wave
[StateDef 810]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 811
poweradd = -500
sprpriority = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F12,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 12

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1 

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,1
time = 10
freq = 30
ampl = -3
phase = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 40,30,10
mul = 236,225,215
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,1
attr = C,HP
damage = 8,7
damage = 700,700
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 10
p1sprpriority = 10
pausetime = 0,0
sparkno = 4
sparkxy = -15, -35
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
fall = 1
p2stateno = 103050
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State -2, Explod]
type = Explod
trigger1 = time = 20
trigger2 = time = 40
trigger3 = time = 60
trigger4 = time = 80
trigger5 = time = 100
anim = 4014
ID = 810
pos = 0,10
postype = p1
bindtime = -1
removetime = -2
pausemove
scale = 1,1
sprpriority = 11
ownpal = 0
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "ball"
ID = 811
stateno = 811
pos = 380,-80
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.55
size.yscale = 0.55

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 150
channel = 12

[State 0, End]
type = Destroyself
trigger1 = time = 230

;ball
[StateDef 811]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 815
poweradd = -2500
sprpriority = 9

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera =1,1

[State -2, Explod]
type = Explod
trigger1 = time > 350 && timemod = 10,0
anim = F1391
angle = -110
ID = 1391
pos = 0,50
postype = p1
bindtime = 1
removetime = -2
pausemove
vel = 0,-2
scale = 2,2
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 350 && timemod = 10,0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 350 && timemod = 15,0
value = F14,3

[State 0, TargetBind]
type = TargetBind
trigger1 = movecontact 
time = 100
pos = 0,0


;[State 0, BindToTarget]
type = BindToTarget
trigger1 = movecontact && time > 60
time = -1
pos = 0,30,mid

[State 0, VelSet]
type = VelSet
trigger1 = time > 50 && time < 350
x = 0
y = -1

[State 0, VelSet]
type = VelAdd
trigger1 = time = 350 
x = 0
y = 3

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 350
x = 0
y = 0.5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,1
attr = C,HP
damage = 3,1
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
p1sprpriority = 9
pausetime = 0,0
sparkno = 4
sparkxy = -15, -35
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 25
fall = 1
p2stateno = 103051
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 40,30,10
mul = 236,225,215
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, End]
type = Destroyself
trigger1 = time > 30 && !movecontact

[State 0, End]
type = ChangeState
trigger1 = target,stateno = 103051
trigger1 = time > 350 && pos y > -50
value = 812
ctrl = 1

[StateDef 812]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 816
poweradd = 0
sprpriority = 9

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S,NT
damage = 700,700
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
p1sprpriority = 9
pausetime = 0,0
sparkno = 4
sparkxy = -15, -35
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 25
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 60
ampl = -7
phase = 90

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 40,30,10
mul = 236,225,215
sinadd = 0,0,0,1
invertall = 0
color = 226

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 4017
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
removetime = 117
pausemove
scale = 0.5,0.5
sprpriority = 12
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 4018
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
removetime = 117
pausemove
scale = 0.5,0.5
sprpriority = 13
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 4019
ID = 4012
pos = 10,0
postype = p1
bindtime = -1
removetime = -2
pausemove
scale = 1.2,1.2
sprpriority = 11
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 4019
ID = 4012
pos = -10,0
postype = p1
bindtime = -1
removetime = -2
pausemove
facing = -1
scale = 1.2,1.2
sprpriority = 11
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 0
anim = 817
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
pausemove
scale = 1,1
sprpriority = 10
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F29,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F29,0

[State 0, End]
type = Destroyself
trigger1 = time = 130



[StateDef 103050]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = -5
sprpriority = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, End]
type = Selfstate
trigger1 = time = 20
value = 5000
ctrl = 1

[StateDef 103051]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, End]
type = Selfstate
trigger1 = time = 500
value = 5000
ctrl = 1



;-------------------------------------------------------------------
;Ultimate 1: Shukaku
[StateDef 397]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 397
poweradd = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 3971
stateno = 3971
pos = -12,-4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 5
sparkno = 4
sparkxy = 0, -20
hitsound = 8, 6+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
p2stateno = 105010

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(415) = 0 && enemy(0),p2dist x < 90 && enemy(1),alive = 0
helpertype = normal
name = "pieczec" 
ID = 415
stateno = 415
pos = 40,-34
postype = p1 
ownpal = 1 
supermovetime = 9999

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(416) = 0 && enemy(1),p2dist x < 90 && enemy(0),alive = 0
helpertype = normal
name = "pieczec 2" 
ID = 416
stateno = 416
pos = 40,-34
postype = p1 
ownpal = 1 
supermovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = movehit
value = 398
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 3971]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 398
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 397
time = 1
facing = 1
pos = -12,0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0

[Statedef 398]
type = A
movetype = I
physics = A
juggle = 0
poweradd = 0
anim = 105
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 398

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4,0+random%19

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,5
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time= 0
value = 105+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)-2
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 399

[Statedef 399]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
anim = 10
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time= 0
value = 11+var(0)*10000

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = -5,-2
spacing = 1

[State 106, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 106, 5]
type = ChangeState
trigger1 = Time = 7
value = 400
ctrl = 1

;--------------
[StateDef 400]
type = S
movetype = I
physics = S
juggle = 0
poweradd = -1000
anim = 400
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 10 
value = 64

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, Explod]
type = Explod
trigger1 = time > 25 && timemod = 35,0
triggerall = time < 125
anim = 9001
pos = -5,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 99999
pausemovetime = 99999

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 40
x = -140
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 40
x = 140
y = 0

[State 0, TargetVelAdd]
type = TargetVelset
trigger1 = time > 35
y = 0.5

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 2
time = 30
anim = 252542
pos = 1,-26
move = 30
movetime = 30
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 33
time = 200
anim = 252542
pos = 1,-26
move = 3
movetime = 200
darken = 0
unhittable = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "piasek"
ID = 405
stateno = 405
pos = 190,50
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "piasek"
ID = 406
stateno = 406
pos = 190,50
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 143
helpertype = normal;player
name = "piasek"
ID = 410
stateno = 410
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemove

[State 310, end]
type = ChangeState
trigger1 = time = 233
value = 401
ctrl = 1

;--------------
[StateDef 401]
type = S
movetype = I
physics = S
juggle = 0
poweradd = -3000
anim = 401
ctrl = 0
sprpriority = 64

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S4,21


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S4,21


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = S4,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S3,4

[State 0, TargetVelAdd]
type = TargetVelSet
trigger1 = time > 1
y = 0.5

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 169
value = -2000
kill = 1
absolute = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 80
anim = 252542
pos = 1,-26
move = 80
movetime = 80
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 81
time = 90
anim = 252542
pos = 1,-26
move = 90
movetime = 90
darken = 0
unhittable = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, TargetState]
type = TargetState
trigger1 = time = 70
value = 105017

[State 0, Explod]
type = Explod
trigger1 = time = 160
anim = 422
ID = 422
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 15
scale = 3,3
sprpriority = 85
ontop = 0
ownpal = 1
removeongethit = 0

[State 310, end]
type = ChangeState
trigger1 = time = 170
value = 11
ctrl = 1

;------------------------------------------------
;przejcie piaskiem
[StateDef 405]
type = S
anim = 405
sprpriority = 80

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = Posset
trigger1 = time = 0
x = root,facing*-300

[State 0, VelSet]
type = posadd
trigger1 = 1
x = 13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,1
value = S6,4

[State 0, ChangeState]
type = Destroyself
trigger1 = frontedgebodydist < -520
trigger2 = time = 80

;----------------------------------------------
;background desert
[StateDef 406]
type = S
anim = 416
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,5
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,2
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno = 401 && root,time = 165
channel = 6

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 418
ID = 408
pos = -50,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0.17,0
bindtime = 1
removetime = -1
scale = 0.5,0.5
sprpriority = 67
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 406
ID = 406
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.7,0.7
sprpriority = 60
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 407
ID = 407
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.7,0.7
sprpriority = 60
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 408
ID = 406
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.7,0.7
sprpriority = 60
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 409
ID = 407
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.7,0.7
sprpriority = 60
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = time > 10
trigger1 = timemod = 20,1
anim = 417
ID = 408
pos = 60,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 2,0
bindtime = 1
removetime = 50
scale = 0.5,0.5
sprpriority = 70
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 401 && root,time = 165
id = 408

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 401 && root,time = 165
id = 407

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 401 && root,time = 165
id = 406

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 401 && root,time = 170

;-----------------
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 61

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 421
ID = 408
pos = 0,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
scale = 1,1
sprpriority = 63
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 60

[State 0, PosSet]
type = PosSet
trigger1 = time = 1 && numhelper(415) = 1
x = helper(415),pos x

[State 0, PosSet]
type = PosSet
trigger1 = time = 1 && numhelper(416) = 1
x = helper(416),pos x

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 415
ID = 415
pos = 0,50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,1
sprpriority = 62
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,2
volume = 255
channel = 9

[State 0, End]
type = changestate
trigger1 = parent, stateno = 401
value = 411
;-----------------
[StateDef 411]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 411
poweradd = 0
sprpriority = 61

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,2
volume = 255
channel = 9

[State 0, End]
type = changestate
trigger1 = animtime = 0
value = 412
;-----------------
[StateDef 412]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 412
poweradd = 0
sprpriority = 61

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 9
value = 65

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,1
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,2
volume = 255
channel = 9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = p2stateno = 105010
time = 1
pos = 10,-10

[State 0, End]
type = changestate
trigger1 = time = 70
value = 413
;-----------------
[StateDef 413]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 413
poweradd = 0
sprpriority = 65

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 415

[State 0, VelSet]
type = VelSet
trigger1 = time > 1 && time < 10
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 424
ID = 424
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 67
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 423
ID = 423
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 65
scale = 1,1
sprpriority = 66
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 45
anim = F580
ID = 580
pos = 0,-260
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 48
scale = 2,1
sprpriority = 68
supermovetime = 9999
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, End]
type = destroyself
trigger1 = time = 60


[StateDef 415]
type = S
anim = 406

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno != [397,401]

[StateDef 416]
type = S
anim = 406

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(1),pos x
y = enemy(1),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno != [397,401]

;-----------------------------
[StateDef 105010]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 28
value = 64

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time > 27
x = 140

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time > 27
x = -140

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeState]
type = SelfState
trigger1 = stateno != 105010
trigger2 = enemy,name = "GAARA" && enemy,stateno != [397,401]
trigger3 = time = 200
value = 5100
ctrl = 1

[StateDef 105017]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 64

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time > 1
x = 140

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time > 1
x = -140

[State 0, SprPriority]
type = SprPriority
trigger1 = time = 10
value = 2

[State 0, ChangeState]
type = SelfState
trigger1 = time = 10
value = 5100
ctrl = 1

;----------------------------------------------------------------------
;Ultimate 2: Sabaku Sotaiso
[StateDef 4000]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 4002
poweradd = cond(numhelper(905) = 0,-500,0)
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
triggerall = numhelper(905) != 0
y = -0.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(905) != 0 
statetype = A     
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,26
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "sand piramid"
ID = 4010
stateno = 4010
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = time = 48
trigger1 = numhelper(905) = 0
value = 0
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time = 48
trigger1 = numhelper(905) != 0
value = 910
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = helper(4010),movehit
value = 4001
ctrl = 1

[StateDef 4001]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 4003
poweradd = -1000
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
triggerall = numhelper(905) != 0
y = -0.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(905) != 0 
statetype = A     
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, Kolo]
type = Explod
trigger1 = animelem = 3
anim = F1070
id = 1070
pos = 6,-40
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S4,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S4,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S4,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 1
Time = -1
color = 125
add = 0,0,0
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = helper(4010),stateno = 4011 && helper(4010),time = 80
value = 4002
ctrl = 1

[StateDef 4002]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 4004
poweradd = -1000
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
triggerall = numhelper(905) != 0
y = -0.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(905) != 0 
statetype = A     
movetype = A
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,27

[State 0, End]
type = ChangeState
trigger1 = helper(4010),stateno = 4012 && time = 180
value = 4003
ctrl = 1

[StateDef 4003]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 4005
poweradd = -1500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(905) != 0 && timemod = 20,0
trigger1 = vel y = -0.5 || vel y = 0.5
y = - vel y

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
triggerall = numhelper(905) != 0
triggerall = numhelper(905) != 0
y = -0.5

[State 0, Explod]
type = Explod
trigger1 = time = 121 && numhelper(905) = 0
anim = F1080
pos = 5,3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
scale = 0.6,0.6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(905) != 0 
statetype = A     
movetype = A
physics = S

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 1 && time < 130
Time = 1
color = 125
add = 0-((time-1)*0.611),0-((time-1)*0.611),0-((time-1)*0.611)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S2,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S2,7

[State 0, End]
type = ChangeState
trigger1 = time = 200
trigger1 = numhelper(905) = 0
value = 11
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time = 200
trigger1 = numhelper(905) != 0
value = 910
ctrl = 1


[StateDef 4010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4010
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226


[State 0, PosSet]
type = PosSet
trigger1 = time = 0
trigger1 = enemynear,alive = 1
x = enemynear,pos x
y = 5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 5
sparkno = 4
sparkxy = 0, -20
hitsound = 5,33
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
p1stateno = 4011
p2stateno = 105280

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, End]
type = Destroyself
trigger1 = time = 50

[StateDef 4011]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4009
poweradd = 0
sprpriority = 5



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.45,0.5

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 35 
time = 15
pos = 3,-49

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S6,5
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,1
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State -2, Explod]
type = Explod
trigger1 = time = 40
anim = 4012
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
facing = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = -1
ownpal = 0
ontop = 0


[State -2, Explod]
type = Explod
trigger1 = time = 100
anim = 4013
ID = 4013
pos = -250,20
postype = p1
bindtime = -1
removetime = 78
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 11
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 100 
trigger2 = time = 100 && timemod = 20,1
triggerall = time > 100 && time < 180
anim = 4014
ID = 4014
pos = -230,60
postype = p1
bindtime = -1
removetime = 54
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 14
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 100
trigger2 = timemod = 20,1
triggerall = time > 100 && time < 180
anim = 4014
ID = 4014
pos = -260,40
postype = p1
bindtime = -1
removetime = 54
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 13
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 100 
trigger2 = timemod = 20,1
triggerall = time > 100 && time < 180
anim = 4014
ID = 4014
pos = -230,20
postype = p1
bindtime = -1
removetime = 54
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 12
ownpal = 0
ontop = 0

[State 0, End]
type = Changestate
trigger1 = time = 140
value = 4012

[State 0, End]
type = Changestate
trigger1 = time = 2 && root,stateno != [4000,4001]
value = 4013

[StateDef 4013]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4008
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, TargetState]
type = TargetState
trigger1 = time = 2
value = 105282

[State 0, End]
type = Destroyself
trigger1 = time = 35


[StateDef 4012]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4015
poweradd = 0
sprpriority = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 40
channel = 12

[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 150
trigger1 = timemod = 10,1
value = S6,3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 151
scale = 0.35,0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 150
scale = 0.35-((time-150)*0.002),0.5-((time-150)*0.0027)

[State 0, Helper]
type = Helper
trigger1 = time = 22
helpertype = normal
name = "widmo piramidy"
ID = 4016
stateno = 4016
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State -2, Explod]
type = Explod
trigger1 = time = 250
anim = 4017
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
removetime = 117
pausemove
scale = 0.5,0.5
sprpriority = 8
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 250
anim = 4018
ID = 4012
pos = 0,0
postype = p1
bindtime = -1
removetime = 129
facing = -1
pausemove
scale = 0.5,0.5
sprpriority = 9
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 250
anim = 4019
ID = 4012
pos = -60,0
postype = p1
bindtime = -1
removetime = 54
pausemove
scale = 1.3,1.3
sprpriority = 7
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 250
anim = 4019
ID = 4012
pos = 60,0
postype = p1
bindtime = -1
removetime = 54
facing = -1
pausemove
scale = 1.3,1.3
sprpriority = 7
ownpal = 0
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 250
anim =  F580
ID = 4012
pos = 0,5
postype = p1
bindtime = -1
removetime = 48
facing = -1
pausemove
scale = 2,1
sprpriority = 10
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 20
anim =  4020
ID = 4012
pos = 0,-150
postype = p1
bindtime = -1
removetime = 36
facing = -1
pausemove
scale = 0.8,0.2
sprpriority = 13
ontop = 0
ownpal = 1

[State -2, Explod]
type = Explod
trigger1 = time = 20
anim =  F1370
ID = 4012
pos = 70,50
postype = p1
bindtime = 1
removetime = 49
vel = 0.6,0
facing = -1
pausemove
scale = 1.75,1.75
sprpriority = 13
ontop = 0

[State -2, Explod]
type = Explod
trigger1 = time = 20
anim =  F1370
ID = 4012
pos = -70,50
postype = p1
bindtime = 1
removetime = 49
vel = -0.6,0
facing = 1
pausemove
scale = 1.75,1.75
sprpriority = 13
ontop = 0

[State 0, TargetState]
type = TargetState
trigger1 = time = 30
value = 105281

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 249
value = -2000
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time = 249
anim = 422
ID = 422
pos = 190,180
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 10
scale = 3,3
sprpriority = 85
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S6,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F29,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = F29,0

[State 0, End]
type = Destroyself
trigger1 = time = 250

[StateDef 4016]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4016
poweradd = 0
sprpriority = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,13

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4+((time-5)*0.0175),0.55+((time-5)*0.0175)

[State 0, Trans]
type = Trans
trigger1 = time > 5
trans = addalpha
alpha = 256-((time-5)*12.8), 150+((time-5)*5.3)

[State 0, End]
type = Destroyself
trigger1 = time = 25




;-----------------------------
[StateDef 105280]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 3

[State 0, 1]
type = ChangeAnim
trigger1 = time > 21
value = 100053+var(0)*10000

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 22
y = -68
x = -1

[State 0, ChangeState]
type = SelfState
trigger1 = time = 500
value = 5100
ctrl = 1

[StateDef 105281]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 100053
poweradd = 0
sprpriority = 3

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 100053+var(0)*10000

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, ChangeState]
type = SelfState
trigger1 = time = 229
value = 5100
ctrl = 1


[StateDef 105282]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 3

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 5
y = 0

[State 0, ChangeState]
type = SelfState
trigger1 = time = 10
value = 5000
ctrl = 1

;-----------------------------
;Kawarimi
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 1

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 100

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -100

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -80


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,2
volume = 255
channel = 9

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 30,25,5
mul = 206,185,165
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,2
volume = 255
channel = 9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < 0
value = 4502

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;--------------
;Shuriken
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 801
ctrl = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = -7,-45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Suna Shuriken
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -100
anim = 803
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "sand"
ID = 70652
stateno = 70652
pos = -22,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4


[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1= 1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 30+random%5,-20-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 30+random%5,-20-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 30+random%5,-20-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 30+random%5,-20-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 13
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 30+random%5,-20-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Suna Shuriken
[StateDef 70652]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2021
poweradd = 0
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 3
add = 30,25,5
mul = 256,225,205
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 70651
time = 1
facing = 1
pos = -22,-10

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = 0+random%30+time*2,-50-random%15
postype = p1
vel = 2,1
accel = -0.03,0.03
facing = 1
bindtime = 1
removetime = 20
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim  = 193
id = 193
triggerall = numexplod(193) < 30
pos = -10+random%30+time*2,-10-random%15
postype = p1
vel = 2,-1
accel = -0.03,0.06
facing = 1
bindtime = 1
removetime = 30
sprpriority = 6
scale = 0.6,0.6
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,3

[State 0, End]
type = Changestate
trigger1 = animtime = 0
value = 199
;--------------
;Shuriken Air
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 802
ctrl = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%22
volume = 255
channel = 4

 [State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = -6,-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[StateDef 100053]
type = S
movetype= H
physics = S
ctrl = 0
anim = 100053
velset = 0,0
under = 1
poweradd = 0
sprpriority = -3

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F540
ID = 6117
postype = p1
pos = 0,0
bindtime = 1
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 199
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 199
value = F14,6


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100053 + var(0)*10000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitVelSet]
type = HitVelSet
trigger1 = 1
x = 0
y = 0
;ignorehitpause = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 199
anim = F1190
ID = 6117
postype = p1
pos = 0,0
bindtime = 1
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 199
anim = F580
ID = 6078
postype = p1
pos = 0,3
bindtime = 1
scale = 0.8,0.3
sprpriority = 1
ownpal = 1
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 199
anim = F550
ID = 6078
postype = p1
pos = 0,3
bindtime = 1
scale = 1.1,1.1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = -2

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 199
value = 4000,1
volume = 200

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 199
value = S1414,0

[State 2006, SelfState]
type = SelfState
trigger1 = time = 200
trigger2 = name = "Ay" && var(1) = 1
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050



;---------------------- Integer variable list ----------------------

; var(0):= 743
; var(1):= -2, 1000, 1001
; var(2):= 355, 614, 701, 702
; var(3):= 550, 552, -2
; var(9):= 161
;var(10):= 77000, 78000, 77003
;var(11):= 541, 542, 543, 611, 612, 613
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= 70500
;var(20):= 5900, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(1):= 5900
; fvar(4):= 5900
;fvar(10):= 77000, 78000
;fvar(11):= 665, 77000, 78000
;fvar(12):= 77003
;fvar(13):= 70650, 70651, 70655, 60, 970, 971
;fvar(14):= 70650, 70651, 70655, 60, 970, 971
;fvar(15):= 70650, 70651, 70655, 60, 970, 971


;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
;vary
;0 przemiana
;1 - kazekage mode
;2 - kula gethitvar
;6 - sabaku kyuu
;
;
;
;
;

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,28+random%11
volume = 256
channel = 2






;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
trigger3 = stateno = [900,999]
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

;----------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root, stateno != 500
id = 501

;Suna no Yoroi
[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(3) = 1 && stateno != 550
trigger1 = timemod = 5,0
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State 0, VarSet]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
v = 3
value = 0

[State 0, DefenceMulSet]
type = DefenceMulSet
triggerall = power > 0
trigger1 = var(3) = 1 
value = 0.345

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(3) = 1 
trigger1 = !ishelper 
time = 1
add = 186,186,126
mul = 120,116,106
sinadd = 0,0,0,1
invertall = 0
color = 256


;KAZEKAGE MODE

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 1 && stateno != 1000
trigger1 = timemod = 5,0
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State 0, VarSet]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = matchover
v = 1
value = 0

;PIASEK HELPER
[State -1, PIASEK HELPER]
type = Helper
;trigger1 = 0
trigger1 = numhelper(110) = 0
triggerall = stateno != 190
triggerall = stateno = 0
helpertype = normal
name = "PIASEK"
ID = 110
stateno = 110
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, Pal Piasek]
type = PalFX
trigger1 = ishelper(110)
trigger1 = stateno = [360,389]
time = 3
add = 30,25,5
mul = 206,195,175
sinadd = 0,0,0,1
invertall = 0
color = 226

[State 0, TARCZA PIASEK]
type = NotHitBy
trigger1 = helper(110), stateno = 360
trigger2 = helper(110), stateno = 362
trigger3 = helper(110), stateno = 364 && helper(110), time < 20
trigger4 = helper(110), stateno = [370,379]
trigger5 = helper(110), stateno = 380
trigger6 = helper(110), stateno = 382
trigger7 = helper(110), stateno = 384
trigger8 = helper(110), stateno = 386
trigger9 = helper(110), stateno = 386 && helper(110), time > 15
triggerall = numhelper(355) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 0, TARCZA TATE]
type = NotHitBy
trigger1 = helper(611), stateno = 611 && helper(611), time > 15
trigger2 = helper(611), stateno = 612
trigger3 = helper(611), stateno = 613 && helper(611), time < 15
triggerall = var(11) = 1
triggerall = numhelper(614) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 0, TARCZA PIASEK]
type = NotHitBy
trigger1 = helper(980), stateno = 981 && helper(980), time > 30
trigger2 = helper(980), stateno = 982
triggerall = numhelper(980) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 0, TARCZA SABAKUHA]
type = NotHitBy
trigger1 = helper(540), stateno = 540 && helper(541), time > 15
trigger2 = helper(540), stateno = 542
trigger3 = helper(540), stateno = 543 && helper(541), time < 15
triggerall = var(11) = 1
triggerall = numhelper(545) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2



;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,5,12),cond(pos y = 0,-25,-25)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,5,12),cond(pos y = 0,-45,-45)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,15,22),cond(pos y = 0,-35,-35)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-5,2),cond(pos y = 0,-35,-35)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70851
trigger2 = prevstateno = 70851 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70851
trigger2 = prevstateno = 70851 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = 5,-45
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70851
trigger2 = prevstateno = 70851 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = 15,-35
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70851
trigger2 = prevstateno = 70851 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = -5,-35
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18000
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(0) = 0
trigger1 = time = 0
time = 1

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5
