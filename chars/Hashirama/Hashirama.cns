
[Data]
life = 3000			
power = 6000		
attack = 100	
defence = 100		
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15		
sparkno = 2		
guard.sparkno = 40	
KO.echo = 0			
volume = 0			
IntPersistIndex = 0	
FloatPersistIndex = 0  

[Size]
xscale = 1.00			
yscale = 1.00			
ground.back = 15		
ground.front = 16		
air.back = 12		
air.front = 12		
height = 65			
attack.dist = 160		
proj.attack.dist = 90	
proj.doscale = 0		
head.pos = 0, -56	
mid.pos = 0, -37		
shadowoffset = 0		
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5;5.6
walk.back = -1.5;-5.6
run.fwd  = 8.0, 0
run.back = -6.2,-4.7
jump.neu = 0,-8.7
jump.back = -3.30
jump.fwd = 3.30
runjump.back = -2.75,-8.9
runjump.fwd = 6.0,-8.9
airjump.neu = 0,-8.9
airjump.back = -2.75
airjump.fwd = 2.7

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44	
stand.friction = .85	
crouch.friction = .82	

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, Prawa]
type = Explod
trigger1 = time = 12
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 12
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-10-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 12
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.7,0.7
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,8

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = random < 200
trigger1 = time = 0
persistent = 0
v = 1 
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(1) = 1
v = 2 
value = 600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = var(1) = 1
value = F19,6

[State 0, Oczy]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = var(1) = 1
anim = 1996
ID = 1996
pos = 4,-169
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 999
scale = .2,.2
sprpriority = 3
ownpal = 1
removeongethit = 1


;---------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,9

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Drzewo"
ID = 191
stateno = 191
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PowerSet]
type = PowerAdd
trigger1 = Time = 1
value = 1000

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PosSet]
type = PosSet
trigger1 = animtime = 0
y = -115

[State 0, Helper]
type = Helper
trigger1 = animtime = 0
helpertype = normal;player
name = "Kreator lisci"
ID = 193
stateno = 193
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 196
;---------------------------------------------------------------------------
; Jump Start
[Statedef 196]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4,0+random%12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x > 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x < 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 40+var(0)*10000

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(50) = 1
trigger2 = p2bodydist x > 50
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
trigger2 = var(50) = 1
trigger2 = p2movetype = A && p2bodydist x < 80
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = 0
y = const(velocity.jump.y)/2

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 197
;---------------------------------------------------------------------------
; Jump Up
[Statedef 197]
type    = A
physics = N

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = cond((vel x)=0, 41+var(0)*10000, cond((vel x)>0, 42+var(0)*10000, 43+var(0)*10000))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41+var(0)*10000 && anim <= 43+var(0)*10000
persistent = 0
value = Anim + 3

[State 0, Gravity]
type = Gravity
trigger1 = 1


[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 40, 6]
type = ChangeState
trigger1 = pos y >= 0
value = 198

;---------------------------------------------------------------------------
; Jump Land
[Statedef 198]
type    = S
physics = S
ctrl = 0
anim = 47

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
persistent = 0

[State 0, AngleSet]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && prevstateno !=100
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = prevstateno != 1500
value = 47+var(0)*10000

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-----------------
;Mokuton
[StateDef 191]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 191
poweradd = 0
sprpriority = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 192
ID = 192
pos = 0,0
postype = p1
bindtime = -1
removetime = 150
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 0
ontop = 0

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 150
ID = 192

[State 0, Explod]
type = Explod
trigger1 = 0;timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -30+random%70,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*2,(time-150)*2

[State 0, end]
type = destroyself
trigger1 = time = 278
;-----------------
;Kreator lisci
[StateDef 193]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 193

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time%2
anim = 900+random%2
ID = 900
pos = -7+random%15,-5-random%50
vel = (-10+random%20)*0.1,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = -2+random%5
ownpal = 0
ontop = 0

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 0 || (parent, stateno != 190 && parent, stateno != [40,69])
trigger2 = time = 50
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,5+random%5

[State 0, Explod]
type = Explod
trigger1 = time%2
anim = 900+random%2
ID = 900
pos = -7+random%15,5-random%20
vel = (-5+random%10)*0.1,-2
accel = 0,0.05
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = -2+random%5
ownpal = 0
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5
time = 10
freq = 20
ampl = -5
phase = 90

[State 0]
type = Explod
trigger1 = timemod = 15,1
anim = F290
ID = 403
pos = 0,2
postype = p1
name = "dym przód"
scale = 1.3,1.3
ownpal = 1
ontop = 0
facing = -1
ignorehitpause = 1
sprpriority = 2
bindtime = 1
removetime = -2
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
trans = addalpha
alpha = 256,256

[State 0]
type = Explod
trigger1 = numexplod(4031) = 0
anim = F403
ID = 4031
pos = 0,2
postype = p1
name = "aura paski"
scale = 1.1,1.0
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 2
bindtime = 1
removetime = -2
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
trans = addalpha
alpha = 150,256

[State 0]
type = Explod
trigger1 = numexplod(401) = 0
anim = F401
ID = 401
pos = -7,2
postype = p1
name = "dym lewa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= 1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 0]
type = Explod
trigger1 = numexplod(4011) = 0
anim = F401
ID = 4011
pos = 7,2
postype = p1
facing = -1
name = "dym prawa"
scale = 0.7,0.7
ownpal = 1
ontop = 0
ignorehitpause = 1
sprpriority = 3
bindtime= 1
removetime= -2
removeongethit= 1
pausemovetime = 9999
supermovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;-----------------
;Klon Destroy
[StateDef 199]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 199
poweradd = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !ishelper 
value = prevstateno
ctrl = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = ishelper
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, Trans]
type = Trans
trigger1 = time > 20
trans = addalpha
alpha = 256-(time-20)*10,(time-20)*10

[State 0, end]
type = destroyself
trigger1 = time = 45
;-----------------
;Combo1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -46
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2031
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2031]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2031
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -15+random%30,0-random%20-time*2
vel = (-5+random%10)/5,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [16,36]
x = 6-(time-16)/5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 10*cond(var(1) = 1, 1.4, 1.0),2*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2051
pos = 70,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2051]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2051
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -25+random%50,0-random%20-time
vel = (-5+random%10)/5,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1.2,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 20
envshake.freq = 20
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo1
[StateDef 206]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-6
ctrl = 0
anim = 206
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 50*cond(var(1) = 1, 1.4, 1.0),10*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -27
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-2
airguard.velocity = -5,-.8
air.type = High
air.velocity = -7,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Sennin Combo1
[StateDef 207]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2071
pos = -10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2071]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2071
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 30
anim = 901+random%2
ID = 901
pos = 0+time*4+random%40,0-random%40;-time*2
vel = (-2+random%10)/5,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-4
airguard.velocity = -10,-4
air.type = High
air.velocity = -10,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*10,(time-50)*10

[State 0, end]
type = destroyself
trigger1 = time = 75
;-----------------
;Combo2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo2
[StateDef 211]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo2
[StateDef 212]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 3
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 10 && time < 25
anim = 901+random%2
ID = 901
pos = 20+random%50,-50-random%30
vel = (-3+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,2

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 50*cond(var(1) = 1, 1.4, 1.0),10*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -60-random%30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 6,-5
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo1
[StateDef 214]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 214
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -27
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo2
[StateDef 215]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0 
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0 
y = 0

[State 0, End]
type = ChangeState
trigger1 = time > 0 && pos y >= 0
value = 216
ctrl = 0
;-----------------
;Combo2
[StateDef 216]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2161
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2161]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2161
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = 70+random%70,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo2
[StateDef 217]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-7.5
ctrl = 0
anim = 217
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 50*cond(var(1) = 1, 1.4, 1.0),10*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -26
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,7
airguard.velocity = -3,7
air.type = High
air.velocity = -3,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Sennin Combo2
[StateDef 218]
type = A
movetype= A
physics = A
juggle  = 1
velset = cond(prevstateno = 216, 4,3),cond(prevstateno = 216, -8,-5)
ctrl = 0
anim = 218
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2181
pos = 0,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Mokuton
[StateDef 2181]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2181
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 218
trigger2 = parent, stateno = 235
time = 1
facing = 0
pos = 0,-40

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 4,0
triggerall = hitcount < 4
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 3
sparkno = 2
sparkxy = -15,30-random%40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,8
airguard.velocity = -7,8
air.type = High
air.velocity = -7,8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, end]
type = destroyself
trigger1 = time = 20
trigger2 = parent, stateno != 218
trigger2 = parent, stateno != 235
;-----------------
;Combo3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

;Czy powinien stworzyc belke
[State 0, VarSet]
type = VarSet
trigger1 = animelem = 4
v = 11
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 3
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
volume = 255
channel = 4


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F16,2

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 40*cond(var(1) = 1, 1.4, 1.0),8*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,0
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, Helper]
type = Helper
trigger1 = time = 23
triggerall = var(11) = 1
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2211
pos = 42,-44
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2211]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2211
poweradd = 0
sprpriority = 1

;Czy powinien stworzyc belke
[State 0, VarSet]
type = ParentVarSet
trigger1 = time = 0
v = 11
value = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y >= 0
persistent = 0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F60
pos = 0,0
scale = 1.5,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 5110, 6]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F7,1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0 
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0 
y = 0

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -53
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 224]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2241
pos = 90,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2241
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 30
anim = 901+random%2
ID = 901
pos = -25+random%50,0-random%10-time*2.5
vel = (-5+random%10)/5,-1.5
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -75-random%50
pos = 0-random%30,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 2,-6
airguard.velocity = 2,-6
air.type = High
air.velocity = 2,-6
air.hittime = 12
envshake.time = 20
envshake.freq = 20
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo1
[StateDef 225]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-5
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -5,-.8
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo3
[StateDef 226]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0 
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0 
y = 0

[State 0, End]
type = ChangeState
trigger1 = time > 0 && pos y >= 0
value = cond(var(1) = 1, 228, 227)
ctrl = 0
;-----------------
;Combo3
[StateDef 227]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
trigger2 = time = 16
trigger3 = time = 26
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2271
pos = cond(prevstateno = 226, 30+time*6,0+time*6),15-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2271]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2271
poweradd = 0
sprpriority = 2+random%3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0 && time < 25
anim = 901+random%2
ID = 901
pos = -10+time*3+random%20,-10-random%30-time*1
vel = (-2+random%10)/10,-0.5
accel = 0,0.015
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 0.8,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 17
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0, 0
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-3
airguard.velocity = -6,-3
air.type = High
air.velocity = -6,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Sennin Combo3
[StateDef 228]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2281
pos = -20,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 2281]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2281
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -10+random%60+time*5,-10-random%40
vel = 1+(-2+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1200
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = F13,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,-20-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-7
airguard.velocity = -9,-7
air.type = High
air.velocity = -9,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 4
sparkxy = -15,-20-random%50
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-7
airguard.velocity = -9,-7
air.type = High
air.velocity = -9,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall.damage = 50
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 35
trans = addalpha
alpha = 256-(time-35)*10,(time-35)*40

[State 0, end]
type = destroyself
trigger1 = time = 60
;-----------------
;Combo4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40*cond(var(1) = 1, 1.4, 1.0),8*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,6
airguard.velocity = -5,6
air.type = High
air.velocity = -5,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 234]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 234
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4
y = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 60*cond(var(1) = 1, 1.4, 1.0),12*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,8
airguard.velocity = -4,8
air.type = High
air.velocity = -4,8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
p1stateno = 105
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Sennin Combo4
[StateDef 235]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,1
ctrl = 0
anim = 235
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,0+random%7
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2181
pos = 0,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 242]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 206
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%7
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35*cond(var(1) = 1, 1.4, 1.0),7*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -27
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo5
[StateDef 243]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 215
poweradd = 0
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0 
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0 
y = 0

[State 0, End]
type = ChangeState
trigger1 = time > 0 && pos y >= 0
value = 244
ctrl = 0
;-----------------
;Combo5
[StateDef 244]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 244
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [11,18]
x = 6-(time-11)/5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%12
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 10*cond(var(1) = 1, 1.4, 1.0),2*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 245]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 245
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Klon"
ID = 201
stateno = 246
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 11
helpertype = normal;player
name = "Klon"
ID = 201
stateno = 247
pos = 10,-80
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 246]
type = C
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 246
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35*cond(parent,var(1) = 1, 1.4, 1.0),7*cond(parent,var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && time > 25
value = 199
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 248 && parent, time > 6
trigger1 = time > 10
value = 2481
ctrl = 1
;-----------------
;Combo5
[StateDef 247]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 247
poweradd = 20
sprpriority = 2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 199
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 6

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 35*cond(parent,var(1) = 1, 1.4, 1.0),7*cond(parent,var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
ground.velocity = -3,6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0 && time > 25
value = 199
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = parent, stateno = 248 && parent, time > 6
trigger1 = time > 10
value = 2481
ctrl = 1
;-----------------
;Combo5
[StateDef 248]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2481]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2481
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -40+random%80,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 15
attr = S, NA
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 4
sparkxy = -15,0-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-9
airguard.velocity = -4,-9
air.type = High
air.velocity = -4,-9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo5
[StateDef 249]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 249
poweradd = 20
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Mokuton"
ID = 200
stateno = 2491
pos = -3,-46
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2491]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2491
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 249
trigger2 = parent, statetype = S || parent, statetype = A
triggerall = parent, movetype != H
time = 1
facing = 0
pos = -3,-46

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = time < 25
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 2000
sparkxy = -15, -13
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-4
airguard.velocity = -9,-4
air.type = High
air.velocity = -9,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,(time-30)*10

[State 0, end]
type = destroyself
trigger1 = time = 55
;-----------------
;Combo9
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3 
helpertype = normal;player
name = "Mokuton"
ID = 280
stateno = 2801
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2801
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 15
anim = 901+random%2
ID = 901
pos = -10+random%25,0-random%20-time
vel = (-5+random%10)/5,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 0.6,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 50
triggerall = parent, stateno != 282
attr = S, NA
damage = 5,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 4
sparkxy = -15,0-random%40
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 5
envshake.freq = 10
envshake.ampl = -3
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = time%5 
time = 5
pos = 0,0

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*10,(time-50)*60

[State 0, end]
type = destroyself
trigger1 = time = 75
;-----------------
;Combo9
[StateDef 282]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 282
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [6,32]
x = 6-(time-6)/6
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
volume = 255
channel = 4

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 10 && time < 25
anim = 901+random%2
ID = 901
pos = 20+random%40,-35-random%20
vel = (-3+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,2

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 10*cond(var(1) = 1, 1.4, 1.0),5*cond(var(1) = 1, 1.4, 1.0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35-random%20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo9
[StateDef 283]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Mokuton"
ID = 283
stateno = 2831
pos = -30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 2831]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2831
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 15
scale = 0.4+0.04*time,0.4+0.04*time

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 20
anim = 901+random%2
ID = 901
pos = -40+random%80,-10-random%30-time*2
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F1190
pos = 0,0
scale = 1.8,0.9
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 7
sparkno = 2016
sparkxy = -15,-25
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,12
airguard.velocity = -4,12
air.type = High
air.velocity = -4,12
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 28 && time < 38 && timemod = 2,0
anim = F591
ID = 591
pos = 60+random%60,10-random%20
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3+random%4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F64
pos = 90,0
scale = 0.8,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F550
pos = 90,5
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F1370
pos = 70,10
scale = 0.45,0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F1370
pos = 110,10
scale = 0.45,0.45
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F587
pos = 90,5
scale = 0.5,0.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Trans]
type = Trans
trigger1 = time > 40
trans = addalpha
alpha = 256-(time-40)*10,(time-40)*10

[State 0, end]
type = destroyself
trigger1 = time = 65
;-----------------
;Mokuton 1
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Mokuton"
ID = 325
stateno = 325
pos = 0.9*90,0.9*0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 60
size.air.back = -60
size.height = 170
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 325]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 325
poweradd = -1000
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal;player
name = "Mokuton"
ID = 326
stateno = 326
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 60
size.air.back = -60
size.height = 170
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 25
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 0,4
scale = 1.4,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = -40+random%80,-20-random%50-time*4
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 2+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -40+random%80,-20-random%50-time*4
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 2+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 20
persistent = 0
attr = S, NA
damage = 400,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 150
trans = addalpha
alpha = 256-(time-150)*5,(time-150)*5

[State 0, end]
type = destroyself
trigger1 = time = 200
;-----------------
;Mokuton
[StateDef 326]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = time > 0
time = 2
facing = 0
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 150
;-----------------
;Mokuton 2
[StateDef 330]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 7
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7
anim = F1080
pos = 0.9*28,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time > 20 && time < 75 && timemod = 10,0
helpertype = normal;player
name = "Mokuton"
ID = 335
stateno = 335
pos = 0.9*20+(time-20)*10,0.9*0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -30
size.height = 55
size.head.pos = 0,-30 
size.mid.pos = 0,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 335]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 335+random%4
poweradd = -200
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 0,4
scale = 1.4,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = -30+random%60,0-random%20-time
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 2+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
persistent = 0
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 100
trans = addalpha
alpha = 256-(time-100)*5,(time-100)*5

[State 0, end]
type = destroyself
trigger1 = time = 150
;-----------------
;Mokuton, Mokuryu no Jutsu
[StateDef 340]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 340
poweradd = 0
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 15
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
trigger5 = animelem = 14
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 12
trigger5 = animelem = 15
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = F7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 17
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 17
helpertype = normal;player
name = "Mokuton"
ID = 345
stateno = 345
pos = -20,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.7*0.9
size.yscale = 0.7*0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Mokuton
[StateDef 345]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 345
poweradd = -3000
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 10
time = 5
pos = 170,-40

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 11
time = 5
pos = 240,-40

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [45,100]
time = 5
pos = 260,-40

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time > 35 && timemod = 10,0
anim = F461
pos = 200,-50
scale = 0.5,0.5
vel = -10,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 35
x = 8+(time-35)/4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 15,4
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 45
anim = F591
ID = 591
pos = -25+random%80,0-random%50
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 2+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 45
anim = 901+random%2
ID = 901
pos = -25+random%80,0-random%50
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 2+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F550
pos = 15,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 15,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F18,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = F16,2

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 25
attr = S, NA
damage = 70,20
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 2002;4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time = [25,35]
attr = S, NA
damage = 70,20
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2002;4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time > 35
attr = S, NA
damage = 70,20
givepower = -70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 2002;4
sparkxy = -15,-30-random%60
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-2
airguard.velocity = -10,-2
air.type = High
air.velocity = -10,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 100
trans = addalpha
alpha = 256-(time-100)*5,(time-100)*5

[State 0, end]
type = destroyself
trigger1 = time = 100
;-----------------
;Mokuton Juin Taiho
[StateDef 350]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && timemod = 15,0
anim = F1080
pos = 1,3
scale = 0.5,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "Mokuton"
ID = 355
stateno = 355
pos = 20+Time*4,20-random%23
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 60
size.air.back = -60
size.height = 170
size.head.pos = 0,-125 
size.mid.pos = 0,0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 355]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 355
poweradd = -300
sprpriority = var(10)

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 20-random%25

[State 0, VarSet]
type = VarSet
trigger1 = pos y <= 0
v = 10
value = 4

[State 0, VarSet]
type = VarSet
trigger1 = pos y > 0
v = 10
value = 4+pos y/5

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 35,4
scale = 1,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -4
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = 10+random%50,0-random%20
vel = -1+random%4,-2
accel = 0,0.07
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1+random%3
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = 901+random%2
ID = 901
pos = 10+random%50,0-random%20
vel = (-4+random%10)/10,-1
accel = 0,0.025
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = var(10)-1+random%3
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 35,5
scale = 0.55,0.55
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = var(10)+2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
statetype = S
movetype = I
physics = S

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 20
persistent = 0
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = var(10)
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-30-random%30
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Trans]
type = Trans
trigger1 = time > 275
trans = addalpha
alpha = 256-(time-275)*5,(time-275)*5

[State 0, end]
type = destroyself
trigger1 = time = 325
;--------------
;Shuriken Kage Bunshin
[StateDef 500]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal;player
name = "Shuriken Macierzysty"
ID = 520
stateno = 520
pos = -4,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 505
ctrl = 1
;--------------
;Shuriken Kage Bunshin
[StateDef 505]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 505
ctrl = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 255
channel = 4



[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F19,6

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F19,7

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F9,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F2001
pos = 3,-42
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = time >= 10 && power >= 250 && numhelper(521) < 5
triggerall = timemod = 3,0
helpertype = normal;player
name = "Shuriken Dodatkowy"
ID = 521
stateno = 521
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = Time = 30
value = 510
ctrl = 1
;--------------
;Shuriken Kage Bunshin
[StateDef 510]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 510
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,5
volume = 255
channel = 4

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;Shuriken lot
[Statedef 520]
type = S
movetype= A
physics = N
juggle  = 3
velset = 1,-0.2
ctrl = 0
anim = 70750; pojedyñcza animacja shurikena (obracanie ju¿ jest zakodowane)
sprpriority = 2
poweradd = -250

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 5+random%10,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.5,0.5
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -3+random%6,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 0.8,0.8
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5-random%10,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.5,0.5
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 500
trigger1 = ishelper(520)
trigger1 = time < 10
time = 1
facing = 0
pos = -4,-36

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 500
trigger1 = ishelper(520)
trigger1 = time = 10
time = 1
pos = 5,-40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 8,0
trigger1 = ishelper(520)
trigger2 = timemod = 25,0
trigger2 = !ishelper(520)
value = F21,6

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = root, stateno = 510
v = 1
value = 1

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y-50)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, PosSet]
type = velSet
trigger1 = var(1) = 1
persistent = 0
x = (Fvar(13))/(fvar(15))*16
y = (FVar(14))/(fvar(15))*16-1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(1) = 1
trigger2 = root, stateno != [500,510]
x = cond(var(1)=1,-0.1,0)
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
value = -time*time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
value = -time*50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount < 5
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount >= 5
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = hitcount < 5
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 5
sparkno = 0+random%4
sparkxy = -15, 10-random%20
hitsound = 24, 13
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 70755
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70755
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 70756
;------------------------------------------------------------------
;Shuriken lot
[Statedef 521]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 70750; pojedyñcza animacja shurikena (obracanie ju¿ jest zakodowane)
sprpriority = 2
poweradd = -250

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 500
trigger1 = ishelper(520)
trigger1 = time < 10
time = 1
facing = 0
pos = -4,-36

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 500
trigger1 = ishelper(520)
trigger1 = time = 10
time = 1
pos = 5,-40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 8,0
trigger1 = ishelper(520)
trigger2 = timemod = 25,0
trigger2 = !ishelper(520)
value = F21,6

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = helper(520), pos x-80+random%160
y = helper(520), pos y-70+random%100

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = root, stateno = 510
v = 1
value = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y-30-random%40)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, PosSet]
type = velSet
trigger1 = var(1) = 1
persistent = 0
x = (Fvar(13))/(fvar(15))*16
y = (FVar(14))/(fvar(15))*16-1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(1) = 1
trigger2 = root, stateno != [500,510]
x = cond(var(1)=1,-0.1,0)
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
value = -time*time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
value = -time*50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount < 5
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount >= 5
value = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
trigger1 = random < 250
anim = F10+random%2
angle = -25+random%50
pos = -10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = hitcount < 5
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 5
sparkno = cond(random < 250,0+random%4, -1)
sparkxy = -15, 10-random%20
hitsound = 24, 13
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 70755
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70755
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 70756
;-----------------
;Myoujinmon
[StateDef 530]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time >= 10 && time <= 60 && time%15 = 0
helpertype = normal;player
name = "Mokuton"
ID = 530
stateno = 531
pos = 50+(time-10)*6,-100
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1
;-----------------
[StateDef 531]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 531
poweradd = -250
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Gravity]
type = Gravity
trigger1 = time > 10

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time > 10
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 20
sparkno = 4
sparkxy = -15,0-random%40
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,4
airguard.velocity = 0,4
air.type = High
air.velocity = 0,4
air.hittime = 12
envshake.time = 5
envshake.freq = 10
envshake.ampl = -3
envshake.phase = 10

[State 0, Trans]
type = Trans
trigger1 = time <= 10
trans = addalpha
alpha = time*25,256-time*25

[State 0, end]
type = changestate
trigger1 = time > 10 && pos y >= 0
value = 532
;-----------------
[StateDef 532]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 532
poweradd = 0
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
ampl = -2
freq = 40
phase = 230

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F550
pos = 19,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F550
pos = -22,10
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 0, hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 80,100
sparkno = 4
sparkxy = -15,0-random%40
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = time%5
time = 10
pos = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 80
trans = addalpha
alpha = 256-(time-80)*10,(time-80)*10

[State 0, end]
type = destroyself
trigger1 = time = 105
;-----------------
;Rashomon
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 4,-39
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 6,-39
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = F1560
pos = 1,1
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S3,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S3,15

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal ;player
name = "Rashomon"
ID = 541
stateno = 545
pos = 100,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal ;player
name = "Rashomon"
ID = 542
stateno = 545
pos = 220,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 65
helpertype = normal ;player
name = "Rashomon"
ID = 543
stateno = 545
pos = 340,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 85
helpertype = normal ;player
name = "Rashomon"
ID = 544
stateno = 545
pos = 460,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 105
helpertype = normal ;player
name = "Rashomon"
ID = 545
stateno = 545
pos = 580,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 500
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger10 = time = 110
triggerall = time > 35
value = 11
ctrl = 1
;-----------------
;Rashomon
[StateDef 545]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = -500
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
ampl = -2
freq = 40
phase = 230

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(541)
trigger1 = anim != 541
value = 541

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(542)
trigger1 = anim != 542
value = 542

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(543)
trigger1 = anim != 543
value = 543

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(544)
trigger1 = anim != 544
value = 544

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(545)
trigger1 = anim != 545
value = 545

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Tarcza"
ID = 546
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 30
size.ground.back = -60
size.air.front = 25
size.air.back = -50
size.height = 150
size.head.pos = 0,-100 
size.mid.pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1 
value = anim-531

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = -20,10
scale = 1.6,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = -50+random%80,20-random%50-time*5
vel = -2+random%4,-3
accel = 0,0.07
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = anim-533+random%5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = -20,20
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = anim-526

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 150
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = anim-531
pausetime = 0, 0
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 13, 123456
guardsound = 13, 123456
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-1
airguard.velocity = -7,-1
air.type = High
air.velocity = -7,-1
air.hittime = 12
fall = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 225
v = 1
value = 1

[State 0, Trans]
type = Trans
trigger1 = time > 200
trans = addalpha
alpha = 256-(time-200)*5,(time-200)*5

[State 0, end]
type = destroyself
trigger1 = time = 250
;-----------------
;Shisekiyojin
[StateDef 550]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 202
stateno = 551
pos = -30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Klon"
ID = 203
stateno = 551
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 310, 6]
type = NotHitBy
trigger1 = numhelper(202) = 1
trigger1 = numhelper(203) = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, Helper]
type = Helper
trigger1 = numhelper(550) = 0
triggerall = numhelper(202) = 1
triggerall = helper(202), stateno = 553
triggerall = helper(202), time > 10
triggerall = numhelper(203) = 1
triggerall = helper(203), stateno = 553
triggerall = helper(203), time > 10
helpertype = normal;player
name = "Shisekiyojin"
ID = 550
stateno = 555
pos = 10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 370
size.ground.back = -370
size.air.front = 370
size.air.back = -370
size.height = 350
size.head.pos = 0,250 
size.mid.pos = 0,-100

[State 0, End]
type = ChangeState
trigger1 = time = 200
value = 0
ctrl = 1
;-----------------
;Klon
[StateDef 551]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 551
poweradd = -500

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F65
pos = 0,4
scale = 0.8,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0 && time < 25
anim = F591
ID = 591
pos = -15+random%30,0-random%20-time
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0 && time < 25
anim = 901+random%2
ID = 901
pos = -15+random%30,0-random%20-time
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F16,2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 310, 6]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, end]
type = changestate
trigger1 = animtime = 0
value = 552
;----------------------------------------------------------------
;Shisekiyojin
[Statedef 552]
anim = 70600+var(1)*1000
ctrl = 0
poweradd = 0
velset = 0,0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = S7,0+random%4
volume = 255
channel = 7

[State 310, 2]
type = Explod
trigger1 = time = 4 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 14 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 4 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 14 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
trigger2 = time = 14
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
trigger2 = time = 14
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
trigger2 = time = 14
value = F9,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24 && random = [0,99]
value = S1,0+random%7
volume = 256
channel = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < -5 && anim != 70601
value = 70601

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y > -5 && anim != 70600+var(1)*1000
value = 70600+var(1)*1000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 13 && pos y < -5 && anim != 70601 && anim != 70603
value = 70603

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 13 && pos y > -5 && anim != 70600+var(1)*1000 && anim != 70602+var(1)*1000
value = 70602+var(1)*1000

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -5
statetype = S      ;S,A,C,L
physics = S         ;A,C,S,N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < -5
statetype = A      ;S,A,C,L
physics = S         ;A,C,S,N

[State 310, 1]
type = PosSet
trigger1 = time = 13
trigger1 = ishelper(202)
x = -360

[State 310, 1]
type = PosSet
trigger1 = time = 13
trigger1 = ishelper(203)
x = 360

[State 310, 1]
type = Posset
trigger1 = time = 13
y = 0

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1
length = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = time = 14 && pos x < 0 && facing = -1
trigger2 = time = 14 && pos x > 0 && facing = 1

[State 310, 6]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
value = 553
;-----------------
;Shisekiyojin
[StateDef 553]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 553
poweradd = 0
sprpriority = 0

[State 310, 6]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 80
value = 199
;-----------------
;Shisekiyojin
[StateDef 555]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 555
poweradd = 0
sprpriority = -2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -abs(helper(202), pos x)+abs(helper(203), pos x)
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F19,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F10,20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 556
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 30
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = numhelper(556) = 0
helpertype = normal
name = "Blokada"
ID = 556        
stateno = 556
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = -350
size.ground.back = -380
size.air.front = 350
size.air.back = -380
size.height = 350
size.head.pos = -370,250 
size.mid.pos = -370,-100

[State 0, Helper]
type = Helper
trigger1 = numhelper(557) = 0
helpertype = normal
name = "Blokada"
ID = 557       
stateno = 556
pos = 0,0
postype = p1   
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = -350
size.ground.back = -380
size.air.front = 350
size.air.back = -380
size.height = 350
size.head.pos = -370,250 
size.mid.pos = -370,-100

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;------------------------
[Statedef 556]
type = S
movetype = A
physics = S
anim = 557
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = -3
pausetime = 0, 0
sparkno = 4
sparkxy = -15,-30-random%60
hitsound = 10, 5
guardsound = 10, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-1
airguard.velocity = -7,-1
air.type = High
air.velocity = -7,-1
air.hittime = 12
fall = 1

[state 340 ,5]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Mokuton, Jukai Kotan
[StateDef 560]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 560
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S2,2

[State 1500]
type = SuperPause
trigger1 = time = 14
time = 40
movetime = 0
supermove = 0
sound = F19,1
anim = 2003
pos = 3,-42
anim = 9999
darken = 1
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 30 && timemod = 15,0
anim = F1070
pos = 3,-42
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 30 && timemod = 15,0
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 25 && timemod = 25,0
value = F13,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 35 && timemod = 25,0
value = F16,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 45 && timemod = 25,0
value = F16,2

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
trigger2 = animelem = 8
helpertype = normal;player
name = "Mokuton"
ID = 565+random%2
stateno = 565+random%3
pos = (-100+random%100)+(time-30)*7,-12+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal;player
name = "Mokuton"
ID = 565
stateno = 565+random%3
pos = (-100+random%100)+(time-35)*7,60-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
trigger2 = animelem = 11
helpertype = normal;player
name = "Mokuton"
ID = 565+random%2
stateno = 565+random%3
pos = (-100+random%100)+(time-40)*7,-14+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 12
helpertype = normal;player
name = "Mokuton"
ID = 565+random%2
stateno = 565+random%3
pos = (-100+random%100)+(time-45)*7,65-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 13
trigger2 = animelem = 14
helpertype = normal;player
name = "Mokuton"
ID = 565+random%2
stateno = 565+random%3
pos = (-100+random%100)+(time-50)*7,-16+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 15
helpertype = normal;player
name = "Mokuton"
ID = 565+random%2
stateno = 565+random%3
pos = (-100+random%100)+(time-55)*7,70-random%20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "Mgla"
ID = 571
stateno = 571
pos = 0,50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 158
value = 0
ctrl = 1
;-----------------
;Mokuton
[StateDef 565]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565
poweradd = -140

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2  
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(2) < 1400
v = 2   
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10   
value = cond(pos y < 0,-6+random%3,45+random%3)

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F65
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = var(10)-1
supermovetime=9999
pausemovetime=9999

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = F591
ID = 591
pos = -40+random%80,0-random%40
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)+2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = 901+random%2
ID = 901
pos = -40+random%80,0-random%40
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = var(10)+3
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = var(10)+4

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
persistent = 0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 570 && parent, animelem = 4
triggerall = time < 1400
triggerall = ishelper(566)
value = 575

[State 0, Trans]
type = Trans
trigger1 = time > 1400
trans = addalpha
alpha = 256-(time-var(2))*2.56,(time-var(2))*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500
;-----------------
;Mokuton
[StateDef 566]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 566
poweradd = -140

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2  
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(2) < 1400
v = 2   
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10   
value = cond(pos y < 0,-6+random%3,45+random%3)

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F65
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = var(10)-1
supermovetime=9999
pausemovetime=9999

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = F591
ID = 591
pos = -40+random%80,0-random%40
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)+2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = 901+random%2
ID = 901
pos = -40+random%80,0-random%40
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = var(10)+3
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = var(10)+4

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
persistent = 0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 570 && parent, animelem = 4
triggerall = time < 1400
triggerall = ishelper(566)
value = 576

[State 0, Trans]
type = Trans
trigger1 = time > 1400
trans = addalpha
alpha = 256-(time-1400)*2.56,(time-1400)*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500
;-----------------
;Mokuton
[StateDef 567]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 567
poweradd = -140

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2  
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(2) < 1400
v = 2   
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10   
value = cond(pos y < 0,-6+random%3,45+random%3)

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = F65
pos = 0,0
scale = 1,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = var(10)-1
supermovetime=9999
pausemovetime=9999

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = F591
ID = 591
pos = -40+random%80,0-random%40
vel = -2+random%4,-3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)+2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time < 15
anim = 901+random%2
ID = 901
pos = -40+random%80,0-random%40
vel = (-5+random%10)/10,-1
accel = 0,0.03
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = var(10)+3
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = animelem = 1
anim = F587
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = var(10)+4

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
persistent = 0
attr = S, NA
damage = 75,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15,-20-random%40
hitsound = 13, 2
guardsound = 13, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 570 && parent, animelem = 4
triggerall = time < 1400
triggerall = ishelper(566)
value = 577

[State 0, Trans]
type = Trans
trigger1 = time > 1400
trans = addalpha
alpha = 256-(time-1400)*2.56,(time-1400)*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500
;-----------------
;Mokuton, Kajukai Korin
[StateDef 570]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 570
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,14

[State 1500]
type = SuperPause
trigger1 = animelem = 3
time = 30
movetime = 0
supermove = 0
sound = F19,5
anim = 2016
pos = 3,-42
anim = 9999
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F13,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 15 && timemod = 25,0
value = F16,2

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 15 && timemod = 15,0
time = 20
freq = 15
ampl = -3
phase = 5

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Mgla
[StateDef 571]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 573
poweradd = 0
sprpriority = 60

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2  
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(2) < 1400
v = 2   
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 570 && parent, animelem = 5
triggerall = time < 1400
value = 572

[State 0, End]
type = Destroyself
trigger1 = Time = 1500
;-----------------
;Mgla
[StateDef 572]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 571
poweradd = -(2500-(var(2)*2))
sprpriority = 30

[State 0, VarSet]
type = VarSet
trigger1 = 0;time = 0
v = 3  
value = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) < 1350-var(2)
v = 3   
value = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 572
ID = 572
pos = 400,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 1450-var(2)
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,1
sprpriority = 60
ownpal = 1
trans = addalpha
alpha = 0,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 50
anim = 572
ID = 572
trans = addalpha
alpha = 0+time*2.5,256
sprpriority = 60

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [50,1350-var(2)]
anim = 572
ID = 572
trans = addalpha
alpha = 128,256
sprpriority = 60

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 1350-var(2)
anim = 572
ID = 572
trans = addalpha
alpha = 128-(time-var(3))*1.28,256
sprpriority = 60

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 572
ID = 572
pos = 600,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 1450-var(2)
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,1
sprpriority = 60
ownpal = 1
trans = addalpha
alpha = 0,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 50
anim = 572
ID = 572
trans = addalpha
alpha = 0+time*2.5,256
sprpriority = 60

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [50,1350-var(2)]
anim = 572
ID = 572
trans = addalpha
alpha = 128,256
sprpriority = 60

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 1350-var(2)
anim = 572
ID = 572
trans = addalpha
alpha = 128-(time-var(3))*1.28,256
sprpriority = 60

[State 0, Trans]
type = Trans
trigger1 = time < 50
trans = addalpha
alpha = 0+time*2.56,256

[State 0, Trans]
type = Trans
trigger1 = time = [50,1350-var(2)]
trans = addalpha
alpha = 128,256

[State 0, Trans]
type = Trans
trigger1 = time > 1350-var(2)
trans = addalpha
alpha = 128-(time-var(3))*1.28,256

[State 0, Trans]
type = Trans
trigger1 = time > 1450-var(2)
trans = addalpha
alpha = 0,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 50,0
attr = S, NA
damage = 50,50
ID = 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 60
sprpriority = 60
pausetime = 0, 5
sparkno = 9999
sparkxy = -15,-100000
hitsound = 13, 99999
guardsound = 13, 9999
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = [50,1400-var(2)]
value = -2
ID = 5
kill = 1
absolute = 1

[State 0, end]
type = destroyself
trigger1 = time = 1450-var(2)
;-----------------
;Mokuton
[StateDef 575]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 575
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = 0;time = 0
v = 3  
value = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) < 1400-var(2)
v = 3   
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 25,0 && time = [25,175]
anim = 578
ID = 578
pos = 82,-105
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Trans]
type = Trans
trigger1 = time > 1400-var(2)
trans = addalpha
alpha = 256-(time-var(3))*2.56,(time-var(3))*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500-var(2)
;-----------------
;Mokuton
[StateDef 576]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 576
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = 0;time = 0
v = 3  
value = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) < 1400-var(2)
v = 3   
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 25,0 && time = [35,185]
anim = 578
ID = 578
pos = 150,-125
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 25,0 && time = [35,185]
anim = 578
ID = 578
pos = 177,-142
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Trans]
type = Trans
trigger1 = time > 1400-var(2)
trans = addalpha
alpha = 256-(time-var(3))*2.56,(time-var(3))*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500-var(2)
;-----------------
;Mokuton
[StateDef 577]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 577
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = 0;time = 0
v = 3  
value = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) < 1400-var(2)
v = 3   
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 0
value = var(10)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 20,0 && time = [45,195]
anim = 578
ID = 578
pos = 58,-139
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 20,0 && time = [45,195]
anim = 578
ID = 578
pos = 200,-125
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 20,0 && time = [45,195]
anim = 578
ID = 578
pos = 308,-130
vel = -1+random%3,-2
accel = 0,0.15
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = var(10)-1
ontop = 0

[State 0, Trans]
type = Trans
trigger1 = time > 1400-var(2)
trans = addalpha
alpha = 256-(time-var(3))*2.56,(time-var(3))*2.56

[State 0, end]
type = destroyself
trigger1 = time = 1500-var(2)
;-----------------------------
;Kawarimi
[StateDef 4501]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F21,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F700
ID = 700
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;----------------
;White Flash
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;--------------
;Weapon Throw
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 5,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Weapon Throw
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 5,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Weapon Throw
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 5,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Weapon Throw
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 0,-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Weapon Throw
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70741
stateno = 70741
pos = 0,-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Weapon Throw
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7,0+random%4
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 0,-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
;Odbicie od sciany
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050



;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 0;acing = 1
text = "X = %d  Y = %d  V = %d"
params = (helper(355), pos x - pos x), pos y, fvar(5)

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 0;facing = -1
text = "X = %d  Y = %d  V = %d"
params = (helper(355), pos x - pos x), pos y, fvar(5)

;-- PLATFORMY -------------------------------------

[State 0, Nadawanie]
type = Null
trigger1 = fvar(5) := (-58*sin((((pos x) - (helper(355), pos x)))*PI/180) +helper(355), pos y)
trigger1 = (pos x - helper(355), pos x = [0,100])
trigger1 = helper(355), facing = 1

;trigger2 = fvar(5) := (-58*sin((((helper(355),pos x) - ( pos x)))*PI/180) +helper(355), pos y)
;trigger2 = (helper(355), pos x - pos x = [0,100])
;trigger2 = helper(355), facing = -1

triggerall = numhelper(355) != 0
triggerall = 0;helper(355), time > 10 && helper(355), time < 275
ignorehitpause = 1

[State 0, Zerowanie]
type = Null
;trigger1 = fvar(5) := 0
;trigger1 = numhelper(355) = 0; || (numhelper(355) != 0 && helper(355), time > 300)
trigger1 = fvar(5) := 0
trigger1 = (helper(355), facing = 1 && pos x - helper(355), pos x != [0,100]) || (helper(355), facing = -1 && helper(355), pos x - pos x != [0,100])
trigger1 = numhelper(355) != 0
trigger1 = helper(355), time > 10 && helper(355), time < 275
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = (helper(355), facing = 1 && pos x - helper(355), pos x = [0,100]) || (helper(355), facing = -1 && helper(355), pos x - pos x = [0,100])
trigger1 = numhelper(355) != 0
trigger1 = helper(355), time > 10 && helper(355), time < 275
triggerall = pos y - fvar(5) = [-10,10]
triggerall = 0;statetype != A && vel y = 0
ignorehitpause = 1
y = ifelse(fvar(5) < 0, fvar(5), 0)

[State 0, Jump Up]
type = ChangeState
trigger1 = (helper(355), facing = 1 && pos x - helper(355), pos x = [0,100]) || (helper(355), facing = -1 && helper(355), pos x - pos x = [0,100])
trigger1 = helper(355), time >= 275
trigger2 = fvar(5) = 0 && pos y < 0
;triggerall = (pos y + vel y) < fvar(5)
triggerall = numhelper(355) != 0
triggerall = statetype != A
triggerall = 0;stateno != [40,52]
ignorehitpause = 1
value = 40
ctrl = 1

[State 0, Jump Off]
type = ChangeState
trigger1 = statetype != A && pos y < 0
trigger1 = numhelper(355) = 0
trigger2 = (helper(355), facing = 1 && pos x - helper(355), pos x = [100,110]) || (helper(355), facing = -1 && helper(355), pos x - pos x = [100,110])
trigger2 = numhelper(355) != 0
trigger2 = helper(355), time > 10 && helper(355), time < 275
trigger3 = fvar(5) = 0 && pos y < 0
;triggerall = (pos y + vel y) < fvar(5)
triggerall = statetype != A
triggerall = 0;stateno != [40,52]
ignorehitpause = 1
value = 50
ctrl = 1

[State 0, Landing]
type = ChangeState
trigger1 = (helper(355), facing = 1 && pos x - helper(355), pos x = [5,95]) || (helper(355), facing = -1 && helper(355), pos x - pos x = [5,95])
triggerall = numhelper(355) != 0
triggerall = helper(355), time > 10 && helper(355), time < 275
triggerall = (pos y + vel y) > fvar(5)
triggerall = 0;statetype = A && stateno = 50 && stateno != 52
value = 52
ctrl = 1




;----------------------------------------------------------------------
 
;Tworzenie belki po ataku combo 2
[State 0, Helper]
type = Helper
trigger1 = numhelper(221) = 0
triggerall = prevstateno = 221
triggerall = var(11) = 1
helpertype = normal;player
name = "Mokuton"
ID = 221
stateno = 2211
pos = 42,-44
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

;--------------------------------

;Zmiany Palety
;--------------------------
[state 0, Normal]
type = RemapPal
trigger1 = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 0
trigger3 = root, var(1) = 0
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,41
dest = 0,42

[state 0, Normal]
type = RemapPal
trigger1 = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 0
trigger3 = root, var(1) = 0
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,42
dest = 0,42

[state 0, Normal]
type = RemapPal
trigger1 = var(1) = 0
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 0
trigger3 = root, var(1) = 0
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,43
dest = 0,42
;--------------------------
[state 0, Sage]
type = RemapPal
trigger1 = var(1) = 1
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 1
trigger3 = root, var(1) = 1
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,41
dest = 0,43

[state 0, Sage]
type = RemapPal
trigger1 = var(1) = 1
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 1
trigger3 = root, var(1) = 1
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,42
dest = 0,43

[state 0, Sage]
type = RemapPal
trigger1 = var(1) = 1
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger2 = root, var(1) = 1
trigger3 = root, var(1) = 1
trigger3 = ishelper(201) || ishelper(202) || ishelper(203)
source = 0,43
dest = 0,43

;-----------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
value = S2,3+random%7
volume = 256
channel = 2


;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = 0;pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = 0;pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]

;----------------------
;Rashomon
[State 150, 1]
type = ChangeState
trigger1 = ishelper(546) && stateno != 130
value = 130

[State 150, 1]
type = destroyself
trigger1 = ishelper(546) && stateno != 130

;<<<<<<SENNIN MODO>>>>>>>

[State 0, ---SENNIN---]
type = Helper
trigger1 = var(2) > 0
trigger1 = numhelper(1992) = 0
helpertype = normal
name = "Pasek"
ID = 1992         
stateno = 1992
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 0
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1992) = 0
id = 1993

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(1992) = 0
id = 1994

;----

;Ladowanie
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1990,1991]
id = 1991

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1990,1991]
id = 1997

;-----------

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(1) = 1
value = 0.75

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 5,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
triggerall = var(1) = 1
triggerall = !ishelper
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = var(1) = 1 && var(2) = 0
trigger2 = lose
trigger3 = life = 0
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = !ishelper
triggerall = var(1) = 1
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(1) = 0 && var(2) = 600
triggerall = !ishelper
v = 1
value = 1

[State 0, Obnizanie gdy nieaktywny]
type = VarAdd
trigger1 = var(2) > 0
triggerall = timemod = 5,0
triggerall = var(1) != 1
triggerall = stateno != [100000,109999]
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = var(1) < 2
triggerall = !ishelper
v = 2
value = -1

[State 0, Obnizanie gdy aktywny]
type = VarAdd
trigger1 = var(2) > 0
triggerall = timemod = 3,0
triggerall = var(1) = 1
triggerall = stateno != [100000,109999]
triggerall = stateno != 170
triggerall = stateno != [180,190]
triggerall = stateno != 190
triggerall = stateno != 5900
triggerall = var(1) < 2
triggerall = !ishelper
v = 2
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(2) <= 0
trigger2 = lose
trigger3 = life = 0
trigger4 = !ALive
triggerall = !ishelper
v = 2
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(2) >= 600
trigger2 = stateno = 0 && prevstateno = 190 && var(1) = 1
triggerall = !ishelper
v = 2
value = 600



;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,3,3),cond(pos y = 0,-37,-37)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,3,3),cond(pos y = 0,-57,-57)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,13,13),cond(pos y = 0,-47,-47)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-7,-7),cond(pos y = 0,-47,-47)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1
;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 5,0
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,199]
triggerall = prevstateno != 190
value = 1

;------------------

[State -3, Afterimage normal]
type = AfterImage
trigger1 = var(1) = 0
triggerall = time = 0
time = 1

[State -3, Sennin]
type = AfterImage
triggerall = var(0) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 180,160,50
palpostbright = 0,0,0
paladd = 5,5,2
palmul = .65,.65,.15
timegap = 1
framegap = 1
trans = add