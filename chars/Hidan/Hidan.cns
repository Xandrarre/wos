
[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 0
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1
yscale = 1			
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 63
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -58
mid.pos = 0, -32
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5		
walk.back = -1.5		
run.fwd  = 7.4, 0
run.back = -5.4,-3.2
jump.neu = 0,-8.5	
jump.back = -3.1	
jump.fwd = 3.1	
runjump.back = -2.65,-8.4
runjump.fwd = 4.1,-8.4
airjump.neu = 0,-8.4
airjump.back = -2.65
airjump.fwd = 2.6

[Movement]
airjump.num = 1	
airjump.height = 35	
yaccel = .44	
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(0)*10000
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2101
scale = 0.3,0.3
pos = 50,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,3
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S2,29
volume = 256
channel = 2

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180+var(0)*10000
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,55

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%5

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = S2,56

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 210
value = S2,54

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195+var(0)*10000
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,38
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,16
volume = 256
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;------------------
;---------------------------------------------------------------------------
; Bieg Okrag
[Statedef 110]
type    = S
physics = S
anim = 10110
sprpriority = 1
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2bodydist x = [0,30]
triggerall = random = [600,619+var(49)*(var(49))/500]
value = 40

[State 100, 4]
type = ChangeState
trigger1 = pos x - helper(410), pos x = [-25,25]
trigger2 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Bieg Okrag
[Statedef 111]
type    = S
physics = S
anim = 10111
sprpriority = 1
ctrl = 0


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = -const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2bodydist x = [0,30]
triggerall = random = [600,619+var(49)*(var(49))/500]
value = 40

[State 100, 4]
type = ChangeState
trigger1 = pos x - helper(410), pos x = [-25,25]
trigger2 = time = 50
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F300
ID = 24
pos = 10,2
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
facing = 1
vel = -.3,0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2001
scale = 0.5,0.5
pos = 20,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2011
scale = 0.5,0.5
pos = 41,-27
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-22-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -27
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2021
scale = 0.5,0.5
pos = 41,-53
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-50-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -55
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2031
scale = 0.5,0.5
pos = 25,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
vel = 0.5,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,26
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-25-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2101
scale = 0.3,0.3
pos = 50,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-2-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -7
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 2
[StateDef 211]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 211+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2111
scale = 0.5,0.5
pos = 25,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2
 
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-45-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 2
[StateDef 212]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 212+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2121
scale = 0.5,0.5
pos = 51,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2
 
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,4
airguard.velocity = -2,4
air.type = High
air.velocity = -2,4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 2
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 213+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 5, 36
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 2
[StateDef 214]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 242+var(0)*10000
poweradd = 20
sprpriority = 2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,100,100
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2421
scale = 0.7,0.7
pos = 5,-44
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA
damage = 15,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2201
scale = 0.4,0.4
pos = 15,-65
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-34-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -39
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2
[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 221+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 222+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2221
scale = 0.5,0.5
pos = 25,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-45-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 5, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-7
airguard.velocity = -5,-7
air.type = High
air.velocity = -5,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 3
[StateDef 223]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-6
ctrl = 0
anim = 223+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2421
scale = 0.7,0.7
pos = 5,-44
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = 2121
scale = 0.5,0.5
pos = 51,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,30
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S2,32
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-5-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = S, NA
damage = 40,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
 sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------



;------------------
;Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2121
scale = 0.5,0.5
pos = 51,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 231+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-4
airguard.velocity = -5,-4
air.type = High
air.velocity = -5,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------
;Combo 4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 232+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 5, 25
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 233+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2201
scale = 0.4,0.4
pos = 25,-65
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,18
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-34-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -39
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------



;------------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 240+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -23
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 241+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -21
hitsound = 5, 25
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 242+var(0)*10000
poweradd = 20
sprpriority = 2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,100,100
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2421
scale = 0.7,0.7
pos = 5,-44
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-30-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
attr = S, NA
damage = 15,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 243+var(0)*10000
poweradd = 20
sprpriority = 2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,100,100
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2431
scale = 0.8,0.8
pos = -17,-87
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,33
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-35-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35-random%20
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 11
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-7
airguard.velocity = -3,-7
air.type = High
air.velocity = -3,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------




;------------------
;Combo 6
[StateDef 250]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 250+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2501
scale = 0.5,0.5
pos = 25,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-45-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 5, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 251]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 251+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2511
scale = 0.6,0.8
pos = 25,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-26-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -31
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,6
airguard.velocity = -2,6
air.type = High
air.velocity = -2,6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 252]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 252+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 20
freq = 60
ampl = -8
phase = 60

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F580
pos = 30,0
scale = 1.0,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1190
pos = 30,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,30
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 80,25
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 6546356
sparkxy = -15, -10
hitsound = 5, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-8
airguard.velocity = -1,-8
air.type = High
air.velocity = -1,-8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Combo 7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 260+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2001
scale = 0.5,0.5
pos = 20,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-32-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -37
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 261+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2111
scale = 0.5,0.5
pos = 25,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-45-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 262+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -47
hitsound = 5, 25
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 263]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-7
ctrl = 0
anim = 263+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,1
airguard.velocity = -5,1
air.type = High
air.velocity = -5,1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 7
[StateDef 264]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 264+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2101
scale = 0.3,0.3
pos = 50,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 7
[StateDef 265]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 265+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2111
scale = 0.5,0.5
pos = 50,-20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,24
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -36
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-1
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 271+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2121
scale = 0.5,0.5
pos = 41,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 272+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2101
scale = 0.3,0.3
pos = 50,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 273]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 273+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2111
scale = 0.5,0.5
pos = 50,-20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-8-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------



;------------------
;Combo 9
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 280+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F600
pos = 10,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,100,100
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 2801
scale = 1,1
pos = -21,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 56
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
remappal = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
anim = 2431
scale = 0.8,0.8
pos = -35,-60
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 22
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 22
value = S2,27
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,24
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 2,0 && time < 60
attr = S, NA
damage = 12,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = High
air.velocity = -1,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 22
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-6
airguard.velocity = -4,-6
air.type = High
air.velocity = -4,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------


;------------------
;Obroty Kosa
[StateDef 295]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 295+var(0)*10000
poweradd = 20
sprpriority = 2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,100,100
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
trigger2 = animelem = 8
anim = 2431
scale = 0.8,0.8
pos = -17,-87
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,33
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-35-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
trigger10 = AnimElem = 11
trigger11 = AnimElem = 12
trigger12 = AnimElem = 13
trigger13 = AnimElem = 14
trigger14 = AnimElem = 15
trigger15 = AnimElem = 16
trigger16 = AnimElem = 17
trigger17 = AnimElem = 18
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35-random%20
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 19
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -4,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przerzucenie
[StateDef 300]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 300+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2501
scale = 0.5,0.5
pos = 25,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 20, 20
sparkno = 10+random%2
sparkxy = -20, -55
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 301

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przerzucenie
[StateDef 301]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 60
ampl = -6
phase = 60

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 3
anim = F580
pos = -30,0
scale = 1.0,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 3
anim = F210
pos = -30,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 3
anim = F1190
pos = -30,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2121
scale = 0.5,0.5
pos = -41,-35
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F310
ID = 310
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F290
ID = 290
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 12
sparkxy = 15, -45
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 6,-5
airguard.velocity = -1.9,-5
air.type = High
air.velocity = 6,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
yaccel = 0.5

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
 sparkno = 0+random%4
sparkxy = 15, -45
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 4,-1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 4,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 60
fall.envshake.ampl = -20
fall.envshake.phase = 20
fall.yvelocity = -7
yaccel = 1.5
fall.damage = 50

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 20
pos = -35,-30

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 5
attr = C,HP
damage = 30,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 13,-6
airguard.velocity = 13,-6
air.type = High
air.velocity = 13,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------


;------------------
;Ostrza
[StateDef 384]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2111
scale = 0.5,0.5
pos = 25,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2
 
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-45-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 385

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Ostrza
[StateDef 385]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 285+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
trigger2 = animelem = 10
trigger3 = animelem = 18
triggerall = numexplod(285) < 3
id = 285
anim = 286
scale = 0.8,0.8
pos = 20,-40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
trigger2 = animelem = 12
trigger3 = animelem = 20
triggerall = numexplod(285) < 3
id = 285
anim = 287
scale = 0.8,0.8
pos = 20,-40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
triggerall = numexplod(285) < 3
id = 285
anim = 288
scale = 0.8,0.8
pos = 20,-40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
trigger2 = animelem = 16
trigger3 = animelem = 24
triggerall = numexplod(285) < 3
id = 285
anim = 289
scale = 0.8,0.8
pos = 20,-40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
trigger7 = animelem = 14
trigger8 = animelem = 16
trigger9 = animelem = 18
trigger10 = animelem = 20
trigger11 = animelem = 22
trigger12 = animelem = 24
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,36

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
trigger7 = animelem = 14
trigger8 = animelem = 16
trigger9 = animelem = 18
trigger10 = animelem = 20
trigger11 = animelem = 22
trigger12 = animelem = 24
attr = S, NA
damage = 40,8
getpower = -100
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,10
sparkno = 2016
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = p2bodydist x != [0,80]
trigger2 = p2movetype != H
trigger2 = time > 40
value = 0
ctrl = 1
;-----------------------------------------------------------------------------
;Slash 
[Statedef 390]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 290+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 10
anim = 2421
scale = 0.7,0.7
pos = 5,-44
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,40
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,49
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-10-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
trigger10 = AnimElem = 11
trigger11 = AnimElem = 12
trigger12 = AnimElem = 13
triggerall = hitcount < 5
attr = S, NA
damage = 100,20
animtype = Light
givepower = 0
getpower = -200
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 2000
sparkxy = -15, -10-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 200, PlaySnd]
type = Velset
trigger1 = var(50) = 0 && command = "holdfwd"
trigger2 = var(50) = 1 && p2bodydist x > 30
x = 5

[State 200, PlaySnd]
type = Velset
trigger1 = var(50) = 0 &&  command = "holdback"
trigger2 = var(50) = 1 && p2bodydist x < -30
x = -5

[State 200, PlaySnd]
type = VelAdd
trigger1 = var(50) = 0 &&  command = "holddown"
trigger2 = var(50) = 1 && p2bodydist y > 20
triggerall = time > 10
y = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,100,100
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 14
anim = 2121
scale = 0.5,0.5
pos = 51,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 14
attr = S, NA
damage = 150,30
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 2016
sparkxy = -15, -13
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 200, 5]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Atak 1
[StateDef 310]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2101
scale = 0.3,0.3
pos = 50,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 10+random%2
sparkxy = -15, -7
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Atak 2
[StateDef 311]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 311+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 2201
scale = 0.4,0.4
pos = 15,-65
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,25
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 10+random%2
sparkxy = -15, -39
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------



;------------------
;Atak 3
[StateDef 312]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 312+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,26
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1
sparkxy = -15, -23
hitsound = 5, 24
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Wbicie w ziemie
[StateDef 313]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 251+var(0)*10000
poweradd = -250
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2511
scale = 0.6,0.8
pos = 25,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,25
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -10,-10-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C, HP
damage = 100,20
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2006
sparkxy = -15, -15
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 35
ground.velocity = -5,6
airguard.velocity = -5,6
air.type = High
air.velocity = -5,6
yaccel = 0.8
fall = 1
air.hittime = 35
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Uderzenie w ziemie
[StateDef 314]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 252+var(0)*10000
poweradd = -500
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 60
ampl = -6
phase = 60

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F530
pos = 20,0
scale = 0.8,0.8
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F530
pos = 40,0
scale = 0.8,0.8
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F580
pos = 30,0
scale = 1.0,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F550
pos = 30,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F64
pos = 30,4
scale = 0.7,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0 && time > 5 &&time < 25
anim = F591
ID = 591
pos = -40+random%80,10-random%20
vel = -6+random%12,-6
accel = 0,0.3
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F587
pos = 30,10
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,7

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 6546356
sparkxy = -15, -10
hitsound = 5, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-8
airguard.velocity = -2,-8
air.type = High
air.velocity = -2,-8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Wir
[StateDef 320]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 320+var(0)*10000
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 321
scale = 0.5,0.5
pos = 36,-50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 321
scale = 0.4,0.4
pos = 16,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,2

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
value = F14,1

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -300
x = 1
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -300
x = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3 && numexplod(1390) < 2
id = 1390
anim = F1390
pos = 20,-35
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,35
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 11
sparkxy = -15+random%10, -50+random%20
hitsound = 5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 50
ctrl = 1

;------------------
;Atak Kosa
[StateDef 330]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 330+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [11,60]
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
id = 329
anim = 329
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 50
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [15,60]
trigger1 = timemod = 3,0
id = 330
anim = 331+random%14
scale = 0.8,0.8
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0 && time = [11,60]
value = S6,1+random%1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,11
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,10
volume = 255
channel = 2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time < 60
attr = S, NA
damage = 60,12
getpower = -150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 2017
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 60,30
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 2016
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Air Atak Kosa
[StateDef 350]
type = A
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 350+var(0)*10000
poweradd = 0
sprpriority = 2


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 40
statetype = A       
movetype = A       
physics = A         


[State 0, VelSet]
type = VelSet
trigger1 = time = [11,40]
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
id = 329
anim = 329
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 50
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [15,40]
trigger1 = timemod = 3,0
id = 330
anim = 331+random%14
scale = 0.8,0.8
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0 && time = [11,40]
value = S6,1+random%1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,33
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,1
volume = 255
channel = 2

[State 0, HitDef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time < 60
attr = S, NA
damage = 70,14
getpower = -150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 2017
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = var(3) = 0
value = 106025+ID%4

[State 0, VarSet]
type = VarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 60,30
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 2016
sparkxy = -15, -20-random%40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,3
airguard.velocity = -2,3
air.type = High
air.velocity = -2,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------
;Rzut Kos
[StateDef 360]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 3
trigger1 = anim = 360+var(0)*10000
trigger2 = anim = 366+var(0)*10000
value = S2,31+random%10
volume = 255
channel = 2

;skok------------------------
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
trigger1 = time = 0
statetype = A      
physics = A   

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
trigger1 = time = 0
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = vel y < -9
y = -9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y < 0
trigger1 = time = 0
value = 366+var(0)*10000

;ldowanie------------------
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -12
trigger1 = pos y != 0
statetype = S      
physics = S

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y > -12
trigger1 = pos y != 0
value = 360+var(0)*10000
elem = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -12
trigger1 = pos y != 0
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -12
trigger1 = pos y != 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, PosSet]
type = velSet
trigger1 = pos y > -12
trigger1 = pos y != 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -12
trigger1 = pos y != 0
y = 0

;helpery---------------------
[State 0, Helper]
type = Helper
triggerall = animelem = 3
trigger1 = anim = 360+var(0)*10000
trigger2 = anim = 366+var(0)*10000
helpertype = normal ;player
name = "Kosa"
ID = 365
stateno = 365 
pos = 30,-35
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = animelem = 3
trigger1 = anim = 360+var(0)*10000
trigger2 = anim = 366+var(0)*10000
helpertype = normal ;player
name = "Lina"
ID = 364
stateno = 364 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

;przycignicie kosy-------------
[State 0, SprPriority]
type = SprPriority
trigger1 = numhelper(365) = 1
trigger1 = anim = 362+var(0)*10000
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = command = "holdback" 
trigger1 = statetype = S
trigger1 = numhelper(365) = 1
trigger1 = helper(365), stateno = 365
trigger1 = time > 15
trigger1 = anim != 362+var(0)*10000
trigger2 = prevstateno = 214 && time = 20
value = 362+var(0)*10000

;animacja powrotu-----------
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(365) = 0
trigger1 = anim = 360+var(0)*10000
trigger1 = anim != 361+var(0)*10000
trigger1 = time > 10
value = 361+var(0)*10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(365) = 0
trigger1 = anim = 362+var(0)*10000
trigger1 = anim != 363+var(0)*10000
trigger1 = time > 10
value = 363+var(0)*10000

;koniec---------------------
[State 0, End]
type = ChangeState
trigger1 = anim = 361+var(0)*10000
trigger2 = anim = 363+var(0)*10000
triggerall = animtime = 0
value = 0
ctrl = 1
;------------------------------------------------------
;Rzut Kos doskok
[StateDef 361]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 367+var(0)*10000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = pos y != 0
anim = F280
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = pos y = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%13
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 100,20
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2016
sparkxy = -15, -25
hitsound = 35, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -14,-2
airguard.velocity = -14,-2
air.type = High
air.velocity = -14,-2
air.hittime = 12
p2stateno = 109990
fall.recover = 0
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 15
value = (helper(365),Pos X-Pos X)*Facing/20

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = fvar(15) < 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = Abs(fvar(15))*1.2
y = -4

;--------------------------------------------------------------
;Lina
[StateDef 364]
type = S
movetype= I
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 364
sprpriority = 1

[State 0, DestroySelf]
type = destroyself
trigger1 = numhelper(365)=0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 360+parent,var(0)*10000
trigger2 = parent, anim = 366+parent,var(0)*10000
time = 1
pos = -13,-53

[State 0, BindToParent]
type = BindToParent
triggerall = parent, anim = 362+parent,var(0)*10000
trigger1 = parent, animelem = 1
time = 1
pos = 0,-39

[State 0, BindToParent]
type = BindToParent
triggerall = parent, anim = 362+parent,var(0)*10000
trigger1 = parent, animelem = 2
trigger2 = parent, animelem = 3
trigger3 = parent, animelem = 4
time = 1
pos = -21,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, anim = 367+parent,var(0)*10000
time = 1
pos = 0,-30

[State 1640, X]
Type=VarSet
Trigger1= 1
fvar(13)=(helper(365),Pos X-Pos X)*Facing-parent,vel x

[State 1640, Y]
Type=VarSet
trigger1= 1
fvar(14)=-(helper(365),pos Y-Pos Y)+parent,vel y

[State 1640, alfa]
Type=VarSet
trigger1= 1
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)<0,PI ,0)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)

[State 1640, R]
Type=VarSet
trigger1= 1
fvar(16)= Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))/4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(15)*180/PI
scale = fvar(16)*0.8,1 

;------------------
;Kosa
[StateDef 365]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 365
sprpriority = 1

[State 0, DestroySelf]
type = destroyself
trigger1 = parent, stateno != 360

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-15+random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 15,3
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 2017
sparkxy = -15+random%10, -15+random%10
hitsound = S6, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2*cond(vel x >0,1,-1),0
airguard.velocity = -2*cond(vel x >0,1,-1),0
air.type = High
air.velocity = -2*cond(vel x >0,1,-1),0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = Parent,var(3) = 0
value = 106025+(parent,ID)%4

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 0, alive]
type = VarSet
trigger1 = time = 0
var(12) = cond((enemynear(0),alive),0,1)
ignorehitpause = 1

[State 1640, X]
Type=VarSet
Trigger1= time = 0
fvar(13)=(enemynear(var(12)),Pos X-Pos X)*Facing
ignorehitpause = 1

[State 1640, Y]
Type=VarSet
trigger1= time = 0
triggerall = parent, prevstateno = 214
fvar(14)=-(enemynear(var(12)),pos Y-Pos Y-10)
ignorehitpause = 1

[State 1640, Y]
Type=VarSet
trigger1= time = 0
triggerall = parent, prevstateno != 214
fvar(14)=-(enemynear(var(12)),pos Y-Pos Y-35)
ignorehitpause = 1

[State 1640, alfa]
Type=VarSet
trigger1= time = 0
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)<0,PI ,0)
ignorehitpause = 1

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
trigger1= time = 0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)
ignorehitpause = 1

[State 0, VelSet]
type=VelSet
trigger1= 1
x= 15*cos(fvar(15))
y= -15*sin(fvar(15))
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -160+fvar(15)*180/PI
ignorehitpause = 1

[State 0, DestroySelf]
type = changestate
trigger1 = pos y > -60*sin(fvar(15)+PI)
value = 367

[State 0, DestroySelf]
type = changestate
trigger1 = time = 30
trigger2 = parent, anim = 362+parent,var(0)*10000
trigger3 = frontedgedist < 0
trigger4 = backedgedist < 0
value = 366
;------------------
;Kosa powrt
[StateDef 366]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 365
sprpriority = 1

[State 0, DestroySelf]
type = destroyself
trigger1 = parent, stateno != 360

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-15+random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 15,3
getpower = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 2016
sparkxy = -15+random%10, -15+random%10
hitsound = S6, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2*cond(vel x >0,1,-1),0
airguard.velocity = -2*cond(vel x >0,1,-1),0
air.type = High
air.velocity = -2*cond(vel x >0,1,-1),0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(35) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
trigger1 = movehit
trigger1 = Parent,var(3) = 0
value = 106025+(parent,ID)%4

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
triggerall = target, name != "Hidan"
v = 3
value = 2

[State 1640, X]
Type=VarSet
trigger1 = parent, anim = 360+parent,var(0)*10000
trigger2 = parent, anim = 366+parent,var(0)*10000
fvar(13)=(parent,Pos X-Pos X)*facing-10

[State 1640, X]
Type=VarSet
trigger1 = parent, anim = 362+parent,var(0)*10000
fvar(13)=(parent,Pos X-Pos X)*facing-20

[State 1640, Y]
Type=VarSet
trigger1 = parent, anim = 360+parent,var(0)*10000
trigger2 = parent, anim = 366+parent,var(0)*10000
fvar(14)=(parent,pos Y-Pos Y-50)

[State 1640, Y]
Type=VarSet
trigger1 = parent, anim = 362+parent,var(0)*10000
fvar(14)=(parent,pos Y-Pos Y-40)

[State 1640, alfa]
Type=VarSet
trigger1= fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))+cond(fvar(13)>0,PI ,0)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,-PI/2,PI/2)

[State 0, VelSet]
type=VelSet
trigger1= 1
x= -10*cos(fvar(15))
y= -10*sin(fvar(15))

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -160-fvar(15)*180/PI

[State 0, DestroySelf]
type = destroyself
trigger1 = helper(364), fvar(16) = [-5,5]

;------------------
;Kosa wbicie w ziemi
[StateDef 367]
type = S
movetype= I
physics = N
juggle  = 1
velset = 0,0;10,0
anim = 365
sprpriority = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -160+fvar(15)*180/PI

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F210
pos = -20-60*cos(-160+fvar(15)),60
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
pos = -20-60*cos(-160+fvar(15)),60
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F290
ID = 290
pos = -20-60*cos(-160+fvar(15)),60
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 40
trigger1 = parent, stateno = 360
value = 366

[State 0, DestroySelf]
type = destroyself
trigger1 = parent, stateno != 361
trigger1 = parent, stateno != 360
;------------------
;Atak Pretem
[StateDef 370]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F300
ID = 24
pos = 10,2
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 3
facing = 1
vel = -.3,0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 2001
scale = 0.5,0.5
pos = 20,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%6
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 2017
sparkxy = -15, -37
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 371

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Atak Pretem
[StateDef 371]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 371+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
anim = 75637356
sound = S2,1+random%30
pos = 0,-50
movetime = 15
darken = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
trigger2 = animelem = 9
anim = 2001
scale = 0.5,0.5
pos = 20,-38
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7
anim = 2011
scale = 0.5,0.5
pos = 41,-27
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 2021
scale = 0.5,0.5
pos = 41,-53
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,26
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -10,-25-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
triggerall = hitcount < 10
attr = S, NA
damage = 30,6
getpower = -80
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 2001
sparkxy = -15, -25-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = hitcount >= 10
trigger2 = time > 56 && command = "holddown"
trigger3 = p2bodydist x != [0,80]
trigger3 = p2movetype != H
trigger3 = time > 56
value = 0
ctrl = 1
;-----------------------------
;Przemiana
[StateDef 400]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,1+random%50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0 
value = S2,52+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0 
value = S2,52+random%5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time <= 50 
time = 150
add = -time,-time,-time
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 150 
time = 1
add = -50+(time-150)*2,-50+(time-150)*2,-50+(time-150)*2
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 170
anim = -1 
sound = S10,-1
pos = 0,0
movetime = 170
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Krg"
ID = 410
stateno = 410
pos = 0,2
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.25
size.yscale = 0.04
supermovetime = 99999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 85
anim = 401
ID = 401
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
supermovetime = 999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 9
anim = F14
ID = 14
pos = -22,-62
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.3,1.3
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = modifyExplod
trigger1 = time = [85,126]
ID = 401
trans = addalpha
alpha = (time-85)*6.4,256-(time-85)*6.4

[State 0, VarSet]
type = VarSet
trigger1 = time = 145 
v = 0
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 145 
v = 3
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;-----------------------------
;Odmiana
[StateDef 402]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 402
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,1+random%50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0 
value = S2,1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
anim = -1 
sound = S10,-1
pos = 0,0
movetime = 70
darken = 0
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = 403
ID = 403
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
supermovetime = 999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = modifyExplod
trigger1 = time = [11,70]
ID = 403
trans = addalpha
alpha = 256-(time-11)*6.4,(time-11)*6.4

[State 0, VarSet]
type = VarSet
trigger1 = time = 70
v = 0
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 70
v = 3
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;-----------------------------
;Krg
[StateDef 410]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 196
sprpriority = -5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 45 
anim = 197
ID = 197
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.25,0.04
sprpriority = -1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 45 
anim = 600
ID = 197
pos = -2,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.95,0.5
sprpriority =4
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 100
trigger1 = numhelper(410) !=1
trigger2 = time > 200
trigger2 = parent, var(0) = 0
value = 411

[StateDef 412]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
sprpriority = -5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 45 
anim = 197
ID = 197
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.25,0.04
sprpriority = -1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 45 
anim = 600
ID = 197
pos = -2,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
scale = 0.95,0.5
sprpriority =4
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 100
trigger1 = numhelper(410) !=1
trigger2 = time > 200
trigger2 = parent, var(0) = 0
value = 411

;-----------------------------
;Krg destroy
[StateDef 411]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = -5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha     ;none, add, addalpha, add1, sub
alpha = 256-time*6.4, 180

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 197
trans = addalpha     ;none, add, addalpha, add1, sub
alpha = 256-time*6.4, 256

[State 0, Explod]
type = removeExplod
trigger1 = time = 40 
ID = 197

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40

;-----------------------------
;Samookaleczenie
[StateDef 420]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10420
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,44

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,1+random%50
channel = 2

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = 90006
ID = 9998
pos = -33,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 2
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
supermovetime = 999999
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 90002
ID = 9997
pos = -33,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
supermovetime = 999999
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 0 && time < 57 && power >= 500
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 57 && random = [0,10-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 421
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 57 && time < 115 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 57 && time < 115 && power >= 700 && random = [0,100-var(49)*(var(49))/100] 
trigger2 = var(50) = 1
value = 422
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 115 && power >= 2000
trigger1 = var(50) = 0
trigger2 = time >= 115 && power >= 1500 && random = [0,100-var(49)*(var(49))/100]
trigger2 = var(50) = 1
value = 423
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && power >= 200 && power < 1000
value = 421
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 57 && power > 700 && power < 2000
value = 422
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 115 && power >= 2000
value = 423
ctrl = 1
;-----------------------------
;Samookaleczenie rka
[StateDef 421]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10421
poweradd = -500
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15 
value = S2,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,10+random%1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 3
value = -200
kill = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F2007
pos = 15,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F11
angle = -25+random%50
ID = 11
pos = 15,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F10
angle = -25+random%50
ID = 10
pos = 20,-55
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.75,0.75
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [20,45]
value = 5
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 6
value = -50
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;Samookaleczenie noga
[StateDef 422]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10422
poweradd = -1000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15 
value = S2,24

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,25+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 2
value = -400
kill = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F2012
pos = 7,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F12
angle = -25+random%50
ID = 12
pos = 7,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F10
angle = -25+random%50
ID = 10
pos = 7,-15
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.7,0.7
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [15,40]
value = 10
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
value = -100
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;Samookaleczenie serce
[StateDef 423]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10423
poweradd = -2000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15 
value = S2,47

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,49+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 1
value = -800
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 
value = F27,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F27,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F2018
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1,1
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F11
angle = -25+random%50
ID = 11
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.7,0.7
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F12
angle = -25+random%50
ID = 12
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.7,0.7
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F10
angle = -25+random%50
ID = 10
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.6,0.6
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [15,40]
value = 20
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
value = -200
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;Ultimate: Death Reaper
[StateDef 424]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4001
poweradd = -4000
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 1
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 1
time = 60
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30 
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30 
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30 
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S2,49

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S2,49

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S2,49

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12 
value = F15,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12 
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125 
value = F21,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125 
value = F27,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125 
value = F27,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125 
value = F27,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 100
trigger2 = animelem = 118
value = F8,0+random%5+random%4

[State 0, Swiatlo na ziemi]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 4002
ID = 4002
pos = 10,5
postype = p1
bindtime = -1
removetime = 84
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.2
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 12
time = 50
freq = 80
ampl = -8
phase = 80

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F580
pos = 30,0
scale = 1.5,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F210
pos = 30,3
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F1190
pos = 30,0
scale = 1.4,1.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, dym]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F1370
ID = 1370
pos = 10,20
postype = p1
bindtime = 1
facing = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, dym]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F1370
ID = 1370
pos = 50,20
postype = p1
bindtime = 1
facing = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 125
anim = F19
angle = random
ID = 10
pos = -5,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.7,0.7
sprpriority = 5
ownpal = 1

[State 0, explode]
type = Explod
ownpal = 1
trigger1 = time >= 125 && time < 150 && timemod = 5,0;time = 125
triggerall = numhelper(4003) < 3
angle = random
anim = F19
ID = 4003
pos = -200+random%400,-30-random%100
postype = p1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.25,1.25
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = 4005
ID = 4005
pos = 15,-40
postype = p1
bindtime = -1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.6
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,30
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 14
Time = 230
color = 0
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 243
Time = 3
color = 0+((time-243)*11.13)
add = -50+((time-243)*2.17),-50+((time-243)*2.17),-50+((time-243)*2.17)
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 125
value = -1800
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 246
value = -200
kill = 0
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [135,236]
value = 10
kill = 0
absolute = 0

[State 0, ChangeState]
type = changeState
trigger1 = time = 266
value = 0
ctrl = 1
;-----------------------------
;Combo rka
[StateDef 431]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10421
poweradd = -50
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,10+random%1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 3
value = -25
kill = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F11
angle = -25+random%50
ID = 11
pos = 15,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F10
angle = -25+random%50
ID = 10
pos = 20,-55
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.55,0.55
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 6
value = -15
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;Combo noga
[StateDef 432]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10422
poweradd = -100
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,25+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 2
value = -50
kill = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F12
angle = -25+random%50
ID = 12
pos = 7,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F10
angle = -25+random%50
ID = 10
pos = 7,-15
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
value = -25
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
;Combo serce
[StateDef 433]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10423
poweradd = -200
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F8,0+random%5+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = F24,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F5,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S2,49+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,10]  
value = S2,15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 1
value = -100
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 
value = F27,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F27,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F11
angle = -25+random%50
ID = 11
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F12
angle = -25+random%50
ID = 12
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F10
angle = -25+random%50
ID = 10
pos = 5,-32
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 0.4,0.4
sprpriority = 2
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
value = -50
kill = 0

[State 0, ChangeState]
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500+var(0)*10000
poweradd = -100
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 333
value = S2,5
volume = 255
channel = 2


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 12
flag = noshadow


[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y < 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1

;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = F9
channel = 9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 25
anim = 90000
ID = 90000
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;----------------
[Statedef 9998]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-(time-20)*32,(time-20)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 28
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16


;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%6
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 4,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655+var(0)*10000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%6
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 20,-21
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------
[Statedef 103020]
type = A
movetype= I
physics = S
anim = 5090+var(0)*10000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y = [-10,10]
anim = F62
ID = 24
pos = 20,-pos y+2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = 0,0
bindtime = 1
ownpal = 1
ontop = 0

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 5
value = F7,2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time < 5
x = -12
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,8]
x = -12
y = -10

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 0
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time > 10
value = 5050

[State 1025, State]
type = ChangeState
trigger1 = time >= 8
value = 109990

[State 1025, State]
type = SelfState
trigger1 = time >= 8
value = 109990

;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050




;---------------------- Integer variable list ----------------------

; var(0):= 400, 402, -2
; var(1):= -2
; var(2):= -2
; var(3):= 210, 211, 212, 214, 220, 222, 223, 230, 233, 242, 243, 250, 251, 261, 264, 265, 271, 272, 273, 280, 295, 300, 384, 385, 390, 310, 311, 320, 330, 350, 365, 366, 400, 402, -2
;var(10):= 77000, 78000, 77003
;var(12):= 365
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= -2, 70500
;var(20):= 70650, 70655, 5900, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 5900
;fvar(10):= 420, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 364, 365, 366, 60
;fvar(14):= 364, 365, 366, 60
;fvar(15):= 361, 364, 365, 366, 60
;fvar(16):= 364




;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,1+random%30
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 998
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,52+random%5
volume = 256
channel = 2

[State 1520]
type = Explod
triggerall = numhelper(410) = 1
triggerall = pos x - helper(410), pos x = [-35,35]
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
anim = F406
ID = 402
pos = -30+random%60,-5
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-0.5+random%2
facing = 1
name = "wietliki"
vfacing = 1
bindtime = 1
removetime = 33
scale = (0.025*var(18)),(0.05*var(18))
sprpriority = cond(timemod=2,1,-1,1)
ontop = 0
trans = add
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 2,1
v = 18
range = 2,5

;--------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 420
id = 9998

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

;-----------------------------

[State -1, DeActivate Curse - helper]
type = VarSet
trigger1 =  playerID(56), var(35) = 0 || playerID(56),ishelper
trigger1 =  playerID(57), var(35) = 0 || playerID(57),ishelper
trigger1 =  playerID(58), var(35) = 0 || playerID(58),ishelper
trigger1 =  playerID(59), var(35) = 0 || playerID(59),ishelper
trigger1 =  enemy(0), var(35) = 0 || enemy(0),ishelper
trigger1 =  enemy(1), var(35) = 0 || enemy(1),ishelper
trigger1 =  enemynear(0), var(35) = 0 || enemynear(0),ishelper
trigger1 =  enemynear(1), var(35) = 0 || enemynear(1),ishelper
v = 3
value = 0

;Curse
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(0) = 1
trigger1 = timemod = 5,0
triggerall = stateno != [400,402]
triggerall = stateno != 424
triggerall = stateno != [5000,5299]
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = prevstateno != 5900
value = -5

[State -3, VarSet - usunicie Curse]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = matchover
triggerall = stateno != [400,499]
triggerall = stateno != 360
v = 0
value = 0

;----------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos x - helper(410), pos x = [-35,35]
trigger1 = stateno = [5000,5079]
triggerall = pos y > -20
triggerall = numhelper(410) != 0
x = helper(410), pos x

[State -1, DeActivate Curse]
type = VarSet
triggerall = var(0) = 1
trigger1 = life = 0
trigger2 = var(3) = 0
v = 0
value = 0
;------------------

[State 0, VarAdd]
type = Varset
triggerall = var(0) = 1
trigger3 = pos x - helper(410), pos x != [-35,35]
trigger2 = pos y <= -6
trigger1 = life>=var(2)
var(1) = 0

[State 0, VarAdd]
type = Varset
trigger1 = var(0) = 1
trigger1 = life<var(2)
trigger1 = pos x - helper(410), pos x = [-35,35]
trigger1 = pos y > -6
;Genjutsu Itachi
triggerall = stateno != [106050,106051]
triggerall = stateno != [105000,105002]
triggerall = stateno != [105005,105009]
triggerall = stateno != 106025
;Genjutsu Sasuke
triggerall = stateno != 103007
triggerall = stateno != 105006
triggerall = stateno != 103008
var(1) = var(2)-life

[State 0, VarAdd]
type = VarSet
trigger1 = var(0) =1
var(2) = life

;------------------------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,5]
trigger1 = timemod = 199,0
triggerall = var(0) = 0 && stateno != [170,199]
value = S2,0+random%51

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,15]
trigger1 = timemod = 199,0
triggerall = var(0) = 1 && stateno != [170,199]
value = S2,0+random%51

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 280
id = 2801

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 10,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
triggerall = var(0) = 1
triggerall = pos x - helper(410), pos x = [-35,35]
triggerall = pos y > -6
triggerall = life > 0
value = 5

[State 0, LifeAdd]
type = LifeAdd
triggerall = timemod = 10,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
trigger1 = var(0) = 1
trigger1 = pos x - helper(410), pos x != [-35,35]
triggerall = life > 0
value = 3

[State 0, LifeAdd]
type = LifeAdd
triggerall = timemod = 10,0
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
trigger1 = var(0) = 0
trigger2 = pos x - helper(410), pos x != [-35,35]
trigger2 = pos y < -6
triggerall = life > 0
value = 1

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,8,2),cond(pos y = 0,-20,-28)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,8,2),cond(pos y = 0,-40,-48)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,18,12),cond(pos y = 0,-30,-38)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-2,-8),cond(pos y = 0,-30,-38)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, blokada]
type = VarSet
trigger1 = var(35) !=0
var(35) = 0
;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

;--------------------------------------------------
[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 4

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(0) = 0
trigger1 = time = 0
time = 1

[State -3, EMS]
type = AfterImage
triggerall = 0;var(0) = 0
trigger1 = 0;time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add
