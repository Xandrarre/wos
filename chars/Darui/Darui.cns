
[Data]
life = 3000			;Amount of life to start with
power = 4000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 1			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 0			;Volume offset (negative for softer)
IntPersistIndex = 0	;Variables with this index and above will not have their values
FloatPersistIndex = 0  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = 0.9			;Horizontal scaling factor.
yscale = 0.9			;Vertical scaling factor.
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 63
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -55
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5		;Walk forward
walk.back = -1.5		;Walk backward
run.fwd  = 7.9, 0		;Run forward (x, y)
run.back = -5.5,-3	;Hop backward (x, y)
jump.neu = 0,-8.5			;Neutral jumping velocity (x, y)
jump.back = -3.2		;Jump back Speed (x, y)
jump.fwd = 3.2		;Jump forward Speed (x, y)
runjump.back = -2.65,-9.3;Running jump speeds (opt)
runjump.fwd = 4.2,-9.3	;.
airjump.neu = 0,-9.3	;.
airjump.back = -2.65	;Air jump speeds (opt)
airjump.fwd = 2.6	

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...
;----------------------------------------
[Statedef 104]
type = S
movetype = I
physics = N
anim = 100
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 1
trigger3 = animelem = 3
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA, AA, AP, AT

[State 1000, 4]
type = VelSet
trigger1 = backedgebodydist < 70
x = const(velocity.run.fwd.x)-2

[State 0, 6]
type = VelSet
trigger1 = backedgebodydist >= 70
x = 0

[State 0, 7]
type = PlayerPush
trigger1 = backedgebodydist < 70
value = 0

[State 0, 9]
type = ChangeState
trigger1 = backedgebodydist >= 70
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,47

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,36

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [70,80]
trigger1 = timemod = 2,0
anim = F1701+random%3
angle = random
pos = -10+random%15,-10-random%50
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = F11,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = F11,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40 
value = S2,47

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100 
value = S2,10

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [70,80]
trigger1 = timemod = 2,0
anim = F1701+random%3
angle = random
pos = -10+random%15,-10-random%50
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = F11,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = F11,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S2,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40 
value = S2,47

[State 195, 2]
type = ChangeState
trigger1 = Time = 90
value = 0
ctrl = 1
;-----------------
;---------------------------------------------------------------------------
; Bieg Okrag
[Statedef 110]
type    = S
physics = S
anim = 110
sprpriority = 1
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2bodydist x = [0,30]
value = 842

[State 100, 4]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = facing*(pos x - helper(450), pos x) = [-30,0]
triggerall = power >= 3000
value = 411
ctrl = 1
;---------------------------------------------------------------------------
; Bieg Okrag
[Statedef 111]
type    = S
physics = S
anim = 111
sprpriority = 1
ctrl = 0


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = -const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2bodydist x = [0,30]
value = 842

[State 100, 4]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = facing*(pos x - helper(450), pos x) = [-30,0]
triggerall = power >= 3000
value = 411
ctrl = 1






;------------------
;Raiton Sword
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove
pausemove
persistent = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 35
time = 100
anim = 101
pos = 23,-59
sound = F19,0
move = 0
movetime = 0
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F11,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = F11,6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1380
id = 1380
pos = -20,0
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1380
id = 1380
pos = 20,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 204
id = 2041
pos = 0,-30
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = 115
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 204
id = 2042
pos = 5,-30
scale = 0.7,0.7
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = 115
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 206
id = 206
pos = 0,-25
scale = 0.8,1
postype = p1
facing = 1
bindtime = -1
removetime = 115
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 208
id = 208
pos = 5,0
scale = 0.4,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 203
id = 203
pos = 23,-57
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = -1
removetime = 115
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 201
id = 201
pos = 23,-57
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = 115
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1010
scale = 2.5,1.5
pos = -8,-34
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,16
volume = 255
channel = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 20
v = 1
value = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Raiton Sword
[StateDef 210]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove
pausemove
persistent = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = F1010
scale = 1.8,1.8
pos = 3,-45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
angle = 60
ownpal = 1
ontop = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 202
id = 202
pos = -11,86
scale = 0.5,0.5
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,31
volume = 255
channel = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 26
v = 1
value = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Raiton Sword Miecz
[StateDef 212]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove
pausemove
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = F11,5

[State 0, VarSet]
type = ParentVarSet
trigger1 = time = 8
v = 1
value = 0

[State 0, End]
type = destroyself
trigger1 = Time = 16
;-----------------



;------------------
;Raiton Wybuch
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109972

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 25 && time < 75
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 25 && timemod = 4,0 && time < 75
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 25 && timemod = 4,2 && time < 75
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 25
time = 20
freq = 50
ampl = 20
phase = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 35 && timemod = 5,0
time = 10
freq = 20
ampl = 2
phase = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%10
volume = 255
channel = 4

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 25
value = -2000

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal ;player
name = "raiton"
ID = 221
stateno = 221
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 900,300
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -30
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-5
airguard.velocity = -4,-5
air.type = High
air.velocity = -4,-5
air.hittime = 12
envshake.time = 20
envshake.ampl = 20
envshake.freq = 100
fall = 1
fall.velocity = -2,-3
palfx.time = 70
palfx.mul = 256,256,256
palfx.add = 40,0,80
palfx.sinadd = 200,200,200,4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 85
channel = 11

[State 0, End]
type = ChangeState
trigger1 = Time = 85
value = 0
ctrl = 1
;-----------------

[StateDef 221]
type = S
anim = 612

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
ID = 514
pos = 0,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = -40+random%80,0-random%20
vel = -6+random%12,-6
accel = 0,0.3
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 8,0  && time < 50
anim = F1701+random%3
angle = random
id = 220
pos = -40+random%80,-90+random%90
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 8,0  && time < 50
anim = F1701+random%3
angle = random
id = 220
pos = -40+random%80,-90+random%90
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 8,0  && time < 50
anim = F1701+random%3
angle = random
id = 220
pos = -40+random%80,-90+random%90
scale = 1.1,1.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 15,0  && time < 50
anim = 225
id = 225
pos = -40+random%80,-80
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 221
id = 221
pos = 0,0
scale = 0.4,0.8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 222
id = 222
pos = 0,0
scale = 0.4,0.8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 224
id = 224
pos = 0,-10
scale = 0.7,0.7
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 45
anim = 235
id = 235
pos = 8,30
scale = 0.45,0.35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 39
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 45
anim = 235
id = 235
pos = -8,30
scale = 0.45,0.35
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = 39
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, End]
type = Destroyself
trigger1 = time = 75

;------------------
;Raiton Kangekiha
[StateDef 230]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 230
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0 &&  time > 5 && time < 75
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,7
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1070
id = 234
pos = 3,-42
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = 5
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1410
id = 231
pos = 5,-43
scale = 0.65,0.65
postype = p1
facing = 1
bindtime = -1
removetime = 65
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time > 5 && timemod = 10,0  && time < 75
anim = 204
id = 230
pos = -20+random%40,-5-random%50
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time > 5 && timemod = 10,0  && time < 75
anim = 203
id = 230
pos = -20+random%40,-5-random%50
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time > 5 && timemod = 10,0  && time < 75
anim = 202
id = 230
pos = -20+random%40,-5-random%50
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2
volume = 255
channel = 3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 5
value = -1000

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
triggerall = time > 5
attr = S, NA
damage = 65,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.ampl = 10
envshake.freq = 60
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 80
channel = 11

[State 0, End]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1
;-----------------



;------------------
;Raiton Kangekiha Ground
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 6
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0 && time > 6
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2 && time > 6
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal ;player
name = "raiton"
ID = 245
stateno = 245
pos = 21,2
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.6
size.yscale = 0.1

[State 400, Helper]
type = Helper
triggerall = time = 6
trigger1 = numhelper(4401) = 1
trigger2 = partner,numhelper(4401) = 1
trigger3 = enemy(0),numhelper(4401) = 1
trigger4 = enemy(1),numhelper(4401) = 1
ID = 241
pos = 0,0
postype = p1
stateno = 241
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 6
trigger2 = (command = "c" || command = "x") && power > 500
trigger3 = var(50) = 1 && random = [0,300]
v = 4
value = 30

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 6
v = 4
value = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && numexplod(234) = 0
anim = F1070
id = 234
pos = 18,2
scale = 0.8,0.2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time > 6 && var(4) = 0 && var(50) = 0
trigger2 = power = 0
trigger3 = time > 6 && var(50) = 1 && random = [0,20]
value = 12
ctrl = 1

[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 242
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-3

[State 0, PlaySnd]
type = PlaySnd
triggerall = p2statetype = S
trigger1 = time = 1
trigger2 = time = 30
value = S8000,4

[State 0, Helper]
type = Helper
trigger1 = movecontact
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 4,1
time = 5
freq = 50
ampl = 5
phase = 60

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 4,1
attr = S, NA
damage = 35,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 60
sparkno = 1420+random%3
sparkxy = -30+random%30,-10-random%30
hitsound = F11,3
guardsound = F11,3
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1
givepower = 0
getpower = 0

[State 0, End]
type = destroyself
trigger1 = parent, var(4) = 0
trigger2 = parent, stateno != 240
;-----------------
[StateDef 245]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 245
poweradd = -200
sprpriority = 1

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,8
channel = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = parent, var(4) = 0
channel = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = 204
id = 240
pos = -70+random%140,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = random

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = 203
id = 240
pos = -70+random%140,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = random

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = 202
id = 240
pos = -70+random%140,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = random

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1
sprpriority = 1
pausetime = 0, 10
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 50
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4


[State 0, End]
type = destroyself
trigger1 = parent, var(4) = 0
trigger2 = parent, stateno != 240
;------------------
;Suiton Fala
[StateDef 300]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,3
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F8,5


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
trigger2 = time = 50
trigger3 = time = 65
value = F12,2

[State 0, Helper]
type = Helper
trigger1 = time = 35
trigger2 = time = 50
trigger3 = time = 65
helpertype = normal ;player
name = "suiton"
ID = 305
stateno = 305
pos = 0,-30
postype = back    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;Suiton Fala
[StateDef 305]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 305
poweradd = -1000
sprpriority = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Trans]
type = Trans
trigger1 = time > 80
trans = addalpha
alpha = 256-(time-80)*10,256

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 300

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5
y = -0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 10
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 10
priority = 3, Hit
pausetime = 0, 5
sparkno = 1550;240+random%2
sparkxy = -50+random%50, 15-random%30
hitsound = F12, 0
guardsound = F12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = destroyself
trigger1 = animtime = 0

;------------------
;Suiton Suijinheki
[StateDef 310]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = time > 35 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 12,-45
scale = 0.8,1.2
postype = p1
angle = -20
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,4
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = F12,2

[State 0, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal ;player
name = "suiton"
ID = 315
stateno = 315
pos = 12,-49
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Explod]
type = Explod
trigger1 = time > 35 && time < 75 && timemod = 10,0
anim = F240
ID = 987601
pos = 4+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
scale = 0.7,0.7
sprpriority = 10
ontop = 0

[State 1520, destroyself]
type = ChangeState
trigger1 = var(50) = 0 && time = 85
trigger2 = var(50) = 1 && time = 85
value = 0
ctrl = 1
;-----------------------------
;Suiton Sujinheki
[StateDef 315]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 315
poweradd = -500
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = time > 30
trans = addalpha
alpha = 256-(time-30)*10,256

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "suiton"
ID = 305
stateno = 305
pos = 180,30
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 310
time = 1
facing = 0
pos = 14,-47

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 5
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 4
priority = 4, Hit
pausetime = 0, 20
sparkno = 240+random%2
sparkxy = -30+random%20, 10-random%30
hitsound = 12, 0
guardsound = 12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = destroyself
trigger1 = time = 100
;-----------------------------

;Suiton pociski projectile
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = -200
sprpriority = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 35 
value = -15


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 35 && timemod = 10,0
anim = F240
ID = 987601
pos = 4+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
supermove
pausemove
scale = 0.4,0.4
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,3
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
trigger2 = time > 35 && timemod = 40,0
value = F12,2

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 2,1
v = 10
range = -100,150



[State 2009, Beam]
type = Projectile
trigger1 = time = 35
trigger2 = time > 35 && timemod = 8,0
getpower  = 0
projID = 321
projhitanim = 327
projanim = 325
projscale = .3,.3
projpriority = 3
projremanim = 327
projremovetime = 80
projhits = 1
projmisstime = 5
numhits = 1
velocity = 4,var(10)/100.0
accel = 0
offset = 17,-47
attr = S, NA
damage   = 30,8
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
sparkno = 0+random%427
sparkxy = -30+random%30, 10-random%20
hitsound = 12, 0
guardsound = 12, 0
guard.sparkno = -1
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -1
air.animtype = High
air.velocity = -1
air.juggle = 2
down.velocity = -1,-1
down.hittime = 30
down.bounce = 0

[State 1520, destroyself]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z" && time > 60
trigger2 = var(50) = 1 && time > 60 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power < 10
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
value = 0
ctrl = 1
;------------------
;Suiton Pociski
[StateDef 324]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 35 && timemod = 3,0
anim = F241
ID = 987601
pos = -2+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 0.5,0.5
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,3
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
trigger2 = time > 35 && timemod = 40,0
value = F12,2

[State 0, Helper]
type = Helper
trigger1 = time = 35
trigger2 = time > 35 && timemod = 10,0
helpertype = normal ;player
name = "suiton"
ID = 325
stateno = 325
pos = 17,-47
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4
supermove
pausemove

[State 1520, destroyself]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z" && time > 60
trigger2 = var(50) = 1 && time > 60 && random = [0,20]
trigger3 = var(50) = 1 && time > 60 && command != "hold_z"
trigger4 = power < 100
value = 0
ctrl = 1
;-----------------
[StateDef 325]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 325
poweradd = -100
sprpriority = 3

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = !time
v = 10
range = -100,150

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5
y = var(10)/100.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 326
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%441
sparkxy = -30+random%30, 10-random%20
hitsound = 12, 0
guardsound = 12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30


[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
trigger3 = pos y > -1
value = 326
;-----------------
[StateDef 326]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -1
anim = 372
id = 372
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F12,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F240
ID = 987601
pos = -10+random%20,-10+random%20
vel = 1,-2
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 0.7,0.7
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F240
ID = 987601
pos = -20+random%40,-20+random%40
vel = 1,-2
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 0.7,0.7
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------------------



;------------------
;Suiton Raiton Air
[StateDef 330]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 2

;----------------

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 11 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 12,-45
scale = 0.7,1
postype = p1
angle = -45
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0 && prevstateno = [800,890]
time = 15
anim = 101
sound = F19,0
pos = -2,-54
movetime = 12
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 7 && timemod = 3,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,3
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S3,1
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = F12,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && timemod = 3,0
anim = F241
ID = 987601
pos = -2+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 0.5,0.5
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal ;player
name = "suiton"
ID = 335
stateno = 335
pos = 31,-15
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermove = 9999
pausemove = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 22
helpertype = normal ;player
name = "raiton"
ID = 336
stateno = 336
pos = 45,-10
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermove = 9999
pausemove = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 32
value = 50
ctrl = 1
;-----------------
[StateDef 335]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 335
poweradd = -400
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330
time = 1
pos = 31,-15

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109931

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 7
trigger3 = time = 15
trigger4 = time = 20
anim = F240
ID = 987601
pos = 20+random%10,20+random%10
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 1,1
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 9
trigger3 = time = 18
anim = F241
ID = 987601
pos = 0+random%10,-10+random%10
postype = p1
bindtime = 1
removetime = 18
supermove
pausemove
scale = 1,1
sprpriority = 10
ownpal = 1
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%441
sparkxy = -30+random%30, 10-random%20
hitsound = 12, 0
guardsound = 12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30


[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 336]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 336
poweradd = -600
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330
time = 1
pos = 45,-10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 25,0
anim = 203
id = 220
pos = -25+random%60,-30+random%60
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 25,0
anim = 202
id = 220
pos = -25+random%60,-30+random%60
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, 0
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 30
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4


[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------------------



;------------------
;Suiton Slaby
[StateDef 3501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = timemod = 10,0
helpertype = normal ;player
name = "suiton"
ID = 351
stateno = 351
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermove
pausemove

[State 0, VarSet]
type = VarSet
trigger1 = root, var(3) = 0
triggerall = timemod = 30,0
v = 6
value = 0

[State 1520, destroyself]
type = destroyself
trigger1 = root, var(3) = 0
;------------------
;Suiton Sredni
[StateDef 3502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = timemod = 10,0
helpertype = normal ;player
name = "suiton"
ID = 351
stateno = 351
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermove
pausemove

[State 0, VarSet]
type = VarSet
trigger1 = root, var(3) = 0
triggerall = timemod = 30,0
v = 6
value = 0

[State 1520, destroyself]
type = destroyself
trigger1 = root, var(3) = 0
;------------------
;Suiton Mocny
[StateDef 3503]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = timemod = 10,0
helpertype = normal ;player
name = "suiton"
ID = 351
stateno = 351
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermove
pausemove

[State 0, VarSet]
type = VarSet
trigger1 = root, var(3) = 0
triggerall = timemod = 30,0
v = 6
value = 0

[State 1520, destroyself]
type = destroyself
trigger1 = root, var(3) = 0
;------------------
;Suiton
[StateDef 351]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 351
poweradd = 0
sprpriority = -1

[State 0, VarSet]
type = ParentVarSet
trigger1 = time = 1
v = 6
value = pos x

[State 0, DestroySelf]
type = DestroySelf
triggerall = time < 1
trigger1 = pos x = [Parent,var(6)-15,Parent,var(6)+15]

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time > 2
y = 4+time/3

[State 1520, destroyself]
type = ChangeState
trigger1 = pos y >= 0
value = 352
ctrl = 1
;------------------
;Suiton
[StateDef 352]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 352
poweradd = 0
sprpriority = -1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = timemod = 5,0 && root, var(4) > 0
triggerall = root, var(4) > 0
triggerall = time <= 330
triggerall = numhelper(245) = 1
movetype = A

[State 0, VarSet]
type = ParentVarSet
trigger1 = time = 1
v = 6
value = pos x

[State 0, DestroySelf]
type = DestroySelf
triggerall = time < 1
trigger1 = pos x = [Parent,var(6)-15,Parent,var(6)+15]

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
triggerall = root, var(4) > 0
triggerall = time <= 330
triggerall = numhelper(245) = 1
anim = 204
id = 352
pos = -25+random%50,-15+random%30
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
triggerall = root, var(4) > 0
triggerall = time <= 330
triggerall = numhelper(245) = 1
anim = 203
id = 352
pos = -25+random%50,-15+random%30
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
triggerall = root, var(4) > 0
triggerall = time <= 330
triggerall = numhelper(245) = 1
anim = 202
id = 352
pos = -25+random%50,-15+random%30
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && root, var(4) > 0
triggerall = root, var(4) > 0
triggerall = time <= 330
triggerall = numhelper(245) = 1
attr = S, NA
damage = (20-time/25)*.6,(10-time/50)*.6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 0, 0
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.6,0.4
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time/2,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1520, destroyself]
type = destroyself
trigger1 = time = 500
;-----------------------------



;------------------
;Suiton Suijinheki Hold
[StateDef 360]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 12,-45
scale = 0.7,1
postype = p1
angle = -20
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 20
value = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 20
value = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,4
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F12,2

[State 0, Helper]
type = Helper
trigger1 = time = 20
trigger2 = time > 20 && timemod = 25,0
helpertype = normal ;player
name = "suiton"
ID = 370
stateno = 370
pos = 10,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = time > 30 && numhelper(371) = 0
helpertype = normal ;player
name = "suiton"
ID = 371
stateno = 371
pos = 12,-49
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
supermove
pausemove

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && timemod = 12,0
anim = F240
ID = 987601
pos = 4+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
supermove
pausemove
scale = 0.5,0.5
sprpriority = 10
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
trigger2 = time > 20 && timemod = 40,0
value = F12,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,1

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_z"
trigger2 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power = 0
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 35 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 0
ctrl = 1

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 35 && var(50) = 0 && (command = "c" || command = "x")
trigger2 = time > 35 && var(50) = 1 && random = [120,200+var(49)*(var(49))/10]
triggerall = power >= 1000
value = 380
ctrl = 1
;-----------------------------
;Suiton Sujinheki
[StateDef 370]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360
triggerall = time < 25
time = 1
facing = 0
pos = 7,-47

[State 0, VelSet]
type = VelSet
trigger1 = time > 25
x = 1
y = -0.3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time <= 22
trans = add

[State 0, Trans]
type = Trans
trigger1 = time > 22
trans = addalpha
alpha = 256-(time-22)*10,256

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time > 0 && timemod = 35,0
anim = F1090
id = 362
pos = 50,50
scale = 1.3,1.3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time > 0 && timemod = 35,0
anim = F1090
id = 362
pos = 50,50
scale = .7,.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime = 99999
pausemovetime = 99999

[State 0, End]
type = destroyself
trigger1 = time = 50
;-----------------------------
;Suiton Sujinheki
[StateDef 371]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 371
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109931

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 20
triggerall = ishelper(371)
v = 12
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 20
trigger3 = parentdist x < -80
triggerall = ishelper(371)
v = 12
value = 0

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 100


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 371
time = 9999
forceair = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360
trigger2 = parent, stateno = 380
trigger3 = parent, stateno = 390
time = 1
facing = 0
pos = 14,-47

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 4,2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 4
priority = 4, Hit
pausetime = 0, 10
sparkno = 1550;240+random%1
sparkxy = -20+random%30, 10-random%20
hitsound = 12, 0
guardsound = 12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
envshake.time = 10
envshake.ampl = 1
envshake.freq = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time > 0 && timemod = 35,0
anim = F1090
id = 362
pos = 50,50
scale = 1.3,1.3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time > 0 && timemod = 35,0
anim = F1090
id = 362
pos = 50,50
scale = .7,.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime = 99999
pausemovetime = 99999

[State 0, End]
type = destroyself
trigger1 = parent, stateno != 360
trigger1 = parent, stateno != 380
trigger1 = parent, stateno != 390
trigger2 = power = 0
;------------------
;Suiton Suijinheki Hold Raiton Kangekiha
[StateDef 380]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(1520) = 0
anim = F1520
id = 1520
pos = 12,-45
scale = 0.7,1
postype = p1
angle = -20
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F11,7
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = var(50) = 0 && command = "hold_z" && timemod = 25,0
trigger2 = var(50) = 1 && timemod = 25,0
helpertype = normal ;player
name = "suiton"
ID = 370
stateno = 370
pos = 10,-44
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = numhelper(371) = 0
helpertype = normal ;player
name = "suiton"
ID = 371
stateno = 371
pos = 12,-49
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = time = 3
helpertype = normal ;player
name = "raiton"
ID = 381
stateno = 381
pos = 12,-49
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
supermove
pausemove

[State 0, Explod]
type = Explod
trigger1 = timemod = 12,0
anim = F240
ID = 987601
pos = 4+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
supermove
pausemove
scale = 0.5,0.5
sprpriority = 10
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0 && time > 10
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2 && time > 10
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = timemod = 22,1
anim = F1410
id = 12231
pos = 5,-43
scale = 0.65,0.65
postype = p1
facing = 1
bindtime = -2
removetime = 20
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  var(50) = 0 && command = "hold_z" && timemod = 40,0
trigger2 =  var(50) = 1 && timemod = 40,0
value = F12,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = (command = "c"  || command = "x") && power > 500
trigger3 = var(50) = 1  && power > 500 && random = [500,700+var(49)*(var(49))/33]
v = 5
value = 30

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 25
v = 5
value = -1

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 25 && var(50) = 0 && command != "hold_z"
trigger2 = time > 25 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power = 0
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 25 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 0
ctrl = 1

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 25 && var(5) = 0
value = 390
ctrl = 1
;-----------------------------
;Suiton Sujinheki Hold Raiton Kangekiha
[StateDef 381]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 381
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 40
triggerall = ishelper(381)
v = 12
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 40
trigger3 = parentdist x < -80
triggerall = ishelper(381)
v = 12
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 360
trigger2 = parent, stateno = 380
trigger3 = parent, stateno = 390
time = 1
facing = 0
pos = 14,-47

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -8

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = parent, var(5) = 0
channel = 10

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = F1410
id = 240
pos = -8,6
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = 50
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && timemod = 15,0
anim = 213
id = 240
pos = 60+random%60,-30+random%60
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1
sprpriority = 1
pausetime = 0, 10
sparkno = 1299+random%2
sparkxy = -15, 0
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 50
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4


[State 0, End]
type = destroyself
trigger1 = parent, stateno != 380
trigger2 = var(50) = 0 && parent, var(5) = 0
trigger3 = power = 0
;------------------
;Suiton Suijinheki Hold
[StateDef 390]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 390
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, Helper]
type = Helper
trigger1 = timemod = 25,0
helpertype = normal ;player
name = "suiton"
ID = 370
stateno = 370
pos = 10,-46
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
supermove
pausemove

[State 0, Helper]
type = Helper
trigger1 = numhelper(371) = 0
helpertype = normal ;player
name = "suiton"
ID = 371
stateno = 371
pos = 12,-49
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
supermove
pausemove

[State 0, Explod]
type = Explod
trigger1 = timemod = 12,0
anim = F240
ID = 987601
pos = 4+random%10,-54+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
supermove
pausemove
scale = 0.5,0.5
sprpriority = 10
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = F12,2

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 60 && var(50) = 0 && command != "hold_z"
trigger2 = time > 60 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power = 0
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 0
ctrl = 1

[State 1520, destroyself]
type = ChangeState
trigger1 = time > 45 && var(50) = 0 && (command = "c" || command = "x")
trigger2 = time > 45 && var(50) = 1 && random = [120,200+var(49)*(var(49))/10]
triggerall = power >= 1000
value = 380
ctrl = 1
;-----------------


;------------------
;Ultimate: Kohaku no Johei
[StateDef 400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = C, HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
p1stateno = 401
p2stateno = 105200

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Kohaku no Johei
[StateDef 401]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 401
poweradd = -3000
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time = 10
time = 100
add = -70,-70,-70


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 402
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 999999
supermove = 999999
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 10  && facing = 1
x = 40
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 10  && facing = -1
x = -40
y = 0


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14

[State 0, End]
type = ChangeState
trigger1 = Time = 20
value = 405
ctrl = 1
;----------------
[Statedef 402]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 12
trans = addalpha
alpha = 256-(time-12)*32,(time-12)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20


[StateDef 408]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 408
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 15
v = 13  
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F19,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, Helper odliczajcy var(11) dla kohaku]
type = Helper
triggerall = numhelper(409) = 0
trigger1 = time = 15
helpertype = normal ;player
name = "kohaku"
ID = 409
stateno = 409
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 15
value = -1000


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1130
id = 1130
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1080
id = 1080
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1


[StateDef 409]
type = S
anim = 447
sprpriority = 2

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 1
v = 11
value = 1200

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = time > 1
v = 11
value = -1

[State 0, End]
type = Destroyself
trigger1 = time = 1400
trigger2 = root, stateno = [410,416]

;------------------
;Kohaku no Johei
[StateDef 405]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 405
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 8
trigger3 = animelem = 10
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,10
channel = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 3 && time < 23
x = -6
y = -5+(time-3)/2

[State 0, VelSet]
type = VelSet
trigger1 = time = 23
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 23
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 23
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 23
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 42
anim = 459
id = 459
pos = 28,42
scale = 0.75,0.75
postype = p1
facing = 1
bindtime = 1
removetime = 34
sprpriority = 6
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 45
helpertype = normal ;player
name = "kohaku"
ID = 450
stateno = 450
pos = 28,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 410
ctrl = 1

[StateDef 411]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 411
poweradd = 0
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = !time
attr = C, HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = -1
sparkxy = -15, -41
hitsound = 5, 6523
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
p1stateno = 410
p2stateno = 105200

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;------------------
;Kohaku no Johei
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = -1000
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4001
ID = 4001
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 60
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 451
id = 451
pos =  -1,-3
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 8    ;fv =
value = helper(450), pos x

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 9    
value = helper(450), pos y

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,21
channel = 2

[State 0, End]
type = ChangeState
trigger1 = Time = 200
value = 415
ctrl = 1
;------------------
;Kohaku no Johei
[StateDef 415]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 415
poweradd = -2000
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 40
anim = 101
pos = 5,-40
sound = F19,0
move = 0
movetime = 0
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,7
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S6,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = 460
ID = 460
pos = 20,0
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = -1
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno = 105204
id = 460

[State 0, End]
type = ChangeState
trigger1 = p2stateno = 105204
value = 416
ctrl = 1
;------------------
;Kohaku no Johei
[StateDef 416]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 416
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 460

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 451

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 461
id = 461
pos = -1,-3
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 16
sprpriority = 3
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 16
value = 0
ctrl = 1

[StateDef 447]
type = S
anim = 447
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = 459
id = 459
pos = 28,42
scale = 0.75,0.75
postype = p1
facing = 1
bindtime = 1
removetime = 34
sprpriority = 6
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "kohaku"
ID = 450
stateno = 451
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = Destroyself
trigger1 = time = 20

;------------------
;Kohaku no Johei

[StateDef 451]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 462
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = 0
flag = invisible

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -80+random%160

[State 0, PosAdd]
type = PosAdd
trigger1 = backedgedist < 30
trigger1 = time = 0
x = -backedgedist+30

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgedist < 30
trigger1 = time = 0
x = frontedgedist-30

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -70,-70,-70

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 458
ID = 458
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 453
ID = 453
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 455
ID = 455
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,0-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 410
value = 450
ctrl = 1

[StateDef 450]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 450
poweradd = 0
sprpriority = 3

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -70,-70,-70

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C, HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1
sprpriority = -1
pausetime = 5, 5
sparkno = 4
sparkxy = -15, -41
hitsound = S6, 6
guardsound = S6, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
ID = 452
p1stateno = 452
p2stateno = 105204

;------------------
;Kohaku no Johei
[StateDef 452]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 452
poweradd = 0
sprpriority = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
time = 1
id = 452
pos = 0,5000

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 402
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 999999
supermove = 999999
persistent = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 457
ID = 457
pos = -5,10
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 457
ID = 457
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 126
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 126
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 126
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 126
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,0-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 126
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = destroyself
trigger1 = time = 127

;---------------------------
[Statedef 105200]
type    = S
movetype= H
physics = N
sprpriority = 0
anim = 5000+var(0)*10000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PosSet]
type = PosSet
trigger1 = time = 10  && facing = -1
x = 60
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 10 && facing = 1
x = -60
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 905]
type = ChangeState
trigger1 = p2stateno = 410
value = 105201
;---------------------------
[Statedef 105201]
type    = S
movetype= H
physics = N
sprpriority = 0
anim = 5000+var(0)*10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S2,17
volume = 256
channel = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 905]
type = ChangeState
trigger1 = p2stateno = 415
value = 105202
;---------------------------
[Statedef 105202]
type    = S
movetype= H
physics = N
sprpriority = 0
anim = 5000+var(0)*10000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time < 100
time = 2
add = time*2,time*2,time*2
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, PalFXWiz]
type = PalFX
trigger1 = time > 100
time = 2
add = 200,200,200
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 905]
type = ChangeState
trigger1 = time = 150
value = 105203
;------------
[Statedef 105203]
type = S
movetype = H
physics = N
anim = 5010+var(0)*10000
sprpriority = -3
poweradd = 0
velset = 0,0
ctrl = 0

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 256, 256, 256
trans = add

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 200,200,200
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 16
value = 5050+var(0)*10000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nokoslow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1640, X]
Type=VarSet
Trigger1= time = 15
fvar(13)=(EnemyNear(0),var(8)-Pos X)*Facing

[State 1640, X]
Type=VarSet
Trigger1= time = 15
trigger1= fvar(13)=0
fvar(13)= 0.0001

[State 1640, Y]
Type=VarSet
trigger1= time = 15
fvar(14)=(EnemyNear(0),var(9)-Pos Y)-25

[State 1640, alfa]
Type=VarSet
trigger1= time = 15
fvar(15)= atan(fvar(14)/fvar(13))

[State 1640, R]
Type=VarSet
trigger1= time = 15
fvar(16)= (fvar(13)/cos(fvar(15)))*0.05

[State 0, VelSet]
type = VelSet
trigger1 = time >= 16
x = cos(fvar(15))*fvar(16)
y = sin(fvar(15))*fvar(16)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [16,36]
scale = 1-(time-16)*.05,1-(time-16)*.05

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time = [36,46]
scale = .8-(time-36)*.08,.8-(time-36)*.08

[State 0, Trans]
type = Trans
trigger1 = time = [38,46]
trans = addalpha
alpha = 256-(time-38)*32,(time-38)*32

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 46
flag = invisible

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time > 46
value = 0
movecamera = 0,0

[State 905]
type = SelfState
trigger1 = time = 47
value = 105204
;---------------------------
[Statedef 105204]
type    = S
movetype= H
physics = N
sprpriority = -3
anim = 5150+var(0)*10000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 100
value = -2000
kill = 1
absolute = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 125 
x = -2
y = -6

[State 905]
type = SelfState
trigger1 = time = 125
value = 5050
;---------------------------
[Statedef 105205]
type    = S
movetype= H
physics = N
sprpriority = -3
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 200,200,200
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*5,256


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 905]
type = destroyself
trigger1 = time = 50
;-----------------


;------------------
;Raiton: Kuropansa
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
poweradd = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 250
movetime = 250
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 44 && timemod = 5,0
time = 5
freq = 30
ampl = 3
phase = 50

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 44
value = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = time >= 44
value = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = F17,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 44
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Helper]
type = Helper
trigger1 = time = 44
helpertype = normal ;player
name = "Pantera"
ID = 520
stateno = 520
pos = -120,-70
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
supermovetime = 9999
pausemovetime = 9999
supermove
pausemove


[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 44 && timemod = 3,1
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 44 && timemod = 6,1
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 527
pos = 0,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = 230
sprpriority = 10
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 528
pos = 0,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = 230
sprpriority = 11
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 529
pos = 0,0
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = 230
sprpriority = 12
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = Time = 200
value = 510
ctrl = 1
;------------------
;Raiton: Kuropansa
[StateDef 510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 3,1
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 6,1
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10


[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5
freq = 30
ampl = 3
phase = 50

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,12
volume = 255
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------
;Raiton: Kuropansa
[StateDef 520]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 520
poweradd = -2000
sprpriority = 2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 526
ID = 520
pos = 40,-10
scale = 0.75,0.75
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 526
ID = 520
pos = -80,40
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 521
ID = 520
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 522
ID = 520
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 523
ID = 520
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 524
ID = 520
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 525
ID = 520
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 4,0
time = 3
freq = 40
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 230,0
value = F25,0
channel = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F22,0
channel = 22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,0
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 40,0
value = F11,4
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 100,0
value = S6,1
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 150,0
value = S6,1
channel = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = -50,-90


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NT
damage = 5,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F11, 5
guardsound = F11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-4
airguard.velocity = -5,-4
air.type = High
air.velocity = -5,-4
air.hittime = 12


[State 0, End]
type = changestate
trigger1 = parent, stateno = 510
value = 530
ctrl = 1
;------------------
;Raiton: Kuropansa
[StateDef 530]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 530
poweradd = -1000
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 526
ID = 520
pos = 40,-10
scale = 0.75,0.75
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 526
ID = 520
pos = -80,40
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (p2bodydist x/10)+5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 230,0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F22,0
channel = 22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,0
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 40,0
value = F11,4
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 100,0
value = S6,1
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 150,0
value = S6,1
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 531
ID = 530
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 532
ID = 530
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 533
ID = 530
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 520

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NT
damage = 200,200
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F11, 5
guardsound = F11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12


[State 0, End]
type = changestate
trigger1 = time = 20
value = 540
ctrl = 1
;------------------
;Raiton: Kuropansa
[StateDef 540]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = -1000
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109973

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 530

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 3,1
Time = 3
color = 0
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 6,1
Time = 3
color = 0
add = 0,0,0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 530

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 3,1
Time = 3
color = 0
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && timemod = 6,1
Time = 3
color = 0
add = 0,0,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 548
ID = 521
pos = 0,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 547
ID = 521
pos = 0,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = time = 28
ID = 521
scale = 0.7,1.2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 526
ID = 520
pos = 40,-10
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = 13
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 526
ID = 520
pos = -40,-20
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = 13
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
ID = 514
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 14
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 25
anim = F591
ID = 591
pos = -50+random%100,0-random%20
vel = -6+random%12,-6
accel = 0,0.3
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 7
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 30
anim = F580
ID = 580
pos = 0,-3
scale = 2,0.8
postype = p1
facing = 1
bindtime = 1
removetime = 48
sprpriority = -2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 543
ID = 520
pos = 0,0
scale = 0.35,0.65
postype = p1
facing = 1
bindtime = -1
removetime = 63
sprpriority = 12
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 542
ID = 520
pos = 0,0
scale = 0.35,0.65
postype = p1
facing = 1
bindtime = -1
removetime = 63
sprpriority = 11
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 541
ID = 520
pos = 0,0
scale = 0.35,0.65
postype = p1
facing = 1
bindtime = -1
removetime = 63
sprpriority = 10
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 511
ID = 520
pos = 0,0
scale = 0.65,0.65
postype = p1
facing = 1
bindtime = -1
removetime = 63
sprpriority = 14
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
id = 520

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F22,0
channel = 22

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,0
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 60,0
value = F11,4
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
channel = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time < 60
attr = S, NT
damage = 30,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 4
sparkxy = -15, -41
hitsound = F11, 5
guardsound = F11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-1
airguard.velocity = 0,-1
air.type = High
air.velocity = 0,-1
air.hittime = 12
palfx.time = 70
palfx.mul = 256,256,256
palfx.add = 40,0,80
palfx.sinadd = 200,200,200,4
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 1200,1200
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -41
hitsound = F11, 5
guardsound = F11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,15
airguard.velocity = -5,15
air.type = High
air.velocity = -5,15
air.hittime = 12
palfx.time = 70
palfx.mul = 256,256,256
palfx.add = 40,0,80
palfx.sinadd = 200,200,200,4
fall = 1


[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------



;------------------
;Ranton Reiza Sakaso
[StateDef 600]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 600
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 30 && timemod = 5,0
time = 3
freq = 30
ampl = -3
phase = 90

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S6,3
volume = 255
channel = 7
loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,0
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F8,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
trigger2 = time > 30 && timemod = 15,0
anim = 601
ID = 600
pos = 14,-38
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
trigger2 = time > 30 && timemod = 15,0
anim = 602
ID = 600
pos = 13,-38
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
trigger2 = time > 30 && timemod = 30,0
anim = 603
ID = 600
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
trigger2 = time > 40 && timemod = 15,0
anim = 604
ID = 600
pos = 17,-38
scale = 0.4,0.4
postype = p1
facing = 1
vel = -1,0
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
trigger2 = time > 40 && timemod = 15,0
anim = 605
ID = 600
pos = 11,-38
scale = 0.4,0.4
postype = p1
facing = 1
vel = 0,0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 30 && numexplod(607) = 0
anim = 607
ID = 607
pos = 11,-38
scale = 0.4,0.4
postype = p1
facing = 1
vel = 0,0
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
trigger2 = time > 30 && timemod = 15,0
anim = 608
id = 608
pos = 10,5
scale = 0.22,0.22
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
trigger2 = time > 30 && timemod = 15,0
anim = 608
id = 608
pos = -10,5
scale = 0.22,0.22
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 89
time = 20
anim = 101
pos = 12,-37
sound = F19,0
move = 0
movetime = 0
darken = 1
unhittable = 0

[State 0, End]
type = ChangeState
trigger1 = time = 100
value = 610
ctrl = 1
;------------------
;Ranton Reiza Sakaso
[StateDef 610]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 610
poweradd = 0
sprpriority = 2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 150,200,220
paladd = 10,15,20
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,29
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
value = S6,4
volume = 255
channel = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 10
freq = 80
ampl = -10
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 611
ID = 600
pos = 15,-40
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 18
sprpriority = 6
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 602
ID = 620
pos = 13,-38
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 604
ID = 620
pos = 24,-38
scale = 0.7,0.7
postype = p1
facing = 1
vel = -2,0
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 605
ID = 610
pos = 11,-38
scale = 0.7,0.7
postype = p1
facing = 1
vel = 0,0
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 30 && numexplod(607) = 0
anim = 607
ID = 607
pos = 11,-38
scale = 0.4,0.4
postype = p1
facing = 1
vel = 0,0
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 608
id = 608
pos = 10,5
scale = 0.25,0.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 608
id = 608
pos = -10,5
scale = 0.25,0.25
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "ranton"
ID = 611
stateno = 611
pos = 13,-39
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 20
trigger5 = time = 25
trigger6 = time = 30
time = 5
freq = 60
ampl = -4
phase = 90

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 30
id = 607

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 7

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;===========================================

[StateDef 611]
type = S
anim = 612

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 13,-39

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton1"
ID = 620
stateno = 620
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton2"
ID = 620
stateno = 621
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton3"
ID = 620
stateno = 622
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton4"
ID = 620
stateno = 623
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton5"
ID = 620
stateno = 624
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "ranton6"
ID = 620
stateno = 625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.25

[State 0, End]
type = Destroyself
trigger1 = time > 10 && numhelper(620) = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 620]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = -4.5*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 45 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 45) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 39) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 45) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 45) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 621]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = 4.5*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 20 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 20) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 20) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 20) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 20) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 622]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = 2.7*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 40 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 40) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 40) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 40) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 40) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 623]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = -2.7*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 25 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 25) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 25) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 25) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 25) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 624]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = -0.9*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 30 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 30) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 30) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 30) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 30) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 625]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 619
poweradd = -500
sprpriority = 2


[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 4
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = 1.5

[State 0, VelSet]
type = VelAdd
trigger1 = animelem = 2
trigger2 = animelem = 3
triggerall = time > 15
triggerall = p2bodydist x != [-40,40]
y = -1.5

[State 0,AfterImage]
type = AfterImage
trigger1 = (!Time)
time = -1
framegap = 1
length = 30
paladd = 0, 0, 0
palmul = .90, .90, .90
palcontrast = 100, 100, 100
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time <= 25
x = 3.5
y = 0.9*cos(time*PI/60)

[State 0, VarSet]
type = VarSet
trigger1 = p2bodydist x != 0 
fv = 11
value = -atan((p2bodydist y - 35 )/p2bodydist x ) + atan(vel y /vel x ) 

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y < 8
trigger1 = (p2bodydist y - 35) >= 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 35) < 0 && fvar(11) = [-0.09,0.09]
y = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel y > -8
trigger1 = (p2bodydist y - 35) < 0 && fvar(11) != [-0.09,0.09]
trigger2 = (p2bodydist y - 35) >= 0 && fvar(11) = [-0.09,0.09]
y = -0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x < 8
trigger1 = p2bodydist x +20 >= 0
x = 0.5

[State 0, VelSet]
type = Veladd
triggerall = time > 25
triggerall = vel x > -8
trigger1 = p2bodydist x +20 < 0
x = -0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = cond(vel y < 0,90,-90) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -41
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 630

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60 && random = [0,10]
value = 630
ctrl = 0
;------------------
;Ranton Reiza Sakaso
[StateDef 630]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 630
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1 && numexplod(636) = 0
anim = 636
ID = 636
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermove
pausemove
scale = 0.3,0.3
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time > 0 && timemod = 40,0
value = F11,4
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 620


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 250,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = 0, 0
hitsound = F14, 6
guardsound = F14, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 10
fall = 1
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, End]
type = destroyself
trigger1 = Time = 20
;-----------------


;------------------
;Kuropansa
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 10
freq = 50
ampl = -5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,7
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S3,6
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F11,11
volume = 255

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && timemod = 3,0
anim = 730+random%4
id = 730
pos = 20,1
scale = 0.4,0.1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "KuroPansa"
ID = 710
stateno =  710
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Kuropansa
[StateDef 701]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 701
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 10
freq = 50
ampl = -5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,11
volume = 255

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "KuroPansa"
ID = 711
stateno =  710
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;Kuropansa
[StateDef 702]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 702
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 10
freq = 50
ampl = -5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,12
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,11
volume = 255

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "KuroPansa"
ID = 712
stateno =  710
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "KuroPansa"
ID = 712
stateno =  710
pos = 50,15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;Kuropansa
[StateDef 710]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 710
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109970

[State 0, PowerAdd]
type = PowerAdd
trigger1 = ishelper(710)
trigger1 = time = 0
value = -500

[State 0, PowerAdd]
type = PowerAdd
trigger1 = ishelper(711)
trigger1 = time = 0
value = -1000

[State 0, PowerAdd]
type = PowerAdd
trigger1 = ishelper(712)
trigger1 = time = 0
value = -750

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,0
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,2
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,4

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
triggerall = ishelper(710)
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
triggerall = ishelper(711)
x = 15

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
triggerall = ishelper(712)
x = 18

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F1701+random%3
id = 730
pos = -25+random%50,-10-random%20
scale = 0.45,0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1+random%3
ownpal = 1
angle = random

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && p2movetype = H
anim = F1701+random%3
id = 720
pos = -10+random%20,-20-random%40
scale = 0.6,0.6
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1+random%3
ownpal = 1
angle = random

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 60
sparkno = 456436
sparkxy = -30+random%30,-10-random%30
hitsound = F11,8
guardsound = F11,8
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -1,-1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 711
time = 9999

[State 0, End]
type = changestate
trigger1 = time = 50
trigger2 = movecontact
value = 711
;---------------------------------------------
;Wybuch
[StateDef 711]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 711
poweradd = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109971

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,0
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,2
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = 730+random%4
id = 730
pos = -10+random%20,-10-random%20
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1+random%3
ownpal = 1
angle = random

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
ampl = -7
freq = 50
phase = 230

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 712
pos = 0,-10
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 33
removetime = -2
sprpriority = 5
supermove = 9999
pausemove = 9999
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F25,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,6
channel = 11

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = 0
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && p2movetype = H
anim = F1701+random%3
id = 720
pos = -10+random%20,-20-random%40
scale = 0.6,0.6
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1+random%3
ownpal = 1
angle = random

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
getpower = 0
damage = cond(ishelper(710),250,cond(ishelper(711),500,380)),cond(ishelper(710),250,cond(ishelper(711),500,380))
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 345643
sparkxy = -30+random%30,-10-random%40
hitsound = 11,3
guardsound = 11,3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
envshake.time = 30
envshake.ampl = -7
envshake.freq = 50
palfx.time = 70
palfx.mul = 256,256,256
palfx.add = 40,0,80
palfx.sinadd = 200,200,200,4
fall = 1

[State 1011, Destroyself]
type = destroyself
trigger1 = animtime = 0
;------------------
;Combo1
[StateDef 801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 801
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo1
[StateDef 802]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 802
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo1
[StateDef 803]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 803
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -3,5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------


;------------------
;Combo2
[StateDef 805]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 805
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;------------------
;Combo2
[StateDef 806]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 806
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -18
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;------------------
;Combo2
[StateDef 807]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 807
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -3,5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------


;------------------
;Combo3
[StateDef 809]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 809
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo3
[StateDef 810]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 810
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = High
air.velocity = -1,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo3
[StateDef 811]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 811
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
triggerall = var(1) = 1
anim = 202
id = 202
pos = 38,-18
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = 10
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F980
scale = 1.7,1.7
pos = 5,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
angle = -60
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -20+random%20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -3,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------



;------------------
;Combo4
[StateDef 813]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 813
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo4
[StateDef 814]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 814
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo4
[StateDef 815]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 815
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo5
[StateDef 817]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 817
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo5
[StateDef 818]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 818
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo5
[StateDef 819]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 819
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 10
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
triggerall = var(1) = 1
anim = 203
id = 203
pos = 44,-22
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = F1010
scale = 2,1.5
pos = 15,-42
postype = p1  ;p2,front,back,left,right
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = S, NA
damage = 40*(var(1)+1),8*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,6
airguard.velocity = -2,6
air.type = High
air.velocity = -2,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1
fall.velocity = -2,-3

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------


;------------------
;Combo6
[StateDef 821]
type = C
movetype= A
physics = S
juggle  = 1
velset = 8,0
ctrl = 0
anim = 821
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;------------------
;Combo6
[StateDef 822]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 822
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
triggerall = var(1) = 1
anim = 203
id = 203
pos = 44,-11
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F980
scale = 1.8,1.8
pos = 19,-15
angle = -40
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;------------------
;Combo6
[StateDef 823]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 823
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
triggerall = var(1) = 1
anim = 202
id = 202
pos = 49,-44
scale = 0.5,0.5
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F1000
scale = 2.2,1.5
pos = 18,-26
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------
;------------------
;Combo6
[StateDef 824]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 824
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 10
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
triggerall = var(1) = 1
anim = 204
id = 204
pos = 31,-51
scale = 0.5,0.5
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1010
scale = 1.5,1.5
pos = 22,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F550
persistent = 0
ID = 550
postype = p1
pos = 40,30
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
scale = 0.8,0.8
pausemovetime = 9999
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F1190
persistent = 0
ID = 1190
postype = p1
pos = 40,30
bindtime = 1
sprpriority = 5
ownpal = 1
ontop = 0
scale = 0.8,0.8
pausemovetime = 9999
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 50*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -40+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;------------------
;Combo7
[StateDef 825]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 825
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(1) = 1
anim = 204
id = 204
pos = -13,-76
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F1010
scale = 2,2
pos = 10,-44
postype = p1  ;p2,front,back,left,right
facing = 1
angle = 70
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = High
air.velocity = -1,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo7
[StateDef 826]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 826
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
triggerall = var(1) = 1
anim = 203
id = 203
pos = 44,-22
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = F1010
scale = 1.7,1.9
pos = 20,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,4
airguard.velocity = -2,4
air.type = High
air.velocity = -2,4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo7
[StateDef 827]
type = S
movetype= A
physics = S
juggle  = 1
velset = 7,0
ctrl = 0
anim = 827
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 12
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
triggerall = var(1) = 1
anim = 202
id = 202
pos = -35,-56
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 19
anim = F1000
scale = 2,2
pos = -6,-35
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = 80
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
fall.velocity = -1,-3

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo8
[StateDef 829]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 829
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo8
[StateDef 830]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 815
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo8
[StateDef 831]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 831
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
triggerall = var(1) = 1
anim = 202
id = 202
pos = 38,-18
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = 10
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F980
scale = 1.7,1.7
pos = 5,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
angle = -60
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -20+random%20
hitsound = F5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,4
airguard.velocity = -5,4
air.type = High
air.velocity = -5,4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
fall.velocity = -4,-2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------



;------------------
;Combo9
[StateDef 833]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 833
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
triggerall = var(1) = 1
anim = 202
id = 202
pos = 0,-72
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = F1010
scale = 2,2
pos = 10,-44
postype = p1  ;p2,front,back,left,right
facing = 1
angle = 70
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-6
airguard.velocity = -1,-6
air.type = High
air.velocity = -1,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo9
[StateDef 834]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 834
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 10
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
triggerall = var(1) = 1
anim = 203
id = 203
pos = 39,5
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = F1010
scale = 2.3,2.3
pos = 12,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 45*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,7
airguard.velocity = -4,7
air.type = High
air.velocity = -4,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
fall.velocity = -2,-4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo10
[StateDef 836]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 836
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
triggerall = var(1) = 1
anim = 203
id = 203
pos = 44,-22
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = F1010
scale = 1.7,1.9
pos = 20,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo10
[StateDef 837]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 837
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
triggerall = var(1) = 1
anim = 202
id = 202
pos = -35,-56
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = F1000
scale = 2,2
pos = -6,-40
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = -1
angle = 80
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo10
[StateDef 838]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 838
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
triggerall = var(1) = 1
anim = 203
id = 203
pos = 44,-22
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F1010
scale = 1.4,1.9
pos = 25,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50*(var(1)+1),10*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,7
airguard.velocity = -3,7
air.type = High
air.velocity = -3,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------



;------------------
;Podrzucenie
[StateDef 840]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 840
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-8
airguard.velocity = -1,-8
air.type = High
air.velocity = -1,-8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------



;-----------------
;przerzucenie
[StateDef 842]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 842
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 20, 20
sparkno = 0+random%4
sparkxy = -20, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 843

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;przerzucenie
[StateDef 843]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 843
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F310
ID = 310
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F290
ID = 290
pos = -10,3
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = C,HP
damage = 35,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = 15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 6,-5
airguard.velocity = -1.9,-5
air.type = High
air.velocity = 6,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
yaccel = 0.5

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = C,HP
damage = 35,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = 15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 6,-1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 6,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 60
fall.envshake.ampl = -20
fall.envshake.phase = 20
fall.yvelocity = -3
yaccel = 1.5
fall.damage = 50

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------



;------------------
;Obrona
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = -1,0
ctrl = 0
anim = 845
poweradd = 20
sprpriority = 2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -var(2)/4
kill = 1

[State 0, ParentVarAdd]
type = VarAdd
trigger1 = 1
v = 2
value = gethitvar(damage)

[State 0, ParentVarSet]
type = VarSet
trigger1 = time = 1
v = 2
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(205) = 0
triggerall = var(1) = 1
anim = 205
id = 205
pos = 13,-47
scale = 0.2,0.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(8204) = 0
triggerall = var(1) = 1
anim = 204
id = 8204
pos = 12,-44
scale = 0.3,0.3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 150,200,220
paladd = 10,15,20
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,8
volume = 255
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 845
time = 9999
forceair = 0


;[State 0, NotHitBy]
;type = NotHitBy
;trigger1 = 1
;value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
;time = 1


;[State 0, Helper]
;type = Helper
;trigger1 = time = 0 && numhelper(846) = 0
;helpertype = player
;name = "MIECZ"
;ID = 846
;stateno = 130
;pos = 0,0
;postype = p1    ;p2,front,back,left,right
;facing = 1
;keyctrl = 0
;ownpal = 1
;size.xscale = 1
;size.yscale = 1
;supermove = 9999
;pausemove = 9999

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c" && command != "holdback"
trigger2 = var(50) = 1 && random = [0,20]
trigger3 = var(50) = 1 && command != "hold_c" && command != "holdback"
value = 0
ctrl = 1
;-----------------




;-----------------
;Rzut Mieczem
[StateDef 848]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 848
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 2041

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 2042

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 204

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 206

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 9
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = var(1) = 1
anim = 203
id = 203
pos = -33,-50
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1010
scale = 1.5,1.2
pos = 27,-44
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1= time = 11
fvar(16)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= time = 11
fvar(17)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, alf]
Type=VarSet
trigger1= time = 11
fvar(18)= atan(fvar(17)/fvar(16))

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "miecz"
ID = 850
stateno = 850
pos = 13,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 310, end]
type = ChangeState
trigger1 = time > 10 && numhelper(850) = 0
value = 849
ctrl = 1
;------------------
;Rzut Mieczem
[StateDef 849]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 849
poweradd = 20
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 2041

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 2042

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 204

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 1
id = 206

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 4
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
triggerall = var(1) = 1
anim = 202
id = 202
pos = -47,-50
scale = 0.5,0.5
postype = p1
facing = -1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = F1000
scale = 1.8,1.8
pos = -12,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
angle = 80
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,45
volume = 255
channel = 2

[State 1000, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && backedgedist < -10
value = 104

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------
;Miecz
[Statedef 850]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 850
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent, var(1) = 1 && time = 0
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = parent, var(1) = 1
anim = 209
id = 209
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = 52
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
triggerall = numexplod(8501) <= 1
anim = 202+random%2
id = 8501
pos = 0,-30
scale = 0.5,0.5
postype = p2
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(850) < 3
anim = F10+random%3
angle = -25+random%50
id = 850
pos = -15,-25
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,0
volume = 256
channel = 6

[State 0, VelSet]
type=VelSet
trigger1= time <= 25
triggerall = parent, var(1) = 0
x=cos(parent,fvar(18))*11
y=sin(parent,fvar(18))*11

[State 0, VelSet]
type=VelSet
trigger1= time > 25
triggerall = parent, var(1) = 0
x=-cos(parent,fvar(18))*11
y=-sin(parent,fvar(18))*11

[State 0, VelSet]
type=VelSet
trigger1= time <= 25
triggerall = parent, var(1) = 1
x=cos(parent,fvar(18))*18
y=sin(parent,fvar(18))*18

[State 0, VelSet]
type=VelSet
trigger1= time > 25
triggerall = parent, var(1) = 1
x=-cos(parent,fvar(18))*18
y=-sin(parent,fvar(18))*18

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time <= 25 && timemod = 6,0
attr = A, NP
damage = 40*(parent,var(1)+1),5*(parent,var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -25, 0
hitsound = F5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time > 25 && timemod = 6,0
attr = A, NP
damage = 40*(parent,var(1)+1),5*(parent,var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -25, 0
hitsound =F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 5,0
airguard.velocity = 5,5
air.type = High
air.velocity = 5,5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 52
trigger2 = parent, stateno != 848
ignorehitpause = 1
;------------------
;Combo9
[StateDef 860]
type = A
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 860
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 4
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
x = 4


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -61
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -61
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,6
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,6
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------



;------------------
;Combo9
[StateDef 861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 20
sprpriority = 2

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
value = F14,1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 7
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
triggerall = var(1) = 1
anim = 203
id = 203
pos = -2,-22
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
triggerall = var(1) = 1
anim = 205
id = 205
pos = 0,-30
scale = 0.6,0.6
postype = p1
facing = 1
vfacing =1
bindtime = -1
removetime = 36
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5 && numexplod(10901) < 2
id = 10901
anim = F1090
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6 && numexplod(10902) < 2
id = 10902
anim = F1090
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 35*(var(1)+1),7*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = 5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 862
ctrl = 1
;------------------
;Combo9
[StateDef 862]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 862
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------
;Combo10
[StateDef 865]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 865
poweradd = 20
sprpriority = 2

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
value = F14,1

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -200
x = 1
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -200
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 7
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
triggerall = var(1) = 1
anim = 206
pos = 25,-5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4 && numexplod(1390) < 2
id = 1390
anim = F1390
pos = 25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 30*(var(1)+1),6*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1)=1,1420,0+random%4)
sparkxy = -15+random%10, -50+random%20
hitsound = 5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 50
ctrl = 1
;------------------
;Suiton Atak
[StateDef 870]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 870
poweradd = -200
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109930

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 9 && timemod = 10,0
anim = F1530
id = 1530
pos = 0,0
scale = 1.3,1.3
postype = p1
facing = 1
vel = -1,0
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 6
x = 3
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F980
scale = 1.7,1.7
pos = 5,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
angle = -60
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && timemod = 8,0
anim = F1490
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && timemod = 10,0
anim = F1530;F250
scale = 1.6,1.6
pos = 30,3;15,-2
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 8,0
anim = F240
scale = 0.5,0.5
pos = 45+random%10,-4+random%10
vel = 0.5,-.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 8,0
anim = F240
scale = 0.8,0.8
pos = 25+random%10,-4+random%10
vel = 0.5,-.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 6 && timemod = 20,0
value = F12,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 6 && timemod = 20,0
value = F12,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,20
;getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 240+random%2
sparkxy = -30+random%30, -10-random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1
;------------------
;Suiton Atak
[StateDef 871]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 871
poweradd = -400
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109930

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F1530
scale = 2,2
pos = 30,5
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F1490
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && time < 8 && timemod = 8,0
anim = F240
scale = 0.5,0.5
pos = 45+random%10,-4+random%10
vel = 0.5,-.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && time < 8 && timemod = 8,0
anim = F240
scale = 0.8,0.8
pos = 25+random%10,-4+random%10
vel = 0.5,-.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) = 1 && time = 15
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 17
triggerall = var(1) = 1
anim = 203
id = 203
pos = 39,5
scale = 0.4,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 23
anim = F1010
scale = 2,2
pos = 2,-34
postype = p1  ;p2,front,back,left,right
facing = 1
;angle = 70
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F240
scale = 1.5,1.5
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
;getpower = 0
damage = 200*(var(1)+1),50*(var(1)+1)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 1550;240+random%2
sparkxy = -30+random%30, -30-random%30
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-5
airguard.velocity = -8,-5
air.type = High
air.velocity = -8,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
fall.velocity = -2,-4
p2stateno = 109994

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Raiton Combo
[StateDef 875]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 875
poweradd = -200
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 202
id = 202
pos = 25,-68
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F1090
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.6,0.6
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = F1010
scale = 2,2
pos = 2,-34
postype = p1  ;p2,front,back,left,right
facing = 1
;angle = 70
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F1380
scale = 1.6,1.3
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = 245
scale = .3,.1
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = 20
sprpriority = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,20
;getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
palfx.time = 50
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Raiton Combo
[StateDef 876]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 876
poweradd = -200
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F980
scale = 2,2
pos = 25,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
;angle = 70
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 203
id = 203
pos = 45,-29
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1360
scale = 0.8,0.8
pos = 75,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0,0
bindtime = 1
removetime = 15
sprpriority = 3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 877
scale = 0.5,0.5
pos = 55,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0,0
bindtime = 1
removetime = 15
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 879
scale = 0.7,0.7
pos = 65,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0,0
bindtime = 1
removetime = 15
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 878
scale = 0.4,0.4
pos = 55,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0,0
bindtime = 1
removetime = 15
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,20
;getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,4
airguard.velocity = -4,4
air.type = High
air.velocity = -4,4
fall = 1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 50
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Raiton Combo
[StateDef 880]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 880
poweradd = -400
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1010
scale = 2,1.5
pos = 15,-42
postype = p1  ;p2,front,back,left,right
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 881
ID = 881
postype = p1
pos = 40,-30
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.5,0.5
pausemovetime = 9999
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F550
persistent = 0
ID = 550
postype = p1
pos = 40,30
bindtime = 1
sprpriority = 4
ontop = 0
scale = 1,1
pausemovetime = 9999
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F1190
persistent = 0
ID = 1190
postype = p1
pos = 40,30
bindtime = 1
sprpriority = 5
ontop = 0
scale = 1,1
pausemovetime = 9999
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F11,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F7,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 204
id = 204
pos = -3,-15
scale = 0.7,0.7
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = F1280
scale = 1.2,1.2
pos = 47,-28
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0,0
bindtime = 10
removetime = 15
sprpriority = 3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -15,-10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 200,50
;getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = F5, 11
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,10
airguard.velocity = -6,10
air.type = High
air.velocity = -6,10
fall = 1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 50
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Tatsumaki
[StateDef 1100]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
value = F14,1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = 203
id = 203
pos = -2,-22
scale = 0.6,0.6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = 205
id = 205
pos = 0,-30
scale = 0.6,0.6
postype = p1
facing = 1
vfacing =1
bindtime = -1
removetime = 36
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5 && numexplod(10901) < 2
id = 10901
anim = F1090
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6 && numexplod(10902) < 2
id = 10902
anim = F1090
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6 && numexplod(1391) < 3
id = 1391
anim = F1391
pos = 0,0
angle = -107
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
vel = 0,-2
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(1420) < 4 && timemod = 5,0
id = 1420
anim = F1420
pos = -50+random%100,0-random%60
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 60,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = 5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = Time = 80
value = 1101
ctrl = 1
;------------------
;Tatsumaki
[StateDef 1101]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 862
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------
;Air Tatsukami
[StateDef 1105]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 865
poweradd = -500
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 80]
type = AfterImage
trigger1 = (!time)
time = 30
length = 15
framegap = 8
palbright = 0,0,0
palcontrast = 100,150,150
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
value = F14,1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F11,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = 206
pos = 25,-5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1 && p2movetype = H
value = F11,7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11
angle = -25+random%50
pos = -15,-20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4 && numexplod(1390) < 2
id = 1390
anim = F1390
pos = 25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(1420) < 4 && timemod = 5,0
id = 1420
anim = F1420
pos = -15+random%10, -50+random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,2
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420
sparkxy = -15+random%10, -50+random%20
hitsound = 5,20
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = Time = 60
value = 50
ctrl = 1
;--------------------



;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 250
value = S2,20
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 250
value = S2,21
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 250
value = S2,29
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 250
value = S2,44
volume = 255
channel = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = noshadow

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100

[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y < 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 4501 && pos y = 0
value = 4501

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 4502 && pos y != 0
value = 4502

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 20
add = 50,100,150
mul = 100,200,200
sinadd = 150,150,256,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4503
ID = 4503
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.4
sprpriority = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4504
ID = 4504
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.9
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4505
ID = 4505
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16

;--------------
;Shuriken
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 13,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Air Shuriken
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = -1,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Raiton Shuriken
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -30
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = 13,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Air Raiton Shuriken
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = -30
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%10
volume = 255
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "shuriken"
ID = 70712
stateno = 70712
pos = -1,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Seal
[StateDef 105250]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 105250
poweradd = 0
sprpriority = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 2,0
value = -1
kill = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 105250 + var(0)*10000

[State 0, End]
type = Selfstate
trigger1 = time = 300
value = 5000
ctrl = 1
;---------------------------------------------------------------------------
;Opponent State (Seal) ID 56
[StateDef 105251]

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 56

[State 1210, end]
type = SelfState
trigger1 = prevstateno!=105251
value = prevstateno

[State 1210, end]
type = SelfState
trigger1 = prevstateno =105251
value = 5000

;---------------------------------------------------------------------------
;Opponent State (Seal) ID 57
[StateDef 105252]

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 57

[State 1210, end]
type = SelfState
trigger1 = prevstateno!=105252
value = prevstateno

[State 1210, end]
type = SelfState
trigger1 = prevstateno =105252
value = 5000

;---------------------------------------------------------------------------
;Opponent State (Seal) ID 58
[StateDef 105253]

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 58

[State 1210, end]
type = SelfState
trigger1 = prevstateno!=105253
value = prevstateno

[State 1210, end]
type = SelfState
trigger1 = prevstateno =105253
value = 5000

;---------------------------------------------------------------------------
;Opponent State (Seal) ID 59
[StateDef 105254]

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 59

[State 1210, end]
type = SelfState
trigger1 = prevstateno!=105254
value = prevstateno

[State 1210, end]
type = SelfState
trigger1 = prevstateno =105254
value = 5000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050




;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;1 - miecz
;2 - obrona mieczem
;3 - suiton suiton przeciwniku
;4 - raiton kangekiha ground
;5 - suiton suijinheki & raiton kangekiha
;6 - pozycja suiton
;10- pociski suiton y
;11- ranton y
;12 - suijinheki def
;13 - mozliwosc przywolania kohaku

;---------------------- Integer variable list ----------------------

; var(1):= 200, 210, 212
; var(2):= 845
; var(3):= 305, 315, 325, 335, 371, -2, -3
; var(4):= 240, -2
; var(5):= 380, -2
; var(6):= 3501, 3502, 3503, 351, 352
; var(8):= 410
; var(9):= 410
;var(10):= 320, 325, 77000, 78000, 77003
;var(11):= 409
;var(12):= 371, 381
;var(13):= 408
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= 70500
;var(20):= 5900, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 70650, 70655, 70651, 70656, 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= 105251, 105252, 105253, 105254, -2, 105251, 105252, 105253, 105254
;var(46):= -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(2):= 5900
;fvar(10):= 77000, 78000
;fvar(11):= 620, 621, 622, 623, 624, 625, 77000, 78000
;fvar(12):= 77003
;fvar(13):= 105203, 70650, 70655, 70651, 70656, 60
;fvar(14):= 105203, 70650, 70655, 70651, 70656, 60
;fvar(15):= 105203, 70650, 70655, 70651, 70656, 60
;fvar(16):= 105203, 848
;fvar(17):= 848
;fvar(18):= 848



;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,10+random%39
volume = 256
channel = 2

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

[State 0, SUIJINHEKI]
type = NotHitBy
triggerall = var(12) = 1
trigger1 = numhelper(371) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno != 600 && stateno != 610
channel = 7

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) > 0
v = 3
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 240
v = 4
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 380
v = 5
value = 0

;Kohaku teleportacja
[State 0, Helper]
type = Helper
triggerall = numhelper(447) = 0
triggerall = numhelper(409) = 1
trigger1 = time > 10 && numhelper(450) = 0 && var(11) < 0
helpertype = normal ;player
name = "kohaku"
ID = 447
stateno = 447
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

;raiton miecz
[State 0, Helper]
type = Helper
trigger1 = var(1) = 1 && power < 10 && numhelper (212) = 0
helpertype = normal ;player
name = "End"
ID = 212
stateno = 212
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermove
pausemove
persistent = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 1 && stateno != 200
trigger1 = timemod = 5,0
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2041) = 0
trigger1 = statetype = S
anim = 204
id = 2041
pos = -15+random%20,-40+random%20
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2042) = 0
trigger1 = statetype = S
anim = 204
id = 2042
pos = -15+random%20,-40+random%20
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2041) = 0
trigger1 = statetype = A
trigger1 = stateno != [900,902]
trigger1 = stateno != [905,922]
anim = 204
id = 2041
pos = -10+random%15,-48+random%25
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2042) = 0
trigger1 = statetype = A
trigger1 = stateno != [900,902]
trigger1 = stateno != [905,922]
anim = 204
id = 2042
pos = -10+random%15,-48+random%25
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2041) = 0
trigger1 = statetype = C
anim = 204
id = 2041
pos = -10+random%20,-30+random%20
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2042) = 0
trigger1 = statetype = C
anim = 204
id = 2042
pos = -10+random%20,-30+random%20
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2041) = 0
trigger1 = statetype = L
anim = 203
id = 2041
pos = -25+random%40,-10+random%15
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2042) = 0
trigger1 = statetype = L
anim = 203
id = 2042
pos = -25+random%40,-10+random%15
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2041) = 0
triggerall = statetype = A
trigger1 = stateno = [900,902]
trigger2 = stateno = [905,922]
triggerall = stateno != 903
triggerall = stateno != 904
anim = 203
id = 2041
pos = -45+random%20,-10+random%15
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = var(1) = 1 && numexplod(2042) = 0
triggerall = statetype = A
trigger1 = stateno = [900,902]
trigger2 = stateno = [905,922]
triggerall = stateno != 903
triggerall = stateno != 904
anim = 203
id = 2042
pos = -45+random%20,-10+random%15
scale = 0.4,0.4
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 2041

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 2042

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 204

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 206


[State -2, Button X]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [360,380]
trigger1 = command = "x"
trigger2 = stateno = 360 && time = 5 
triggerall = numexplod(1610) = 0
anim = F1610
ID = 1610
pos = -12,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [360,380]
id = 1610

[State -2, Button X]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 240
trigger1 = command = "c"
trigger2 = stateno = 240 && time = 5 
triggerall = numexplod(1611) = 0
anim = F1608
ID = 1611
pos = -12,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 240
id = 1611

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,0,2),cond(pos y = 0,-32,-38)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,0,2),cond(pos y = 0,-52,-58)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,10,12),cond(pos y = 0,-42,-48)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-10,-8),cond(pos y = 0,-42,-48)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,8),cond(statetype != L,-33,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------


[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5

[State 0, VarAdd]
type = VarAdd
trigger1 = var(3) > 0
v = 3
value = -1

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, EMS]
type = AfterImage
triggerall = var(1) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 70,125,140
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .25,.55,.65
timegap = 1
framegap = 1
trans = add
