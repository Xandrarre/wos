
[Data]
life = 3000			;Amount of life to start with
power = 4000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 0			;Volume offset (negative for softer)
IntPersistIndex = 0	;Variables with this index and above will not have their values
FloatPersistIndex = 0  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 55
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -42
mid.pos = 0, -24
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.3	
walk.back = -1.3		
run.fwd  = 7, 0		
run.back = -5.2,-3.5
jump.neu = 0,-8.5		;Neutral jumping velocity (x, y)
jump.back = -3.0		;Jump back Speed (x, y)
jump.fwd = 3.0		;Jump forward Speed (x, y)
runjump.back = -2.45,-8.3;Running jump speeds (opt)
runjump.fwd = 3.5,-8.3	;.
airjump.neu = 0,-8.3	;.
airjump.back = -2.35	;Air jump speeds (opt)
airjump.fwd = 2.3

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,0
volume = 256
channel = 2

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 033
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 33
anim = F696
ownpal = 1
ID = 900
pos = 30,-18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 33
anim = F696
ownpal = 1
ID = 900
pos = 0,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.2,1.2
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 33
anim = F696
ownpal = 1
ID = 900
pos = -30,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S2,2
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = F17,0

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = F3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,14
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = F4

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,7
volume = 256
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = time = 120
value = 0
ctrl = 1
;------------------
;Rasengan Charge
[StateDef 930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930+var(0)*10000
poweradd = -500
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,10
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 6
value = 10+(time-5)*0.3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 115
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 929
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = -20,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -20,-25
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Kage Bunshin"
ID = 20000
stateno = 920
pos = -25,1
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90001
ID = 930
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 90002
ID = 931
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time >= 115 && power < 1500
trigger10 = time >= 115 && power >= 1500
trigger10 = numenemy != 1 || numpartner = 1
trigger11 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger11 = p2bodydist x < 150
trigger11 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 933

[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
triggerall = numenemy = 1
triggerall = numpartner = 0
value = 963
;-----------------
;Rasengan Fail
[StateDef 932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,1
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Rasengan Run
[StateDef 933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
value = 9335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.2,var(6)*0.5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 30,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(6)*2,var(6)*1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -28
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;------------------
;Rasengan End
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time < 20
triggerall = prevstateno = 964
time = 2
add = -120+time*6,-120+time*6,-120+time*6

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time < 20
triggerall = prevstateno = 964
time = 2
add = -80+time*4,-80+time*4,-80+time*4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,12

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 936
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;Impact
[StateDef 9335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x) - 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F32,4

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 35,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(6)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F461
id = 1390
pos = 25,-28
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.002,0.3+helper(106025),var(6)*0.002
ownpal = 1
supermovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wstazki Rasengan]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 25,0
anim = F680
id = 675
pos = 25,-28
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Duzy wiatr]
type = Explod
trigger1 = time = 15
trigger2 = time > 30 && timemod = 35,0
anim = F675
id = 675
pos = 43,-28
scale = 0.8+helper(106025),var(6)*0.005,0.7+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60,256

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 9336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
;Zwykle przeliczniki
;damage = var(6)*1.25,var(6)*0.6
;Przeliczniki konohamaru
damage = 25+var(6)*1.25*1.86,10+var(6)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -28
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 30,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
;Zwykle przeliczniki
;damage = var(6)*4.0,var(6)*2.0
;Przeliczniki konohamaru
damage = 50+var(6)*4.0*1.86,20+var(6)*4.0*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -28
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 40
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;-----------------
;Impact lose
[StateDef 9337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 9338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;-----------------
;Klon Charge
[StateDef 920]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 920
poweradd = 0
sprpriority = 6

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 919
id = 919
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Czy jest klonem do Rasengana
[State 0, Varset]
type = VarSet
trigger1 = 1
v = 10    
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -25,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,1+random%16
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F32,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 7
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 7
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 7
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
value = 923
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 922
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 923
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 934
trigger2 = parent, stateno = 9335
trigger3 = parent, stateno = 9336
trigger4 = parent, stateno = 964
value = 924
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 22223

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9339]
trigger1 = parent, stateno != [960,969]
value = 22223
ctrl = 0
;------------------
;Klon Run
[StateDef 923]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 923
poweradd = 0
sprpriority = 6

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
time = 1
pos = -2,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = 10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 7
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 934
trigger2 = parent, stateno = 9335
trigger3 = parent, stateno = 9336
trigger4 = parent, stateno = 964
value = 924
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 925
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 932
value = 22223

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9339]
trigger1 = parent, stateno != [960,969]
value = 22223
ctrl = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 22223
;------------------
;Klon Hit
[StateDef 924]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 924
poweradd = 0
sprpriority = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934
trigger2 = parent, stateno = 9335
trigger3 = parent, stateno = 9336
trigger4 = parent, stateno = 964
time = 1
pos = -2,1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 935
value = 925
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9339]
trigger1 = parent, stateno != [960,969]
value = 22223
ctrl = 0

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 22223
;------------------
;Klon End
[StateDef 925]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 925
poweradd = 0
sprpriority = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
time = 1
pos = -2,1

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 926
id = 926
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 20000, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = numhelper(20000) > 3
value = 22223

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 20105
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 9337
trigger2 = parent, stateno = 9338
value = 22223
;------------------
;Kula
[StateDef 950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = add
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.5+var(6)*0.02,0.5+var(6)*0.02
trans = add
angle = time*5

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -20,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -10,-5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
time = 1
pos = -5,-22

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 6
time = 1
pos = 5,-20

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 6 && parent, time <= 9
time = 1
pos = 20,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 30,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 30,-28

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 964 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
value = 952
;------------------
;Kula Hit
[StateDef 951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wstazki]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;Odama

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(4)*0.03,0.01+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(4)*0.03)*2,(0.01+var(4)*0.03)*2
trans = add

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 964
anim = F644
id = 90013
pos = 15,0
scale = 0.3+var(6)*0.009,(0.3+var(6)*0.009)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kamyki]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = parent, stateno = 964
anim = F591
ID = 591
pos = -20+random%40,-pos y +random%20
vel = 1+random%2,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Wybuch ziemi]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F1490
ID = 90015
pos = 40,-pos y+3
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.3,0
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Zniszczona ziemia]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F64
ID = 90016
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.4
sprpriority = -1
ontop = 0

;------------

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -20,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -10,-5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
time = 1
pos = -5,-22

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 6
time = 1
pos = 5,-20

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 6 && parent, time <= 9
time = 1
pos = 20,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 30,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 30,-28

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,939]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
value = 952
;------------------
;Kula End
[StateDef 952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -20,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -10,-5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
trigger2 = parent, stateno = 963
time = 1
pos = -5,-22

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-25

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 6
time = 1
pos = 5,-20

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 6 && parent, time <= 9
time = 1
pos = 20,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 30,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 30,-28

[State 0, End]
type = Destroyself
trigger1 = time = 11
;------------------
;Odama Rasengan Run
[StateDef 963]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = -1500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 100

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 40
value = 964
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Odama Rasengan Hit
[StateDef 964]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 100
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 100
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 4-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,13

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NT
damage = 250,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 30,-5

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-2
airguard.velocity = -20,-2
air.type = High
air.velocity = -20,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;--------------
;Shuriken Kage Bunshin
[StateDef 500]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 500
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
v = 23
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Shuriken Macierzysty"
ID = 520
stateno = 520
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 505
ctrl = 1
;--------------
;Shuriken Kage Bunshin
[StateDef 505]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 505
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F19,6

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F19,7

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 3
value = F9,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = F2001
pos = 0,-30
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = time >= 10 && power >= 100 && numhelper(521) < 15
helpertype = normal;player
name = "Shuriken Dodatkowy"
ID = 521
stateno = 521
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = Time = 30
value = 510
ctrl = 1
;--------------
;Shuriken Kage Bunshin
[StateDef 510]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 510
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,5
volume = 255
channel = 4

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------
;Shuriken lot
[Statedef 520]
type = S
movetype= A
physics = N
juggle  = 3
velset = 1,-0.2
ctrl = 0
anim = 70710; pojedycza animacja shurikena (obracanie ju jest zakodowane)
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = root, stateno = 510
v = 1
value = 1

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1


[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y-50)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, PosSet]
type = velSet
trigger1 = var(1) = 1
persistent = 0
x = (Fvar(13))/(fvar(15))*16
y = (FVar(14))/(fvar(15))*16-1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(1) = 1
trigger2 = root, stateno != [500,510]
x = cond(var(1)=1,-0.1,0)
y = 0.1

[State 0, 1]
type = HitDef
trigger1 = !time
attr = A, NP
getpower = 0,0
givepower = 0,0
damage = 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 29
sparkxy = -10, 0
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 70715
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
trigger2 = time = 200
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70715
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 70716
;------------------------------------------------------------------
;Shuriken lot
[Statedef 521]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 70710; pojedycza animacja shurikena (obracanie ju jest zakodowane)
sprpriority = 2
poweradd = -100

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = helper(520), pos x-50+random%100
y = helper(520), pos y-50+random%80

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = root, stateno = 510
v = 1
value = 1

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1


[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y-30-random%40)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, PosSet]
type = velSet
trigger1 = var(1) = 1
persistent = 0
x = (Fvar(13))/(fvar(15))*16
y = (FVar(14))/(fvar(15))*16-1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(1) = 1
trigger2 = root, stateno != [500,510]
x = cond(var(1)=1,-0.1,0)
y = 0.1

[State 0, 1]
type = HitDef
trigger1 = !time
attr = A, NP
getpower = 0,0
givepower = 0,0
damage = 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 29
sparkxy = -10, 0
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 70715
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
trigger2 = time = 200
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70715
ctrl = 0

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
value = 70716
;------------------
;Shuriken Kage Bunshin
[StateDef 530]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 1
anim = 530
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 4+var(11)/30

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 7
x = 7

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = p2bodydist x


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3





[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------



;------------------
;Katon: Haisekisho
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,6
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal;player
name = "Katon"
ID = 720
stateno = 720
pos = 50,-20
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = F1570
id = 1570
pos = 56,-18
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = -1
removeongethit = 1
angle = -20
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = 0;timemod = 3,0 && time = [30,230]
anim = 721
pos = 10,-33
scale = 0.02,0.02
postype = p1
facing = 1
bindtime = 1
vel = 2.5,0.3
removetime = -2
sprpriority = 3

[State 0, End]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger3 = power = 0
trigger4 = time = 170
value = 710
ctrl = 1
;------------------
;Katon: Haisekisho
[StateDef 710]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 710
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1570

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,2
volume = 255
channel = 4




[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F2016
id = 2016
pos = 6,-37
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -2
removetime = -2
removeongethit = 0
sprpriority = 3

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------
;Katon: Haisekisho
[StateDef 720]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 720
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = anim = [730,740]
persistent = 0
time = 50
ampl = -7
freq = 50
phase = 230

[State 0, VarSet]
type = VarSet
trigger1 = time < 150
triggerall = parent, stateno = 700
v = 3
value = time*2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = anim = 720
value = -20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.05+var(3)*0.0033,0.05+var(3)*0.0033

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 720
id = 720
pos = 0,0
scale = 0.05+var(3)*0.0033,0.05+var(3)*0.0033
postype = p1
facing = 1
bindtime = -1
removetime = -1
removeongethit = 1
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
id = 720
scale = 0.05+var(3)*0.0033,0.05+var(3)*0.0033

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,2
channel = 14

[State 0, End]
type = ChangeState
trigger1 = parent, stateno != 700
value = 730
ctrl = 1
;------------------
;Katon: Haisekisho
[StateDef 730]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 730
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [0,29]
trigger1 = time = 0
value = 730

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [30,59]
trigger1 = time = 0
value = 731

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [60,89]
trigger1 = time = 0
value = 732

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [90,119]
trigger1 = time = 0
value = 733

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [120,149]
trigger1 = time = 0
value = 734

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [150,179]
trigger1 = time = 0
value = 735

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [180,209]
trigger1 = time = 0
value = 736

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [210,239]
trigger1 = time = 0
value = 737

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [240,269]
trigger1 = time = 0
value = 738

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = [270,299]
trigger1 = time = 0
value = 739

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(3) = 300
trigger1 = time = 0
value = 740

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 14 

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 3,0 && time < 20 && var(3) > 100
time = 2
add = 79,66,51
mul = 237,198,156

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 3,2 && time < 20 && var(3) > 100
time = 2
add = 79,47,20
mul = 237,131,60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,9

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
anim = 725
id = 720
scale = 0.1+var(3)*0.0033,0.1+var(3)*0.0033
removetime = 30
bindtime = 30
facing = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 725
id = 730
scale = 0.1+var(3)*0.0033,0.1+var(3)*0.0033
removetime = 30
bindtime = 30
facing = 1
pos = 0,0
postype = p1
removeongethit = 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 726
id = 730
scale = 0.1+var(3)*0.0033,0.1+var(3)*0.0033
removetime = 30
bindtime = 30
facing = 1
pos = 0,0
postype = p1
removeongethit = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1+var(3)*0.0033,0.1+var(3)*0.0033

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
persistent = 0
time = var(3)/3
ampl = -var(3)/20
freq = var(3)/2
phase = 230

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1332
id = 1332
scale = (0.1+var(3)*0.0033)*3.5,(0.1+var(3)*0.0033)*3.5
removetime = -2
bindtime = -2
facing = 1
pos = 25+var(3)*0.66,0
postype = p1
removeongethit = 0
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F580
id = 580
scale = (0.1+var(3)*0.0033)*3,(0.1+var(3)*0.0033)*1.5
removetime = -2
bindtime = -2
facing = 1
pos = 25+var(3)*0.66,-pos y
postype = p1
removeongethit = 0
sprpriority = -1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1200
id = 1200
scale = (0.1+var(3)*0.0033)*2.5,(0.1+var(3)*0.0033)*2.5
removetime = -2
bindtime = -2
facing = 1
vfacing = -1
pos = 25+var(3)*0.66+var(3)*0.5,-pos y
postype = p1
removeongethit = 0
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1200
id = 1200
scale = (0.1+var(3)*0.0033)*2.5,(0.1+var(3)*0.0033)*2.5
removetime = -2
bindtime = -2
facing = -1
vfacing = -1
pos = 25+var(3)*0.66-var(3)*0.5,-pos y
postype = p1
removeongethit = 0
sprpriority = 3


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1011, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
getpower = 0,0
givepower = 0,0
damage = (60+var(3))/3,(60+var(3))/6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = cond(var(3) < 100, 15436,cond(var(3) < 2, 1402,1400))
sparkxy = -30+random%30, -5-random%40
hitsound = S10, 0
guardsound = S10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2-var(3)/30,-3-var(3)/30
airguard.velocity = -2-var(3)/30,-3-var(3)/30
air.type = High
air.velocity = -2-var(3)/30,-3-var(3)/30
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10


[State 0, End]
type = destroyself
trigger1 = time = 50
;---------------------------------------------------------------------------
;OIROKE
[StateDef 660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6178
poweradd = 0
sprpriority = 0


[State 0, Prawa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 1533,excplod ]
type = Explod
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,-5
bindtime = 56
sprpriority = 3
ownpal = 1
ontop = 0
removemovetime = 56
pausemovetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,0
bindtime = 56
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removemovetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
scale = 1,1
removeongethit = 1

[State 1533,excplod ]
type = Explod
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
scale = 1,1
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 661
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 662
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 663
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,2

[State 220, end]
type = ChangeState
trigger1 = time = 68
value = 0
ctrl = 1
;----------------------------
[StateDef 661]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 0.1-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 75475476
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
[StateDef 662]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.2-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 45757
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
[StateDef 663]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.5-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 57547
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;-----------------
[StateDef 750]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 750
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F17,0

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90006
ID = 75502
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 190
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1
ontop = 0

[State 7500, Explod]
type = Explod
trigger1 = time <= 100
anim = 90002
ID = 75501
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 34
triggerall = numhelper(20000) = 0
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 67
triggerall = numhelper(20000) <= 1
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = numhelper(20000) <= 2
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 1000
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 100
trigger10 = numhelper(20000) = 3
value = 0
ctrl = 1
;-----------------

;---------------------------------------------------------------------------
;Mini OIROKE
[StateDef 790]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 790
poweradd = -150
sprpriority = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6179
ID = 6179
postype = p1
pos = 0,-5
bindtime = 56
sprpriority = 3
ownpal = 1
ontop = 0
removetime = 30
pausemovetime = 56
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6179
ID = 6179
postype = p1
pos = 0,0
bindtime = 56
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6188
ID = 6182
postype = p1
pos = 0,-37
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 30
removetime = 30
scale = 0.3,0.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S6,35


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50*var(7)
sparkno = 543635
sparkxy = 0, 0
hitsound = S6, 2345
guardsound = S6, 2345
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 50*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Mini OIROKE
[StateDef 791]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 791
poweradd = -150
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = prevstateno = 811
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6179
ID = 6179
postype = p1
pos = 0,-5
bindtime = 56
sprpriority = 3
ownpal = 1
ontop = 0
removetime = 30
pausemovetime = 56
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6179
ID = 6179
postype = p1
pos = 0,0
bindtime = 56
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 30
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time < 25
trigger1 = timemod = 5,0
anim = 7911
ID = 7911
postype = p1
pos = 5,-38
bindtime = 1
vel = 3,-2+random%4
sprpriority = 4
ownpal = 1
facing = 1
ontop = 0
pausemovetime = 30
removetime = 30
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S6,35


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50*var(7)
sparkno = 456456
sparkxy = 0, -30-random%16
hitsound = S6, 346456
guardsound = S6, 6346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 50*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Mini OIROKE
[StateDef 795]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 795
poweradd = -200
sprpriority = 0


[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.8,0.8
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.1,1.1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 80
anim = F696
ownpal = 1
ID = 900
pos = -30-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.8,0.8
sprpriority = 5
ontop = 0

[State 1533,excplod ]
type = Explod
trigger1 = time < 70
trigger1 = timemod = 5,0
anim = 796
ID = 796
postype = p1
pos = -40+random%90,0-random%60
bindtime = 1
vel = 0+random%2,-1+random%1
sprpriority = 4
ownpal = 1
facing = 1
ontop = 0
pausemovetime = -2
removetime = -2
scale = 0.15,0.15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S6,35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 80
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 80
value = F9,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 80,16
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 70*var(7)
sparkno = 36346
sparkxy = 0, -20-random%40
hitsound = S6, 346456
guardsound = S6, 6346
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 70*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1
;------------------
;Combo 1
[StateDef 801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 801
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 1
[StateDef 802]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 802
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-1
airguard.velocity = -1,-1
air.type = High
air.velocity = -1,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 1
[StateDef 803]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 803
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 2
[StateDef 805]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 805
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------


;------------------
;Combo 2
[StateDef 806]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 806
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------


;------------------
;Combo 2
[StateDef 807]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 807
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 3
[StateDef 809]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 809
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 3
[StateDef 810]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 810
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = High
air.velocity = -1,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 3
[StateDef 811]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 811
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,3
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 4
[StateDef 813]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 813
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 4
[StateDef 814]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 814
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 4
[StateDef 815]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 811
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,3
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------
;Combo 5
[StateDef 817]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 817
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,-.8
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 5
[StateDef 818]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 818
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 6
[StateDef 819]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 819
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------



;------------------
;Combo 7
[StateDef 821]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 821
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 7
[StateDef 822]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 822
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 7
[StateDef 823]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 823
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 824
stateno = 824
pos = 10,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 7
[StateDef 824]
type = A
movetype= A
physics = S
juggle  = 1
velset = 8,-5
ctrl = 0
anim = 824
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 26
value = F4

[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = F290
ID = 23
pos = -1,-3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 28
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,3
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------


;------------------
;Combo 8
[StateDef 826]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 826
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 8
[StateDef 827]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 827
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 8
[StateDef 828]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 828
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 829
stateno = 829
pos = 10,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;------------------
;Combo 8
[StateDef 829]
type = A
movetype= A
physics = S
juggle  = 1
velset = 8,-5
ctrl = 0
anim = 829
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F4

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F290
ID = 23
pos = -1,-3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = pos y >= 0 && time > 1
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = pos y >= 0 && time > 1
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,3
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = destroyself
trigger1 = pos y >= 0 && time > 1
;-----------------



;------------------
;Podrzucenie
[StateDef 831]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 831
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-4
airguard.velocity = -1,-4
air.type = High
air.velocity = -1,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 9
[StateDef 833]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 833
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 834
stateno = 834
pos = 20,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 9
[StateDef 834]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 834
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 22
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 22
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = time > 4 && parent, command = "x" && parent, command = "holdfwd"
trigger2 = time > 4 && parent, var(50) = 1 && random = [220,221+var(49)*(var(49)/20)+10-var(48)/40]
triggerall = ishelper(834) && movecontact 
value = 835
ctrl = 1

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------


;------------------
;Combo 9
[StateDef 835]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 835
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 22
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = time > 4 && parent, command = "x" && parent, command = "holdfwd"
trigger2 = time > 4 && parent, var(50) = 1 && random = [220,221+var(49)*(var(49)/20)+10-var(48)/40]
triggerall = ishelper(834) && movecontact 
value = 836
ctrl = 1

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------


;------------------
;Combo 9
[StateDef 836]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 836
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------


;------------------
;Combo 10
[StateDef 838]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 838
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 839
stateno = 839
pos = 20,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 10
[StateDef 839]
type = A
movetype= A
physics = S
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 839
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F4

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F290
ID = 23
pos = -1,-3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
trigger2 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
trigger2 = time = 0
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = pos y >= 0 && time > 1
trigger2 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = pos y >= 0 && time > 1
trigger2 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = pos y >= 0 && time > 1
trigger2 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = time > 4 && parent, command = "y"
trigger2 = time > 4 && parent, var(50) = 1 && random = [280,281+var(49)*(var(49)/20)+10-var(48)/40]
triggerall = ishelper(839) && movecontact 
value = 840
ctrl = 1

[State 0, End]
type = destroyself
trigger1 = pos y >= 0 && time > 1
;------------------
;Combo 10
[StateDef 840]
type = A
movetype= A
physics = S
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 840
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F4

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F290
ID = 23
pos = -1,-3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-2
airguard.velocity = -1,-2
air.type = High
air.velocity = -1,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = time > 4 && parent, command = "y"
trigger2 = time > 4 && parent, var(50) = 1 && random = [280,281+var(49)*(var(49)/20)+10-var(48)/40]
triggerall = ishelper(839) && movecontact 
value = 841
ctrl = 1

[State 0, End]
type = destroyself
trigger1 = pos y >= 0 && time > 1
;------------------
;Combo 10
[StateDef 841]
type = A
movetype= A
physics = S
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 841
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F4

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F290
ID = 23
pos = -1,-3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 0

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,3
airguard.velocity = -1,3
air.type = High
air.velocity = -1,3
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && time > 1
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = pos y >= 0 && time > 1
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = destroyself
trigger1 = pos y >= 0 && time > 1
;-----------------


;------------------
;Combo 11
[StateDef 843]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 843
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------


;------------------
;Combo 11
[StateDef 844]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 844
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,10
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Kage Bunshin"
ID = 845
stateno = 845
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 846
ctrl = 1
;-----------------


;------------------
;Combo 11
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 18
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 18
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 18
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;------------------------------------------------------------------
;Combo 11
[Statedef 846]
type = A
movetype= A
physics = N
juggle  = 3
velset = 0,0
ctrl = 0
anim = 846
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 2015
sound = 19,0
pos = -5,-30
move = 0
darken = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -5
y = -30

[State 1640, X]
Type=VarSet
Trigger1= time = 1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1= time = 1
fvar(14)=(EnemyNear(0),pos Y-Pos Y-20)

[State 1640, Vector Length]
Type=VarSet
trigger1= time = 1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 8,0
value = F21,6

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x=(Fvar(13))/(fvar(15))*12
y=(FVar(14))/(fvar(15))*12-2


[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount < 5
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = hitcount >= 5
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 1
value = -time*time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 1
value = -time*50

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,10-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = hitcount < 5
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 5
sparkno = 0+random%4
sparkxy = -15, 10-random%20
hitsound = 24, 13
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno =  848
time = 9999

[State 1003, ChangeState]
type = changestate
trigger1 = pos y > -1
trigger2 = time = 50
;trigger3 = p2bodydist x < -1
trigger3 = hitcount > 3
value = 847
;-----------------


;------------------
;Combo 11
[StateDef 847]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,-1
ctrl = 0
anim = 847
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && pos y >= -3
y = -5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,2
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------


;------------------
;Combo 11
[StateDef 848]
type = A
movetype= H
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 848
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, End]
type = ChangeState
trigger1 = time = 0
value = 5100
ctrl = 1
;-------------


;--------------
;Rzut Kamieniem
[StateDef 850]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
velset = 0,0
anim = 850
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y = 0
anim = F60
pos = -5,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0 && pos y = 0
anim = F550
pos = -5,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Kamien"
ID = 851
stateno = 851
pos = 5,-32
size.xscale = 0.2
size.yscale = 0.2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------
;Kamien
[StateDef 851]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 851
sprpriority = 3


[State 0, VarSet]
type = VarSet
trigger1 = time = 0 && p2bodydist x < 400
v = 2
value = p2bodydist x

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))


[State 0, VelSet]
type = VelSet
trigger1 = 1
x=(Fvar(13))/(fvar(15))*11+1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && p2bodydist x < 200
y = -var(2)/30

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && p2bodydist x >= 200
y = -4

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 1
attr = S, NA
damage = 60,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = 0, 0
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
p1stateno = 852
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = pos y >= 4
value = 855
ctrl = 1
;-------------------
;Kamien
[StateDef 852]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 851
sprpriority = 3


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -4+random%3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -2+random%1

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, End]
type = ChangeState
trigger1 = pos y >= 4
value = 853
ctrl = 1
;-------------------
;Kamien
[StateDef 853]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 853
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0 
time = 10
freq = 20
ampl = -5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F4

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -3+random%1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -3+random%2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 1 && pos y >= 4
y = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F60
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1


[State 0, End]
type = ChangeState
trigger1 = time > 1 && pos y >= 4
value = 854
ctrl = 1
;-------------------
;Kamien
[StateDef 854]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 852
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -4+random%2
y = -2+random%2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 1 && pos y >= 4
y = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F60
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,34
volume = 256
channel = 6


[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-------------------
;Kamien
[StateDef 855]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 853
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0 
time = 10
freq = 20
ampl = -5
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F4

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4+random%2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5+random%2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 1 && pos y >= 4
y = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F60
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 0, End]
type = ChangeState
trigger1 = time > 1 && pos y >= 4
value = 856
ctrl = 1
;-------------------
;Kamien
[StateDef 856]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 852
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0 
time = 10
freq = 20
ampl = -5
phase = 90

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3+random%2
y = -2+random%2

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 4

[State 0, PosSet]
type = PosSet
trigger1 = time > 1 && pos y >= 4
y = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F60
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = .3,.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,34
volume = 256
channel = 6


[State 0, End]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;HAREM NO JUTSU
[StateDef 967]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6176
poweradd = -(250+250*numhelper(20000))
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 9
value = numhelper(20000)

[State 0, ChangeState]
type = ChangeState
trigger1 = var(9)%2 = 0
value = 968

[State 0, ChangeState]
type = ChangeState
trigger1 = var(9)%2 = 1
value = 969

;---------------------------------------------------------------------------
;HAREM NO JUTSU (parzyste klony)
[StateDef 968]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -3.5*time,-10*time,-5*time
mul = 256,256,256

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = -25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) >= 4
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = -40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) >= 4
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 80
anim = -1
movetime = 80
darken = 0
sound = -1,0

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 972

;---------------------------------------------------------------------------
;HAREM NO JUTSU (nieparzyste klony)
[StateDef 969]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -3.5*time,-10*time,-5*time
mul = 256,256,256

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = 22,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = -25,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = 47,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) = 5
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = -40,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = var(9) = 5
helpertype = player
name = "bunshin"
ID = 20000
stateno = 970
pos = 62,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 80

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 80
anim = -1
movetime = 80
darken = 0
sound = -1,0

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 972

;---------------------------------------------------------------------------
;Klony
[StateDef 970]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6175
poweradd = 0
sprpriority = 0

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F9,1

[State 0, ChangeAnim]
type = Changestate
trigger1 = parent, stateno = 972
value = 972

;---------------------------------------------
;Destroy bunshin
[StateDef 971]
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(statetype=A,6173,6174)
poweradd = 0
sprpriority = 2

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F9,1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 15008, end]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;HAREM NO JUTSU
[StateDef 972]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6177
sprpriority = 0+ishelper*3
poweradd = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = ishelper
trigger1 = rootdist x = [23,28]
trigger2 = rootdist x = [-28,-23]
trigger3 = rootdist x = [-48,-43]
value = 6172

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 6172
scale = 0.9,0.9

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 70
add = -70,-200,-100
mul = 256,256,256
sinadd = 50,0,50,20

[State 0, SprPriority]
type = SprPriority
trigger1 = ishelper
trigger1 = rootdist x = [-24,-20]
triggerall = time = 0
value = -1

[State 0, Turn]
type = Turn
triggerall = time = 0
trigger1 = rootdist x = [23,28]
trigger2 = rootdist x = [-24,-20]

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 68
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 68
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 68
value = F9,2

[State 1533,excplod ]
type = Explod
trigger1 = time = 1
anim = cond(anim=6177,6183,6187)
ID = 6183
postype = p1
pos = 0,cond(anim=6177,-5,5)
bindtime = 56
sprpriority = 3+ishelper*3
ownpal = 1
ontop = 0
removetime = -2
supermovetime = 70
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = cond(anim=6177,6182,6186)
ID = 6182
postype = p1
pos = 0,cond(anim=6177,0,18)
bindtime = -2
sprpriority = 3+ishelper*3
ownpal = 1
facing = -1
ontop = 0
supermovetime = 70
removetime = 70
scale = 1,1

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = cond(anim=6177,6182,6186)
ID = 6182
postype = p1
pos = 0,cond(anim=6177,0,18)
bindtime = -2
sprpriority = 3+ishelper*3
ownpal = 1
facing = -1
ontop = 0
supermovetime = 70
removetime = 70
scale = 1,1

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 15,0
v = 5
value = random

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6188
ID = 6181
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.3,0.3

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 0,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,0
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 0,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,0
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = -2,2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 15,0
trigger1 = !ishelper
anim = 6185
ID = 6185
postype = front
pos = -20-(var(5)%33)*10,30+(var(5)%10)*10
bindtime = 1
vel = 2,-2
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 999
removetime = -2
scale = 0.8,0.8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = !ishelper
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = !ishelper
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25, 10
trigger1 = !ishelper
value = S3,35

[State 220, end]
type = ChangeState
trigger1 = time = 70
triggerall = !ishelper
value = 0
ctrl = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>=60
time = 1
add = -70+(time-60)*7,-200+(time-60)*20,-100+(time-60)*10
mul = 256,256,256

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time= 0
trigger1 = !ishelper
attr = C,HP
damage = 10*var(9)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,250+50*var(9)
sparkno = -1
sparkxy = -10, -30
hitsound = -1, 12
guardsound = -1, 12
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1
fall.recover = 1
fall.recovertime = 50
p2stateno= 109997

[State 220, end]
type = destroyself
trigger1 = time = 70
triggerall = ishelper




























;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 && random < 333
value = S2,5
volume = 255
channel = 2


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 12
flag = noshadow


[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
supermove = 9999
pausemove = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y < 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1

;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = F9
channel = 9

[State 0, Explod]
type = Explod
trigger1 = time = 1
trigger2 = time = 25
anim = 90000
ID = 90000
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.8,0.8
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,5
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,6
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70653]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,4
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 23
value = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Shuriken"
ID = 70710
stateno = 70710
pos = 5,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,8
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 20,-17
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%9
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70741
stateno = 70741
pos = 20,-17
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10+random%90
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 20,-17
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------
;Impact Control (waiting)
[Statedef 106025]
type = S
movetype= A
physics = N
velset = 0,0
anim = 106025

;pozycjonowanie (dopasowa dla kadej postaci)
[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 29+parent,var(6)/30,200
ignorehitpause = 1

;uoglnienie warunkw kontroli
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 1   
value = parent, stateno

;moc 
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 6  
value = 100

;time
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 7  
value = 900

;wykrycie zderzenia
[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

;przerwanie ciosu
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;---------------
;Impact Control (hit)
[Statedef 106026]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time =0
v = 6
value = -5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (trafienie)
[Statedef 106027]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 6
value = 5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (active) 
[Statedef 106028]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(106026)=0
anim = 106026
ID = 106026
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.301,0.4
sprpriority = 49
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = numexplod(106027)=0
anim = 106027
ID = 106027
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,0.5
sprpriority = 48
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106027
scale=1.16-0.58*(100-var(6))/50,0.5

[State 0, Explod]
type = Explod
trigger1 = numexplod(106028)=0
anim = 106028
ID = 106028
pos = -190*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.5,0.32
sprpriority = 52
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106028
postype = front
facing = facing
vfacing = 1
pos= (-190-116*(100-var(6))/100)*facing,204

[State 0, Explod]
type = Explod
trigger1 = numexplod(106029)=0
anim = 106029
ID = 106029
pos = -315*facing,204
postype = front
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = numexplod(106030)=0
anim = 106030
ID = 106030
pos = -315*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

;hit
[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,command = "x" || parent,command = "z"
trigger1 = parent,var(50) = 0
trigger2 = parent,var(50) = 1
trigger2 = random = [0,40+parent,var(49)*parent,var(49)/10]
;trigger1 = parent,Ailevel = 0
;trigger2 = parent,Ailevel != 0
;trigger2 = time%(14-parent,Ailevel)=(13-parent,Ailevel) || parent,Ailevel <=4
;trigger2 = time%10=9 || parent,Ailevel >4
triggerall = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106026
p1stateno = 106027

;hit
[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 10
trigger1 = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106026

;przerwanie
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;lose
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 11
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
trigger2 = var(6) < 100
value = 106029

;win
[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 11
trigger1 = var(6) >= 10
trigger2 = var(7) <= 0 
trigger2 = var(6) >= 100
value = 106030

;---------------
;Impact Control (lose) 
[Statedef 106029]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (win) 
[Statedef 106030]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (help state)
[Statedef 106031]
type = S
movetype= A
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
value = 104000
;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050

;---------------------------------------------------------------------------
[Statedef 109995]
type = A
movetype= H
physics = N
anim = 5000+var(0)*10000
SprPriority=28
ctrl = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time =0
time = 999
darken = 0
anim = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !animexist(5000+var(0)*10000) && time = 0
value = 5000

;---------------------------------------------------------------------------
[Statedef 109996]
type = A
movetype= H
physics = A
anim = 5000+var(0)*10000
SprPriority=2
ctrl = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 1
movetime= 3
darken = 0
anim = -1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !animexist(5000+var(0)*10000) && time = 0
value = 5000

[State 0, LifeSet]
type = LifeSet
trigger1 = time = 40
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 40
x = 0
y = -2

[State 0, SelfState]
type = SelfState
trigger1 = time = 40
value = 5000

;---------------------------------------------------------------------------
[Statedef 109997]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5000+var(0)*10000
SprPriority=1
ctrl = 1

[State 0, PalFX]
type = PalFX
triggerall = time = 0
trigger1 = Name != "Tenten"
trigger1 = Name != "Hinata"
trigger1 = Name != "Ino"
trigger1 = Name != "Tsunade"
trigger1 = Name != "Karin"
trigger1 = Name != "Konan"
trigger1 = Name != "Sakura"
trigger1 = Name != "Chiyo"
trigger1 = Name != "Temari"
time = 250+enemy,var(9)*100+30
add = 200,0,50
mul = 256,256,256
sinadd = 100,0,100,10
invertall = 0
color = 256

[State 0, SelfState]
type = SelfState
triggerall = time = 0
trigger1 = Name = "Tenten"
trigger2 = Name = "Hinata"
trigger3 = Name = "Ino"
trigger4 = Name = "Tsunade"
trigger5 = Name = "Karin"
trigger6 = Name = "Konan"
trigger7 = Name = "Sakura"
trigger8 = Name = "Chiyo"
trigger9 = Name = "Temari"
value = 5050

[State 0, SelfState]
type = SelfState
triggerall = time = 0
trigger1 = Name != "Tenten"
trigger1 = Name != "Hinata"
trigger1 = Name != "Ino"
trigger1 = Name != "Tsunade"
trigger1 = Name != "Karin"
trigger1 = Name != "Konan"
trigger1 = Name != "Sakura"
trigger1 = Name != "Chiyo"
trigger1 = Name != "Temari"
value = prevstateno
;---------------------------------------------------------------------------
;Lot Rasengan
[Statedef 109998]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = -time*300

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = 1
y = .1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 213, Spark]
type = Explod
trigger1 = Timemod = 10,0
anim = F643
scale = 1,1
pos = 0,0
angle = random
postype = p1
bindtime = -1
removetime = -2
sprpriority = 3

[State 212, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050




;---------------------- Integer variable list ----------------------

; var(0):= 20000
; var(1):= 520, 521, 106025
; var(2):= 851
; var(3):= 720
; var(4):= 951, -2
; var(5):= 952, 972
; var(6):= 930, 950, 952, 963, 106025, 106026, 106027
; var(7):= 661, 662, 663, 790, 791, 795, 106025, 106026, 106027, 106028
; var(9):= 967
;var(10):= 920, 77000, 78000, 77003
;var(11):= 530
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(18):= 70500
;var(20):= 70650, 70655, 5900, 270650, 270655, 104097, 104098
;var(21):= 70652, 70657, 5900
;var(22):= 70651, 70656, 5900
;var(23):= 500, 70653, 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -3, -1
;var(49):= -3, -1
;var(50):= -2, -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 5900
;fvar(10):= 930, 750, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 520, 521, 846, 851, 70653, 60
;fvar(14):= 520, 521, 846, 851, 70653, 60
;fvar(15):= 520, 521, 846, 851, 70653, 60



[Statedef -2]

;Rasengan Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
id = 931

;----------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,2+random%13
volume = 256
channel = 2







;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;Klony

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(20000)
trigger1 = stateno = 0
value = 20000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(20000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 50
triggerall = ishelper(20000)
triggerall = stateno != 22223
triggerall = helper(20000), stateno != 22223
value = 22223

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
triggerall = !ishelper(20000)
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;---------------------------

[State 0, Explod]
type = RemoveExplod
trigger1 = stateno != [9335,9337]
trigger2 = stateno != [6015,6017]
triggerall = time = 0
ID = 675

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 750
id = 75501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 750
id = 75502

;>>>>>>>>>>>>Klony<<<<<<<<<<<<<<<<<

[State 0, Zabezpieczenie dla klonw]
type = ChangeState
trigger1 = ishelper(20000) && stateno =0
value = 20000


[State 0, harem no Jutsu]
type = ChangeState
trigger1 = ishelper(20000) && parent,stateno =968
trigger2 = ishelper(20000) && parent,stateno =969
triggerall = stateno != 22223
triggerall = stateno != 971
triggerall = stateno != 970
value = 971




;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,6,3),cond(pos y = 0,-15,-20)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,6,3),cond(pos y = 0,-35,-40)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,16,13),cond(pos y = 0,-25,-30)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-4,-7),cond(pos y = 0,-25,-30)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add

;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,8,8),cond(statetype != L,-25,-5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,12),cond(statetype != L,-14,-5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,0,0),cond(statetype != L,-30,-8)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,8,8),cond(statetype != L,-25,-5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,12),cond(statetype != L,-14,-5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,0,0),cond(statetype != L,-30,-8)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
triggerall = stateno != 846
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------


;------------------------
[Statedef -3]

;BUNSHIN

[State -1, BUNSHIN AI]
type = VarSet
trigger1 = ishelper(20000)
v = 49
value = ((Root,Life/100)+(Root,Power/100)+30+MatchNo)/5

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [20200,20299]
trigger1 = movecontact
triggerall = ishelper(20000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [20200,20299]
triggerall = var(48) > 0
triggerall = ishelper(20000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [20200,20299]
trigger2 = prevstateno = [20200,20299]
triggerall = ishelper(20000)
v = 48   
value = 500

;---------------------


[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 4

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0
