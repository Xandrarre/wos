
[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -50
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.5
walk.back = -1.5
run.fwd  = 7.8,0
run.back = -5.7,-3.2
jump.neu = 0,-8.5	
jump.back = -3.4
jump.fwd = 3.4
runjump.back = -2.75,-9.4
runjump.fwd = 4.3,-9.4
airjump.neu = 0,-9.4
airjump.back = -2.75
airjump.fwd = 2.7	

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S

[State 180, 1]
type = ChangeState
trigger1 = var(1) = 0
trigger1 = time = 0
value = 181

[State 180, 1]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time = 0
value = 182

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = var(1) = 0
trigger1 = time = 0
value = 181

[State 180, 1]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time = 0
value = 182

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,31

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 182]
type = S
ctrl = 0
anim = 1001
velset = 0,0

[State 25,55]
type = AfterImage
trigger1 = time = 0
time = 1
length = 30
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,150,150
palpostbright = 0,0,0
paladd = 150,-50,-50
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 180, 1]
type = ChangeState
trigger1 = Time = 40
value = 181
;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = time < 50
flag = noshadow

[State 310, 2]
type = Explod
trigger1 = time = 25
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F9,1

[State 200, 2]
type = PlaySnd
trigger1 = time = 25
value = s1600,0
volume = 500
channel = 3

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 130
value = S0,58

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 25
anim = 6166
bindtime = 1
postype = p1
facing = 1
pos = 0,-30
scale = 0.6,0.8
sprpriority = 2
ownpal = 1
ontop = 0

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0


[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 49
value = S300,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S1414,0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 6074
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
removetime = 17
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 193
ctrl = 0

[StateDef 193]
type = A
ctrl = 0
anim = 45
velset = 0,0
sprpriority = 2

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -75

[State 200, end]
type = ChangeState
trigger1 = time = 1
value = 194
ctrl = 0

[StateDef 194]
type = A
ctrl = 0
anim = 45
velset = 0,5
sprpriority = 2

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 192, 2]
type = ChangeState
trigger1 = pos y > -1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,19+random%7
volume = 256
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;----------------------------------COMBO------------------------------------
;---------------------------------------------------------------------------

;-----------------
;Combo 1
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 700
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7   
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 701]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 701
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -34
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 702]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 702
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -41
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 703]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 703
poweradd = 30
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 9
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
sparkno = 10+random%2
sparkxy = -5+random%10, -35+random%10
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 704]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 704
poweradd = 50
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 10+random%2
sparkxy = -5+random%10, -45+random%10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Katon Housenka no jutsu
[StateDef 705]
type = A
movetype = A
physics = A
juggle = 0
anim = 705
poweradd = 0
ctrl = 0
velset = -3,-7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
ownpal = 1
trigger1 = time = 0 && pos y > -10
anim = F370
pos = 0,-pos y
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F810
id = 810
pos = 15,-35
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S2,15

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
helpertype = normal;player
name = "katon"
ID = 706
stateno = 706
pos = 15,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

[State 360, end]
type = ChangeState
trigger1 = time = 20
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 706]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 840
angle = -atan(vel y/vel x)*180/PI 
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4+var(8)
y = 4+var(8);var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 707
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 35,7
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 707

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 708
;-----------------
;Katon
[StateDef 707]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=1-time/10
y=1-time/10

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 708

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Katon
[StateDef 708]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 0
sprpriority = 3
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 80
;-----------------
;Combo 2
[StateDef 710]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 710
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -26
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 2
[StateDef 711]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 711
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 5
sparkno = 0+random%4
sparkxy = -15, -23
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 2
[StateDef 712]
type = C
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 712
poweradd = 40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 10
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Doton
[StateDef 713]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 713
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,12
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "doton"
ID = 714
stateno = 714
pos = 80,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
supermovetime = 9999
pausemovetime = 9999

[State 360, end]
type = ChangeState
trigger1 = time = 20
value = 11
ctrl = 1
;-----------------
[StateDef 714]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 714
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = 715
ID = 715
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
vfacing = 1
supermove
pausemove
scale = 1,1
sprpriority = 4
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1012, Trans]
type = Modifyexplod
trigger1 = time >= 50
ID = 715
trans = addalpha
alpha = 256-(time-50)*5,fvar(2)+(time-50)*5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1190
ID = 1190
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.3,1.3
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, target, pos y -20
hitsound = 35, 0+random%2;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-7
airguard.velocity = -3,-7
air.type = High
air.velocity = -3,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 1012, Trans]
type = Trans
trigger1 = time >= 50
trans = addalpha
alpha = 256-(time-50)*5,(time-50)*5

[State 0, End]
type = Destroyself
trigger1 = time = 100
;-----------------
;Katon
[StateDef 716]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 716
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,15
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F810
id = 80006
pos = 7,-38
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "katon"
ID = 717
stateno = 717
pos = 7,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 717]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 717
poweradd = 0
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 0.5,0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F730
ID = 750
pos = -5,0
postype = p1
bindtime = 10
vel = 3,0
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = .7,.7
sprpriority = 4
ownpal = 1
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 10
freq = 10
ampl = 1
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 10
range = -120,100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 4
x = 0+time*1
y = 0-time*0.1+var(10)/100.0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
x = 8
y = -0.5+var(10)/100.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1400
sparkxy = -15, 0
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 811, end]
type = changestate
trigger1 = time = 50
trigger2 = time > 55 && movehit = 1
trigger3 = (helper(714), pos x - pos x) = [-10,0]
value = 718

[State 811, end]
type = changestate
trigger1 = pos y > 0
value = 718
;-----------------
;Katon
[StateDef 718]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 718
poweradd = 0
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = ishelper(717)
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 10,0
scale = 0.7,0.7
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 10,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 50,10
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 15
sparkno = 1400
sparkxy = -5-random%20, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=0

[State 811, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo 3
[StateDef 720]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 720
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 25,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 3
[StateDef 721]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-3
ctrl = 0
anim = 721
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -24
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 3
[StateDef 722]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-4
ctrl = 0
anim = 722
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 3
[StateDef 723]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 723
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 3
[StateDef 724]
type = A
movetype= A
physics = S
juggle  = 1
velset = -4,-2
ctrl = 0
anim = 724
poweradd = 20
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 20
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 4,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = Destroyself
trigger1 = Time = 25
;-----------------
;Combo 3
[StateDef 725]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 725
poweradd = 40
sprpriority = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 21
anim = F540
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = -2
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 21
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 21
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 21
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && time < 30 && time%4
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 21
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "klon"
ID = 724
stateno = 724
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
x = 80

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 26
x = 2
y = -5

[State 0, Gravity]
type = Gravity
trigger1 = time > 26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,10
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Finisher 5
[StateDef 7251]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7251
poweradd = 50
sprpriority = 2

[State 1, Trans] 
type = Trans 
trigger1 = time > 0 && time < 20
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2


[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F540
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = -2
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 11
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && time < 20 && time%4
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 7
x = 50

[State 0, PosSet]
type = PosSet
trigger1 = time = 7
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 16
x = 2
y = -5

[State 0, Gravity]
type = Gravity
trigger1 = time > 16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S2,10
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 726]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 726
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time 
attr = C, HP
damage = 2,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2464
sparkxy = -15, -35
hitsound = S25, 654
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 727

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 727]
type = A
movetype= A
physics = S
juggle  = 1
velset = 1,-4
ctrl = 0
anim = 727
poweradd = 20
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,11
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = C, HP
damage = 2,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2464
sparkxy = -15, -35
hitsound = S25, 654
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103000

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 1
pos = 5,-60

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 811, end]
type = ChangeState
trigger1 = pos y >= -1
value = 728
ctrl = 1
;-----------------
;Mini Raiga
[StateDef 103000]
type = A
movetype= H
physics = S
juggle  = 1
anim = 5000+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 180

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 5100
ctrl = 1
;-----------------
[StateDef 728]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 728
poweradd = 20
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = 0;movehit 
time = 1
pos = 20,-45

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
p2stateno = 103001
attr = C, HP
damage = 100,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 6436743
sparkxy = -15, -55
hitsound = 5, 7653765
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,10
airguard.velocity = 0,10
air.type = High
air.velocity = 0,10
air.hittime = 12
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
time = 1
pos = 5,-50

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 105
ctrl = 1
;-----------------
;Mini Raiga
[StateDef 103001]
type = A
movetype= H
physics = S
juggle  = 1
anim = 5000+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 180

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F62
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F540
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F550
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = time = 1
value = 103002
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 103002]
type = A
movetype= H
physics = A
juggle  = 1
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A 

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
ctrl = 1
;-----------------
;Combo 4
[StateDef 730]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 730
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30-random%15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 731]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 731
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 732]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 732
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 733]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 733
poweradd = 40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-1
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 734]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 734
poweradd = 50
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -18
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,7
airguard.velocity = -3,7
air.type = High
air.velocity = -3,7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 5
[StateDef 740]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 740
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 741]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 741
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
angle = -25+random%50
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 742]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 742
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 743]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 743
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -21
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 744]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 744
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 5
[StateDef 745]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 745
poweradd = 20
sprpriority = 2

[State 1, Trans] 
type = Trans 
trigger1 = time > 0 && time < 14
trans = addalpha 
alpha = 256-fvar(2),256



[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 9 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 9 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F9,1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 100
y = -60

[State 0, Turn]
type = Turn
trigger1 = animelem = 5

[State 0, Gravity]
type = Gravity
trigger1 = time > 19

[State 0, VelSet]
type = VelSet
trigger1 = time = 17
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 10
attr = S, NA
damage = 40,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -18
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1


[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;Suiton Mizurappa
[StateDef 746]
type = S
movetype = A
physics = S
juggle = 0
anim = 746
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1520
id = 1520
pos = 6,-30
scale = 0.5,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = -45
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 400,0
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 400,0
channel = 3

[State 400, Helper]
type = Helper
trigger1 = animelem = 1
ID = 747
pos = -4,-27
postype = p1
stateno = 747
helpertype = normal
name = "mizurappa"
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 400, end]
type = ChangeState
trigger1 = Time = 24
value = 50
ctrl = 1

;----------------------------------------------------------------------------
;Mizurappa
[StateDef 747]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 747
poweradd = 1
sprpriority = 6

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 746
time = 1
facing = 0
pos = -4,-27
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
value = S0,21

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
attr = S, NA
damage = 15,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 5
sparkno = 241
sparkxy = -50+random%20,20+random%30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -5,3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,3
air.hittime = 12
fall = 1

[State 401, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-----------------
;Combo 6
[StateDef 750]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 750
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -25-random%45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 751]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 751
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 310, 2]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F677
ID = 340
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 18 && timemod = 20,0
value = F14,1     

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 10+random%2
sparkxy = -15+random%25, -30-random%20
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Combo 6
[StateDef 752]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 752
poweradd = 30
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal;player
name = "Pakkun"
ID = 753
stateno = 753
pos = 150,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 6
[StateDef 753]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 753
poweradd = 20
sprpriority = 2


[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,35]
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 35
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = time = 35
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 35
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 35
value = F9,2

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = Destroyself
trigger1 = Time = 40
;-----------------
;Combo 6
[StateDef 754]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 754
poweradd = 50
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F980
scale = 2.2,2.2
pos = 29,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2017
scale = 2,2
pos = -10,-30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,0
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3
channel = 14

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && time < 12
x = 10
y = 0

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 30
sparkno = 12
sparkxy = -15, -35
hitsound = S1, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 60
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 60
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 760]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 760
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -18
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 7
[StateDef 761]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 761
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 7
[StateDef 762]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 762
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 10
sparkxy = -15, -33
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 7
[StateDef 763]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-6
ctrl = 0
anim = 763
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 1
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -60
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-5
airguard.velocity = -3,-5
air.type = High
air.velocity = -3,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 7
[StateDef 764]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 764
poweradd = 50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = F1361
id = 1361
pos = 42,12
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.4,0.5
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256
angle = -45

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && pos y >= 0 && timemod = 5,0
anim = F1380
id = 1380
pos = 40,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.4,0.4
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && pos y >= 0 && timemod = 5,0 
anim = F1380
id = 1380
pos = 20,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.4,0.4
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 17 && pos y >= 0 && timemod = 5,0 
anim = F1410
id = 7644
pos = 30,-0
scale = 0.5,0.2
postype = p1
vfacing = -1
vfacing = -1
bindtime = 1
removetime = 20
sprpriority = 4
removeongethit = 1
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1070
id = 7641
ownpal = 1
pos = -15,-54
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = add
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Raikiri]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F520
id = 7642
pos = -15,-54
scale = 0.45,0.45
postype = p1
facing = 1
vfacing = 1
bindtime = 10
removetime = 30
sprpriority = 3
removeongethit = 1
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Raikiri]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F520
id = 7642
pos = -15,-54
scale = 0.45,0.45
postype = p1
vfacing = -1
vfacing = -1
bindtime = 10
removetime = 30
sprpriority = 3
removeongethit = 1
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1410
id = 7643
pos = -15,-54
scale = 0.45,0.45
postype = p1
vfacing = -1
vfacing = -1
bindtime = 10
removetime = 30
sprpriority = 4
removeongethit = 1
ownpal = 1
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 10
ID = 7642
pos = -16,-42
postype = p1  ;p2,front,back,left,right
bindtime = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 13
ID = 7642
pos = 16,-39
postype = p1  ;p2,front,back,left,right
bindtime = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 16
ID = 7642
pos = 29,-1
postype = p1  ;p2,front,back,left,right
bindtime = 15
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 10
ID = 7643
pos = -16,-42
postype = p1  ;p2,front,back,left,right
bindtime = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 13
ID = 7643
pos = 16,-39
postype = p1  ;p2,front,back,left,right
bindtime = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 16
ID = 7643
pos = 29,-1
postype = p1  ;p2,front,back,left,right
bindtime = 15
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = time <= 13
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 13
triggerall = pos y <= 0
x = 8
y = 5

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F11,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S3,6;0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S3,6;0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 6 && time < 45 && timemod = 5,0
value = F11,12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
scale = 1.5,1.5
pos = 0,-30
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
angle = -20
ownpal = 1
ontop = 0

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 60,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2005
sparkxy = -15-random%15,5-random%10
hitsound = 11,5
guardsound = 11,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 13
value = 0

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= -10
value = 105
ctrl = 1
;------------------------
[statedef 7641]
type = A
physics = A
anim = 43
velset = -4,-8.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[state 104, changestate]
type = changestate
trigger1 = time = 9
value = 764
ctrl = 1
;-----------------
;Combo 8
[StateDef 770]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 770
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -24
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 771]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-4
ctrl = 0
anim = 771
poweradd = 40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 772]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 772
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 8
[StateDef 773]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 773
poweradd = 50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 8
anim = F1010
scale = 2.2,2.2
pos = 38,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -30,0-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,12
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -15-random%30
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -2,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 9
[StateDef 780]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 780
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 20
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 781

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 9
[StateDef 781]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-4
ctrl = 0
anim = 773
poweradd = 50
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 8
anim = F1010
scale = 2.2,2.2
pos = 38,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = -30,0-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,11
volume = 255
channel = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15-random%30
hitsound = 5, 10+random%1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,5
airguard.velocity = -3,5
air.type = High
air.velocity = -2,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -5
fall = 1

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------
;Combo 10
[StateDef 790]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 790
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%20
volume = 255
channel = 4

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 791

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 10
[Statedef 791]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 791

[State 1, Trans] 
type = Trans 
trigger1 = time > 0 && time < 11
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
ownpal = 1
trigger1 = time = 14
anim = F370
ID = 370
pos = 30,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 999

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 9 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, 2]
type = Explod
trigger1 = time = 9 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 9
value = F9,1

[State 1602, Antyturn]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Antyturn"
ID = 792
stateno = 792
pos = 0, 0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 600, VelSet]
type = VelSet
trigger1 = time = [10,15]
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
persistent = 0
value = S3,0
volume = 255
channel = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 10
value = -3

[State 600, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 11
attr = C, HP
getpower = 0,0
damage = 80,20
animtype = light
guardflag =
hitflag = MAF
priority = -3
pausetime = 10,15
sparkno = 456456
sparkxy = -15,-40
hitsound = 45645, 2
guardsound = 6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 30
ground.velocity = -14,-8
airguard.velocity = -14,-8
air.type = Low
air.velocity = -14,-8
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p2stateno = 109990
fall = 1
fall.recover = 1
fall.recovertime = 15
down.bounce = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = movecontact
persistent = 0
time = 50
anim = 2001
sound = F19,0
pos = 5,-21
move = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = 120

[State 0, Turn]
type = Turn
trigger1 = time = 7

[State 600]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 10
[Statedef 792]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 792

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 600]
type = Destroyself
trigger1 = time = 25
;---------------------------------------------------------------------------
;Kamui
[StateDef 795]
type = S
movetype = A
physics = S
juggle = 0
anim = 795
poweradd = 0
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 65
value = S5,5

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 13    
value = 300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1011
pos = cond(facing = 1,8,0),-46
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -2
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "kamui"
ID = 796
stateno = 796
pos = 0,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = [25,85]
trigger1 = time%2
value = -1
kill = 1
absolute = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 6
value = -20
kill = 1
absolute = 0

[State 360, end]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;-----------------
;Kamui
[StateDef 796]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 796
poweradd = -500
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1592
ID = 797
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
angle = -time*5
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 797
angle = -time*30
;trans = addalpha 
;alpha = 256-fvar(2)-time*10,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1590
ID = 798
pos = 0,0
postype = p1
bindtime = -1
removetime = 25
supermovetime=9999
pausemovetime=9999
scale = 0.2,0.2
sprpriority = 5
ownpal = 1
angle = -time*15
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 798
angle = -time*30
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1591
ID = 799
pos = 0,0
postype = p1
bindtime = -1
removetime = 25
supermovetime=9999
pausemovetime=9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
angle = -time*15
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 799
angle = -time*30
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,36

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
persistent = 0
attr = S, NA;C, HP
damage = 100,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 546546
sparkxy = 0, 0
hitsound = 10, 5656
guardsound = 10, 25645
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
p2stateno = 103070
fall.damage = 100
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
persistent = 0
time = 1
pos = 0,0

[State 0, end]
type = destroyself
trigger1 = time = 25
;-----------------
;Mini Kamui
[StateDef 103070]
type = A
movetype= H
physics = S
juggle  = 1
;anim = 100022+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 20
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -3
kill = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [18,22]
flag = invisible

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
;trigger1 = var(0) != 0
trigger1 = !ishelper
value = 100022 + var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 20
scale = 1-(time*0.05),1-(time*0.05)
value = time*15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 20
scale = 0+((time-20)*0.05),0+((time-20)*0.05)
value = time*15

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -10
y = -10

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -590
y = -590

[State 0, PosSet]
type = PosSet
trigger1 = time = 20
x = -400+random%800
y = -20-random%350

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1592
ID = 797
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
angle = -(time-20)*30
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 797
angle = -(time-20)*30
;trans = addalpha 
;alpha = 256-fvar(2)-time*10,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1590
ID = 798
pos = 0,0
postype = p1
bindtime = -1
removetime = 25
supermovetime=9999
pausemovetime=9999
scale = 0.2,0.2
sprpriority = 5
ownpal = 1
angle = -(time-20)*30
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 798
angle = -(time-20)*30
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1591
ID = 799
pos = 0,0
postype = p1
bindtime = -1
removetime = 25
supermovetime=9999
pausemovetime=9999
scale = 0.6,0.6
sprpriority = 4
ownpal = 1
angle = -(time-20)*15
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 799
angle = -(time-20)*15
;trans = addalpha 
;alpha = 256-fvar(2),256

[State 0, ChangeState]
type = SelfState
trigger1 = time = 45
trigger1 = ishelper
value = 5050
ctrl = 1

[State 0, ChangeState]
type = SelfState
trigger1 = time = 45
trigger1 = !ishelper
value = prevstateno
ctrl = 1
;---------------------------------------------------------------------------
;----------------------------------Attacks----------------------------------
;---------------------------------------------------------------------------


[Statedef 325]
type     = S
movetype = H
physics  = S
poweradd = 0
ctrl  = 0
velset = 0,0
anim = 6052
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Veladd]
type = VelAdd
trigger1 = time > 1
x = (var(23)*0.8)
y = cond(pos y > -2,-0.2,0.4)

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 23
range = 1,2

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 24
value = 1.3

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 25
value = 1.7

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,NP
;value2 = S,NA
time = 200

[State 700]
type = ChangeState
trigger1 = pos Y > -1
value = 326
ctrl = 1

[Statedef 326]
type     = S
movetype = H
physics  = S
poweradd = -1
ctrl  = 0
velset = 0,0
anim = 6052
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 0,0
animtype = Light
;affectteam = B
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 35354354
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 354354
guardsound = 5354354
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
fall = 1

[State 200, 2]
type = PlaySnd
trigger1 = movecontact
trigger2 = time = 200
value = 12,12

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,NA,NP
stateno = 70736;327
time = 9999

[State 700]
type = ChangeState
trigger1 = movecontact
trigger2 = time = 200
value = 70736;327
ctrl = 1

[Statedef 327]
type     = S
movetype = H
physics  = S
juggle   = 5
poweradd = -1
ctrl  = 0
velset = 0,0
anim = 6053
sprpriority = 2

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6054
postype = p1
pos = 0,-5
bindtime = -1
sprpriority = 3
ontop = 0
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6057
ID = 6054
postype = p1
pos = -5,-50
bindtime = -1
sprpriority = 1
ontop = 0
removetime = 44
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 6054
postype = p1
pos = 0,10
bindtime = -1
sprpriority = 3
ontop = 0
removetime = 57
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
ID = 6054
postype = p1
pos = 0,10
bindtime = -1
sprpriority = 3
ontop = 0
removetime = 48
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -10

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
attr = S, NA
damage = 7,2
animtype = Light
;affectteam = B
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 35354354
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 354354
guardsound = 5354354
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
fall = 1

[State 505, 1]
type = DestroySelf
trigger1 = animtime = 0

;-----------------------------
[StateDef 480]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = -100
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [0,99]
value = S2,0
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [100,199]
value = S2,3
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [200,299]
value = S2,4
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [300,399]
value = S2,5
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [400,499]
value = S2,11
volume = 256
channel = 2

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 481
stateno = 481
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,2
volume = 255
channel = 9

[State 811, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 481]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 381
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F700
ID = 700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 2,2
sprpriority = 1
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = F9
channel = 9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 25
anim = F690
ID = 90000
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.8*2.25,0.8*2.25
sprpriority = 4
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = destroyself
trigger1 = animtime = 0

[Statedef 196] ; essas sao as bolinhas de chakra
type    = S
movetype= H
physics = S
juggle  = 4
poweradd= 0
sprpriority = 10
ctrl = 0
anim = 6186  ; n da anim

[State 355, vel] ; Vel set, pra bolinhas se locomoverem
type=velset
trigger1 = 1
x = (rootdist x-3)/15
y = (rootdist y-28)/60


[State 0, AssertSpecial] ; deixa o cakra sem sombra
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]; add transparencia ao efeito
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, scale] ; muda a scale(tamanho) da balinh conforme o tepo passa
type = angledraw
trigger1 = time > 2
trigger2 = time < 12
scale = 0.03+(0.03*time),0.03+(0.03*time)

[State 355, DT] ; serve pra "destruir" o helper depois de um tempo
type = destroyself
trigger1 = time>=36

;----------------------------------------------------------------------------
;----------------------------------Specials----------------------------------
;----------------------------------------------------------------------------
;-----------------
;Omote Renge
[StateDef 1800]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1800
poweradd = -250
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 7
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,4+random%3
volume = 255
channel = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = C, HP
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -60
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 150
ground.velocity = 0,-15
airguard.velocity = 0,-15
air.type = High
air.velocity = 0,-15
air.hittime = 150
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = movecontact && animelem = 5
value = 1803
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Omote Renge
[StateDef 1803]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1803
poweradd = -250
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Rozciaganie"
ID = 1809
stateno = 1809
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Rozciaganie"
ID = 1809
stateno = 1809
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4,0+random%20

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
y = const(velocity.jump.y)*1.5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, End]
type = ChangeState
trigger1 = time > 10 && p2bodydist y = [-60,-30]
value = 1804
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 10 && p2bodydist y > 0
value = 50
ctrl = 1
;---------------------------------------
;Omote Renge
[Statedef 1804]
type    = A                  
movetype= A                     
physics = S                    
juggle  = 1                     
velset = 0,0                
ctrl = 0                       
anim = 1804
poweradd = -1000                  
sprpriority = 2 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0               

[State 0, Explod]
type = Explod
trigger1 = time > 10 && pos y < -20 && timemod = 5,0
anim = F461
ID = 461
pos = 0,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,-2
scale = 0.5,0.5
sprpriority = 5
ownpal = 1
angle = -90
trans = addalpha
alpha = 256-fvar(2),256

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = -1
pos = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 20
ampl = 2
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F14,6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 6
y = -6

[State 0, VelSet]
type = VelAdd
trigger1 = pos y < -5
x = 0
y = 0.5

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = pos y < -5
attr = C,HP                   
damage = 0, 0                
animtype = Light                
guardflag = MA                  
hitflag = MAF                  
priority = 2
sprpriority = 2          
pausetime = 0, 0              
sparkno = 23452                 
sparkxy = -20, -6436            
hitsound = s1, 625256
guardsound = 6, 0           
ground.type = High           
ground.slidetime = 5          
ground.hittime  = 10           
ground.velocity = 0,5         
airguard.velocity = 0,5  
air.type = High                 
air.velocity = 0,5          
air.hittime = 12                
p2stateno = 105043

[State 0, Helper]
type = Helper
trigger1 = pos Y >= -5
triggerall = numhelper(385) = 0
helpertype = normal
name = "Ziemia"
ID = 1805
stateno = 1805
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
trigger1 = pos Y >= -5
hitonce = 1
attr = S,NT                 
damage = 1000,1000               
animtype = Light                
guardflag = MA                  
hitflag = MAF                   
priority = 3, Hit                
pausetime = 0, 0                 
sparkno = 65246                   
sparkxy = -20, -26234             
hitsound = 15, 6542646             
guardsound = 6, 0            
ground.type = High              
ground.slidetime = 5           
ground.hittime  = 10          
ground.velocity = 0,-5          
airguard.velocity = 0,-5     
air.type = High                  
air.velocity = 0,-5           
air.hittime = 12                
p1stateno = 105
fall = 1
;-----------------
;Efekty Ziemia
[StateDef 1805]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1805
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F530
ID = 530
pos = -30,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F540
ID = 540
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.8,1.8
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F530
ID = 530
pos = 30,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
ID = 587
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.2,1.2
sprpriority = 6
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F580
ID = 580
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.3,1.3
sprpriority = -2
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
ID = 64
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
vel = 0,0
scale = 1.6,0.7
sprpriority = -2
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 15
anim = F591
ID = 591
pos = -30+random%60,0-random%20
vel = -2+random%4,-2-random%4
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
ontop = 0
ignorehitpause = 1
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 160
ampl = -15
phase = 190

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, end]
type = destroyself
trigger1 = time = 20
;---------------------------------------------------------------------------
;Omote Renge - Bieg
[Statedef 1806]
type    = S
physics = S
anim = 1806
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,3
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = p2bodydist x = [0,30]
value = 1800

[State 100, 4]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -20
value = 0
ctrl = 1
;-----------------
;Rozsciaganie ekranu
[StateDef 1809]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1809
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-400,400]
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-400,400]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x >= 400
x = 400

[State 0, PosSet]
type = PosSet
trigger1 = pos x <= -400
x = -400

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [1800,1809]
;-----------------------------------
;Omote Renge
[Statedef 105043]
type    = A
movetype= H
physics = N
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = anim != 5000 + var(0)*10000
value = 5000 + var(0)*10000

[State 905]
type = SelfState
triggerall = Pos y > -5
trigger1 = enemy, stateno != 384
triggerall = AnimTime = 0
value = 105044
;-----------------------------------
;Omote Renge
[Statedef 105044]
type    = A
movetype= H
physics = N
sprpriority = -14

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 905]
type = SelfState
trigger1 = Pos y > -5
value = 5100

;Omote Renge
[Statedef 1806]
type    = S                      
movetype= A                     
physics = S                    
juggle  = 1              
velset = 0,0                  
ctrl = 0                      
anim = 100                    
poweradd = 0                   
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 200, 7]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = p2dist x < 40
value = 1800
ctrl = 1


;---------------------------------------------------------------------------
;Rasengan Charge
[StateDef 1930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1930
poweradd = -500
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,6
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 6
value = 10+(time-5)*0.3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 115
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
triggerall = numhelper(698) = 0
anim = 1929
id = 1929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = -5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 1950
stateno = 1950
pos = -5,-27
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90501
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 930
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 90502
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 115
trigger10 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger10 = p2bodydist x < 150
trigger10 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 1933

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holddown"
trigger2 = random = [550,551+var(49)*(var(49))/500]
trigger2 = var(50) = 1
triggerall = time >= 15
value = 520

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdup"
trigger2 = random = [650,651+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist y != [-100,50]
triggerall = time >= 15
value = 1948
;-----------------
;Rasengan Fail
[StateDef 1932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1932
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,40
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Rasengan Run
[StateDef 1933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1933
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
value = 19335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 1932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 1934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1934
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.2,var(6)*0.5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 45,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(6)*2.4,var(6)*1.2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time > 30 && !movehit
value = 1935
ctrl = 1
;------------------
;Rasengan End
[StateDef 1935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1935
poweradd = 0
sprpriority = 2

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = numhelper(698) = 0 
anim = 1936
id = 1936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;Impact
[StateDef 19335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1934
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,15

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x)-85

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F32,4

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 35,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(6)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F461
id = 1390
pos = 37,-33
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.002,0.3+helper(106025),var(6)*0.002
ownpal = 1
supermovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wstazki Rasengan]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 25,0
anim = F680
id = 675
pos = 37,-33
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Duzy wiatr]
type = Explod
trigger1 = time = 15
trigger2 = time > 30 && timemod = 35,0
anim = F675
id = 675
pos = 45,-33
scale = 0.8+helper(106025),var(6)*0.005,0.7+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60-fvar(2)/5,256

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 19336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
damage = 25+var(6)*1.25*1.86,10+var(6)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 40,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 50+var(6)*4.0*1.86,20+var(6)*4.0*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 40
trigger2 = time > 30 && !movehit
value = 1935
ctrl = 1
;-----------------
;Impact lose
[StateDef 19337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 19338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;------------------
;Air Rasengan Run
[StateDef 1941]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 941
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 1942
ctrl = 1
;------------------
;Air Rasengan Hit
[StateDef 1942]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 942
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+var(6)*3,10+var(6)*1.2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -34
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = 55,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 50+var(6)*7.2,20+var(6)*3.6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -34
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 10 && !movehit
value = 1943
ctrl = 1
;-----------------
;Air Rasengan End
[StateDef 1943]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 943
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Air Rasengan Jump
[StateDef 1948]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 949
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,0+random%20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 40, 4]
type = VelSet
trigger1 = Time = 5
x = 1
y = const(velocity.jump.y)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 1941
ctrl = 1
;------------------
;Kula
[StateDef 1950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = addalpha
alpha = 256-fvar(2),256
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.5+var(6)*0.02,0.5+var(6)*0.02
trans = addalpha
alpha = 256-fvar(2),256
angle = time*5

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150-fvar(2)*0.6,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150-fvar(2)*0.6,256
angle = -time*3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1930
time = 1
pos = -5,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1932
time = 1
pos = -13,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1933
time = 1
pos = -8,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 19335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 19335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 2,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 19335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time >= 10
trigger2 = parent, stateno = 19335 && parent, time >= 10
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1935
trigger2 = parent, stateno = 19336
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = 0,-15

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = 4,-5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 3 && parent, time <= 6
time = 1
pos = -6,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time >= 7
time = 1
pos = 23,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1942
trigger2 = parent, stateno = 1943
time = 1
pos = 52,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time >= 6
time = 1
pos = -10,-43

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1934 && parent, movehit
trigger2 = parent, stateno = 19336 && parent, movehit
trigger3 = parent, stateno = 1942 && parent, movehit
value = 1951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [1930,1949]
trigger1 = parent, stateno != [19330,19336]
trigger1 = parent, stateno != [520,521]
trigger2 = parent, stateno = 1935
trigger3 = parent, stateno = 1932
trigger4 = parent, stateno = 521
trigger5 = parent, stateno = 1943
value = 1952
;------------------
;Kula Hit
[StateDef 1951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2


[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = addalpha
alpha = 256-fvar(2),256
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150-fvar(2)*0.6,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Wstazki]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 1
trigger1 = time = 15
trigger1 = parent, stateno != [1940,1949]
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [1940,1949]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

;------------

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1930
time = 1
pos = -5,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1932
time = 1
pos = -13,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1933
time = 1
pos = -8,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 19335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 19335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 2,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 19335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time >= 10
trigger2 = parent, stateno = 19335 && parent, time >= 10
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1935
trigger2 = parent, stateno = 19336
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = 0,-15

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = 4,-5


[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 3 && parent, time <= 6
time = 1
pos = -6,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time >= 7
time = 1
pos = 23,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1942
trigger2 = parent, stateno = 1943
time = 1
pos = 52,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time >= 6
time = 1
pos = -10,-43

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [1930,1949]
trigger1 = parent, stateno != [19330,19336]
trigger1 = parent, stateno != [520,521]
trigger2 = parent, stateno = 1935
trigger3 = parent, stateno = 1932
trigger4 = parent, stateno = 521
trigger5 = parent, stateno = 1943
value = 1952
;------------------
;Kula End
[StateDef 1952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = addalpha
alpha = 256-fvar(2),256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150-fvar(2)*0.6,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1930
time = 1
pos = -5,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1932
time = 1
pos = -13,-27

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1933
time = 1
pos = -8,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 19335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -6,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 19335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 2,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 19335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1934 && parent, time >= 10
trigger2 = parent, stateno = 19335 && parent, time >= 10
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1935
trigger2 = parent, stateno = 19336
time = 1
pos = 40,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = 0,-15

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = 4,-5


[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time > 3 && parent, time <= 6
time = 1
pos = -6,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1941 && parent, time >= 7
time = 1
pos = 23,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1942
trigger2 = parent, stateno = 1943
time = 1
pos = 52,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1948 && parent, time >= 6
time = 1
pos = -10,-43

[State 0, End]
type = Destroyself
trigger1 = time = 11
;--------------------------------------------------------------------
;Rasengan Ziemia 
[StateDef 520]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6040
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = Time = 10
value = 521

;-----------------
[StateDef 521]
type = C
movetype= A
physics = C
juggle  = 1
ctrl = 0
anim = 6041
poweradd = 0
sprpriority = 2

[State 7000, Helper]
type = Helper
trigger1 = time = 3
ID = 522
pos = 4,0
postype = p1
stateno = 522
helpertype = normal
name = "Smoke"
keyctrl = 0
facing = 1
ownpal = 1
sprpriority = 30
supermovetime = 999
pausemovetime = 999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -10
trigger1 = time <= 20 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.25*3.6,var(6)*0.6*3.6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,9
airguard.velocity = -4,9
air.type = High
air.velocity = -4,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 12
ctrl = 1

;Dym
[StateDef 522]
type    = S
anim = 364
sprpriority = 10

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 1,1
vel = 0.1,0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 0.7,0.7
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3 
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = -1
removetime = 263
sprpriority = 10
ontop = 0
scale = 0.85,0.85
vel = -0.1,0
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 15
freq = 50
ampl = -15
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
id = 550
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.4,1.4
sprpriority = 8
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
id = 587
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 9
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
id = 64
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.8,0.3
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = -10,5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 0.6,0.6
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = 10,5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 0.6,0.6
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 263
;----------------------------------------------------------------------
;Rasengan Air namierzanie
[StateDef 540]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = -750
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F32,4
channel = 14

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = time<=21
v = 6
value = time-5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F610
id = 8296
pos = 0,-44
postype = p1
facing = 1
bindtime = -1
removetime = 25
ownpal = 1
sprpriority = 4
removeongethit = 1
scale = 0.12*2.25,0.12*2.25
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F620
id = 8292
pos = 0,-42
scale = 2.25,2.25
postype = p1
facing = 1
bindtime = -1
ownpal = 1
removetime = 24
sprpriority = 4
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F630
id = 829
pos = 0,-42
scale = 0.002*2.25,0.002*2.25
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time <= 21
ID = 829
scale = (0.002+var(6)*0.007375)*2.25,(0.002+var(6)*0.007375)*2.25
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = Time = 30
value = 541

;-----------------
[StateDef 541]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 542
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,10
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,10
volume = 255

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 10
time = 50
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = addalpha
alpha = 256-fvar(2),256
timegap = 1
framegap = 1

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = time < 10

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = -30

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F610
id = 8296
pos = 0,-44
postype = p1
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
removeongethit = 1
scale = cond(var(6)<=16,(0.002+var(6)*0.007375)*2.25,(0.12+(var(6)-16)*0.0015)*2.25),cond(var(6)<=16,(0.002+var(6)*0.007375)*2.25,(0.12+(var(6)-16)*0.0015)*2.25)
supermovetime = 9999
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 101
sound = F19,0
pos = -11,-50
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 1640, X]
Type=VarSet
Trigger1=time = 10
fvar(13)=p2dist x

[State 1640, Y]
Type=VarSet
trigger1=time = 10
fvar(14)=p2dist y-20;+50

[State 1640, Vector Length]
Type=VarSet
trigger1=time = 10
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 1640, Kat]
Type=VarSet
trigger1=time = 10
fvar(16)=cond(p2bodydist y <20,PI,0)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = fvar(14) != 0
triggerall = time >= 10
value = atan(fvar(13)/fvar(14))*(180/Pi)-45+fvar(16)*180/PI

[State 0, AngleDraw]
type = AngleDraw
trigger1 = fvar(14) = 0
triggerall = time >= 10
value = 45

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 10
ID = 829
pos = 0,-42
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "rasengan"
ID = 543
stateno = 543
pos = 0,0;32*cos(-atan(fvar(13)/fvar(14))+Pi/2+cond(p2dist y <0,PI,0)),29*sin(-atan(fvar(13)/fvar(14))+Pi/2+cond(p2dist y <0,PI,0))
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = removeExplod
trigger1 = time = 10
ID = 829

[State 0, VelSet]
type=VelSet
trigger1= time < 10
trigger2= helper(543), pos y > 0
x=0
y=0

[State 0, VelSet]
type=VelSet
trigger1= time >= 10
trigger1= helper(543), stateno = 543
trigger1= helper(543), pos y <= 0
x=12*cos(-atan(fvar(13)/fvar(14))+Pi/2+fvar(16))
y=12*sin(-atan(fvar(13)/fvar(14))+Pi/2+fvar(16))

[State 0, VelSet]
type=VelSet
trigger1= time >= 10
trigger1= helper(543), stateno = 544
trigger1= helper(543), pos y <= 0
x=0.5*cos(-atan(fvar(13)/fvar(14))+Pi/2+fvar(16))
y=0.5*sin(-atan(fvar(13)/fvar(14))+Pi/2+fvar(16))

[State 0, ModifyExplod]
type = removeExplod
trigger1 = numhelper(543)=0
trigger1 = time > 10
trigger2 = frontedgedist < 10
ID = 829

[State 811, end]
type = ChangeState
trigger1 = numhelper(543)=0
trigger1 = time > 10
trigger2 = frontedgedist < 10
value = 54

;-----------------
[StateDef 543]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 513
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, var(6) <= 16
anim = F630
id = 829
pos = 0,0
scale = (0.002+parent,var(6)*0.007375)*2.25,(0.002+parent,var(6)*0.007375)*2.25
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, var(6) > 16
anim = F630
id = 829
pos = 0,0
scale = (0.12+(parent,var(6)-16)*0.0017)*2.25,(0.12+(parent,var(6)-16)*0.0017)*2.25
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 1
pos = 32*cos(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16)),29*sin(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16))

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno =S1234
sparkxy = -15, -40
hitsound = S6,-33
guardsound = S6,-33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno != 541
id = 829

[State 811, end]
type = destroyself
trigger1 = parent, stateno != 541

[State 0, Helper]
type = Helper
trigger1 = pos y > -15 && numhelper(543) = 1 && numhelper(515) = 0
helpertype = normal;player
name = "efekty boom"
ID = 515
stateno = 515
pos = 0,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(701) = 0 && numhelper(702) = 0
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(701) = 0 && numhelper(702) = 0
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 811, end]
type = ChangeState
trigger1 = movecontact
trigger2 = pos y > 0
;trigger3 = enemy, stateno =[5000,5999]
value = 544

;-----------------
[StateDef 544]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 544
sprpriority = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent,var(6) <= 16
scale = 0.06,0.06

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent,var(6) > 16
scale = 0.002+parent,var(6)*0.0025,0.002+parent,var(6)*0.0025

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent,fvar(14) != 0
value = atan(parent,fvar(13)/parent,fvar(14))*(180/Pi)-90+parent,fvar(16)*180/PI

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 1
pos = 32*cos(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16)),29*sin(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
trigger1 = pos y > 0
value = S6,7

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 15
trigger1 = parent, var(6) <= 16
id = 829
scale = 2.25*(0.002+parent,var(6)*0.007375)/((time-15)*0.56+1),2.25*(0.002+parent,var(6)*0.007375)/((time-15)*0.56+1)
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = modifyExplod
trigger1 = time > 15
trigger1 = parent, var(6) > 16
id = 829
scale = 2.25*(0.12+(parent,var(6)-16)*0.0017)/((time-15)*0.56+1),2.25*(0.12+(parent,var(6)-16)*0.0017)/((time-15)*0.56+1)
trans = addalpha
alpha = 256-fvar(2),256

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 70+parent,var(6)*0.6,10+parent,var(6)*0.27
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = S1234
sparkxy = -15, -40
hitsound = S6,33
guardsound = S6,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-1-var(6)*0.036
airguard.velocity = -9,-5
air.type = High
air.velocity = -9,-1-var(6)*0.036
air.hittime = 12
fall = cond(var(6)<50,0,1)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 31
trigger2 = parent, stateno != 541
id = 829

[State 0, Helper]
type = Helper
trigger1 = pos y > -15 && numhelper(543) = 1 && numhelper(515) = 0
helpertype = normal;player
name = "efekty boom"
ID = 515
stateno = 515
pos = 0,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = destroyself
trigger1 = Time = 31
trigger2 = parent, stateno != 541


;efekty boom
[StateDef 515]
type = S
juggle  = 1
ctrl = 0
anim = 2000
sprpriority = 4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -15

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 515
id = 515
pos = 0,15
postype = p1
bindtime = 1
removetime = 43
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.85,0.3
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F540
id = 540
pos = 0,20
postype = p1
bindtime = 1
removetime = 45
supermovetime = 9999
pausemovetime = 9999
sprpriority = 5
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
id = 580
pos = 0,13
postype = p1
bindtime = 1
removetime = 48
supermovetime = 9999
pausemovetime = 9999
sprpriority = 5
scale = 0.85,0.25
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
pos = 30,-10
postype = p1
bindtime = 1
facing = 1
removetime = 56
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
pos = -30,-10
postype = p1
bindtime = 1
facing = -1
removetime = 56
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F575
id = 575
pos = 0,0
vfacing = -1
postype = p1
vel = -0.5, -1.5
bindtime = 1
removetime = 21
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F575
id = 575
pos = 0,0
postype = p1
bindtime = 1
vfacing = -1
vel = -1,-1
removetime = 21
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State 811, end]
type = destroyself
trigger1 = Time = 31

;---------------------------------------------------------------------------
;Rasengan Crounch
[StateDef 55530]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6040
sprpriority = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 9
ID =  434
stateno = 434
pos = -2,-13
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpiority = 5
persistent = 1
supermovetime = 50

[State 8100, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 36
movetime = 36
anim = 1651658616
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S290,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S290,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 34
value = 12,12

[State 200, 2]
type = PlaySnd
trigger1 = time = 34
value = 4000,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 34
anim = 6038
ID = 6038
postype = p1
pos = 0,3
bindtime = 1
sprpriority = 2
facing = -1
ownpal = 1
ontop = 0
removetime = 36
supermovetime = 36
scale = 0.5,0.5
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 34
anim = 6038
ID = 6038
postype = p1
pos = 0,3
bindtime = 1
sprpriority = 2
facing = 1
ownpal = 1
ontop = 0
removetime = 36
supermovetime = 36
scale = 0.5,0.5
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7000, Helper]
type = Helper
trigger1 = time = 1
ID = 443
pos = 0,0
postype = p1
stateno = 443
helpertype = normal
name = "Smoke"
keyctrl = 0
facing = 1
ownpal = 1
sprpriority = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "a" && time > 40
value = 431
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "b" && time > 40
value = 432
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1

[StateDef 443]
type    = S
anim = 30000

[State 200, 2]
type = PlaySnd
trigger1 = time = 34
value = 4000,1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -25

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 34
anim = 6042
ID = 6042
pos = 0,25
postype = p1 
facing = 1
removetime = 263
sprpriority = 5
ownpal = 1
ontop = 0
scale = 1,1
vel = 0.1,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 34
anim = 6042
ID = 6042
pos = 0,25
postype = p1 
facing = 1
removetime = 263
sprpriority = 5
ownpal = 1
ontop = 0
scale = 0.7,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 34
anim = 6042
ID = 6042
pos = 0,25
postype = p1 
facing = -1
removetime = 263
sprpriority = 5
ontop = 0
scale = 0.85,0.85
vel = -0.1,0
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 297

[Statedef 434]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6037
poweradd = 0
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -2,-13
ignorehitpause = 0
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,16

[State 0, StopSnd]
type = StopSnd
trigger1 = parent,time = 27
channel = -1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = parent,time = 27

[StateDef 431]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6044
poweradd = -220
sprpriority = 0

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4000,0

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = 1
pos = 0, 4
scale = 0.4,0.4
sprpriority = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = -1
pos = 0, 4
scale = 0.4,0.4
sprpriority = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 435
pos = 3,-30
postype = p2
stateno = 435
helpertype = normal
name = "Ninken 1"
keyctrl = 0
facing = -1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 436
pos = 0,0
postype = p2
stateno = 436
helpertype = normal
name = "Ninken 2"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 437
pos = 0,0
postype = p2
stateno = 437
helpertype = normal
name = "Ninken 3"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 438
pos = 0,0
postype = p2
stateno = 438
helpertype = normal
name = "Ninken 4"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 439
pos = 0,0
postype = p2
stateno = 439
helpertype = normal
name = "Ninken 5"
keyctrl = 0
facing = -1
ownpal = 1
pausemovetime = 100

[State 0, PowerAdd]
type = PowerAdd
trigger1 = helper(439),movehit
value = -5

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = s0,32

[State 1531, 3]
type = ChangeState
trigger1 = helper(439),movecontact = 0 && time = 48
value = 0
ctrl = 1

[State 1531, 3]
type = ChangeState
trigger1 = helper(439),movecontact = 1 && time > 40
value = 441
ctrl = 1

;Ninken 1
[StateDef 435]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6045
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = -15

[State 7010, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x - 10
y = 19

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 0, 20
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7110, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = -2.2

[State 7110, VelAdd]
type = VelSet
trigger1 = Time > 5
y = 0

[State 7010, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animElem = 4
trigger2 = animElem = 5
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,35
sparkno = 525343
guardsparkno = 525343
sparkxy = -10, -10
hitsound = 35435435
guardsound = 354343
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 5000

[State 7010, ChangeState]
type = ChangeState
trigger1 = parent,movehit && time = 5
trigger2 = time = 60
value = 440

;Ninken 2
[StateDef 436]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6046
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = -4

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 0, 7
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7020, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x + 16
y = 15

[State 7110, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = -2.2

[State 7110, VelAdd]
type = VelSet
trigger1 = Time > 5
y = 0

[State 7020, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animElem = 4
trigger2 = animElem = 5
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,35
sparkno = 525343
guardsparkno = 525343
sparkxy = -10, -10
hitsound = 35435435
guardsound = 354343
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 5000

[State 7020, ChangeState]
type = ChangeState
trigger1 = parent,movehit && time = 5
trigger2 = time = 60
value = 440

;Ninken 3
[StateDef 437]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6047
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = 0

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 6, 6
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = -6, 6
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7110, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x - 20
y = 25

[State 7110, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = -2

[State 7110, VelAdd]
type = VelSet
trigger1 = Time > 5
y = 0

[State 7110, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animElem = 4
trigger2 = animElem = 5
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,35
sparkno = 525343
guardsparkno = 525343
sparkxy = -10, -10
hitsound = 35435435
guardsound = 354343
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 5000

[State 7110, ChangeState]
type = ChangeState
trigger1 = parent,movehit && time = 5
trigger2 = time = 60
value = 440

;Ninken 4
[StateDef 438]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6048
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = -6

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 0, 7
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7110, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x -4
y = 25

[State 7110, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = -0.4

[State 7110, VelAdd]
type = VelSet
trigger1 = Time > 10
y = 0

[State 7120, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animElem = 4
trigger2 = animElem = 5
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,35
sparkno = 525343
guardsparkno = 525343
sparkxy = -10, -10
hitsound = 35435435
guardsound = 354343
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 5000

[State 7120, ChangeState]
type = ChangeState
trigger1 = parent,movehit && time = 5
trigger2 = time = 60
value = 440

;Ninken 5
[StateDef 439]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6049
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = 0

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 10, 7
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = 0, 7
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = animElem = 2
anim = 4010
bindtime = 1
facing = 1
pos = -10, 7
postype = p1
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7010, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x + 20
y = 25

[State 7110, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = -2.2

[State 7110, VelAdd]
type = VelSet
trigger1 = Time > 5
y = 0

[State 7010, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animElem = 4
trigger2 = animElem = 5
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,35
sparkno = 525343
guardsparkno = 525343
sparkxy = -10, -10
hitsound = 35435435
guardsound = 354343
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 5000

[State 7010, ChangeState]
type = ChangeState
trigger1 = parent,movehit && time = 5
trigger2 = time = 60
value = 440

;Smoke
[StateDef 440]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 30000
sprpriority = 15

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,20
bindtime = 24
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 24
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 15

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4000,1
volume = 200

[State 4012, DestroySelf]
type = DestroySelf
trigger1 = time = 28

;------------------------------

[StateDef 441]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6050
sprpriority = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
ID =  442
stateno = 442
pos = -5,-30
postype = p1    ;p2,front,back,left,right
facing = 1
bindtime = 24
keyctrl = 0
ownpal = 1
ontop = 1
sprpiority = 5
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 432
ctrl = 1

[Statedef 442]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6037
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 15

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -5,-30
ignorehitpause = 0
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,16

[State 0, StopSnd]
type = StopSnd
trigger1 = parent,time = 20
channel = -1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = parent,time = 20

[StateDef 432]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 335
SprPriority = 0

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 6039
ID = 6039
postype = p1
pos = 30,-31
bindtime = -2
sprpriority = 3
ownpal = 1
ontop = 0
removetime = -1
removeongethit = 1
supermovetime = 36
scale = 0.8,0.8
trans = addalpha
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2dist X<= 60
trigger2 = stateno != 432
id = 6039 

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 10

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 1531, 3]
type = ChangeState
trigger1 = p2dist X<= 60
value = 433
ctrl = 1

[Statedef 433]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6043
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact && numexplod(6041) = 0
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact && numexplod(6041) = 0
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact && numexplod(6041) = 0
value = S0,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact && numexplod(6041) = 0
value = S0,30

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6041) = 0
anim = 6041
ID = 6041
postype = p1
pos = 30,0
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.8,0.8
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = 1
anim = 6039
ID = 6039
postype = p1
pos = 54,-29
bindtime = -2
sprpriority = 3
ownpal = 1
ontop = 0
removetime = -1
removeongethit = 1
supermovetime = 36
scale = 0.8,0.8
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 16
id = 6039 

[State 8100, SuperPause]
type = SuperPause
trigger1 = movecontact = 1
time = 50
anim = 1651658616
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = S30,30

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
attr = S, NA
damage = 250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -30
airguard.velocity = -20,0
air.type = High
air.velocity = -1,0
air.hittime = -1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = movehit
value = -30

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
v = 12
value = 150

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 16
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kuchiyose Ninken
[StateDef 1193]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6044
poweradd = -500
sprpriority = 4

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S7001,0

[State 7000, Helper]
type = Helper
trigger1 = animelem = 3
ID = 1194
pos = 3,-30
postype = p2
stateno = 1194
helpertype = normal
name = "Ninken - stun"
keyctrl = 0
facing = -1
ownpal = 1
pausemovetime = 100

[State 1531, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Ninken 1
[StateDef 1194]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6045
sprpriority = 2

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s0,33

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = s0,32

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7010, Posset]
type = Posset
trigger1 = 1
y = 0

[State 7010, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = p2dist x - 10
y = 19

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,6

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
bindtime = 1
facing = 1
pos = 0,0
postype = p1
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = -2
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6045
ID = 6646
removetime = 210
bindtime = -1
facing = 1
pos = -5,0
postype = p1
scale = 1,1
sprpriority = 2
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6046
ID = 6646
removetime = 210
bindtime = -1
facing = 1
pos = -5,0
postype = p1
scale = 1,1
sprpriority = 2
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6047
ID = 6646
removetime = 210
bindtime = -1
facing = 1
pos = -5,0
postype = p1
scale = 1,1
sprpriority = 2
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6048
ID = 6646
removetime = 210
bindtime = -1
facing = 1
pos = -10,0
postype = p1
scale = 1,1
sprpriority = 2
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6049
ID = 6646
removetime = 210
bindtime = -1
facing = 1
pos = 25,0
postype = p1
scale = 1,1
sprpriority = 2
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 20,0
attr = C,HP
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,40
sparkno = 0+random%4
sparkxy = -10-random%40, -10-random%30
hitsound = 35, 0+random%15
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 0
p2stateno = 100027

[State 0, ChangeState]
type = Changestate
trigger1 = target,stateno != 100027 && target,stateno = [100000,109999]
trigger2 = time = 210
trigger3 = time > 30 && !movecontact
value = 1195
ctrl = 1

;Smoke
[StateDef 1195]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 6134
sprpriority = 15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 6646


[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.4,1.4
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -20-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.9,0.9
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = S,NA
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,0
sparkno = -1
sparkxy = -10, -30
hitsound = -5, 0
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1

[State 4012, DestroySelf]
type = DestroySelf
trigger1 = time = 28

[StateDef 1192]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5000
velset = 0,0
under = 1
poweradd = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitVelSet]
type = HitVelSet
trigger1 = 1
x = 0
y = 0
;ignorehitpause = 1

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 20
value = 5000
ctrl = 1

;------------------------------------------------------------------
;Ninken Combo 1
[StateDef 1200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4000
poweradd = -200
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 14
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
value = F17,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S7000,0

[State 7000, Helper]
type = Helper
trigger1 = time = 50
ID = 1201
pos = 30,0
postype = p1
stateno = 1201
helpertype = normal
name = "Ninken 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 60
ID = 1202
pos = 30,0
postype = p1
stateno = 1202
helpertype = normal
name = "Ninken 2"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 70
ID = 1203
pos = 40,5
postype = p1
stateno = 1203
helpertype = normal
name = "Ninken 3"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 90
ID = 1204
pos = 30,0
postype = p1
stateno = 1204
helpertype = normal
name = "Ninken 4"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 100
ID = 1205
pos = 40,5
postype = p1
stateno = 1205
helpertype = normal
name = "Ninken 5"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 110
ID = 1206
pos = 30,0
postype = p1
stateno = 1206
helpertype = normal
name = "Ninken 6"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = 0

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time > 120
time = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && time < 20
Time = 3
color = 256-(time*6.55)
add = 0-(time*2.5),0-(time*2.5),0-(time*2.5)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 19 && time < 150 && time%5 = 0
Time = 6
color = 125
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 149
Time = 3
color = 125+((time-149)*6.550)
add = -50+((time-149)*2.5),-50+((time-149)*2.5),-50+((time-149)*2.5)
ignorehitpause = 1

[State -2, Button A]
type = Explod
triggerall = var(50) = 0
trigger1 = time = 120
triggerall = numexplod(1604) = 0
anim = F1604
ID = 1604
pos = -16,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = 30
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State -2, Button B]
type = Explod
triggerall = var(50) = 0
trigger1 = helper(1206),movecontact
triggerall = numexplod(1606) = 0
anim = F1606
ID = 1606
pos = 16,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = 20
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1531, 3]
type = ChangeState
trigger1 = time = 170
value = 0
ctrl = 1

[State 1531, 3]
type = ChangeState 
trigger1 = command = "a" && time > 120 && time < 150
value = 1209
ctrl = 1

[State 1531, 3]
type = ChangeState
trigger1 = command = "b" && helper(1206),movecontact
value = 2011
ctrl = 1

[statedef 1211]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6075
poweradd = 0
sprpriority = 2

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 1
time = 1
length = 1
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 38
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 9
time = 35
anim = 16685686185
ignorehitpause = 1
unhittable = 0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S7001,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,0

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = 1
pos = 6, 0
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = -1
pos = -6, 0
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[state 340, 2]
type = posadd
trigger1 = time = 10
x = p2dist x - 10

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = S300,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1414,0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 6074
ID = 301
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
ontop = 0
removetime = 23
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time 
attr = S, NA
damage = 60
animtype = Light              
guardflag = MA                 
hitflag = MAF                  
priority = 1, Hit                
pausetime = 0, 2                 
sparkxy = -10, -40               
hitsound = S310,1             
guardsound = 6, 0             
ground.type = High            
ground.slidetime = 5        
ground.hittime  = 10         
ground.velocity = -2,-8          
airguard.velocity = -2,-8
air.type = High                 
air.velocity = -2,-8     
air.hittime = 12 
fall = 1

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 1212
ctrl = 1

[StateDef 1212]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 50
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -75

[State 200, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

[Statedef 1209]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -1
anim = 100
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1604

[State -2, Button A]
type = Explod
triggerall = var(50) = 0
trigger1 = time = 1
triggerall = numexplod(1605) = 0
anim = F1605
ID = 1605
pos = cond(pos y = 0,-6,2),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time%5 = 0
Time = 6
color = 125
add = -50,-50,-50
ignorehitpause = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 20100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 20100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 20100, 4]
type = ChangeState
trigger1 = p2bodydist x <= 10
value = 1210
ctrl = 1

[StateDef 1210]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 300
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 0 && time < 11
Time = 6
color = 125
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 10
Time = 3
color = 125+((time-10)*13.1)
add = -50+((time-10)*5),-50+((time-10)*5),-50+((time-10)*5)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movecontact && numhelper(9999) = 1
Time = 10
color = 256
add = 0,0,0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,0
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3
channel = 14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermove = 9999
pausemove = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F980
scale = 2.2,2.2
pos = 29,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
id = 12
pos = 5+random%10,-35+random%10
scale = 1,1
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NT
damage = 250,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 2017
sparkxy = -15, -25
hitsound = S1, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-1
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-3
air.hittime = 12
getpower = 0
givepower = 0
fall = 1

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Ninken 1
[StateDef 1201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6063

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 1531, 3]
type = ChangeState
triggerall = movecontact
trigger1 = p2bodydist x < 15 && p2bodydist y > -1
value = 1207
ctrl = 1

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = stateno != 1207
trigger1 = p2bodydist X < -40 && time > 50

[StateDef 1207]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6064

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Veladd]
type = VelAdd
trigger1 = time > 1
y = cond(p2dist y > 2,0.2,-0.4)

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 64364363456
sparkxy = -15, -10
hitsound = 35, 346346
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 1531, 3]
type = ChangeState
trigger1 = animtime = 0
value = 1208
ctrl = 1

[StateDef 1208]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6065

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 801, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x - 3
y = p2dist y - 30

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 324545
sparkxy = -10, -76
hitsound = S8000,534253425
guardsound = S0,17
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 60
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 60
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 60
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 60

;Ninken 2
[StateDef 1202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6059

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0


[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = p2bodydist X < -30 && time > 50

;Ninken 3
[StateDef 1203]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6060

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = p2bodydist X < -50 && time > 50

;Ninken 4
[StateDef 1204]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6061

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 0+random%4
sparkxy = -15, -8
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -40 && time > 50
value = F9,2
[State 1533, DestroySelf]
type = DestroySelf
trigger1 = p2bodydist X < -40 && time > 50

;Ninken 5
[StateDef 1205]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 6058

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 60
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
getpower = 0
givepower = 0

[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -60 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 5+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -60 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = p2bodydist X < -60 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -5-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.3,0.3
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -60 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = p2bodydist X < -60 && time > 50
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = p2bodydist X < -60 && time > 50

;Ninken 6
[StateDef 1206]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -300
ctrl = 0
velset = 0,0
anim = 6062

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,33

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 7

[State 0, PosAdd]
type = PosAdd
trigger1 = movecontact = 1
x = 20

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 60
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-2
airguard.velocity = -8,-.8
air.type = High
air.velocity = -8,-3
air.hittime = 12
fall = 1
getpower = 0
givepower = 0


[State 0, Prawa]
type = Explod
trigger1 = time = 0
trigger2 = movecontact = 0 && p2bodydist X < 300 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 8+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
trigger2 = movecontact = 0 && p2bodydist X < 300 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.8,0.8
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
trigger2 = movecontact = 0 && p2bodydist X < 300 && time > 50
anim = F696
ownpal = 1
ID = 900
pos = -8-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = movecontact = 0 && p2bodydist X < 300 && time > 50
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = movecontact = 0 && p2bodydist X < 300 && time > 50
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = movecontact = 0 && p2bodydist X < 300 && time > 50

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact = 1 && p2bodydist X < 10
value = 1213
ctrl = 1

[StateDef 1213]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6070

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movehit = 1
anim = F2016
ID = 6073
postype = p1
pos = 0,-28
bindtime = 1
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = -2
scale = 1.5,1.5
trans = addalpha
alpha = 256-fvar(2),256

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,32

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = 20

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 50
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-2
airguard.velocity = -8,-.8
air.type = High
air.velocity = -8,-3
air.hittime = 12
fall = 1


[State 0, Prawa]
type = Explod
trigger1 = time = 50
trigger2 = parent,movecontact
anim = F696
ownpal = 1
ID = 900
pos = 8+random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 1+random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 50
trigger2 = parent,movecontact
anim = F696
ownpal = 1
ID = 900
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%1,-1-random%1
scale = 0.8,0.8
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 50
trigger2 = parent,movecontact
anim = F696
ownpal = 1
ID = 900
pos = -8-random%5,-5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%1,-1-random%1
scale = 0.5,0.5
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = parent,movecontact
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = parent,movecontact
value = F9,2

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 50
trigger2 = parent,movecontact

;---------------------------------------------------------------------------
;Kage Bunshin Combo
[StateDef 1214]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 3

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NT
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = 8,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, end]
type = ChangeState
trigger1 = movehit
value = 1215
ctrl = 1

;atak 2
[StateDef 1215]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6079
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S210,0

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S210,0

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NT
damage = 55
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
guardsparkno = -10, -30
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -20
airguard.velocity = -20,0
air.type = High
air.velocity = -1,0
air.hittime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 6012
ID = 6012
pos = 3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 7000, Helper]
type = Helper
trigger1 = time = 35
ID = 1216
pos = -20,0
postype = p2
stateno = 1216
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1217) = 0
trigger1 = command = "a" && time > 65
ID = 1217
pos = -10,-12
postype = p2
stateno = 1217
helpertype = normal
name = "Bunshin 2"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1219) = 0
trigger1 = command = "b" && time > 65
ID = 1219
pos = -10,-12
postype = p2
stateno = 1219
helpertype = normal
name = "Bunshin 3"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1220) = 0
trigger1 = command = "c" && time > 65
ID = 1220
pos = -10,0
postype = p2
stateno = 1220
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 210, end]
type = ChangeState
trigger1 = time = 92
value = 1218
ctrl = 1

[State 210, end]
type = ChangeState
trigger1 = command = "b" && time > 60
trigger2 = command = "c" && time > 60
trigger3 = command = "x" && time > 60
trigger4 = command = "y" && time > 60
trigger5 = command = "z" && time > 60
value = 0
ctrl = 1

[StateDef 1218]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S220,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = var(1) = 0
trigger1 = AnimElem = 3
attr = S, NA
damage = 105
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-2
airguard.velocity = -12,-.8
air.type = High
air.velocity = -12,-3
air.hittime = 12
fall = 1
p2stateno = 212

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = var(1) = 1
trigger1 = AnimElem = 3
attr = S, NA
damage = 115
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 16
ground.velocity = -16,-2
airguard.velocity = -16,-.8
air.type = High
air.velocity = -16,-3
air.hittime = 16
fall = 1
p2stateno = 212

[State 220, VelSet]
type = VelSet
trigger1 = Animelem = 1
x = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = -5,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Bunshin 1
[StateDef 1216]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,20
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 24
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4000,1
volume = 200

[State 0, HitOverride]
type = HitOverride
trigger1 = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1199
time = 1
forceair = 0
;ignorehitpause = 0

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 75
animtype = Light              
guardflag = MA                 
hitflag = MAF                  
priority = 3, Hit                
pausetime = 0, 2                 
sparkxy = -10, -40               
hitsound = S310,1             
guardsound = 6, 0             
ground.type = High            
ground.slidetime = 5        
ground.hittime  = 10         
ground.velocity = 0,-11.2          
airguard.velocity = 0,-11.2   
air.type = High                 
air.velocity = 0,-11.2           
air.hittime = 12 

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1199
ctrl = 1

;Bunshin 2
[StateDef 1217]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1199
time = 1
forceair = 0
;ignorehitpause = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,20
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 24
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4000,1
volume = 200

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,0

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 80
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -9,10
airguard.velocity = -9,10
air.type = high
air.velocity = -9,10
air.hittime = 12
fall = 1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1199
ctrl = 1

;Bunshin 3
[StateDef 1219]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(6054) = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,20
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 24
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4000,1
volume = 200

[State 0, HitOverride]
type = HitOverride
trigger1 = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1199
time = 1
forceair = 0
;ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = parent,command = "b"
x = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S290,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S290,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.5,0
airguard.velocity = -0.5,0
air.type = High
air.velocity = -0.5,0
air.hittime = 12
fall = 1

[State 220, end]
type = ChangeState
trigger1 = parent,command = "b" && time > 8
value = 1219
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time > 12
value = 1199
ctrl = 1

;Bunshin 4
[StateDef 1220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6080
poweradd = 20
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1199
time = 1
forceair = 0
;ignorehitpause = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,20
bindtime = 24
sprpriority = 5
ownpal = 1
ontop = 0
supermovetime = 24
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 4000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 4000,1
volume = 200

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S310,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 105
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-2
airguard.velocity = -12,-.8
air.type = High
air.velocity = -12,-3
air.hittime = 12
fall = 1
p2stateno = 212

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1199
ctrl = 1

;---------------------------------------------------------------------------
;Kage Bunshin Combo
[StateDef 1221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 3

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 45
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 6012
ID = 6012
pos = 8,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, end]
type = ChangeState
trigger1 = movehit
value = 1222
ctrl = 1

;atak 2
[StateDef 1222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6079
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S210,0

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S210,0

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 65
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
guardsparkno = -10, -30
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 20
ground.velocity = -20
airguard.velocity = -20,0
air.type = High
air.velocity = -1,0
air.hittime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 6012
ID = 6012
pos = 3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermovetime = 999
pausemovetime = 999
scale = 0.6,0.6
sprpriority = 5
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 7000, Helper]
type = Helper
trigger1 = time = 35
ID = 1216
pos = -20,0
postype = p2
stateno = 1216
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1217) = 0
trigger1 = command = "a" && p2bodydist y  -55
ID = 1217
pos = -10,-12
postype = p2
stateno = 1217
helpertype = normal
name = "Bunshin 2"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1219) = 0
trigger1 = command = "b" && time > 65
ID = 1219
pos = -10,-12
postype = p2
stateno = 1219
helpertype = normal
name = "Bunshin 3"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
triggerall = numhelper(1220) = 0
trigger1 = command = "c" && time > 65
ID = 1220
pos = -10,0
postype = p2
stateno = 1220
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 210, end]
type = ChangeState
trigger1 = time > 105 && p2bodydist x +10 && p2bodydist y - 20
value = 1218
ctrl = 1

[State 210, end]
type = ChangeState
trigger1 = command = "b" && time > 70
trigger2 = command = "c" && time > 70
trigger3 = command = "x" && time > 70
trigger4 = command = "y" && time > 70
trigger5 = command = "z" && time > 70
value = 0
ctrl = 1

;Hit 1
[Statedef 212]
type    = A
movetype= H
physics = N
anim = 5050

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 212, Gravity]
type = VelAdd
trigger1 = 1
y = .50

[State 212, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 10
trigger2 = FrontEdgeBodyDist < 10
value = 1
movecamera = 0,1

[State 212, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 213

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050

;Hit 2
[Statedef 213]
type    = A
movetype= H
physics = N

[State 213, Anim]
type = ChangeAnim2
trigger1 = anim != 5050
value = 5050

[State 213, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 213, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 213, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 213, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 213, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = -15
kill = 1

[State 213, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 213, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 214

;Hit 3
[Statedef 214]
type    = A
movetype= H
physics = N

[State 214, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 214, Vel X]
type = VelSet
trigger1 = Time = 0
x = 2

[State 214, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 214, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 214, ]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 214,]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 214,]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 214,]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 214, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;----------------------------------------------------------------------------
;Kage Bunshin Combo 2 (acuch)
[StateDef 1230]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1230
poweradd = -100
sprpriority = 2

[State 7000, Helper]
type = Helper
trigger1 = time = 35
ID = 1231
pos = -150,0
postype = p2
stateno = 1231
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 35
ID = 1235
pos = 150,0
postype = p2
stateno = 1235
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = -1
ownpal = 1
pausemovetime = 100

[State 210, end]
type = ChangeState
trigger1 = time = 92
value = 0
ctrl = 1

[StateDef 1231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 100
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,5
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 214, Vel Y]
type = VelSet
trigger1 = 1
x = 6

[State 214, Vel Y]
type = posset
trigger1 = 1
y = 0

[State 220, end]
type = ChangeState
trigger1 = p2dist x < 60
value = 1232
ctrl = 1

[StateDef 1232]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1233
ctrl = 1

[StateDef 1233]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6167
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 214, Vel Y]
type = VelSet
trigger1 = 1
x = -4.5

[State 7000, Helper]
type = Helper
trigger1 = time = 0 
ID = 1240
pos = 0,-20
postype = p2
stateno = 1240
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 4 
ID = 1241
pos = 0,-20
postype = p2
stateno = 1241
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 8 
ID = 1242
pos = 0,-20
postype = p2
stateno = 1242
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 7000, Helper]
type = Helper
trigger1 = time = 0 
ID = 1244
pos = 0,0
postype = p2
stateno = 1244
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 220, end]
type = ChangeState
trigger1 = time = 12
value = 1234
ctrl = 1

[StateDef 1234]
type = S 
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6168
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7000, Helper]
type = Helper
trigger1 = time = 0 
ID = 1243
pos = 0,-20
postype = p2
stateno = 1243
helpertype = normal
name = "Bunshin 1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 100

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, PosSet]
type = Posadd
trigger1 = time = 1
x = p2dist x -110

[State 220, end]
type = ChangeState
trigger1 = p2stateno != 1245
value = 440

[StateDef 1235]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 100
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6054
ID = 6054
postype = p1
pos = 0,5
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
trans = addalpha
alpha = 256-fvar(2),256

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 214, Vel Y]
type = VelSet
trigger1 = 1
x = 6

[State 214, Vel Y]
type = posset
trigger1 = 1
y = 0

[State 220, end]
type = ChangeState
trigger1 = p2dist x < 50
value = 1236
ctrl = 1

[StateDef 1236]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 9
anim = 6175
ID = 6175
pos = 40,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = 4
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0

[State 6002, NotHitBy]
type = NotHitBy
trigger1 = !time
value = SCA
time = -1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1237
ctrl = 1

[StateDef 1237]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6167
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 214, Vel Y]
type = VelSet
trigger1 = 1
x = -4.5

[State 220, end]
type = ChangeState
trigger1 = time = 8
value = 1238
ctrl = 1

[StateDef 1238]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6168
poweradd = 20
sprpriority = -3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, PosSet]
type = Posadd
trigger1 = time = 1
x = p2dist x -100

[State 220, end]
type = ChangeState
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && numhelper(1231) = 0
value = 440

[StateDef 1240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6169
poweradd = 20
sprpriority = -2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6173
ID = 6173
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && parent,stateno != 1234
id = 6173

[State 220, end]
type = destroyself
trigger1 = numhelper(1231) = 1

[StateDef 1241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6170
poweradd = 20
sprpriority = -2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6174
ID = 6174
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && parent,stateno != 1234
id = 6174

[State 220, end]
type = destroyself
trigger1 = numhelper(1231) = 1

[StateDef 1242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6171
poweradd = 20
sprpriority = -2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6175
ID = 6175
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && parent,stateno != 1234
id = 6175

[State 220, end]
type = destroyself
trigger1 = numhelper(1231) = 1

[StateDef 1243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6172
poweradd = 20
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6176
ID = 6176
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && parent,stateno != 1234
trigger3 = numhelper(1231) = 0 || numhelper(1235) = 0
id = 6176

[State 220, end]
type = destroyself
trigger1 = p2stateno != 1245
trigger2 = p2stateno != 1245 && parent,stateno != 1234
trigger3 = numhelper(1231) = 0 || numhelper(1235) = 0

[StateDef 1244]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6177
poweradd = 20
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1313]
type = TargetBind
trigger1 = time >= 1
time = -1
id = -1
pos = -1,1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
trigger2 = animelem = 3
attr = S, NA
damage = 1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 4861
sparkxy = -10, -30
hitsound = 568, 0
guardsound = 6958, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-3
air.hittime = 12
p2stateno = 1245

[State 200, end]
type = destroyself
trigger1 = time = 300
trigger2 = movehit = 0 && time > 20
trigger3 = p2stateno != 1245 && time > 20
trigger4 = numhelper(1231) = 0 || numhelper(1235) = 0

[StateDef 1245]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5000
velset = 0,0
poweradd = 0
sprpriority = -2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitVelSet]
type = HitVelSet
trigger1 = 1
x = 0
y = 0
;ignorehitpause = 1

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 20
value = 5000
ctrl = 1

;----------------------------------------------------------------------------
;Raiden - Kage Bunshin
[StateDef 1250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1230
poweradd = 0
sprpriority = 2

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 340, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,3

[State 7000, Helper]
type = Helper
trigger1 = time = 10
ID = 1251
pos = 80,-3
postype = p1
stateno = 1251
helpertype = normal
name = "Klon_1"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 9999

[State 7000, Helper]
type = Helper
trigger1 = time = 10
ID = 1252
pos = 20,7
postype = p1
stateno = 1252
helpertype = normal
name = "Klon_2"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 9999

[State 210, end]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

[StateDef 1251]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933
poweradd = -1000
sprpriority = -2

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S300,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 7000, Helper]
type = Helper
trigger1 = time = 0
ID = 1253
pos = 0,0
postype = p1
stateno = 1253
helpertype = normal
name = "Rope"
keyctrl = 0
facing = 1
ownpal = 1
pausemovetime = 9999
size.xscale = 0.1
size.yscale = 0.15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1410
id = 829
pos = -2,-40
scale = 0.08*4.25,0.08*4.25
vel = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = -1
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 829
pos = -2,-40
scale = 0.08*5.25,0.08*5.25
vel = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = -1
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 829
pos = -2,-40
scale = 0.08*5.25,0.08*5.25
vel = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -1
sprpriority = -1
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 829
pos = -3,-26
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 2
ID = 829
pos = -2,-26
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 3
ID = 829
pos = -1,-28
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 4
ID = 829
pos = -2,-32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 5
ID = 829
pos = -1,-31
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 6
ID = 829
pos = 1,-26
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = frontedgedist < -50
id = 829

[State 0, VelSet]
type = VelSet
trigger1 = time > 2
x = const(velocity.run.fwd.x)

[State 210, end]
type = Destroyself
trigger1 = frontedgedist < -50

[StateDef 1252]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933
poweradd = -1000
sprpriority = 4

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S300,1

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S300,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1410
id = 829
pos = -2,-40
scale = 0.08*4.25,0.08*4.25
vel = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = 3
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 829
pos = -2,-40
scale = 0.08*5.25,0.08*5.25
vel = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -1
sprpriority = 5
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 829
pos = -2,-40
scale = 0.08*5.25,0.08*5.25
vel = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -1
sprpriority = 3
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6088
id = 8291
pos = -2,-40
scale = 0.08,0.08
vel = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -1
sprpriority = 5
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 8291
pos = -8,-38
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
scale = 0.08,0.08
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 2
ID = 8291
pos = -2,-36
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.08,0.08
vfacing = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 6
ID = 8291
pos = -3,-36
postype = p1  ;p2,front,back,left,right
facing = 1
scale = 0.08,0.08
vfacing = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
ID = 8291
pos = -8,-38
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 0,0
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 829
pos = -7,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 2
ID = 829
pos = -1,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 3
ID = 829
pos = 5,-31
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 4
ID = 829
pos = 6,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 5
ID = 829
pos = 5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 6
ID = 829
pos = -2,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = frontedgedist < -50
id = 829

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = frontedgedist < -50
id = 8291

[State 0, VelSet]
type = VelSet
trigger1 = time > 2
x = const(velocity.run.fwd.x)

[State 210, end]
type = Destroyself
trigger1 = frontedgedist < -50

[StateDef 1253]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1250
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109923

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
value = F11,10

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 1
facing = 0
pos = 7,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 2
facing = 0
pos = 8,-26

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 3
facing = 0
pos = 9,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 4
facing = 0
pos = 8,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 5
facing = 0
pos = 9,-31

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 6
facing = 0
pos = 11,-26

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,0
triggerall = hitcount < 5
attr = S, NA
damage = 200,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420
sparkxy = -5+random%10, 5-random%20
hitsound = 11,3
guardsound = 11,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -1.5,-2 
air.type = High
air.velocity = -3,-4
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 3
envshake.freq = 30
palfx.time = 20
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 210, end]
type = Destroyself
trigger1 = numhelper(1251) = 0

;-------------------------------------------------------------
;Kage Bunshin
[StateDef 1280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,15
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 9,1
anim = 90004
ID = 75502
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && time <= 100
anim = 90502
ID = 75501
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 34
triggerall = var(1) = 0
triggerall = numhelper(20000) = 0
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 67
triggerall = var(1) = 0
triggerall = numhelper(20000) <= 1
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = var(1) = 0
triggerall = numhelper(20000) <= 2
helpertype = player
name = "bunshin"
ID = 20000
stateno = 22221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 34
triggerall = var(1) = 1
triggerall = numhelper(30000) = 0
helpertype = player
name = "bunshin-rai"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 67
triggerall = var(1) = 1
triggerall = numhelper(30000) <= 1
helpertype = player
name = "bunshin-rai"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 100
triggerall = var(1) = 1
triggerall = numhelper(30000) <= 2
helpertype = player
name = "bunshin-rai"
ID = 30000
stateno = 32221
pos = -75+random%150,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 0
pausemovetime = 0

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_z"
trigger2 = power < 1000
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 100
trigger10 = numhelper(20000) = 3
trigger11 = numhelper(30000) = 3
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Kirigakure no jutsu
[Statedef 697]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 697
ctrl = 0
sprpriority = 2
poweradd = -500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0 
time = 90
movetime = 90
anim = -1 
sound = -1,0
pos = 0,0
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 1200, Helper]
type = Helper
trigger1 = animelem = 4 && numhelper(698) = 0
helpertype = normal
name = "kiri"
stateno = 698
ID = 698
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 66
supermovetime = 9999

[State 1200, Helper]
type = Helper
trigger1 = animelem = 4 && numhelper(699) = 0
helpertype = player
name = "cheat"
stateno = 699
ID = 699
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 66
supermovetime = 9999

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 256-fvar(2)*time/90,fvar(2)*time/90

[State 250, 5]
type = ChangeState
trigger1 = time = 90
value = 0
ctrl = 1

[Statedef 698]
type    = S
anim = 696
ctrl = 0
sprpriority = 0

[state 6000]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
triggerall = StageVar(info.name) != "B"
anim = 698
ID = 698
pos = -300,350
postype = front  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 30
ownpal = 1
trans = addalpha
alpha = 0,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 50
anim = 698
ID = 698
trans = addalpha
alpha = 0+time*5,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 50
anim = 698
ID = 698
trans = addalpha
alpha = 256,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 1384
anim = 698
ID = 698
trans = addalpha
alpha = 256-(time-1384),256

[State 250, 5]
type = Destroyself
trigger1 = time = 1640

[Statedef 699]
type    = S
anim = 696
ctrl = 0
sprpriority = 0

[state 6000]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PosSet]
type = PosSet
trigger1 = ABS(parent, p2dist x) > 100
x = enemy(0),pos x + parent, p2dist x*parent, facing
y = -60

[State 0, PosSet]
type = PosSet
trigger1 =  ABS(parent, p2dist x) <= 100
x = enemy(0),pos x +100*parent, facing
y = -60

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 250, 5]
type = Destroyself
trigger1 = time = 1500

;----------------------------------------------------------------------------
;Sharingan On
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 0,35
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1010
pos = cond(facing = 1,7,0),-48
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -2
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 1

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Sharingan Off
[Statedef 1001]
type    = S
movetype= I
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1001

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1

;Sharingan On Air
[Statedef 1004]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = 0,35
volume = 255
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
volume = 255
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1011
pos = cond(facing = 1,9,2),-49
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -2
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 1

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------------------------------------------------------
;Sharingan Off Air
[Statedef 1005]
type    = A
movetype= I
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
sprpriority = 0
velset = 0,0
anim = 1003

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1

[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 15
anim = 6083

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*time*000.1,0.2*time*000.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 85

[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 15
anim = 6084

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8*time*000.1,0.8*time*000.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 85

;---------------------------------------------------------------------------
;Genjutsu
[StateDef 1600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -80
ctrl = 0
velset = 0,0
anim = 1601

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600,0
volume = 500
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem =5
anim = 1600
ID = 160077
pos = 0,-25
postype = p2  ;p2,front,back,left,right
facing = 1
removetime = 40
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1

[State 2345, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 440
sparkno = 0
sparkxy = -10, -76
hitsound = S33, 33
guardsound = S33, 33
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Mangekyou Sharingan
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6126
poweradd = 0
sprpriority = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 504
ID = 502
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 199
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time < 200
anim = 505
ID = 501
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(18), 0.5
sprpriority = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 18    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 18
value = 0.0051

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(18) > 1
fv = 18    ;fv = 10
value = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = 0,25

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 15,1
value = S0,51

[State 0, Explod] 
type = Explod
ownpal = 1 
trigger1 = numexplod(6137) = 0
anim = 6137 
ID = 6137
postype = p1
pos = 0,5
removetime = -2 
removeongethit = 1
supermovetime = 999 
pausemovetime = 999 
scale = 1,0.7 
sprpriority = 0 
ontop = 0 
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = command != "holdx" && command != "holdy" && time < 200
trigger2 = command = "holdx" && command = "holdy" && time > 200
trigger3 = stateno != 3000
id = 6137

[State 0, Explod] 
type = Explod
ownpal = 1 
trigger1 = numexplod(6136) = 0
anim = 6136 
ID = 6136
postype = p1
pos = 3,-37 
removetime = -2 
removeongethit = 1
supermovetime = 999 
pausemovetime = 999 
scale = 0.7,0.7 
sprpriority = 2 
ontop = 0 
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = command != "holdx" && command != "holdy" && time < 200
trigger2 = command = "holdx" && command = "holdy" && time > 200
trigger3 = stateno != 3000
id = 6136

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holdx" && command != "holdy" && time < 199
trigger2 = time = 199
channel = -1

[State 200, 2]
type = PlaySnd
trigger1 = time = 200
value = S0,29

[State 1530, ChangeState]
type = ChangeState
trigger1 = command != "holdx" && command != "holdy" && time < 200
value = 0
ctrl = 1

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 3001
ctrl = 1

[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6127
poweradd = 0
sprpriority = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = s18,16

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = s18,16

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = s4304,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = s4304,0

[State 1500]
type = SuperPause
trigger1 = time = 25
time = 85
anim = 9999
darken = 0
unhittable = 0

[State 905, 7]
type = Envcolor
trigger1 = time = 20
value = 0,0,0
time = 90
under = 1

[State 7000, Helper]
type = Helper
trigger1 = time = 25
ID = 3010
pos = 8,-45
postype = p1
stateno = 3010
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
sprpriority = 14
ontop = 1
facing = 1
ownpal = 1
supermovetime = 999

[State 7000, Helper]
type = Helper
trigger1 = time = 25
ID = 3013
pos = 8,-45
postype = p1
stateno = 3013
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
sprpriority = 14
ontop = 1
facing = 1
ownpal = 1
supermovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 25 && numhelper(3003) = 0
helpertype = normal
name = "Hole_1"
ID = 3003            
stateno = 3003
pos = 0,-30
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, LifeAdd]
type = LifeAdd
trigger1 = command = "holdb"
value = -2

[State 101100, Turn]
type = Turn
trigger1 = p2bodydist X < -30

[State 1530, ChangeState]
type = ChangeState
trigger1 = command = "c" 
trigger2 = power <= 5 
trigger3 = life = 0
trigger4 = DrawGame = 1
trigger5 = WinTime = 1
trigger6 = LoseTime = 1
trigger7 = enemy,life = 0
trigger8 = enemy,life = 0 && command = "holdb"
trigger9 = power <= 5  && command = "holdb"
trigger10 = life = 0 && command = "holdb"
value = 3002
ctrl = 1

[Statedef 3002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6128
poweradd = 0
sprpriority = 1

[State 1530, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3003]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 150-fvar(2),256

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = enemy(0),pos x
y = enemy(0),pos y -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*time*000.1,0.2*time*000.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*3

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(3008) = 0
helpertype = normal
name = "Hole_2"
ID = 3008            
stateno = 3008
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 0.05
size.yscale = 0.05

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 40
attr = S, NA
damage = 2,2
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 3004
ctrl = 1

[Statedef 3004]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = -2
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 20,5
value = S0,50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 150-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = root,command != "holdup" && root,command != "holddown" && root,command != "holdfwd" && root,command != "holdback"
x = 0
y = 0

[State 0, VelSet]
type = VelSet
triggerall = helper(3004),pos Y > -200
trigger1 = root,command = "holdup" 
y = -2

[State 0, VelSet]
type = VelSet
triggerall = helper(3004),pos Y < 10
trigger1 = root,command = "holddown" 
y = 2

[State 0, VelSet]
type = VelSet
triggerall = helper(3004),pos x > -140
trigger1 = root,command = "holdfwd" 
x = -2

[State 0, VelSet]
type = VelSet
triggerall = helper(3004),pos x < 140
trigger1 = root,command = "holdback" 
x = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(3007) = 0
helpertype = normal
name = "Hole_3"
ID = 3007            
stateno = 3007
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 0.05
size.yscale = 0.05

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,time = 21
attr = S, NA
damage = 2
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,command = "c"
trigger2 = root,stateno != 3001
trigger3 = root,command = "holdb" 
trigger4 = p2life = 100
channel = -1

[State 1530, ChangeState]
type = ChangeState
trigger1 = root,command = "c"
trigger2 = root,stateno != 3001
value = 3006

[State 1530, ChangeState]
type = ChangeState
trigger1 = root,command = "holdb" 
value = 3005

[Statedef 3005]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = -2
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 200, 2]
type = PlaySnd
trigger1 = root,command = "holdb" && timemod = 20,5
value = S0,49

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && root,command = "holdb"
value = 1+(time-1)*2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 100 && root,command = "holdb"
value = 1+(time-1)*2.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 200 && root,command = "holdb"
value = 1+(time-1)*3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 300 && root,command = "holdb"
value = 1+(time-1)*3.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 400 && root,command = "holdb"
value = 1+(time-1)*4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 500 && root,command = "holdb"
value = 1+(time-1)*4.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 600 && root,command = "holdb"
value = 1+(time-1)*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 700 && root,command = "holdb"
value = 1+(time-1)*5.5

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 150-fvar(2),256

[State 0, PowerAdd]
type = PowerAdd
trigger1 = movehit
value = -4

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1 
attr = S, NA
damage = 7
animtype = Light
guardflag = 
hitflag = MAF
affectteam = B
priority = 2, Hit
pausetime = 0, 1
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0
p2stateno = 3011

[State 0, posadd]
type = posadd
trigger1 = movehit 
x = cond(p2dist x > 2,0.2,-0.4)
y = cond(p2dist y > 2,0.2,-0.4)

[State 0, Helper]
type = Helper
trigger1 = time = 0 && root,command = "holdb" && numhelper(3007) = 0
helpertype = normal
name = "Hole_4"
ID = 3007           
stateno = 3007
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 0.05
size.yscale = 0.05

[State 0, Helper]
type = Helper
trigger1 = time = 0 && root,command = "holdb" && numhelper(3012) = 0
helpertype = normal
name = "Hit_hole"
ID = 3012          
stateno = 3012
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 1
size.yscale = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = root,command = "c"
trigger2 = root,stateno != 3001
trigger3 = root,command != "holdb"
trigger4 = p2life = 100
channel = -1

[State 1530, ChangeState]
type = ChangeState
trigger1 = root,command != "holdb"
value = 3004

[State 1530, ChangeState]
type = ChangeState
trigger1 = root,command = "c"
trigger2 = root,stateno != 3001
value = 3006

[Statedef 3006]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = 0
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = S0,48

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-(time-0.5)*0.02,1-(time-0.5)*0.02

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(3009) = 0
helpertype = normal
name = "Hole_5"
ID = 3009            
stateno = 3009
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 0.05
size.yscale = 0.05

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1-(time-1)*2

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = S, NA
damage = 10
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 150-fvar(2),256

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 50

[Statedef 3007]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6133
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 0,fvar(2)

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = parent,stateno = 3004
trigger1 = root,command = "holdb" 
trigger2 = root,command = "c"
trigger3 = root,stateno != 3001

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = parent,stateno = 3005
trigger1 = root,command != "holdb" 
trigger2 = root,command = "c"
trigger3 = root,stateno != 3001

[Statedef 3008]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6133
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*time*000.1,0.2*time*000.1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 0,fvar(2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*2

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 50

[Statedef 3009]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6133
poweradd = 0
sprpriority = 4

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-(time-0.5)*0.02,1-(time-0.5)*0.02

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 0,fvar(2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*2

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 50

[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
sprpriority = 15
anim = 6135

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1*time*0.5,0.1*time*0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1-(time-1)*10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 85

[Statedef 3013]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 15
anim = 6084

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8*time*000.1,0.8*time*000.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1-(time-1)*40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 85

[StateDef 3011]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 5000
sprpriority = 0

[State 210, 2]
type = AfterImage
trigger1 = (!time) && enemy,command = "holdb"
time = 500
length = 20
palbright = 0,0,0
palcontrast = 10,10,10
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 210, 2]
type = AfterImage
trigger1 = enemy,command != "holdb"
trigger2 = enemy,stateno != 3001
time = 1
length = 20
palbright = 0,0,0
palcontrast = 10,10,10
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb" && enemy,timemod = 2,1
x = 1.5

[State 0, VelSet]
type = VelSet
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb" && enemy,timemod = 4,1
x = -1.5

[State 0, VelSet]
type = VelSet
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb" && enemy,timemod = 2,1
y = 1.5

[State 0, VelSet]
type = VelSet
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb" && enemy,timemod = 4,1
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = pos y = 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb"
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = enemy,stateno = 3001
trigger1 = enemy,command = "holdb"
value = -8
kill = 1

[state 102, Angle]
type = angleset
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
triggerall = enemy,stateno = 3001
trigger1 = 1 && time < 501
scale = 1-time*0.002,1-time*0.002

[State 0, AngleDraw]
type = AngleDraw
triggerall = enemy,stateno = 3001
trigger1 = time > 500
scale = 00000.1,00000.1

[State 2006, ChangeState]
type = ChangeState
trigger1 = life < 15
trigger2 = time > 500
value = 3014

[State 2006, ChangeState]
type = SelfState
trigger1 = enemy,command != "holdb" && life > 15
value = 5030
ctrl = 1

[StateDef 3014]
type    = S
movetype= H
physics = S
poweradd= 0
ctrl = 0
anim = 5000
sprpriority = 1

[State 200, 2]
type = PlaySnd
trigger1 = life = 0
value = S0,52

[State 0, Lifeset]
type = Lifeset
trigger1 = time = 1
value = -3000000
kill = 1

[State 0, Posset]
type = Posset
trigger1 = time = 0
y = 10000

[State 2006, ChangeState]
type = SelfState
trigger1 = life = 0
value = 5150
ctrl = 1

[Statedef 3012]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6134
poweradd = -2
sprpriority = 2

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = root,command = "holdb"
attr = S, NA
damage = 6
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 1
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 1530, ChangeState]
type = Destroyself
trigger1 = root,command != "holdb"

[StateDef 3015]
type = S
anim = 364

[State 0, posadd]
type = posadd
trigger1 = time = 1 && parent,stateno = 3005
x = cond(parent,pos x > 0,-0.4,0.4)
y = cond(parent,pos y < 0,-0.4,0.4)

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value = 3015

[State 0, ChangeState]
type = destroyself
trigger1 = enemy(0),alive = 0

;bar
[Statedef 3020] 
type = S 
movetype = I 
physics = N
ctrl = 0 
anim = 6129
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = 1 
pos = -50,-75 

[State 0, PlaySnd] 
type = PlaySnd 
trigger1 = !time 
value = S0,0

[State 0, ParentVarAdd] 
type = parentvaradd 
trigger1 = root,stateno = 3000 && root, time > 1
fv = 11
value = 0.5

[State 0, ParentVarSet] 
type = parentvarset
trigger1 = root,stateno!=3000
fv = 11 
value = 0

[State 0, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(11),1

[State 0, Explod]; 
type = Explod
ownpal = 1 
trigger1 = !time 
anim = 6131
ID = 10046 
;postype = parent 
pos = 0,1 
bindtime = -1 
removetime = -1 
supermovetime = 999 
pausemovetime = 999 
scale = 0.5,0.5
sprpriority = 0 
ontop = 0 
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Trans] 
type = Trans 
trigger1 = time = [0,9] 
trans = addalpha 
alpha = 0+(time*32)-fvar(2),256-(time*32)+fvar(2)

[State 1, Trans] 
type = Trans 
trigger1 = time>9
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = root,stateno!=3000
id = 10046

[State 0, ChangeState] 
type = ChangeState
trigger1 = root,stateno!=3000
value = 3021

[Statedef 3021] 
physics = N 
ctrl = 0 
sprpriority = 10

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, ParentVarSet] 
type = parentvarset 
trigger1 = root,stateno!=3000
fv = 11 
value = fvar(11)

[State 1, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(11),1

[State 1, Trans] 
type = Trans 
trigger1 = 1 
trans = addalpha 
alpha = 256-(time*32)-fvar(2),0+(time*32)+fvar(2)

[State 1, DestroySelf] 
type = DestroySelf 
trigger1 = time = 9

;---------------------------------------------------------------------------
;Sexy no Jutsu
[StateDef 660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6178
poweradd = 0
sprpriority = -1

[State 0, Prawa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 12
trigger2 = time = 67
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-20-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,-5
bindtime = 56
sprpriority = 3
ownpal = 1
ontop = 0
removeongethit = 1
removetime = 56
pausemovetime = 56
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256
removeongethit = 1


[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 6179
ID = 6179
postype = p1
pos = 0,0
bindtime = 56
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
removeongethit = 1
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256
removeongethit = 1


[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
removeongethit = 1
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 6182
ID = 6182
postype = p1
pos = 0,0
bindtime = -2
sprpriority = 3
ownpal = 1
facing = -1
ontop = 0
pausemovetime = 56
removetime = 56
removeongethit = 1
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256
removeongethit = 1


[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 661
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 662
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "heart"
ID = 661
stateno = 663
pos = 8,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd] 
type = PlaySnd 
trigger1 = time = 15
value = S0,59

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
trigger2 = time = 67
value = F9,2

[State 220, end]
type = ChangeState
trigger1 = time = 68
value = 0
ctrl = 1

;----------------------------
[StateDef 661]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 0.1-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = addalpha
alpha = 256-fvar(2),256


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 75475476
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
[StateDef 662]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.2-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = addalpha
alpha = 256-fvar(2),256


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 45757
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;----------------------------
[StateDef 663]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6180
poweradd = -100
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = 6191
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 7
value = 1

[State 0, VarSet]
type = VarSet
triggerall = time = 1
trigger1 = P2Name = "Tenten"
trigger2 = P2Name = "Hinata"
trigger3 = P2Name = "Ino"
trigger4 = P2Name = "Tsunade"
trigger5 = P2Name = "Karin"
trigger6 = P2Name = "Konan"
trigger7 = P2Name = "Sakura"
trigger8 = P2Name = "Chiyo"
trigger9 = P2Name = "Temari"
trigger10 = P2Name = "Mei"
trigger11 = P2Name = "Kaguya"
v = 7    ;fv = 10
value = 0


[State 1201, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = -.5-sin(PI/180*(time*5))/1.5;cond(time%40>19,-.4,.4)

[State 210, 2]
type = AfterImage
trigger1 = time = 0
time = 9999
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = addalpha
alpha = 256-fvar(2),256



[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = 6193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 1201, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 150*var(7)
sparkno = 57547
sparkxy = 0, 0
hitsound = S6, 35
guardsound = S6, 35
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1*var(7)
fall.recover = 1
fall.recovertime = 50
palfx.time = 200*var(7)
palfx.add = 200,0,50
palfx.mul = 256,256,256
palfx.sinadd = 100,0,100,10

[State 220, end]
type = Destroyself
trigger1 = movehit = 1
trigger2 = frontedgedist <=-20
;---------------------------------------------------------------------------
;Ultimate 1: Mangekyou Sharingan
[Statedef 4500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6126
poweradd = 0
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = 0,25

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 15,1
value = S0,51

[State 0, Explod] 
type = Explod
ownpal = 1 
trigger1 = time = 13
anim = 6137 
ID = 6137
bindtime = -1
postype = p1
pos = 0,5
removetime = -1 
removeongethit = 1
supermovetime = 999 
pausemovetime = 999 
scale = 1,0.7 
sprpriority = 1 
ontop = 0 
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod] 
type = Explod
ownpal = 1 
trigger1 = time = 13
anim = 6136 
ID = 6137
postype = p1
pos = 3,-37 
bindtime = -1
removetime = -1
removeongethit = 1
supermovetime = 999 
pausemovetime = 999 
scale = 0.7,0.7 
sprpriority = 3 
ontop = 0 
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256


[State 0, Explod] 
type = ModifyExplod 
trigger1 = 1
ID = 6137
trans = addalpha
alpha = 256-fvar(2),256

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 119
channel = -1

[State 200, 2]
type = PlaySnd
trigger1 = time = 120
value = S0,29

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 120
value = 4501
ctrl = 1

[Statedef 4501]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6127
poweradd = -4000
sprpriority = 2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 30
value = -5
kill = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 1
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 1
time = 60
add = -80,-80,-80

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 0 && time < 240 && time%5 = 0
Time = 450
color = 125
add = -50,-50,-50
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time = 240
Time = 1
color = 125
add = -50,-50,-50
ignorehitpause = 1

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = time = 0
id = 6137

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = s18,16

[State 200, 2]
type = PlaySnd
trigger1 = time = 20
value = s18,16

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = s4304,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = s4304,0

[State 1500]
type = SuperPause
trigger1 = time = 25
time = 85
anim = 9999
darken = 0
unhittable = 0

[State 1500]
type = SuperPause
trigger1 = time = 27
time = 60
movetime = 60
anim = 9999
darken = 0
unhittable = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 90
add = -70,-70,-70

[State 7000, Helper]
type = Helper
trigger1 = time = 25
ID = 3010
pos = 8,-45
postype = p1
stateno = 3010
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
sprpriority = 14
ontop = 1
facing = 1
ownpal = 1
supermovetime = 999

[State 7000, Helper]
type = Helper
trigger1 = time = 25
ID = 3013
pos = 8,-45
postype = p1
stateno = 3013
helpertype = normal
name = "Bunshin 4"
keyctrl = 0
sprpriority = 14
ontop = 1
facing = 1
ownpal = 1
supermovetime = 999

[State 0, Helper]
type = Helper
trigger1 = time = 27 && numhelper(4503) = 0
helpertype = normal
name = "Hole_1"
ID = 4503           
stateno = 4503
pos = 0,-30
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 200, 2]
type = PlaySnd
trigger1 = time = 27
value = s3,4

[State 200, 2]
type = PlaySnd
trigger1 = time = 27
value = s3,4

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 170
anim = 6138
ID = 6138
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 24
removetime = 40
scale = 1,1
trans = addalpha
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 210
anim = 6138
ID = 6138
postype = p1
pos = 0,-3
bindtime = -1
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 24
removetime = 4
scale = 1.2,1.2
trans = addalpha
alpha = 256-fvar(2),256

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 240
value = 4502
ctrl = 1

[Statedef 4502]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6128
poweradd = 0
sprpriority = 2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 30
value = -500

[State 200, 2]
type = PlaySnd
trigger1 = time = 30
value = S0,56

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 130
value = 12
ctrl = 1

;------------------------------------------------------------------
;Hole_1
[Statedef 4503]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = enemynear,pos x
y = enemynear,pos y -30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*time*000.1,0.2*time*000.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 56,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*9

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(4508) = 0
helpertype = normal
name = "Hole_2"
ID = 4508           
stateno = 4508
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.05
size.yscale = 0.05

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 4505
ctrl = 1

[Statedef 4504]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = -2
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 20,5
value = S0,50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 150,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(4507) = 0
helpertype = normal
name = "Hole_3"
ID = 4507            
stateno = 4507
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
size.xscale = 0.05
size.yscale = 0.05

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,time = 21
attr = C,HP
damage = 0,0
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
shadow = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = root,command = "c"
trigger2 = root,stateno != 3001
trigger3 = root,command = "holdb" 
trigger4 = p2life = 100
channel = -1

[State 1530, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 4505

[Statedef 4505]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6132
poweradd = -2
sprpriority = 7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 130
scale = 1-(time-130)*0.1,1-(time-130)*0.1

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 25,1
value = S0,49

[State 200, 2]
type = PlaySnd
trigger1 = timemod = 25,1
value = S0,52

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && time < 130
value = 1+(time-1)*1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 130
value = 1-(time-1)*9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 96,256

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(4507) = 0
helpertype = normal
name = "Hole_4"
ID = 4507           
stateno = 4507
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.05
size.yscale = 0.05

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(4509) < 2
trigger2 = time = 15 && numhelper(4509) < 2
helpertype = normal
name = "Hole_4"
ID = 4509           
stateno = 4509
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.45
size.yscale = 0.45

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(4510) < 2
helpertype = normal
name = "Hole_4"
ID = 4510           
stateno = 4510
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.45
size.yscale = 0.45

[State 0, Helper]
type = Helper
trigger1 = timemod = 40,1 && numhelper(4511) < 2 && time < 120
helpertype = normal
name = "Hole_4"
ID = 4511           
stateno = 4511
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.45
size.yscale = 0.45

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 122
anim = F1180
ID = 6054
trans = sub
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 4
ownpal = 1
ontop = 0
supermovetime = 24
removetime = -2
scale = 0.7,0.7

[State 0, Helper]
type = Helper
trigger1 = time = 137 && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time > 1 && pos y > -55 && numhelper(4506) = 0
helpertype = normal ;player
name = "Ground_effects"
ID = 4506
stateno = 4506
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movecontact
time = time%5 = 0
pos = 0,30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
p2stateno = 100050

[State 0, TargetState]
type = TargetState
trigger1 = time = 130
value = 100051

[State 1530, ChangeState]
type = Destroyself
trigger1 = time = 140

;----------------------------------
;gorund effects
[Statedef 4506]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 364
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = helper(4509),pos x
y = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time < 110 && timemod = 30,1
anim = F581
ID = 581
postype = p1
pos = 0,0
bindtime = -1
sprpriority = -3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removetime = -2
scale = 1,0.6

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 130
anim = F580
ID = 581
postype = p1
pos = 0,0
bindtime = -1
sprpriority = -3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removetime = -2
scale = 1.5,0.6

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 130
anim = F380
ID = 581
postype = p1
pos = -65,0
bindtime = -1
sprpriority = -3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removetime = -2
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 130
anim = F380
ID = 581
postype = p1
pos = 65,0
bindtime = -1
sprpriority = -3
ownpal = 1
facing = -1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removetime = -2
scale = 1,1

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F15,4

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F15,4

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F14,6

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F14,6

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F29,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 130
value = F29,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 140
value = F27,1

[State 200, 2]
type = PlaySnd
trigger1 = time = 140
value = F27,1

[State 200, 2]
type = PlaySnd
trigger1 = time = 140
value = F27,1

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 140

[Statedef 4507]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6133
poweradd = 0
sprpriority = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && time < 130
value = 1+(time-1)*1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 130
value = 1-(time-1)*9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 140

[Statedef 4508]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6133
poweradd = 0
sprpriority = 6

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*time*000.1,0.2*time*000.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*9

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 60

[Statedef 4509]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6139
poweradd = 0
sprpriority = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && time < 130
value = 1+(time-1)*3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 130
value = 1-(time-1)*9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,256

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 140

[Statedef 4510]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6104
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && time < 130
value = 1+(time-1)*3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 130
value = 1-(time-1)*9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 140

[Statedef 4511]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6140
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = parent,movehit
value = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2.3-(time-0.5)*0.05,2.3-(time-0.5)*0.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 1530, ChangeState]
type = DestroySelf 
trigger1 = time = 48

;---------------------------------------------------------------------------
[Statedef 9998]
type    = S
anim = 6151
sprpriority = -10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 0 && numexplod(61651) = 0 && p2name != "P4_Kakashi"
anim = 6165
id = 61651
bindtime = 1
facing = 1
postype = p1
pos = 310+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 1 && numexplod(61652) = 0 && p2name != "P4_Kakashi"
anim = 6165
id = 61652
bindtime = 1
facing = 1
postype = p1
pos = 150+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 2 && numexplod(61653) = 0 && p2name != "P4_Kakashi"
anim = 6165
id = 61653
bindtime = 1
facing = 1
postype = p1
pos = -250+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 3 && numexplod(61654) = 0 && p2name != "P4_Kakashi"
anim = 6165
id = 61654
bindtime = 1
facing = 1
postype = p1
pos = -360+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 1 && numexplod(61655) = 0
anim = 6165
id = 61655
bindtime = 1
facing = 1
postype = p1
pos = 50+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 2 && numexplod(61656) = 0
anim = 6165
id = 61656
bindtime = 1
facing = 1
postype = p1
pos = -150+random%100-60,0
scale = 0.5,0.2
removetime = -1
sprpriority = -10
ownpal = 1
ontop = 0

[State 1531, 3]
type = Destroyself
trigger1 = time = 999999999

;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
triggerall = !ishelper(20000)
triggerall = !ishelper(30000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
trigger2 = ishelper(20000)
trigger3 = ishelper(30000)
value = 104000
;---------------
;Impact Control (waiting)
[Statedef 106025]
type = S
movetype= A
physics = N
velset = 0,0
anim = 106025

;pozycjonowanie (dopasowa dla kadej postaci)
[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 38+parent,var(6)/30,200
ignorehitpause = 1

;uoglnienie warunkw kontroli
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 1   
value = parent, stateno

;moc 
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 6  
value = 100

;time
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 7  
value = 900

;wykrycie zderzenia
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

;przerwanie ciosu
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;---------------
;Impact Control (hit)
[Statedef 106026]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time =0
v = 6
value = -5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (trafienie)
[Statedef 106027]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 6
value = 5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (active) 
[Statedef 106028]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 38+parent,var(6)/30,250
ignorehitpause = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106026)=0
anim = 106026
ID = 106026
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.301,0.4
sprpriority = 49
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106027)=0
anim = 106027
ID = 106027
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,0.5
sprpriority = 48
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106027
scale=1.16-0.58*(100-var(6))/50,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106028)=0
anim = 106028
ID = 106028
pos = -190*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.5,0.32
sprpriority = 52
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106028
postype = front
facing = facing
vfacing = 1
pos= (-190-116*(100-var(6))/100)*facing,204

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106029)=0
anim = 106029
ID = 106029
pos = -315*facing,204
postype = front
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106030)=0
anim = 106030
ID = 106030
pos = -315*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,command = "x" || parent,command = "z"
trigger1 = parent,var(50) = 0
trigger2 = parent,var(50) = 1
trigger2 = random = [0,40+parent,var(49)*parent,var(49)/10]
;trigger1 = parent,Ailevel = 0
;trigger2 = parent,Ailevel != 0
;trigger2 = time%(14-parent,Ailevel)=(13-parent,Ailevel) || parent,Ailevel <=4
;trigger2 = time%10=9 || parent,Ailevel >4
triggerall = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106026
p1stateno = 106027

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 10
trigger1 = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106026

;przerwanie
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;lose
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 11
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
trigger2 = var(6) < 100
value = 106029

;win
[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 11
trigger1 = var(6) >= 10
trigger2 = var(7) <= 0 
trigger2 = var(6) >= 100
value = 106030

;---------------
;Impact Control (lose) 
[Statedef 106029]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 38+parent,var(6)/30,250
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (win) 
[Statedef 106030]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 38+parent,var(6)/30,250
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (help state)
[Statedef 106031]
type = S
movetype= A
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 310
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 310
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Smoke"
ID = 70740
stateno = 70740
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 310
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1


[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Explode note
[Statedef 70653]
type     = C
movetype = I
physics  = C
juggle   = 5
poweradd = 0
ctrl  = 0
velset = 0,0
anim = 320
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "note"
ID = 325
stateno = 70770
pos = 20,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 700]
type = ChangeState
trigger1 = time = 20
value = 11
ctrl = 1
;--------------
;Stan postaci
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 330
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 330
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 22 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Smoke"
ID = 70741
stateno = 70741
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 330
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Explode note
[Statedef 70658]
type = A
movetype = I
physics = A
juggle = 0
poweradd = 0
anim = 330
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21 
value = 1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S310,0

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal;player
name = "note"
ID = 325
stateno = 70770
pos = 20,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------- Integer variable list ----------------------

; var(0):= 20000, 30000
; var(1):= 1000, 1001, 1004, 1005, 106025, -3, 912, 913
; var(3):= 918, 930, 940, 965, 881, 885, 30930, 30940
; var(4):= 1951, -2, 951, 60001, 77000, 78000, 77001, 78001, 30930, 30940, 30951
; var(5):= 1952, 952, 777, 30952
; var(6):= 1930, 1950, 1952, 540, 106025, 106026, 106027, -2, 950, 952, 17010, 30950, 30952
; var(7):= 661, 662, 663, 106025, 106026, 106027, 106028, 859
; var(8):= 706, 2019, 838, 859
; var(9):= -2, 8889
;var(10):= 706, 717, 838, 859, 77000, 78000, 77003
;var(11):= 100050
;var(12):= 433, -2, 846, 8061
;var(13):= 795, -2
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(16):= -2, 8004, 8013, 8019, 8022, 8015, 8020, 8027, 8035, 8055, 8061, 8803, 8804, 8807, 8811, 8812, 8813, 8816
;var(17):= -2
;var(18):= 667, 70500
;var(19):= -2
;var(20):= 70650, 70655, 5900, 907, 8070, 270650, 270655, 370650, 370655, 104097, 104098
;var(21):= 70652, 70653, 70657, 70658, 5900
;var(22):= 70651, 70656, 5900
;var(23):= 325, 5900
;var(30):= -2, 5900, 106000
;var(35):= 5900, 106025, 106026, 106027, 106028
;var(36):= -2, 100051
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -3, -1
;var(49):= -3, -1
;var(50):= -2, -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 100053, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(2):= 706, 707, 708, 714, 717, 718, 747, 753, 796, 325, 326, 481, 1805, 1950, 1951, 1952, 522, 543, 434, 435, 436, 437, 438, 439, 442, 1194, 1201, 1207, 1208, 1202, 1203, 1204, 1205, 1206, 1213, 1216, 1217, 1219, 1220, 1231, 1232, 1233, 1234, 1235, 1236, 1237, 1238, 1240, 1241, 1242, 1243, 1244, 1251, 1252, 1253, 3003, 3004, 3005, 3006, 3007, 3008, 3009, 3020, 3021, 661, 662, 663, -2, -3, 5900, 908, 910, 909, 916, 917, 921, 923, 924, 2017, 2018, 2019, 2020, 2021, 2023, 2022, 361, 838, 839, 840, 371, 372, 373, 859, 860, 861, 391, 394, 392, 393, 846, 847, 864, 866, 947, 950, 951, 952, 777, 778, 60001, 8071, 4413, 401, 406, 411, 667, 669, 881, 885, 4010, 4011, 4012, 70502, 70700, 70701, 70705, 70706, 70710, 70712, 70714, 70715, 70716, 70720, 70730, 70731, 70735, 70736, 70740, 70741, 70745, 74444, 70750, 70755, 70756, 70770, 70771, 20000, 30000, 32223, 30950, 30951, 30952
; fvar(4):= 60001, 77000
; fvar(5):= 4401, 4402
;fvar(10):= 1930, 1280, 930, 940, 77000, 78000, 70770
;fvar(11):= 3020, 3021, 77000, 78000, 70770
;fvar(12):= 77003
;fvar(13):= 541, 60
;fvar(14):= 541, 60
;fvar(15):= 541, 60
;fvar(16):= 541
;fvar(18):= 3000, 8001, 8002
;fvar(24):= 325
;fvar(25):= 325



[statedef -2]


;Rasengan Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 1930
trigger1 = stateno != 940
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 1930
trigger1 = stateno != 940
id = 931

;Klony

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(20000)
trigger1 = stateno = 0
value = 20000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(20000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(20000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 50
triggerall = ishelper(20000)
triggerall = stateno != 22223
triggerall = helper(20000), stateno != 22223
value = 22223
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(30000)
trigger1 = stateno = 0
value = 30000

[State 0, VarSet]
type = VarSet
trigger1 = ishelper(30000)
v = 50
value = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = ishelper(30000)
v = 4
value = gethitvar(damage)

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = root,life = 0
trigger4 = p2life = 0
trigger5 = !root,alive 
trigger6 = var(4) >= 250
triggerall = ishelper(30000)
triggerall = stateno != 32223
triggerall = helper(30000), stateno != 32223
value = 32223
ctrl = 1

;-------------------


[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S2,19+random%44
volume = 256
channel = 2

;--------BLOKADY-------------------------------

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
triggerall = !ishelper(20000)
triggerall = !ishelper(30000)

;--------------------------------
;odstep pomiedzy kamui
[State 0, VarAdd]
type = VarAdd
trigger1 = stateno != 795
trigger1 = var(13) > 60
v = 13   
value = -1

[State 0, VarAdd]
type = VarSet
trigger1 = stateno != 795
trigger1 = var(13) < 61
v = 13   
value = 0

;--------------------------------

[State 0, TARCZA SUIJINHEKI]
type = NotHitBy
trigger1 = helper(667), stateno = 667 && helper(541), time > 15
triggerall = var(18) = 1
triggerall = numhelper(668) = 1
triggerall = !ishelper
triggerall = stateno != [100000,199999]
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 3

[State 0, Explod]
type = RemoveExplod
trigger1 = stateno != [9335,9337]
trigger2 = stateno != [6015,6017]
triggerall = time = 0
ID = 675

[State 255,44]
type = AfterImage
triggerall = 0;var(1) = 1 
trigger1 = time = 0
trigger2 = ABS(vel x)+ABS(vel y) < 3 && timemod = 20,0
trigger3 = ABS(vel x)+ABS(vel y) = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 86,86,86
palmul = .55,.55,.55
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State -2]
type = ChangeState
trigger1 = var(6) >= 200
triggerall = ishelper(1701) && stateno != 17009
triggerall = parent,stateno != 1699
trigger1 = parent,power <= 5
trigger2 = parent,command = "z" && helper(1701),stateno != 101
trigger2 = parent,command = "z" && helper(1701),stateno = 0
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 17009
ctrl = 0

[State -2]
type = Turn
triggerall = ishelper(1701)
triggerall = helper(1701),stateno != 30200
trigger1 = p2bodydist X < -30

[State -2]
type = ChangeState
trigger1 = var(9) >= 700
triggerall = ishelper(8802) && stateno != 8888
triggerall = parent,stateno != 8801
trigger1 = parent,power <= 50
trigger2 = parent,command = "z" && helper(8802),stateno = 0
trigger2 = parent,command = "z" && helper(8802),stateno != 101 
trigger2 = parent,command = "z" && helper(8802),stateno != 8805
trigger2 = parent,command = "z" && helper(8802),stateno != 8806 
trigger2 = parent,command = "z" && helper(8802),stateno != 8807 
trigger2 = parent,command = "z" && helper(8802),stateno != 8808 
trigger2 = parent,command = "z" && helper(8802),stateno != 8809 
trigger2 = parent,command = "z" && helper(8802),stateno != 8810 
trigger2 = parent,command = "z" && helper(8802),stateno != 8811 
trigger2 = parent,command = "z" && helper(8802),stateno != 8812
trigger2 = parent,command = "z" && helper(8802),stateno != 8813
trigger2 = parent,command = "z" && helper(8802),stateno != 8814
trigger2 = parent,command = "z" && helper(8802),stateno != 8815
trigger2 = parent,command = "z" && helper(8802),stateno != 8816
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
trigger8 = parent,var(1) = !1
value = 8888
ctrl = 0

[State -2]
type = Turn
triggerall = ishelper(8802)
triggerall = helper(8802),stateno != 8805
triggerall = helper(8802),stateno != 8806
triggerall = helper(8802),stateno != 8807
triggerall = helper(8802),stateno != 8808
triggerall = helper(8802),stateno != 8809
triggerall = helper(8802),stateno != 8810
triggerall = helper(8802),stateno != 8811
triggerall = helper(8802),stateno != 8812
triggerall = helper(8802),stateno != 8813
triggerall = helper(8802),stateno != 8814
triggerall = helper(8802),stateno != 8815
triggerall = helper(8802),stateno != 8816
trigger1 = p2bodydist X < -30

[State -2]
type = VarAdd
trigger1 = var(12) != 0
v = 12
value = -1

[State -2]
type = VarAdd
trigger1 = var(16) != 0
v = 16
value = -1

[State -2]
type = VarAdd
trigger1 = var(17) != 0
v = 17
value = -1

[State -2]
type = VarAdd
trigger1 = var(19) != 0
v = 19
value = -1

[state -2]
type = VarSet
trigger1 = time = 0
v = 6
value = var(6) + GetHitVar(damage)

[state -2]
type = VarSet
trigger1 = time = 0
v = 9
value = var(9) + GetHitVar(damage)

[State -2]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

;Kirigakure no Jutsu-------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
trigger1 = !win
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
triggerall = fvar(2) > 0
trigger2 = win
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 0;fvar(2) >220
trigger1 = stateno !=697
value = 0
movecamera = 0,0


[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [836,837]
trigger1 = command = "c"
trigger2 = stateno = 836 && time = 5 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [836,837]
id = 1608

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 858 || stateno = 8581
trigger1 = stateno = 858 && time = 5
trigger2 = command = "c" 
triggerall = numexplod(16082) = 0
anim = F1608
ID = 16082
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8581 && stateno != 858
id = 16082

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 390
trigger1 = command = "c" 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = 35
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------


[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
triggerall = numhelper(698) = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)
anim = F1600
ID = 1600
pos = cond(pos y = 0,6,5),cond(pos y = 0,-28,-32)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
triggerall = numhelper(698) = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)
anim = F1601
ID = 1601
pos = cond(pos y = 0,6,5),cond(pos y = 0,-48,-52)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
triggerall = numhelper(698) = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)
anim = F1602
ID = 1602
pos = cond(pos y = 0,16,15),cond(pos y = 0,-38,-42)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
triggerall = numhelper(698) = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)
anim = F1603
ID = 1603
pos = cond(pos y = 0,-4,-5),cond(pos y = 0,-38,-42)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
triggerall = numhelper(698) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,6,5),cond(pos y = 0,-28,-32)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
triggerall = numhelper(698) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,6,5),cond(pos y = 0,-48,-52)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
triggerall = numhelper(698) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,16,15),cond(pos y = 0,-38,-42)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
triggerall = numhelper(698) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-4,-5),cond(pos y = 0,-38,-42)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = fvar(2) <= 100
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
triggerall = fvar(2) <= 100
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
triggerall = fvar(2) <= 100
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
triggerall = fvar(2) <= 100
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
triggerall = fvar(2) <= 100
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
triggerall = fvar(2) <= 100
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
triggerall = fvar(2) <= 100
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
triggerall = fvar(2) <= 100
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
triggerall = fvar(2) <= 100
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
triggerall = fvar(2) <= 100
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
triggerall = fvar(2) <= 100
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
triggerall = fvar(2) <= 100
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

;------------------------------------------------------------------
[Statedef -3]

;BUNSHIN

[State -1, BUNSHIN AI]
type = VarSet
trigger1 = ishelper(20000) || ishelper(30000)
v = 49
value = ((Root,Life/100)+(Root,Power/100)+30+MatchNo)/5

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [20700,20799]
trigger1 = movecontact
triggerall = ishelper(20000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [20700,20799]
triggerall = var(48) > 0
triggerall = ishelper(20000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [20700,20799]
trigger2 = prevstateno = [20700,20799]
triggerall = ishelper(20000)
v = 48   
value = 500

[State -1, Exhaust +]
type = VarAdd
trigger1 = 1
triggerall = stateno = [30700,30799]
trigger1 = movecontact
triggerall = ishelper(30000)
v = 48
value = 20

[State -1, Exhaust -]
type = VarAdd
trigger1 = 1
triggerall = stateno != [30700,30799]
triggerall = var(48) > 0
triggerall = ishelper(30000)
v = 48
value = -5-var(48)/100

[State -1, Exhaust]
type = VarSet
triggerall = var(48) > 500
trigger1 = stateno = [30700,30799]
trigger2 = prevstateno = [30700,30799]
triggerall = ishelper(30000)
v = 48   
value = 500


[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))
triggerall = ishelper(20000)

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
triggerall = ishelper(20000)
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
triggerall = ishelper(20000)
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
triggerall = ishelper(20000)
trans = addalpha 
alpha = 256-fvar(2),256


[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))
triggerall = ishelper(30000)

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
triggerall = ishelper(30000)
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
triggerall = ishelper(30000)
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
triggerall = ishelper(30000)
trans = addalpha 
alpha = 256-fvar(2),256

;---------------------

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = prevstateno != 191+var(0)*10000 
triggerall = prevstateno != 192+var(0)*10000 
triggerall = prevstateno != 193+var(0)*10000 
triggerall = prevstateno != 194+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 6

[State -3]
type = AttackMulSet
triggerall = var(1) > 0
trigger1 = Anim != 1500
trigger2 = Anim != 1301
value = 1.2

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, Sharingan]
type = AfterImage
triggerall = var(1) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 190,30,30
palpostbright = 0,0,0
paladd = 8,2,2
palmul = .75,.15,.15
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

;Sharingan
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 1
trigger1 = timemod = 5,0
triggerall = stateno != [1000,1009]
triggerall = stateno != 70850
triggerall = stateno != [10000,199999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -2

[State -3, VarSet - usunicie sharingana i MS]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
v = 1
value = 0

