

;-------------------------------------------------------------------------------------
;=====================================================================================
;--------------------------------------[ DOTON ]--------------------------------------
;=====================================================================================
;-------------------------------------------------------------------------------------

;Doton No Jutsu
[statedef 2010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6113
poweradd = -200
sprpriority = 2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 1
time = 1
length = 1
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State -2, Button X]
type = Explod
triggerall = var(50) = 0
trigger1 = time = 0
triggerall = numexplod(1610) = 0
anim = F1610
ID = 1610
pos = -16,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = 120
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State -2, Button A]
type = Explod
triggerall = var(50) = 0
trigger1 = time = 0
triggerall = numexplod(1604) = 0
anim = F1604
ID = 1604
pos = 16,cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = 120
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[state 340, 2]
type = posadd
trigger1 = command = "a"
trigger2 = power < 20
trigger3 = life = 0
trigger4 = DrawGame = 1
trigger5 = WinTime = 1
trigger6 = LoseTime = 1
trigger7 = p2life = 0
x = p2dist x - 10

[state 340 ,5]
type = changestate
trigger1 = var(50) = 0 && command = "a"
trigger1 = time > 10
trigger2 = var(50) = 1 && enemy, pos y > -80 && random = [0,50+var(49)*var(49)/10]
trigger2 = time > 20-var(49)
triggerall = power >= 50
value = 2011
ctrl = 1

[state 340 ,5]
type = changestate
trigger1 = var(50) = 0 &&  command = "x"
trigger1 = time > 10
trigger2 = var(50) = 1 && enemy, pos y = 0 && random = [500,520+var(49)*var(49)/20]
trigger2 = time > 20-var(49)
triggerall = power >= 100
value = 2012
ctrl = 1

[state 340 ,5]
type = changestate
trigger1 = time = 120
trigger2 = power < 20
trigger3 = life = 0
trigger4 = DrawGame = 1
trigger5 = WinTime = 1
trigger6 = LoseTime = 1
trigger7 = p2life = 0
value = 2024
ctrl = 1

[statedef 2011]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6114
poweradd = -250
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(55) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109951

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1604

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1606

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1610

[State -2, Button A]
type = Explod
triggerall = var(50) = 0
triggerall = prevstateno = 2010
trigger1 = time = 0
triggerall = numexplod(1605) = 0
anim = F1605
ID = 1605
pos = cond(pos y = 0,-6,2),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = cond(numhelper(698) = 1,addalpha,none) 
alpha = 256-fvar(2),fvar(2)

[State -2, Button B]
type = Explod
triggerall = var(50) = 0
triggerall = prevstateno = 1200
trigger1 = time = 2
triggerall = numexplod(1607) = 0
anim = F1607
ID = 1607
pos = cond(pos y = 0,-6,2),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = cond(numhelper(698) = 1,addalpha,none) 
alpha = 256-fvar(2),fvar(2)


[State 0, Prawa]
type = Explod
trigger1 = time = 0 && prevstateno = 1200
anim = F696
ownpal = 1
ID = 900
pos = 10+random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Srodek]
type = Explod
trigger1 = time = 0 && prevstateno = 1200
anim = F696
ownpal = 1
ID = 900
pos = -5+random%10,-20-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1,1
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Lewa]
type = Explod
trigger1 = time = 0 && prevstateno = 1200
anim = F696
ownpal = 1
ID = 900
pos = -10-random%10,-30-random%20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 0.6,0.6
sprpriority = 5
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && prevstateno = 1200
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && prevstateno = 1200
value = F9,2


[State 0, Helper]
type = Helper
triggerall = prevstateno = 1200
trigger1 = movecontact && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
pausemovetime = 9999
persistent = 0

[state 340, 2]
type = posadd
trigger1 = time = 1
x = p2dist x - 10

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 24
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,10+random%5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F540
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = -2
scale = 1.5,1.5
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 10 && time%2
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57
trans = addalpha 
alpha = 256-fvar(2),256

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time 
attr = S, NA
damage = 250,100
animtype = Light              
guardflag = MA                 
hitflag = MAF                  
priority = 1, Hit                
pausetime = 0, 2                 
sparkxy = -10, -40               
hitsound = S310,1             
guardsound = 6, 0             
ground.type = High            
ground.slidetime = 5        
ground.hittime  = 10         
ground.velocity = -2,-14          
airguard.velocity = -2,-14
air.type = High                 
air.velocity = -2,-14     
air.hittime = 12 
fall = 1

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 1212
ctrl = 1

[statedef 2012]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6115
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(55) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = 0;movehit
value = 109951

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1604

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1610

[State -2, Button X]
type = Explod
triggerall = var(50) = 0
trigger1 = time = 0
triggerall = numexplod(1611) = 0
anim = F1611
ID = 1611
pos = cond(pos y = 0,-6,2),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999
trans = cond(numhelper(698) = 1,addalpha,none) 
alpha = 256-fvar(2),fvar(2)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, PosSet]
type = Posset
trigger1 = time = 0
x = enemynear, pos x
y = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 110
anim = 16685686185
ignorehitpause = 1
unhittable = 0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,46

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1414,0

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time 
attr = C,HP
damage = 100,50
animtype = Light              
guardflag = MA                 
hitflag = MAF                  
priority = 1, Hit                
pausetime = 0, 2                 
sparkxy = -15, -5              
hitsound = S310,1             
guardsound = 6, 0             
ground.type = High            
ground.slidetime = 5        
ground.hittime  = 10         
ground.velocity = -2,-8          
airguard.velocity = -2,-8
air.type = High                 
air.velocity = -2,-8     
air.hittime = 12 
p2stateno = 100052

[state 340 ,5]
type = changestate
trigger1 = time = 30
value = 2013
ctrl = 1

[statedef 2013]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6114
poweradd = -250
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = 1

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 24
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 10 && time%2
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57
trans = addalpha 
alpha = 256-fvar(2),256

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 1212
ctrl = 1

;------------------------------------------------------------------------
;Doton Doryuu Heki
[statedef 2016]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6118
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S0,47

[State 0, Helper]
type = Helper
trigger1 = animelem = 13
helpertype = player
name = "Doryuu Heki"
ID = 2017            
stateno = 2017
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 340 ,5]
type = changestate
trigger1 = time = 100
value = 12
ctrl = 1

[Statedef 2017]
type = S
movetype = I
physics = S
anim = 6119
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = -500

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PosSet]
type = Posset
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20 && time%2
anim = F591
ID = 591
pos = -90+random%180,0-random%40
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 1.5,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = -90,5
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = 90,5
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),256

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 2018
ctrl = 1

[Statedef 2018]
type = S
movetype = A
physics = S
anim = 6120
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(55) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109952

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, Helper]
type = Helper
trigger1 = numhelper(20201) = 0
helpertype = normal
name = "Doryuu Heki"
ID = 20201           
stateno = 20201 
pos = -80,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = numhelper(20202) = 0
helpertype = normal
name = "Doryuu Heki"
ID = 20202          
stateno = 20202 
pos = 80,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = numhelper(20203) = 0
helpertype = normal
name = "Doryuu Heki"
ID = 20203          
stateno = 20203 
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 0, PosSet]
type = Posset
trigger1 = 1
y = 0

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 2,0
attr = S, NA
damage = 0,0 
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 7567357
sparkxy = -15, -436464
hitsound = 35, 456436
guardsound = 6, 456436
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -3

[State 30000, 4]
type = HitOverride
trigger1 = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 2019
time = 100000000000

[state 340 ,5]
type = changestate
trigger1 = time = 50
value = 2018
ctrl = 1

[state 340 ,5]
type = changestate
trigger1 = root,stateno = 8010 || root,stateno = 8011 || root,stateno = 8012 || root,stateno = 8052
trigger2 = root,stateno = 338 || root,stateno = 339 || root,stateno = 340
trigger3 = helper(4010),pos x = [-140,140] 
trigger4 = helper(401),pos x = [-80,80]
trigger5 = numhelper(6015) > 0 || numhelper(382) > 0 && root,time = 60 
trigger6 = enemy,numhelper(8021) = 1 && enemy,time > 100
value = 2020
ctrl = 1

[Statedef 2019]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6120
poweradd = 0
sprpriority = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[state 0]
type = VarSet
trigger1 = time = 0
v = 8
value = var(8) + GetHitVar(damage)

[state 340 ,5]
type = changestate
trigger1 = var(8) >= 200
trigger1 = time = 5
value = 2020

[state 340 ,5]
type = changestate
trigger1 = var(8) < 200
trigger1 = time = 5
value = 2018

[Statedef 2020]
type = S
movetype = I
physics = S
anim = 6121
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1414,0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Destroy"
ID = 2021            
stateno = 2021
pos = 0,-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Destroy"
ID = 2023           
stateno = 2023
pos = 0,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 15
anim = F591
ID = 591
pos = -90+random%180,0-random%40
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 1.5,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = -90,5
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = 90,5
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),256

[State 210, 5]
type = destroyself
trigger1 = time = 15

[Statedef 2021]
type = S
movetype = I
physics = S
anim = 6123
velset = 0,4.5
ctrl = 0
sprpriority = -2
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 340 ,5]
type = changestate
trigger1 = pos y > -1
value = 2022
ctrl = 1

[Statedef 2023]
type = S
movetype = I
physics = S
anim = 6122
velset = 0,4.5
ctrl = 0
sprpriority = -2
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 210, 5]
type = destroyself
trigger1 = pos y > -1

[Statedef 2022]
type = S
movetype = I
physics = S
anim = 6124
velset = 0,0
ctrl = 0
sprpriority = -2
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2)/4,fvar(2)/4

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6125
bindtime = 1
postype = p1
facing = 1
pos = -60, 12
scale = 0.7,0.7
sprpriority = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2)/4,256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6125
bindtime = 1
postype = p1
facing = -1
pos = 60, 12
scale = 0.7,0.7
sprpriority = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F530
bindtime = 1
postype = p1
facing = 1
pos = -60, 3
scale = 1.4,1.4
sprpriority = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F530
bindtime = 1
postype = p1
facing = -1
pos = 60, 3
scale = 1.4,1.4
sprpriority = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2)/4,256

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 210, 5]
type = destroyself
trigger1 = time = 6

;-------------------------------------------------------
;Doton no jutsu - wyjœcie z ziemii
[statedef 2024]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 105
poweradd = 20
sprpriority = 2

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 24
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 10 && time%2
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1190
ID = 6074
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
ownpal = 1
ontop = 0
pausemovetime = 9999
removetime = 57
trans = addalpha 
alpha = 256-fvar(2),256

[state 340 ,5]
type = changestate
trigger1 = animtime = 0
value = 105
ctrl = 1

[Statedef 20201]
type = S
movetype = A
physics = S
anim = 61201
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 80,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99

[state 340 ,5]
type = destroyself
trigger1 = root, numhelper(2017) = 0

[Statedef 20202]
type = S
movetype = A
physics = S
anim = 61201
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = -80,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99

[state 340 ,5]
type = destroyself
trigger1 = root, numhelper(2017) = 0

[Statedef 20203]
type = S
movetype = A
physics = S
anim = 61203
velset = 0,0
ctrl = 0
sprpriority = -3
poweradd = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99

[state 340 ,5]
type = destroyself
trigger1 = root, numhelper(2017) = 0




;-------------------------------------------------------------------------------------
;=====================================================================================
;--------------------------------------[ FUUTON ]-------------------------------------
;=====================================================================================
;-------------------------------------------------------------------------------------



;Fuuton Bakuhatsu
[StateDef 2000]
type = S
movetype = A
physics = S
juggle = 0
anim = 6105
poweradd = 0
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "Bakuhatsu"
ID = 2001             
stateno = 2001
pos = 50,45
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 360, end]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1

[Statedef 2001]
type = S
movetype = A
physics = S
anim = 6106
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = -100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,41

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 6013
bindtime = 1
facing = 1
pos = 15, -30
scale = 0.8,0.8
sprpriority = 3
ownpal = 1
ontop = 0

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 120
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 156516165
sparkxy = -25, -10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = -4
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.hittime = -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 210, 5]
type = destroyself
trigger1 = time = 18

;-----------------------------------------------------------------
;Fuuton Uzu
[StateDef 2002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6103
poweradd = 20
sprpriority = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = command = "holdx"
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S, NA
damage = 7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 3
sparkno = 325354
sparkxy = -10, -30
hitsound = s0,43
guardsound = 6, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = 3
ground.velocity = -0,-2
airguard.velocity = -1.9,-2
air.type = light
air.velocity = -0,-2
air.hittime = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = command = "holdx"
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 5

[State 0, VelSet]
type = VelSet
triggerall = command = "holdx"
trigger1 = command = "holdfwd"
x = 2

[State 0, VelSet]
type = VelSet
triggerall = command = "holdx"
trigger1 = command = "holdback"
x = -2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = command = "holdx"
value = -6

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = s290,0

[State 200, 1]
type = PlaySnd
trigger1 = command = "holdx" && timemod = 6,3
value = 0,34

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdx"
trigger1 = time = 1
anim = 6184
ID = 6104
postype = p1
pos = 0,20
bindtime = -2
facing = 1
sprpriority = 2
ownpal = 1
ontop = 0
scale = 0.5,0.5
removetime = -1
supermovetime = 84

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdx"
trigger1 = time = 1
anim = 6092
ID = 6104
postype = p1
pos = 0,-20
bindtime = -2
facing = 1
sprpriority = 2
ownpal = 1
ontop = 0
scale = 1,1
removetime = -1
supermovetime = 84

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = power < 20
id = 6104

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdx"
trigger1 = time = 1
anim = 978
ID = 978
postype = p1
pos = 0,8
bindtime = -2
facing = 1
sprpriority = 2
ownpal = 1
ontop = 0
scale = 0.5,0.3
removetime = -1
supermovetime = 84

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = power < 20
id = 978

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdx"
trigger1 = time = 15
anim = 6004
ID = 6004
postype = p1
pos = 0,8
bindtime = -2
facing = 1
sprpriority = 2
ownpal = 1
ontop = 0
scale = 0.5,0.5
removetime = -1
supermovetime = 84

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdx"
trigger1 = time = 15
anim = 6004
ID = 6004
postype = p1
pos = 0,8
bindtime = -2
facing = -1
sprpriority = 2
ownpal = 1
ontop = 0
scale = 0.5,0.5
removetime = -1
supermovetime = 84

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = power < 20
id = 6004

[State 200, end]
type = ChangeState
trigger1 = command != "holdx"
trigger2 = power < 20
value = 0
ctrl = 1

;--------------------------------------------------------------------
;Fuuton Daitoppa
[StateDef 2003]
type = S
movetype = A
physics = S
juggle = 0
anim = 6107
poweradd = 0
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
trigger2 = Animelem = 7
trigger3 = Animelem = 10
value = 0,25

[State 200, 1]
type = PlaySnd
trigger1 = time = 27
value = s0,45

[State 200, 1]
type = PlaySnd
trigger1 = time = 27
value = s0,45

[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Kaze"
ID = 2004           
stateno = 2004
pos = 220,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.3
size.yscale = 1.3

[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Kaze"
ID = 2005           
stateno = 2005
pos = 170,25
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = helper(2004),movehit
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 90

[State 360, end]
type = ChangeState
trigger1 = time = 90
value = 0
ctrl = 1

[Statedef 2004]
type = S
movetype = A
physics = S
anim = 6108
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = -1500

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 10
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 25
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 10
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 25
value = s0,34

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
attr = S, NA
damage = 70
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = 156516165
sparkxy = -25, -10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = -20
ground.velocity = -20,-2
airguard.velocity = -20,-2
air.type = High
air.hittime = -20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 210, 5]
type = destroyself
trigger1 = time = 54

[StateDef 2005]
type = S
movetype= A
physics = S
juggle  = 1
velset =0,0
ctrl = 0
anim = 6109
poweradd = -1500
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
attr = S, NA
damage = 60
animtype = Light
affectteam = B
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S21320
sparkxy = -10, -76
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
fall = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 54
freq = 240
ampl = -5
phase = 240

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6154
ID = 6154
pos = -35,10
postype = p1  ;p2,front,back,left,right
sprpriority = 1
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 54
scale = 1,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6154
ID = 6154
pos = 160,10
postype = p1  ;p2,front,back,left,right
sprpriority = 1
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 54
scale = 1,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6154
ID = 6154
pos = 320,10
postype = p1  ;p2,front,back,left,right
sprpriority = 1
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 54
scale = 1,0.7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =

;--------------------------------------------------------------------
;Fuuton Tatsumaki
[StateDef 2006]
type = S
movetype = A
physics = S
juggle = 0
anim = 6110
poweradd = -1500
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = 0,25

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "Tatsumaki"
ID = 2007          
stateno = 2007
pos = 0,20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 360, end]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

[Statedef 2007]
type = S
movetype = A
physics = S
anim = 6111
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 75
freq = 200
ampl = -4
phase = 190

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 20

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 10
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 25
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 10
value = s0,34

[State 200, 1]
type = PlaySnd
trigger1 = time = 25
value = s0,34

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
trigger24 = animelem = 24
trigger25 = animelem = 25
trigger26 = animelem = 26
trigger27 = animelem = 27
trigger28 = animelem = 28
trigger29 = animelem = 29
trigger30 = animelem = 30
trigger31 = animelem = 31
trigger32 = animelem = 32
trigger33 = animelem = 33
trigger34 = animelem = 34
attr = S, NA
damage = 35
animtype = Light
affectteam = B
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 156516165
sparkxy = -25, -10
hitsound = S0,43
guardsound = 6, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = 0
ground.velocity = -1,-5
groundguard.velocity = -1,-5
air.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.hittime = 0
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6012
ID = 6012
pos = -40,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6012
ID = 6012
pos = 40,-10
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 32
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 1

[State 210, 5]
type = destroyself
trigger1 = time = 68

;------------------------------------------------------------------
;Fuuton Bakuhatsu
[StateDef 2008]
type = A
movetype = A
physics = S
juggle = 0
anim = 6051
poweradd = -100
ctrl = 0
velset = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Bakuhatsu"
ID = 2009            
stateno = 2009
pos = 120,-13
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 360, end]
type = ChangeState
trigger1 = time = 15
value = 50
ctrl = 1

[Statedef 2009]
type = S
movetype = A
physics = S
anim = 6112
velset = 0,0
ctrl = 0
sprpriority = 2
poweradd = -100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,41

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 120
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 156516165
sparkxy = -25, -10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 2
ground.hittime  = -8
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.hittime = -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 210, 5]
type = destroyself
trigger1 = time = 18




;-------------------------------------------------------------------------------------
;=====================================================================================
;--------------------------------------[ KATON ]--------------------------------------
;=====================================================================================
;-------------------------------------------------------------------------------------



;Katon goukakyuu no jutsu
[StateDef 360]
type = S
movetype = A
physics = S
juggle = 0
anim = 360
poweradd = 0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S350,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S350,1

[State 0, Explod]
type = Explod
trigger1 = time = 40
triggerall = numhelper(698) = 0
anim = F810
id = 80006
pos = 7,-40
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = animelem = 14
helpertype = normal
name = "Goukakyuu"
ID = 361              
stateno = 361
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;-----------------
[StateDef 361]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 362
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,4

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 20,0
postype = p1
bindtime = 130
removetime = 130
scale = 1.8,1.8
sprpriority = 4
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1480
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Skaly]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1490) < 8 && time < 100
anim = F1490
ID = 1490
pos = 10,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 1.5,1.2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1462) < 10 && time < 100
anim = F1462
ID = 1462
pos = 20,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 3.5,2.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Wybuch ziemia]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(1200) < 2 && time < 100
anim = F1200
ID = 1200
pos = 20,-pos y-20
postype = p1
bindtime = 10
vfacing = -1
removetime = 60
scale = 1.5,1.5
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 1 && time < 100
anim = F271
ID = 271
pos = 30,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 1 && time < 100
anim = F271
ID = 272
pos = 0,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -25,-5
scale = 1.3,2
vel = -3,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1340
id = 1340
pos = 25,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1331
id = 1331
pos = 25,0
scale = 2,2
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 115
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 120
time = 1
pos = 30,30

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time <= 120
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 125
hitonce = 1
attr = S, NA
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-10
airguard.velocity = -5,-10
air.type = High
air.velocity = -5,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 130

;Goukakyuu
[Statedef 3612]
type = S
movetype = A
physics = S
anim = 361
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 4201]
type = VelSet
trigger1 = time > 1 && time < 75
x = 6-time/30

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 40,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 362
ID = 362
postype = p1
pos = -40,-25
scale = 0.4,0.6
bindtime = -1
sprpriority = 0
ownpal = 1
removetime = 16

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 338
ID = 338
postype = p1
pos = 5,5
bindtime = -1
sprpriority = 2
ownpal = 1
removetime = 75

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1090
ID = 338
postype = p1
pos = 32,8
bindtime = -1
sprpriority = 3
ownpal = 1
scale = 1.65,1
removetime = 75

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem =1
trigger2 = animelem =2
trigger3 = animelem =3
trigger4 = animelem =4
attr = S, NA
damage = 60,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 5
sparkno = 1400
sparkxy = -30+random%30, -15-random%40
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -1.9,-.8
air.type = high
air.hittime = 12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
palfx.time = 20
palfx.mul = 255,255,255
palfx.add = 200,75,0
palfx.sinadd = 150,100,50,5

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 11
value = 6000,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time % 13 = 0
anim = F271
ID = 6001
pos = 0,-35
postype = p1
vel=0,0
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 1533, Explod]
type = Explod
ownpal = 1
trigger1 = time = 75
anim = 6028
ID =  6028
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
sprpriority = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time % 13 = 0
anim = F271
ID = 6001
pos = 0,-10
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 210, 5]
type = destroyself
trigger1 = time = 75

;-----------------
;Housenka
[StateDef 836]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 836
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 8,-40
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S350,0
volume = 255
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 10,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1
;-----------------
[StateDef 837]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 837
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F810
id = 810
pos = 8,-40
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 10,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999


;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 838]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1.5
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 839

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 840
persistent = 1


;-----------------
;Katon
[StateDef 839]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = time = 50
;-----------------
;Katon
[StateDef 840]
type = S
movetype= A
physics = S
anim = 861
sprpriority = 3
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 80

[StateDef 371]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 363
sprpriority = 2
poweradd = -250


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F710
ID = 710
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = -1
supermovetime=9999
pausemovetime=9999
removeongethit = 1
scale = 0.7,0.7
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 710
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 70
trigger2 = movecontact
id = 710

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 373
time = 9999
forceair = 1

[State 1533]
type = VelSet
trigger1 = time > 1
x = 6
y = 1-random%3

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 6000,0

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,45
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1400
sparkxy = -15+random%45, -10-random%20
hitsound = s0,28
guardsound = s0,28
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6
airguard.velocity = -1.9,-1.2
air.type = High
air.velocity = -1.4,-4
air.hittime = 12
palfx.time = 20
palfx.mul = 255,255,255
palfx.add = 200,75,0
palfx.sinadd = 150,100,50,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 30,3
anim = F271
ID = 6001
pos = -3,10
random= 15,0
postype = p1
vel=0,0
facing = 1
bindtime = -2
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
removeongethit = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6001
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533, DestroySelf]
type = Changestate
trigger1 = movecontact
trigger2 = time = 70
value = 373
ctrl = 0
persistent = 0


[StateDef 372]
type = S
movetype= A
physics = N
juggle  = 3
velset = 0,0
anim = 363
poweradd = -250
sprpriority = 2


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F720
ID = 720
postype = p1
pos = 0,0
vfacing = -1
bindtime = -1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = -1
supermovetime=9999
pausemovetime=9999
removeongethit = 1
scale = 0.7,0.7
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 720
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 70
trigger2 = movecontact
id = 720

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1533]
type = VelSet
trigger1 = time > 1
x = 6
y = -4

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 6000,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 373
time = 9999
forceair = 1

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,55
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1400
sparkxy = -15+random%45, -10-random%20
hitsound = s0,28
guardsound = s0,28
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
palfx.time = 20
palfx.mul = 255,255,255
palfx.add = 200,75,0
palfx.sinadd = 150,100,50,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 30,3 
anim = F271
ID = 6001
pos = -3,0
postype = p1
facing = 1
bindtime = -2
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
removeongethit = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6001
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533, DestroySelf]
type = Changestate
trigger1 = movecontact
trigger2 = time = 60
value = 373
ctrl = 0
persistent = 0

[StateDef 373]
type = S
ctrl = 0
anim = 364
velset = 0,0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 710

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 720

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F725
ID = 6001
pos = 10,0
postype = p1
facing = 1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.75,0.75
sprpriority = 2
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6001
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533, DestroySelf]
type = Destroyself
trigger1 = time = 13

;---------------------------------------------------------
;Katon Ground Hell
[StateDef 380]
type = S
movetype = A
physics = S
juggle = 0
anim = 6030
poweradd = -3800
ctrl = 0
sprpriority = -3

[State 905, 7]
type = Envcolor
trigger1 = time = 1
value = 0,0,0
time = 260
under = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S350,0

[State 0, Helper]
type = Helper
trigger1 = time = 24
helpertype = normal ;player
name = "Fire"
ID = 381              
stateno = 381
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1

[State 0, Helper]
type = Helper
trigger1 = time = 24
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 24
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = -50,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 60
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = 125,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 60
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = -125,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = 200,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = -200,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 130
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = 250,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 130
helpertype = normal ;player
name = "Fire"
ID = 382              
stateno = 382
pos = -250,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 24
helpertype = normal ;player
name = "Fire"
ID = 383             
stateno = 383
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 130
trigger2 = time = 150
trigger3 = time = 170
trigger4 = time = 190
trigger5 = time = 210
trigger6 = time = 230
anim = 6000
ID = 60000
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,60
vel = 1,-2
postype = p1  
bindtime = 2
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 130
trigger2 = time = 160
trigger3 = time = 190
trigger4 = time = 220
trigger5 = time = 250
anim = 6001
ID = 60010
pos = 0,5
random= 15,0
postype = p1
vel=0,0
bindtime = -1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, PalFX]
type = PalFX
trigger1 = time = 130
time          = 130
add           = 40,-70,-200
mul           = 256,256,256
sinadd        = 40,30,0,10

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 130
value = -8
kill = 0

[State 360, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[StateDef 381]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6031
poweradd = 20
sprpriority = 5

[State 0, Posset]
type = Posset
trigger1 = 1
y = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 80
value = 6000,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && movecontact
trigger2 = animelem = 6 && movecontact
trigger3 = animelem = 11 && movecontact
trigger4 = animelem = 16 && movecontact
trigger5 = animelem = 21 && movecontact
trigger6 = animelem = 26 && movecontact
trigger7 = animelem = 31 && movecontact
trigger8 = animelem = 36 && movecontact
trigger9 = animelem = 41 && movecontact
trigger10 = animelem = 46 && movecontact
trigger11 = animelem = 51 && movecontact
trigger12 = animelem = 56 && movecontact
trigger13 = animelem = 61 && movecontact
trigger14 = animelem = 66 && movecontact
trigger15 = animelem = 71 && movecontact
value = S0,28

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
trigger24 = animelem = 24
trigger25 = animelem = 25
trigger26 = animelem = 26
trigger27 = animelem = 27
trigger28 = animelem = 28
trigger29 = animelem = 29
trigger30 = animelem = 30
trigger31 = animelem = 31
trigger32 = animelem = 32
trigger33 = animelem = 33
trigger34 = animelem = 34
trigger35 = animelem = 35
trigger36 = animelem = 36
trigger37 = animelem = 37
trigger38 = animelem = 38
trigger39 = animelem = 39
trigger40 = animelem = 40
trigger41 = animelem = 41
trigger42 = animelem = 42
trigger43 = animelem = 43
trigger44 = animelem = 44
trigger45 = animelem = 45
trigger46 = animelem = 46
trigger47 = animelem = 47
trigger48 = animelem = 48
trigger49 = animelem = 49
trigger50 = animelem = 50
trigger51 = animelem = 51
trigger52 = animelem = 52
trigger53 = animelem = 53
trigger54 = animelem = 54
trigger55 = animelem = 55
trigger56 = animelem = 56
trigger57 = animelem = 57
trigger58 = animelem = 58
trigger59 = animelem = 59
trigger60 = animelem = 60
trigger61 = animelem = 61
trigger62 = animelem = 62
trigger63 = animelem = 63
trigger64 = animelem = 64
trigger65 = animelem = 65
trigger66 = animelem = 66
trigger67 = animelem = 67
trigger68 = animelem = 68
trigger69 = animelem = 69
trigger70 = animelem = 70
trigger71 = animelem = 71
trigger72 = animelem = 72
trigger73 = animelem = 73
trigger74 = animelem = 74
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 10
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 354354
guardsound = 5354354
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
palfx.time          = 20
palfx.add           = 40,-70,-200
palfx.mul           = 256,256,256
palfx.sinadd        = 40,30,0,10

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6000) < 1
anim = 6000
ID = 6000
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,60
vel = 1,-2
postype = p1 
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6001) < 1
anim = 6001
ID = 6001
pos = 0,5
random= 15,0
postype = p1
vel=0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

[StateDef 382]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6032
poweradd = 20
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 80
value = 6000,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && movecontact
trigger2 = animelem = 6 && movecontact
trigger3 = animelem = 11 && movecontact
trigger4 = animelem = 16 && movecontact
trigger5 = animelem = 21 && movecontact
trigger6 = animelem = 26 && movecontact
trigger7 = animelem = 31 && movecontact
trigger8 = animelem = 36 && movecontact
trigger9 = animelem = 41 && movecontact
trigger10 = animelem = 46 && movecontact
trigger11 = animelem = 50 && movecontact
value = S0,28

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
trigger24 = animelem = 24
trigger25 = animelem = 25
trigger26 = animelem = 26
trigger27 = animelem = 27
trigger28 = animelem = 28
trigger29 = animelem = 29
trigger30 = animelem = 30
trigger31 = animelem = 31
trigger32 = animelem = 32
trigger33 = animelem = 33
trigger34 = animelem = 34
trigger35 = animelem = 35
trigger36 = animelem = 36
trigger37 = animelem = 37
trigger38 = animelem = 38
trigger39 = animelem = 39
trigger40 = animelem = 40
trigger41 = animelem = 41
trigger42 = animelem = 42
trigger43 = animelem = 43
trigger44 = animelem = 44
trigger45 = animelem = 45
trigger46 = animelem = 46
trigger47 = animelem = 47
trigger48 = animelem = 48
trigger49 = animelem = 49
trigger50 = animelem = 50
attr = S, NA
damage = 13
animtype = Light
guardflag = MA
affectteam = B
hitflag = MAF
priority = 5, Hit
pausetime = 0, 10
sparkno = 35354354
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 354354
guardsound = 5354354
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
p2stateno = 384
palfx.time          = 20
palfx.add           = 40,-70,-200
palfx.mul           = 256,256,256
palfx.sinadd        = 40,30,0,10

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6000) < 1
anim = 6000
ID = 6000
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,60
vel = 1,-2
postype = p1  
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6001) < 1
anim = 6001
ID = 6001
pos = 0,5
random= 15,0
postype = p1
vel=0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

[StateDef 383]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6033
poweradd = 20
sprpriority = 5

[State 0, Posset]
type = Posset
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 80
value = 6000,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && movecontact
trigger2 = animelem = 6 && movecontact
trigger3 = animelem = 11 && movecontact
trigger4 = animelem = 16 && movecontact
trigger5 = animelem = 21 && movecontact
trigger6 = animelem = 25 && movecontact
value = S0,28

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
trigger24 = animelem = 24
trigger25 = animelem = 25
attr = S, NA
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 10
sparkno = 5165165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 3543543
guardsound = 35435434
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,-3
air.hittime = 0
palfx.time          = 20
palfx.add           = 40,-70,-200
palfx.mul           = 256,256,256
palfx.sinadd        = 40,30,0,10

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6000) < 1
anim = 6000
ID = 6000
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,60
vel = 1,-2
postype = p1  
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(6001) < 1
anim = 6001
ID = 6001
pos = 0,5
random= 15,0
postype = p1
vel=0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

[StateDef 384]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5000
velset = 0,0
under = 1
poweradd = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2006, ChangeState]
type = SelfState
trigger1 = enemy,stateno != 380
value = 5000
ctrl = 1

;-----------------
;Housenka Air
[StateDef 858]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1,-4
ctrl = 0
anim = 858
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 6,-36
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S350,0
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 16,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
[StateDef 8581]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 8581
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -3

[State 0, Explod]
type = Explod
trigger1 = animelem = 1 
anim = F810
id = 80006
pos = 16,-36
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
angle = 315
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 16,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 859]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 840
angle = -atan(vel y/vel x)*180/PI 
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3+var(7)
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 860

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 861
;-----------------
;Katon
[StateDef 860]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=1;-time/10
y=1;-time/10

[State 0, end]
type = changestate
trigger1 = pos y >= 0
value = 861


[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Katon
[StateDef 861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 0
sprpriority = 3
[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermove
pausemove
scale = 1.2,1.2
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 80

[StateDef 391]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 363
poweradd = -200
sprpriority = 2


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F720
ID = 720
postype = p1
pos = 0,0
vfacing = 1
bindtime = -1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.7
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 720
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 70
trigger2 = movecontact
trigger3 = pos y > -5
id = 720

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movecontact && numexplod(725) = 0
anim = F725
ID = 725
postype = p1
pos = 0,0
vel = 0,0
vfacing = 1
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 1,1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 725
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1533]
type = VelSet
trigger1 = numexplod(725) = 0
x = 7
y = 7

[State 1533]
type = VelSet
trigger1 = numexplod(725) = 1
x = 0
y = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 6000,0

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 120,55
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 1400
sparkxy = -15+random%45, -10-random%40
hitsound = s0,28
guardsound = s0,28
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
palfx.time = 20
palfx.mul = 255,255,255
palfx.add = 200,75,0
palfx.sinadd = 150,100,50,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact
anim = F270
ID = 6000
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
persistent = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6000
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6000
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6002
pos = -15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = modifyExplod
trigger1 = 1
ID = 6002
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
trigger2 = pos y > -6
id = 6000

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
trigger2 = pos y > -5
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
trigger2 = pos y > -5
id = 6002

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 373
time = 9999
forceair = 1

[State 0, Helper]
type = Helper
trigger1 = pos y > -10 && numhelper(394) = 0
helpertype = normal ;player
name = "Ziemia rozwalenie"
ID = 394           
stateno = 394
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = movecontact
trigger2 = pos y > -5

[StateDef 394]
type = S
anim = 364
sprpriority = 2
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 720

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 6002

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.75,0.75
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F800
ID = 800
pos = 0,-3
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 2.3,1.3
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1400
ID = 1400
pos = 3,-2
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 210
pos = 0,0
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.3,1.3
sprpriority = 2
ownpal = 1
shadow = 256,256,256
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F10,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 811, end]
type = destroyself
trigger1 = time = 40

;-----------------------------------------------------------------
;Katon goukakyuu
[StateDef 392]
type = S
movetype = A
physics = S
juggle = 0
anim = 6076
poweradd = 0
sprpriority = 0
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
trigger2 = Animelem = 7
trigger3 = Animelem = 10
value = S0,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,4
volume = 255
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
triggerall = numhelper(698) = 0
anim = F810
id = 80006
pos = 7,-38
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Goukakyuu"
ID = 393             
stateno = 393
pos =  9,-39
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 360, end]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1

;Goukakyuu
[StateDef 393]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6077
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 392
time = 1
facing = 0
pos = 9,-39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 25,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 100,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.85,0.85
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -15+random%45,-10-random%50
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 811, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyu Hold
[StateDef 844]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 844
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 27 && numexplod(810) = 0
anim = F810
id = 810
pos = 7,-40
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S350,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S350,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S350,1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -5

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal;player
name = "katon"
ID = 846
stateno = 846
pos = 7,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 0, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 845
ctrl = 1
;-----------------
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,44
volume = 255
channel = 4

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 846]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 846
poweradd = -200
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 844
time = 1
facing = 0
pos = 7,-40

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 25
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 40
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 40
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 50+var(12)*6,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5,2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time % 16 = 0 && numexplod(271) <= 2
anim = F271
ID = 271
pos = 100,5
postype = p1
vel = 0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 15 && time % 20 = 0 && numexplod(820) <= 1
anim = F820
id = 820
pos = 200,0
scale = 1.3,2
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 12,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 844 && parent, stateno != 8451
value = 847
;-----------------
;Katon
[StateDef 847]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 847
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyu Air
[StateDef 863]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 863
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F810
id = 80006
pos = 0,-28
scale = 0.40,0.55
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 315
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S350,1
volume = 255
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -5
y = -3

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "katon"
ID = 864
stateno = 864
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 864]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 864
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 6001
angle = atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 3+time/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 8-(time-20)/20+var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time < 100
anim = F271
ID = 271
pos = 15,15
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 2 && time < 100
anim = F271
ID = 272
pos = -10,-10
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 272
angle = -atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = 15,15
scale = 1.3,2
vel = -3,-3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = atan(vel y/vel x)*180/PI
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = 1.5,1.5
sprpriority = 4
angle = -45
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 75,25
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 866
;-----------------
;Katon ziemia
[StateDef 866]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 866
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1450
id = 1450
pos = 0,0
scale = 1.4,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1480

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.6,1.6
sprpriority = 0
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),0+fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1400
ID = 1400
pos = 0,-10
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 0,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 200,100
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 50



;-------------------------------------------------------------------------------------
;=====================================================================================
;--------------------------------------[ RAITON ]-------------------------------------
;=====================================================================================
;-------------------------------------------------------------------------------------



;----------------------------------------------------------------------
;Raikiri Charge
[StateDef 930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930
poweradd = -500
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,6
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 3
value = 10+(time-5)*0.3;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 115
v = 3
value = 45

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
triggerall = numhelper(698) = 0 
anim = 929
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1380
id = 1380
pos = -10,0
vel = -0.5,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1380
id = 1380
pos = 10,0
vel = 0.5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Raikiri"
ID = 950
stateno = 950
pos = -3,-38
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90501
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 930
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 90502
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time >= 115 && power < 1500
trigger10 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger10 = p2bodydist x < 150
trigger10 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 933

[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
value = 965

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holddown"
trigger2 = var(50) = 1 && (numhelper(4401) != 0 || partner,numhelper(4401) != 0 || enemy(0),numhelper(4401) != 0 || enemy(1),numhelper(4401) != 0) && random = [400,450+var(49)*(var(49))/20+cond(numhelper(4401) != 0,var(49)*var(49)/5,0))
trigger3 = var(50) = 1 && p2bodydist x = [-80,80]
trigger3 = random = [600,650+var(49)*(var(49))/20+cond(numhelper(4401) != 0,var(49)*var(49)/50,0))
triggerall = time >= 21
value = 4411

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdup"
trigger2 = random = [650,651+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist y != [-100,50]
triggerall = time >= 15
value = 948
;----------------------------------------------------------------------
;Raikiri Seals
[StateDef 931]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 931
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
value = F17,0

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 930
;-----------------
;Raikiri Fail
[StateDef 932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,40
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Raikiri Run
[StateDef 933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
value = 9335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Raikiri Hit
[StateDef 934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 45,-34
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(3)*1.2,var(3)*0.48
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 45,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(3)*2.4,var(3)*1.2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 2005
sparkxy = -15, -33
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && movehit
value = 935
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 30 && !movehit
value = 937
ctrl = 1
;-----------------
;Raikiri End
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F11
angle = -25+random%50
scale = 1.5,1.5
pos = 34,-36
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F15
scale = 1.5,1.5
pos = -20,-30
postype = p1  ;p2,front,back,left,right
vfacing = -1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F11,12

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 20,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = -1
sparkxy = -15, -40
hitsound = 11,5
guardsound = 11,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0 
airguard.velocity = 0,0 
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 20+var(3)*0.1
envshake.ampl = 2+var(3)*0.1
envshake.freq = 20+var(3)*0.1

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = numhelper(698) = 0 
anim = 936
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Raikiri End2
[StateDef 937]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 937
poweradd = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------
;Impact
[StateDef 9335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,15

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x)-90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F11,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F11,8

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 35,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(3)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Maly Efekt Raikiri]
type = Explod
trigger1 = time = 10
trigger2 = time > 10 && timemod = 15,0
anim = F1360
id = 675
pos = 40,-33
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.005,0.3+helper(106025),var(6)*0.005
ownpal = 1
supermovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Duzy Efekt Raikiri]
type = Explod
trigger1 = time = 10
trigger2 = time > 10 && timemod = 15,0
anim = F1361
id = 675
pos = 35,-33
scale = 0.3+helper(106025),var(6)*0.003,0.3+helper(106025),var(6)*0.003
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60-fvar(2)/5,256

[State 0, Efekt Chidori]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 20,0
anim = F510
id = 675
pos = 39,-33
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 9336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
triggerall = time >= 10
value = 109923

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 45,-34
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
damage = 25+var(3)*1.25*1.86,10+var(3)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -32
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 45,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 50+var(3)*4.0*1.86,20+var(3)*4.0*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2005
sparkxy = -15, -33
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = time = 30 && movehit
value = 935
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 40 && !movehit
trigger2 = time >= 30 && !movehit
value = 937
ctrl = 1

;-----------------
;Impact lose
[StateDef 9337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 9338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;----------------------------------------------------------------------
;Air Raikiri Charge
[StateDef 940]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 940
poweradd = -500
sprpriority = 2

;----------------
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) != [10,25]
value = 941

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
value = 944

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,6
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 50
v = 3
value = 10+(time-5)*0.77;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 3
value = 45

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -28

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 50
triggerall = numhelper(698) = 0 
anim = 939
id = 939
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Raikiri"
ID = 950
stateno = 950
pos = -15,-45
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90501
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 930
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 7500, Explod]
type = Explod
trigger1 = time < 50
anim = 90502
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10)*2, 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1
trans = addalpha
alpha = 256-fvar(2),fvar(2)

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = time >= 15
triggerall = command != "holddown"
value = 941

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = p2bodydist y = [-50,50]
triggerall = time >= 15
triggerall = var(50) = 1
value = 941

;----------

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = command = "holddown"
triggerall = time >= 15
triggerall = var(50) = 0
value = 944

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
triggerall = time >= 15
triggerall = var(50) = 1
triggerall = p2bodydist x > 20
triggerall = p2bodydist y > 20
value = 944
;------------------
;Air Raikiri Run
[StateDef 941]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 941
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 942
ctrl = 1
;------------------
;Air Raikiri Hit
[StateDef 942]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 942
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 45,-34
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35+var(3)*4.8,15+var(3)*2.4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 4
time = 5
pos = 45,-5

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 10 && !movehit
value = 943
ctrl = 1
;-----------------
;Air Raikiri End
[StateDef 943]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 943
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Air Raikiri Ground Run
[StateDef 944]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-50
angle = 225
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 945
ctrl = 1
;------------------
;Air Raikiri Ground Hit
[StateDef 945]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -45
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,-1
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 28,-3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35+var(3)*4.8,15+var(3)*2.4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -3
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 4
time = 5
pos = 28,20

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Raikiri"
ID = 947
stateno = 947
pos = 30,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 400, Helper]
type = Helper
triggerall = pos y >= 0
triggerall = numhelper(4404) = 0
trigger1 = numhelper(4401) = 1
trigger2 = partner,numhelper(4401) = 1
trigger3 = enemy(0),numhelper(4401) = 1
trigger4 = enemy(1),numhelper(4401) = 1
ID = 4404
pos = 0,0
postype = p1
stateno = 4404
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 946
ctrl = 1
;-----------------
;Air Raikiri Ground End
[StateDef 946]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 3*const(velocity.airjump.fwd.x)
y = 3*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Raikiri"
ID = 947
stateno = 947
pos = 30,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 400, Helper]
type = Helper
triggerall = time < 5
triggerall = pos y >= 0
triggerall = numhelper(4404) = 0
trigger1 = numhelper(4401) = 1
trigger2 = partner,numhelper(4401) = 1
trigger3 = enemy(0),numhelper(4401) = 1
trigger4 = enemy(1),numhelper(4401) = 1
ID = 4404
pos = 0,0
postype = p1
stateno = 4404
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;------------------------------
;Efekt Ziemi
[StateDef 947]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 947
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 40 && timemod = 2,0
anim = F1300+random%2
ID = 1300
angle = random
pos = -50+random%100,10-random%20
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.8,0.8
sprpriority = 7
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20 && timemod = 2,0
anim = F591
ID = 591
pos = -15+random%30,10-random%20
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 6
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 0.7,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,5
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1380
pos = -20,5
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1380
pos = 20,5
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 968
pos = 0,-7
scale = 0.3,0.3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
trans = addalpha 
alpha = 256-fvar(2),256

[State 811, end]
type = destroyself
trigger1 = time = 60
;------------------
;Air Raikiri Jump
[StateDef 948]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 948
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,0+random%20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha
alpha = 256-fvar(2),256

[State 40, 4]
type = VelSet
trigger1 = Time = 5
x = 1
y = const(velocity.jump.y)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 941
ctrl = 1
;------------------
;Kula
[StateDef 950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(3)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1260
id = 90000
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Dodatkowe blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F1280
id = 90001
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Blyskawice powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F1420+random%3
id = 90002
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice powstawanie]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.6+var(6)*0.03,0.6+var(6)*0.03
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F1300+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod Blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F1410
id = 90004
pos = 0,0
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150-fvar(2)*0.6,256
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01
trans = addalpha
alpha = 150-fvar(2)*0.6,256

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -13,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = 1,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -3,-36

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 27,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 0 && parent, time <= 5
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 5 && parent, time <= 8
time = 1
pos = 0,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 8 && parent, time <= 11
time = 1
pos = 20,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time >= 12
time = 1
pos = 10,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 0 && parent, time <= 3
time = 1
pos = -5,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 3 && parent, time <= 6
time = 1
pos = -4,-8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time >= 7
time = 1
pos = -3,-0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -15,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 3 && parent, time <= 6
time = 1
pos = -7,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 17,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 16,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 29,-2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -15,-55

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 942 && parent, movehit
trigger4 = parent, stateno = 945 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,949]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 965
trigger1 = parent, stateno != 4411
trigger2 = parent, stateno = 935 || parent, stateno = 937
trigger3 = parent, stateno = 932
trigger4 = parent, stateno = 965 && parent, time > 50
trigger5 = parent, stateno = 4411 && parent, time > 70
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
value = 952
;------------------
;Kula Hit
[StateDef 951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F1300+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01
trans = addalpha
alpha = 150-fvar(2)*0.6,256

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
anim = F1360
id = 90006
pos = 10,0
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
anim = F510
id = 90007
pos = 10,0
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = -2
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
anim = F1360
id = 90006
pos = 10,0
angle = -45
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
anim = F510
id = 90007
pos = 5,5
angle = 45
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = -2
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [940,949]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

;------------

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -13,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = 1,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -3,-36

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 27,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 0 && parent, time <= 5
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 5 && parent, time <= 8
time = 1
pos = 0,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 8 && parent, time <= 11
time = 1
pos = 20,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time >= 12
time = 1
pos = 10,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 0 && parent, time <= 3
time = 1
pos = -5,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 3 && parent, time <= 6
time = 1
pos = -4,-8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time >= 7
time = 1
pos = -3,-0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -15,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 3 && parent, time <= 6
time = 1
pos = -7,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 17,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 16,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 29,-2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -15,-55

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,949]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 965
trigger1 = parent, stateno != 4411
trigger2 = parent, stateno = 935 || parent, stateno = 937
trigger3 = parent, stateno = 932
trigger4 = parent, stateno = 943
trigger5 = parent, stateno = 944
value = 952
;------------------
;Kula End
[StateDef 952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Dodatkowe blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150-fvar(2)*0.6,256

[State 0, Explod Blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
time = 1
pos = -13,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = 1,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -3,-36

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = 27,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 0 && parent, time <= 5
time = 1
pos = -2,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 5 && parent, time <= 8
time = 1
pos = 0,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time > 8 && parent, time <= 11
time = 1
pos = 20,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 965 && parent, time >= 12
time = 1
pos = 10,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 0 && parent, time <= 3
time = 1
pos = -5,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time > 3 && parent, time <= 6
time = 1
pos = -4,-8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 4411 && parent, time >= 7
time = 1
pos = -3,-0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -15,-45

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = -10,-39

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 3 && parent, time <= 6
time = 1
pos = -7,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 17,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = 16,-38

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = 29,-2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -15,-55

[State 0, End]
type = Destroyself
trigger1 = time = 11

;-------------------------------------------------------------------
;Wolf
;-----------------
[StateDef 965]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 965
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = s3,8

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = s3,8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 30

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 20
anim = 101
sound = F19,0
pos = -2,-35
move = 0
movetime = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger1 = numhelper(698) = 0 
anim = 966
id = 966
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 70
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
triggerall = prevstateno = 964
time = 70
add = -80,-80,-80

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = [50,70]
time = 2
add = -120+(time-50)*6,-120+(time-50)*6,-120+(time-50)*6

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = [50,70]
time = 2
add = -80+(time-50)*4,-80+(time-50)*4,-80+(time-50)*4

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 11
value = 9

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Electric Wolf"
ID = 777              
stateno = 777
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
sprpriority = 4
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 69
time = 1

[State 811, end]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

[StateDef 777]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 777
poweradd = -1500
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109924

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = time*0.1,time*0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 1,1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 200, 1]
type = PlaySnd
trigger1 = time = 0 
trigger2 = timemod = 40,1
value = S0,32
channel = 1

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = F11,10

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 20,1
value = F11,11
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F11,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 13 && timemod = 10,0
anim = F1380
ID = 6001
pos = 0,0
postype = p1
facing = -1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 2
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 2,0
anim = F1300+random%2
ID = 1300
pos = -10+random%20,-10+random%20
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = -1
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256


[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 15
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact && p2movetype = H
x = 0
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 80
time = 10
pos = 30,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 2,1
attr = S, NA
damage = 500,300
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 40
sparkno = 1420
sparkxy = -15, -40
hitsound = 11,4
guardsound = 11,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-4
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 3
envshake.freq = 30
palfx.time = 20
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 7
freq = 50
ampl = -7
phase = 90


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5   
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = frontedgedist < -150
v = 5   
value = 1

[State 0, Turn]
type = Turn
trigger1 = frontedgedist < -150

[State 0, Helper]
type = Helper
trigger1 = numhelper(60000) = 0
helpertype = normal ;player
name = "raiton-tail Create"
ID = 60000
stateno = 60000
pos = 0,-30
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = var(5) = 1
trigger1 = frontedgedist < -100
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = var(5) = 1
trigger1 = frontedgedist < -100
channel = 2

[State 811, end]
type = changestate
trigger1 = movecontact && p2movetype = H
trigger2 = var(5) = 1
trigger2 = frontedgedist < -100
value = 778

[StateDef 778]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 967
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109924

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 6,0
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 6,2
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 40
anim = F1300+random%2
ID = 1300
pos = -50+random%100,0-random%80
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.8,0.8
sprpriority = 7
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20
anim = F591
ID = 591
pos = -90+random%180,0-random%40
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 1.5,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = -30,5
scale = 1.2,1.2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1490
pos = 30,5
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 968
pos = 0,-15
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.6,0.6
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 10
attr = S, NA
damage = 100,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420+random%3
sparkxy = -10-random%10, -20-random%20
hitsound = 11,7
guardsound = 11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-2 
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 3
envshake.freq = 30
palfx.time = 30
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 811, end]
type = destroyself
trigger1 = time = 60
;---------------------------------------------------------------------------
;Raiton Tail Create
[Statedef 60000]
type    = S
movetype= I
physics = N
anim = 60000
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Helper]
type = Helper
trigger1 = Abs(parent, pos x-pos x)>10
triggerall = time >= 6 || prevstateno != 60000
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
helpertype = normal ;player
name = "raiton-tail"
ID = 60001
stateno = 60001
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Abs(parent, pos x-pos x)>10
triggerall = time >= 6 || prevstateno != 60000
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
value = 60000

[State 0, PosSet]
type = PosSet
triggerall = parent,facing = -1
trigger1 = 1
x = parent, pos x 
y = parent, pos y - 30

[State 0, PosSet]
type = PosSet
triggerall = parent,facing = 1
trigger1 = 1
x = parent, pos x -50
y = parent, pos y - 30

[State 0, DestroySelf]
type = DestroySelf
trigger1 = numhelper(777) = 0
trigger2 = helper(777), stateno = 778
;---------------------------------------------------------------------------
;Raiton Tail
[Statedef 60001]
type    = S
movetype= I
physics = N
anim = 60000
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

; zapamiêtanie pozycji startu
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = pos x

; zmiana do po³o¿enia postaci
[State 0, PosSet]
type = PosSet
trigger1 = time < 6
x = parent, pos x

;pomiar d³ugoœc ogona
[State 0, VarSet]
type = VarSet
trigger1 = time < 6
fvar(4) = Abs(var(4) - pos x)/350

; zmina d³ugosci i kata
[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = cond(fvar(4)<0.5,0.7,0.2+fvar(4)),cond(fvar(4)<0.5,0.4,0.3+fvar(4))

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;--------------------------------------------------------
;white flash
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16

;===========================================================================================



;Raikiri bar
[Statedef 8001] 
type = S 
movetype = I 
physics = N
ctrl = 0 
anim = 6129
sprpriority = -1
 
[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToRoot] 
type = BindToRoot 
trigger1 = 1 
pos = -50,-75 

[State 0, PlaySnd] 
type = PlaySnd 
trigger1 = !time 
value = S0,0

[State 0, ParentVarAdd] 
type = parentvaradd 
trigger1 = root,stateno = 8000 && root,time > 5
fv = 18
value = 0.68

[State 0, ParentVarSet] 
type = parentvarset
trigger1 = root,stateno!=8000
fv = 18
value = 0

[State 0, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(18),1

[State 0, Explod]; 
type = Explod
ownpal = 1 
trigger1 = !time 
anim = 8007007
ID = 8007007
;postype = parent 
pos = 0,1 
bindtime = -1 
removetime = -1 
supermovetime = 999 
pausemovetime = 999 
scale = 0.5,0.5
sprpriority = 0 
ontop = 0 
ownpal = 1

[State 0, Trans] 
type = Trans 
trigger1 = time = [0,9] 
trans = addalpha 
alpha = 0+(time*32),256-(time*32)

[State 0, RemoveExplod] 
type = RemoveExplod 
trigger1 = root,stateno!=8000
id = 8007007

[State 0, ChangeState] 
type = ChangeState
trigger1 = root,stateno!=8000
value = 8002

[Statedef 8002] 
physics = N 
ctrl = 0 
sprpriority = 10

[State 1, ParentVarSet] 
type = parentvarset 
trigger1 = root,stateno!=8000
fv = 18
value = fvar(18)

[State 1, AngleDraw] 
type = AngleDraw 
trigger1 = 1 
scale = parent,fvar(18),1

[State 1, Trans] 
type = Trans 
trigger1 = 1 
trans = addalpha 
alpha = 256-(time*32),0+(time*32)

[State 1, DestroySelf] 
type = DestroySelf 
trigger1 = time = 9

;Raikiri
[StateDef 8000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8000
poweradd = 0
sprpriority = -1

[State 5,afterimage]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 1
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 101100, Turn]
type = Turn
trigger1 = p2bodydist X < -30

[State 0, Helper] 
type = Helper 
triggerall = numhelper(8001) < 1
trigger1 = time = 20 
helpertype = normal ;player 
name = "Bar Charge" 
ID = 8001
stateno = 8001
pos = 50,-80
postype = p1 
ownpal = 1 

[State 1532, Helper]
type = Helper
trigger1 = command ="holdz"
trigger1 = time = 1
helpertype = normal
ID = 8003
stateno = 8003
pos = -1, -40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 30
anim = 6095
ID = 6095
postype = p1
pos = 30,0
bindtime = -1
sprpriority = -1
ownpal = 1
ontop = 0
facing = 1
scale = 0.5,0.5
removetime = -1
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 30
anim = 6095
ID = 6095
postype = p1
pos = -30,0
bindtime = -1
sprpriority = -1
ownpal = 1
ontop = 0
facing = -1
scale = 0.5,0.5
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz" && time < 41 && power >= 30 && power < 1000
trigger2 = command = "holdz" && time > 41 && power >= 1000 && power < 2000
trigger3 = command = "holdz" && time > 56 && power >= 2000 && power < 3000
trigger4 = command = "holdz" && time > 91 && power >= 3000 && power < 3500
trigger5 = command = "holdz" && time > 170 && power >= 3500 && power < 4000
trigger6 = command != "holdz" && time < 200 && power < 4000
id = 6095

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 30
anim = 6096
ID = 6096
postype = p1
pos = 0,0
bindtime = -1
sprpriority = -2
ownpal = 1
ontop = 0
facing = 1
scale = 1,0.3
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz" && time < 41 && power >= 30 && power < 1000
trigger2 = command = "holdz" && time > 41 && power >= 1000 && power < 2000
trigger3 = command = "holdz" && time > 56 && power >= 2000 && power < 3000
trigger4 = command = "holdz" && time > 91 && power >= 3000 && power < 3500
trigger5 = command = "holdz" && time > 170 && power >= 3500 && power < 4000
trigger6 = command != "holdz" && time < 200 && power < 4000
id = 6096

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 91
anim = 6097
ID = 6097
postype = p1
pos = 3,15
bindtime = -1
sprpriority = 0
ownpal = 1
ontop = 0
facing = 1
scale = 1,0.5
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz" && time < 41 && power >= 30 && power < 1000
trigger2 = command = "holdz" && time > 41 && power >= 1000 && power < 2000
trigger3 = command = "holdz" && time > 56 && power >= 2000 && power < 3000
trigger4 = command = "holdz" && time > 91 && power >= 3000 && power < 3500
trigger5 = command = "holdz" && time > 170 && power >= 3500 && power < 4000
trigger6 = command != "holdz" && time < 200 && power < 4000
id = 6097

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 41
anim = 978
ID = 6098
postype = p1
pos = 0,9
bindtime = -1
sprpriority = 0
ownpal = 1
ontop = 0
facing = 1
scale = 1,0.6
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz" && time < 41 && power >= 30 && power < 1000
trigger2 = command = "holdz" && time > 41 && power >= 1000 && power < 2000
trigger3 = command = "holdz" && time > 56 && power >= 2000 && power < 3000
trigger4 = command = "holdz" && time > 91 && power >= 3000 && power < 3500
trigger5 = command = "holdz" && time > 170 && power >= 3500 && power < 4000
trigger6 = command != "holdz" && time < 200 && power < 4000
id = 6098

[State 1533,excplod ]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = time = 91
anim = 6101
ID = 6101
postype = p1
pos = 0,0
bindtime = -1
sprpriority = 0
ownpal = 1
ontop = 0
facing = 1
scale = 0.6,1
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz" && time < 41 && power >= 30 && power < 1000
trigger2 = command = "holdz" && time > 41 && power >= 1000 && power < 2000
trigger3 = command = "holdz" && time > 56 && power >= 2000 && power < 3000
trigger4 = command = "holdz" && time > 91 && power >= 3000 && power < 3500
trigger5 = command = "holdz" && time > 170 && power >= 3500 && power < 4000
trigger6 = command != "holdz" && time < 200 && power < 4000
id = 6101

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 63
time = 200
freq = 70
ampl = -1
phase = 70

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 91
time = 200
freq = 80
ampl = -2
phase = 80

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 132
time = 200
freq = 90
ampl = -3
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 100
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S220,0

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 30
trigger1 = command != "holdz" & time >= 10
trigger1 = command != "holdz" & time <= 41
power = 1000
value = 8004
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 30
trigger1 = command != "holdz" & time >= 41
trigger1 = command != "holdz" & time <= 42
power = 1000
value = 8005
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 1000
trigger1 = command != "holdz" & time >= 42 & time <= 50
power = 1000
value = 8005
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 1000
trigger1 = command != "holdz" & time >= 49 & time <= 57
power = 2000
value = 8005
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 1000
trigger1 = command != "holdz" & time >= 56 & time <= 64
power = 2000
value = 8005
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 1000
triggerall = power <= 2000
trigger1 = command = "holdz" & time >= 56 & time <= 64
power = 2000
value = 8005
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power <= 2000
trigger1 = command != "holdz" & time >= 63 & time <= 71
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 2000
trigger1 = command != "holdz" & time >= 70 & time <= 78
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 2000
trigger1 = command != "holdz" & time >= 77  & time <= 85
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 2000
trigger1 = command != "holdz" & time >= 84 & time <= 92
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 2000
trigger1 = command != "holdz" & time >= 91  & time <= 99
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 2000
triggerall = power <= 3000
trigger1 = command = "holdz" & time >= 91 & time <= 99
power = 3000
value = 8006
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
trigger1 = command != "holdz" & time >= 98 & time <= 106
power = 3000
value = 8007
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
trigger1 = command != "holdz" & time >= 105  & time <= 113
power = 3000
value = 8007
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
trigger1 = command != "holdz" & time >= 112 & time <= 120
power = 3000
value = 8007
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
trigger1 = command != "holdz" & time >= 119  & time <= 127
power = 3000
value = 8007
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
trigger1 = command != "holdz" & time >= 126 & time <= 133
power = 3000
value = 8007
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3000
triggerall = power <= 3500
trigger1 = command = "holdz" & time >= 132 & time <= 139
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command != "holdz" & time >= 138 & time <= 146
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command != "holdz" & time >= 145 & time <= 153
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command != "holdz" & time >= 152 & time <= 160
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command != "holdz" & time >= 159 & time <= 167
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command != "holdz" & time >= 166 & time <= 176
power = 3000
value = 8008
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
triggerall = power >= 3500
trigger1 = command = "holdz" & time >= 175 
power = 3000
value = 8008
ctrl = 1

[Statedef 8001]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 337
poweradd = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = 0,-70
ignorehitpause = 0
persistent = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = parent,command !="holdz" && parent,time >= 41
trigger2 = parent,command = "holdz" && parent,time >= 56 && parent,power < 2000
trigger3 = parent,command = "holdz" && parent,time >= 91 && parent,power > 2000 && parent,power < 3000
trigger4 = parent,command = "holdz" && parent,time >= 126 && parent,power > 3000
trigger5 = parent,stateno != 8000

[Statedef 8002]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3370
poweradd = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = 0,-70
ignorehitpause = 0
persistent = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = parent,command !="holdz" && parent,time >= 41
trigger2 = parent,command = "holdz" && parent,time >= 56 && parent,power < 2000
trigger3 = parent,command = "holdz" && parent,time >= 91 && parent,power > 2000 && parent,power < 3000
trigger4 = parent,command = "holdz" && parent,time >= 126 && parent,power > 3000
trigger5 = parent,stateno != 8000

+++++++++++++++++++++++++++++

;lvl 0
[Statedef 8004]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8004
poweradd = -300
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 5
channel = -1

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 35,-32
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 10
scale = 0.45,0.45

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 6012
ID = 6012
pos = 3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
scale = 0.6,0.6
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
v = 16
value = 20

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = animtime = 0
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;lvl 1
[Statedef 8005]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8005
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = 6086
ID = 6086
pos = -2,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
scale = 0.6,0.6
removetime = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8009
ctrl = 1

;lvl 2
[Statedef 8006]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8006
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 6086
ID = 6086
pos = 5,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 33
removetime = 33
scale = 0.8,0.8
pausemove = 33
supermove = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S0,39

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8010
ctrl = 1

;lvl 3
[Statedef 8007]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8006
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 6086
ID = 6086
pos = 5,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
scale = 0.8,0.8
bindtime = 33
removetime = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8011
ctrl = 1

;lvl 4
[Statedef 8008]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8007
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 6086
ID = 6086
pos = 5,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 37
removetime = 37
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 60
anim = 6086
ID = 6086
pos = -20,-40
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 20
removetime = 20
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 60
anim = 6086
ID = 6086
pos = 18,-25
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 20
removetime = 20
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6092
ID = 6092
pos = 5,-20
postype = p1  ;p2,front,back,left,right
sprpriority = 2
facing = 1
ontop = 0
bindtime = 50
removetime = 50
scale = 0.7,0.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8012
ctrl = 1

;**********************************
;Raikiri lvl 1
[Statedef 8009]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8009
poweradd = -1000
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 0,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2dist X<= 50
id = 6086 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 1531, 3]
type = ChangeState
trigger1 = p2dist X<= 45
value = 8013
ctrl = 1

[Statedef 8013]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8013
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 40,-33
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 30
id = 6086

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 65
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 29
helpertype = normal
ID = 8018
stateno = 8018
pos = 40,-33
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, VarSet]
type = VarSet
trigger1 = time = 75
v = 16
value = 50

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 75
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

;Raikiri lvl 2
[StateDef 8010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -2000
ctrl =  0
anim = 8010
sprpriority = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = 17,-42
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
scale = 0.8,0.8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit && time > 0
trigger2 = time = 20
id = 6086 

[State 8101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 45
under = 1

[State 8101, MakeDust]
type = MakeDust
trigger1 = time > 0
pos = -30,0
spacing = 3

[State 8101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,3

[State 8101, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA
damage = 800
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0,115
sparkno = S30000
sparkxy = -17, 9
hitsound = s8000,0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4
airguard.velocity = -0,0
air.type = High
air.velocity = -1,-4
air.hittime = 12
fall = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 4

[State 8101, VelAdd]
type = Velset
trigger1 = 1
x = 17

[State 8101, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 8022
ctrl = 0

[State 8101, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 8014
ctrl = 0

[StateDef 8014]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8014
sprpriority = 1

[State 8101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = 47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = 48
removetime = 48
scale = 0.8,0.8

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 100
under = 1

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 8019
ctrl = 1

[StateDef 8019]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8019
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6087
ID = 6087
pos = 40,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = 9
removetime = 9
scale = 0.8,0.8

[State 1532, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
ID = 8018
stateno = 8018
pos = -14,-24
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 75
v = 16
value = 100

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 75
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

[StateDef 8022]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8014
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = 20
removetime = 20
scale = 0.8,0.8

[State 8102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 1532, Helper]
type = Helper
trigger1 = time = 21
helpertype = normal
ID = 8018
stateno = 8018
pos = 47,-34
postype = p1    ;p2,front,back,left,right
facing = 1
vfacing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 85
v = 16
value = 100

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 85
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 85
value = 0
ctrl = 1

;Raikiri lvl 3
[Statedef 8011]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8011
poweradd = -3000
sprpriority = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 8101, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0,105
sparkno = S30000
sparkxy = -17, 9
hitsound = s8000,0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4
airguard.velocity = -0,0
air.type = High
air.velocity = -1,-4
air.hittime = 12
p2stateno = 5000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 24,-12
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
scale = 0.8,0.8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time = 20
id = 6086

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 338
ID = 338
postype = p1
pos = 10,10
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 1,1
supermovetime = 100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time = 20
id = 338

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 23

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 1531, 3]
type = ChangeState
trigger1 = movehit = 1
value = 8015
ctrl = 1

[State 1531, 3]
type = ChangeState
trigger1 = movehit = 0 && time = 20
value = 8022
ctrl = 1

[Statedef 8015]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8015
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 43,-32
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = 33
removetime = 33
scale = 0.5,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6087
pos = 50,-32
postype = p1  ;p2,front,back,left,right
sprpriority = -3
layerno = 3
facing = 1
ontop = 0
bindtime = 33
removetime = 33
scale = 0.8,0.8

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 9
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S30020
sparkxy = 210, -100
hitsound = 524535,542
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 5000

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 4

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 40,0

[State 0, VarSet]
type = VarSet
trigger1 = time = 54
v = 16
value = 150

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 54
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, ChangeState]
type = ChangeState
trigger1 = time < 50 && command = "holdz"
value = 8020
ctrl = 1

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 54
value = 0
ctrl = 1

[Statedef 8020]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8020
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = animelem = 1
anim = 6086
ID = 6086
pos = 43,-32
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
removetime = -1
scale = 0.5,0.5

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = command = "holdz"
trigger1 = animelem = 1
anim = 6086
ID = 6086
pos = 50,-32
postype = p1  ;p2,front,back,left,right
sprpriority = -3
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = -1
scale = 0.8,0.8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "holdz"
trigger2 = command = "holdz" && time = 350
trigger3 = time = 350
id = 6086

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 6
trigger4 = animelem = 9
value = S0,40
volume = 0

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = S30020
sparkxy = 210, -100
hitsound = s8000,2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 8030

[State 1532, Helper]
type = Helper
triggerall = command = "holdz"
trigger1 = time = 5
helpertype = normal
ID = 8021
stateno = 8021
pos = 50,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 00.1
size.yscale = 00.1

[State 1532, Helper]
type = Helper
triggerall = command = "holdz"
trigger1 = time = 5
helpertype = normal
ID = 8031
stateno = 8031
pos = 50,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 1
size.yscale = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = command = "holdz"
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 10

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = command = "holdz"
value = -8
kill = 0

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 40,0

[State 0, VarSet]
type = VarSet
trigger1 = command != "holdz"
trigger2 = command = "holdz" && time = 350
trigger3 = time = 350
v = 16
value = 200

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = command != "holdz"
trigger2 = command = "holdz" && time = 350
trigger3 = time = 350
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, ChangeState]
type = ChangeState
trigger1 = command != "holdz"
trigger2 = command = "holdz" && time = 350
trigger3 = time = 350
value = 0
ctrl = 1

[StateDef 8030]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5000
velset = 0,0
under = 1
poweradd = 0
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2006, ChangeState]
type = SelfState
trigger1 = enemy,command != "holdz"
trigger2 = enemy,command = "holdz" && enemy,time = 350
trigger3 = enemy,time = 350
value = 5000
ctrl = 1

;Raikiri lvl 4
[Statedef 8012]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8010
poweradd = -1000
sprpriority = 1

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 8101, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA
damage = 700
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0,200
sparkno = S30000
sparkxy = -17, 9
hitsound = s8000,0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4
airguard.velocity = -0,0
air.type = High
air.velocity = -1,-4
air.hittime = 12
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = 15,-40
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 100
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time = 20
id = 6086

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6087
pos = 15,-20
postype = p1  ;p2,front,back,left,right
sprpriority = 1
layerno = 3
facing = -1
vfacing = -1
ontop = 0
bindtime = 100
scale = 0.4,0.4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time = 20
id = 6087

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 25

[State 1531, 3]
type = ChangeState
trigger1 = movehit = 1
value = 8024
ctrl = 1

[State 1531, 3]
type = ChangeState
trigger1 = movehit = 0 && time = 20
value = 8032
ctrl = 1

[Statedef 8024]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8014
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S0,39

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6089
pos = 45,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 28
removetime = 28
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6087
pos = 10,-25
postype = p1  ;p2,front,back,left,right
sprpriority = 0
layerno = 3
facing = -1
vfacing = -1
ontop = 0
bindtime = 28
removetime = 28
scale = 0.4,0.4

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 200
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(6092) = 0
anim = 6092
ID = 6092
pos = 0,-20
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
ontop = 0
scale = 0.8,0.8
removetime = 69

[State 1533]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 45,0

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 40
value = 8025
ctrl = 1

[Statedef 8025]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8025
poweradd = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 801, Posadd]
type = Posadd
trigger1 = time = 10
x = p2dist x - 25
y = p2dist y - 300

[State 1532, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 8028
stateno = 8028
pos = 0,-330
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 1
size.yscale = 1

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 8026
ctrl = 1

[Statedef 8026]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8026
poweradd = 0
sprpriority = -1

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[state 102, Angle]
type = angleset
trigger1 = time > 34
value = 270

[state 102, Angle2]
type = angledraw
trigger1 = time > 34

[State 0, VelSet]
type = VelSet
trigger1 = time > 34
y = 15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = -10,-40
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 22
removetime = 22
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 29
anim = 6086
ID = 6086
pos = -7,-38
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 2
removetime = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 33
anim = 6086
ID = 6086
pos = 4,-35
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 2
removetime = 2
scale = 0.6,0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 37
anim = 6086
ID = 6087
pos = 34,43
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y > -50
id = 6087

[State 0, ExplodBindTime]
type = Explod
ownpal = 1
trigger1 = time = 37
ID = 6087
time = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,0

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = pos Y > -50
value = S12,12

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = pos Y > -80
value = S8000,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -80
anim = 6090
ID = 6090
pos = 0,10
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 3
facing = 1
ontop = 0
bindtime = 18
removetime = 18
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos Y > -50
anim = 6078
ID = 6078
pos = 0,6
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 0
facing = 1
ontop = 0
scale = 1,1
removetime = 33

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos Y > -50
anim = 6094
ID = 6094
pos = 0,0
postype = p1  ;p2,front,back,left,right
sprpriority = 4
layerno = 0
facing = 1
ontop = 0
scale = 1,1
removetime = 24

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos Y > -50
anim = 6004
ID = 907
pos = -20,0
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 3
facing = 1
ontop = 0
removetime = 24
scale = 0.7,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos Y > -50
anim = 6004
ID = 907
pos = 20,0
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 3
facing = -1
ontop = 0
scale = 0.7,0.7
removetime = 24

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos Y > -50
anim = 6093
ID = 6093
pos = 0,0
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 15
removetime = 15
scale = 1,1

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 1500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 100
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 0
fall = 1
p2stateno = 8036

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 1532, Helper]
type = Helper
trigger1 = movehit && numhelper(8029) = 0
helpertype = normal
ID = 8029
stateno = 8029
pos = 0,-12
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 2
persistent = 1
size.xscale = 0.6
size.yscale = 1.2

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y > -50
time = 30
freq = 70
ampl = -2
phase = 70

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -50
y = 0

[State 1532, ChangeState]
type = ChangeState
trigger1 = pos y > -50
value = 8027
ctrl = 1

[Statedef 8027]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8027
poweradd = 0
sprpriority = -1

[State 801, Posset]
type = Posset
trigger1 = 1
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 16
value = 250

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 50
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 12
ctrl = 1

[StateDef 8036]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5110
velset = 0,0
under = 1
poweradd = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 20
value = 5110
ctrl = 1

[StateDef 8032]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8014
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = 20
removetime = 20
scale = 0.8,0.8

[State 8102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6087
pos = 10,-25
postype = p1  ;p2,front,back,left,right
sprpriority = 0
layerno = 3
facing = -1
vfacing = -1
ontop = 0
bindtime = 38
removetime = 38
scale = 0.4,0.4

[State 1532, Helper]
type = Helper
trigger1 = time = 21
helpertype = normal
ID = 8018
stateno = 8018
pos = 45,-34
postype = p1    ;p2,front,back,left,right
facing = 1
vfacing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.6
size.yscale = 0.6

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 8033
ctrl = 1

[Statedef 8033]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8025
poweradd = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 801, Posadd]
type = Posadd
trigger1 = time = 10
x = p2bodydist x + 100
y = p2bodydist y + 0

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 8034
ctrl = 1

[StateDef 8034]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -1
ctrl =  0
anim = 8034
sprpriority = 0

[State 80]
type = AfterImage
trigger1 = (!time)
time = 25
length = 15
framegap = 10
palbright = 0,0,0
palcontrast = 180,180,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = -17,-42
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = -2
scale = 0.8,0.8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 6086 

[State 8101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = -1

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 45
under = 1

[State 8101, MakeDust]
type = MakeDust
trigger1 = time > 0
pos = -30,0
spacing = 3

[State 8101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,3

[State 8101, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA
damage = 700
animtype = Light
guardflag = MA
hitflag = MAF
priority = -1, Hit
pausetime = 0,115
sparkno = S30000
sparkxy = -17, 9
hitsound = s8000,0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4
airguard.velocity = -0,0
air.type = High
air.velocity = -1,-4
air.hittime = 12
fall = 1

[State 8101, VelAdd]
type = Velset
trigger1 = 1
x = -17

[State 8101, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 8035
ctrl = 0

[StateDef 8035]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8035
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = -47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 1
layerno = 1
facing = 1
ontop = 0
bindtime = 20
removetime = 20
scale = 0.8,0.8

[State 8102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 1532, Helper]
type = Helper
trigger1 = time = 21
helpertype = normal
ID = 8018
stateno = 8018
pos = -47,-34
postype = p1    ;p2,front,back,left,right
facing = 1
vfacing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 75
v = 16
value = 200

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 75
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 8102, ChangeState]
type = ChangeState
trigger1 = pos y > -1 && time = 75
value = 0
ctrl = 1

[State 8102, ChangeState]
type = ChangeState
trigger1 = pos y < -1 && time = 75
value = 50
ctrl = 1

[Statedef 8028]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 30000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 8105
ID = 80001
postype = back
pos = 0, 0
removetime = 60
vel = 0,0
supermove = 1
sprpriority = -5
scale = 1.5,1.5

[State 905, 7]
type = Envcolor
trigger1 = time = 1
value = 0,0,0
time = 90
under = 1

[State 801, Posset]
type = Posset
trigger1 = 1
x = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6091
ID = 6091
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 4
facing = 1
ownpal = 1
ontop = 0
vel = 0.4,0
removetime = 96
supermovetime = 96
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6091
ID = 6091
postype = p1
pos = -50,-30
bindtime = 1
sprpriority = 4
facing = -1
ownpal = 1
ontop = 0
vel = -0.4,0
removetime = 96
supermovetime = 96
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6091
ID = 6091
postype = p1
pos = -50,0
bindtime = 1
sprpriority = 4
facing = 1
ownpal = 1
ontop = 0
vel = 0.4,0
removetime = 96
supermovetime = 96
scale = 1,1

[State 250, 5]
type = Destroyself
trigger1 = time = 100

[Statedef 8029]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6092
poweradd = 0
sprpriority = 2

[state 102, Angle]
type = angleset
trigger1 = 1
value = 90

[state 102, Angle2]
type = angledraw
trigger1 = 1

[state 102, trans]
type = trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 69

[Statedef 8031]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6098
poweradd = -10
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50
trigger2 = time = 70
trigger3 = time = 90
trigger4 = time = 110
trigger5 = time = 130
trigger6 = time = 150
trigger7 = time = 170
trigger8 = time = 190
trigger9 = time = 210
trigger10 = time = 230
trigger11 = time = 250
trigger12 = time = 270
trigger13 = time = 290
trigger14 = time = 310
trigger15 = time = 330
time = 20
freq = 70
ampl = -1
phase = 70

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 10
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = S30020
sparkxy = 210, -100
hitsound = 3253,545
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 8030

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 1531, 3]
type = Destroyself
trigger1 = parent,stateno != 8020
trigger2 = command = "holdz" && parent,time = 340
trigger3 = parent,time = 340

[Statedef 8003]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -1,-40
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 00.15*(time-2)*0.1,00.15*(time-2)*0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = parent,stateno != 8000

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 8017
ctrl = 1

[Statedef 8017]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -1,-40
ignorehitpause = 0
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = parent,stateno != 8000

[Statedef 8018]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1*time*0.25-1,0.1*time*0.25-1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 40

[Statedef 8021]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 50
anim = 6088

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1*time*5,0.1*time*5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = changestate
triggerall = parent,command != "holdz"
trigger1 = time > 1
value = 8023

[State 250, 5]
type = changestate
triggerall = parent,command != "holdz"
trigger1 = time > 100
value = 8023

[State 250, 5]
type = changestate
triggerall = parent,command != "holdz"
trigger1 = time > 200
value = 8023

[State 250, 5]
type = changestate
triggerall = parent,command = "holdz"
trigger1 = time > 250
value = 8023

[Statedef 8023]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 30000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6089
ID = 6089
pos = 0,200
postype = p1  ;p2,front,back,left,right
sprpriority = 50
layerno = 3
facing = 1
ontop = 0
bindtime = 1
removetime = 85
scale = 500,500

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 250, 5]
type = Destroyself
trigger1 = time = 86
trigger2 = parent,stateno = 8000

;---------------------------------------------------------------------------
;Raikiri ground
[Statedef 8050]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8050
poweradd = -1000
sprpriority = 1

[State 5,afterimage]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 1
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 101100, Turn]
type = Turn
trigger1 = p2bodydist X < -30

[State 1532, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
ID = 8051
stateno = 8051
pos = -3, 4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 2
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 6086
ID = 6086
pos = -25,-18
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
ownpal = 1
bindtime = 23
removetime = 23
scale = 0.5,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 80
anim = 6086
ID = 6086
pos = 13,-27
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
ownpal = 1
bindtime = 23
removetime = 23
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S0,40
volume = 0

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 1531, 3]
type = ChangeState
trigger1 = time = 115
value = 8052
ctrl = 1

[Statedef 8052]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8051
poweradd = -1
sprpriority = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
attr = S, NA
damage = 200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 105
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 5000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 24,-17
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 3
facing = 1
ontop = 0
bindtime = -2
scale = 0.8,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 10,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 0
layerno = 3
facing = -1
ontop = 0
bindtime = -2
scale = 0.4,0.4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time = 20
id = 6086

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 338
ID = 338
postype = p1
pos = 10,10
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 1,1
supermovetime = 100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit = 1
trigger2 = time =20
id = 338

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,39
volume = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 17

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 80
id = -1
pos = 45,0

[State 1531, 3]
type = ChangeState
trigger1 = movehit = 1
trigger2 = time = 20
value = 8053
ctrl = 1

[StateDef 8053]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8014
sprpriority = 1

[State 1532, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 8018
stateno = 8018
pos = 47,-34
postype = p1    ;p2,front,back,left,right
facing = 1
vfacing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6087
pos = 10,-25
postype = p1  ;p2,front,back,left,right
sprpriority = 0
layerno = 3
facing = -1
vfacing = -1
ontop = 0
bindtime = 48
removetime = 48
scale = 0.4,0.4

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 8054
ctrl = 1

[Statedef 8054]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8025
poweradd = 0
sprpriority = 1

[State 5,afterimage]
type = AfterImage
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 801, Posadd]
type = Posadd
trigger1 = time = 10
x = p2dist x + 0

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 10
value = 8055
ctrl = 1

[statedef 8055]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8055
poweradd = 20
sprpriority = 1

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S300,0

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1414,0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6074
ID = 301
postype = p1
pos = 0,0
bindtime = 15
sprpriority = 3
ownpal = 1
ontop = 0
removetime = 23
shadow = 256,256,256

[State 210, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time 
attr = S, NA
damage = 150
animtype = Light              
guardflag = MA                 
hitflag = MAF                  
priority = 3, Hit                
pausetime = 0, 2                 
sparkxy = -10, -40               
hitsound = S310,1             
guardsound = 6, 0             
ground.type = High            
ground.slidetime = 5        
ground.hittime  = 10         
ground.velocity = -2,-8          
airguard.velocity = -2,-8
air.type = High                 
air.velocity = -2,-8     
air.hittime = 12 
fall = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
postype = p1
pos = 15,-21
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 6086
ID = 6086
postype = p1
pos = 15,-37
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 6086
ID = 6086
postype = p1
pos = 15,-53
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 6086
ID = 6086
postype = p1
pos = 15,-69
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 6086
ID = 6086
postype = p1
pos = 15,-85
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 16
anim = 6086
ID = 6086
postype = p1
pos = 15,-101
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 19
anim = 6086
ID = 6086
postype = p1
pos = 15,-117
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 22
anim = 6086
ID = 6086
postype = p1
pos = 15,-132
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6
removetime = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 25
v = 16
value = 50

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 25
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[state 340 ,5]
type = changestate
trigger1 = time = 25
value = 8056
ctrl = 1

[StateDef 8056]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 50
poweradd = 20
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -75

[State 200, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

[Statedef 8051]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -3,4
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.2*(time-1)*0.1,0.2*(time-1)*0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 50

;---------------------------------------------------------------------------
;Raikiri Air
[StateDef 8060]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -100
ctrl = 0
velset = 0,0
anim = 8060
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S290,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S290,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 3
value = s0,40

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 55
movetime = 55
supermove = 55
anim = 9999
darken = 0
unhittable = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
ID = 8062
stateno = 8062
pos = 2, -16
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 2
supermovetime = 9999
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 55
value = 8061
ctrl = 1

[StateDef 8061]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -700
ctrl = 0
velset = 0,0
anim = 8061
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 18
y = 10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S, NA
damage = 200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 10
sparkno = 0
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
fall = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = movehit 
value = -50

[state 102, Angle]
type = angleset
trigger1 = 1
value = 320

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = pos y > -15
channel = -1

[State 200, 2]
type = PlaySnd
trigger1 = pos y > -10 && numhelper(4401) = 0
value = 12,12

[State 200, 2]
type = PlaySnd
trigger1 = pos y > -10 && numhelper(4401) = 1
value = 1700,65

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
postype = p1
pos = 60,5
bindtime = 150
sprpriority = 3
ownpal = 1
ontop = 0
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y > -10
id = 6086

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6094
ID = 6094
postype = p1
pos = 70,0
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = 24
supermovetime = 24
scale = 0.4,0.4

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6038
ID = 6038
postype = p1
pos = 60,3
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = 36
supermovetime = 36
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6038
ID = 6038
postype = p1
pos = 60,3
bindtime = 1
sprpriority = 2
facing = -1
ownpal = 1
ontop = 0
removetime = 36
supermovetime = 36
scale = 0.5,0.5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 1
anim = 4406
ID = 4406
postype = p1
pos = 70,3
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = 27
supermovetime = 27
scale = 1,1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 1
anim = 4406
ID = 4406
postype = p1
pos = 60,3
bindtime = 1
sprpriority = 2
ownpal = 1
ontop = 0
removetime = 27
supermovetime = 27
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 1
anim = 4406
ID = 4406
postype = p1
pos = 70,3
bindtime = 1
sprpriority = 2
facing = -1
ownpal = 1
ontop = 0
removetime = 27
supermovetime = 27
scale = 0.6,0.6

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 1
anim = 4406
ID = 4406
postype = p1
pos = 60,3
bindtime = 1
sprpriority = 2
facing = -1
ownpal = 1
ontop = 0
removetime = 27
supermovetime = 27
scale = 0.5,0.5

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -11 && numhelper(4401) = 1
anim = 6002
ID = 6002
pos = 130,-40
vel = 1,-2
postype = p1 
bindtime = 1
removetime = -2
supermove
pausemove
scale = 0.3,0.3
sprpriority = 1
ownpal = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 1
anim = 6002
ID = 6002
pos = 100,-20
vel = 1,-2
postype = p1 
bindtime = 1
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 1
ownpal = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6004
ID = 6004
postype = p1
pos = 90,0
bindtime = 1
sprpriority = 6
facing = -1
ownpal = 1
ontop = 1
removetime = 24
supermovetime = 24
scale = 0.8,0.8

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6004
ID = 6004
postype = p1
pos = 60,2
bindtime = 1
sprpriority = 6
facing = -1
ownpal = 1
ontop = 1
removetime = 24
supermovetime = 24
scale = 0.7,0.7

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6004
ID = 6004
postype = p1
pos = 30,0
bindtime = 1
sprpriority = 6
facing = 1
ownpal = 1
ontop = 1
removetime = 24
supermovetime = 24
scale = 0.4,0.4

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6004
ID = 6004
postype = p1
pos = 40,0
bindtime = 1
sprpriority = 6
facing = 1
ownpal = 1
ontop = 1
removetime = 24
supermovetime = 24
scale = 0.3,0.3

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y > -10 && numhelper(4401) = 0
anim = 6004
ID = 6004
postype = p1
pos = 60,2
bindtime = 1
sprpriority = 6
facing = -1
ownpal = 1
ontop = 1
removetime = 24
supermovetime = 24
scale = 0.3,0.3

[State 0, VarSet]
type = VarSet
trigger1 = pos y > -10
v = 12
value = 100

[State 0, VarSet]
type = VarSet
trigger1 = pos y > -10
v = 16
value = 50

[State 400, Helper]
type = Helper
trigger1 = pos y > -11 && movecontact = 0 && numhelper(4401) = 1
ID = 4404
pos = 0,0
postype = p1
stateno = 4404
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -10
value = 50
ctrl = 1

[Statedef 8062]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = 2,-16
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.15*(time-2)*0.1,0.15*(time-2)*0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 50

;---------------------------------------------------------------------------
;Raikiri Kunai
[StateDef 8070]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -1
anim = 8070
ctrl = 0
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20 
value = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = s0,40

[State 200, 2]
type = PlaySnd
trigger1 = time = 56
value = s310,0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 55
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 8071
pos = 8,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1410
id = 82966
pos = -11,-38
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = 20
sprpriority = 5
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 82966
pos = -11,-38
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = 20
sprpriority = 3
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[StateDef 8071]
type = S
movetype = A
physics = S
juggle = 0
poweradd = -50
anim = 70700
ctrl = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 33

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = s8000,4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 30
channel = -1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 1,0
anim = F1300+random%3
ID = 6073
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6073
ID = 6073
postype = p1
pos = 0,0
bindtime = 26
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.2
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = A, NP
damage = 90
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 80
sparkno = 1421
sparkxy = 0,0
hitsound = 11,7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = F21,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = F21,1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 70720
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 70705
time = 9999
forceair = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -50
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 70705
ctrl = 0

[Statedef 8072]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -12,-39
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.15*(time-2)*0.1,0.15*(time-2)*0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 35

[Statedef 8074]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 6092

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToTarget]
type = BindToTarget
trigger1 = time = 0
time = -1
ID = -1
pos = 0,0

[State 250, 5]
type = Destroyself
trigger1 = time = 69

;-------------------------------------------------------------------------------
;Raiton Seiten no Hekireki
[statedef 8800]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6148
poweradd = -2000
sprpriority =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
trigger2 = Animelem = 6
trigger3 = Animelem = 9
trigger4 = Animelem = 12
value = 0,25

[State 6000, Helper]
type = Helper
trigger1 = time = 22
helpertype = normal
name = "Bunshin"
ID = 8821
stateno = 8821
pos = 0,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
ontop = 0
sprpriority = 10

[State 6000, Helper]
type = Helper
trigger1 = time = 42
helpertype = Player
name = "Bunshin"
ID = 8802
stateno = 8802
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
ontop = 0
sprpriority = -2
pausemovetime = 999999999

[State 0, SprPriority]
type = SprPriority
trigger1 = helper,movehit 
value = -2

[State 6000, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 8801
ctrl = 1

[statedef 8801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1699
poweradd = 5
sprpriority = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = helper(8802), pos x
y = helper(8802), pos y

[State 6000, ChangeState]
type = ChangeState
trigger1 = helper,stateno = 8888
trigger2 = numhelper(8802) = 0
trigger3 = var(1) = !1
value = 8820
ctrl = 1

[State 6000, ChangeState]
type = ChangeState
trigger1 = power <= 50
trigger2 = command = "z" && helper(8802),stateno = 0
trigger2 = command = "z" && helper(8802),stateno != 101 
trigger2 = command = "z" && helper(8802),stateno != 8805
trigger2 = command = "z" && helper(8802),stateno != 8806 
trigger2 = command = "z" && helper(8802),stateno != 8807 
trigger2 = command = "z" && helper(8802),stateno != 8808 
trigger2 = command = "z" && helper(8802),stateno != 8809 
trigger2 = command = "z" && helper(8802),stateno != 8810 
trigger2 = command = "z" && helper(8802),stateno != 8811 
trigger2 = command = "z" && helper(8802),stateno != 8812
trigger2 = command = "z" && helper(8802),stateno != 8813
trigger2 = command = "z" && helper(8802),stateno != 8814
trigger2 = command = "z" && helper(8802),stateno != 8815
trigger2 = command = "z" && helper(8802),stateno != 8816
trigger3 = life = 0
trigger4 = DrawGame = 1
trigger5 = WinTime = 1
trigger6 = LoseTime = 1
trigger7 = p2life = 0
trigger8 = var(1) = !1
value = 8820
ctrl = 1

[StateDef 8821]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6150
poweradd = 0
sprpriority = 10

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,40

[State 0, SprPriority]
type = SprPriority
trigger1 = helper,movehit 
value = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(61420) = 0
anim = 6142
ID = 61420
pos = 5,0
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale = 1.4,0.8
removetime = 200

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(60920) = 0
anim = 6092
ID = 60920
pos = 3,-20
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale =0.8,0.8
removetime = 200

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
attr = S, NA
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 10, Hit
pausetime = 0, 200
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = s8000,0
guardsound = s8000,0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
fall = 1
palfx.time = 100
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
triggerall = numexplod(60920) = 1
trigger1 = time = 1
trigger2 = time = 30
trigger3 = time = 60
trigger4 = time = 90
trigger5 = time = 120
trigger6 = time = 150
trigger7 = time = 170
value = S8000,4

[State 17008, end]
type = destroyself
trigger1 = time = 24

;----------------------------------------------------------------------------
;Showing
[StateDef 8820]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 6147
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 10
flag = noshadow

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,0

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = 1
pos = 6, 0
scale = 0.7,0.7
sprpriority = 2
ownpal = 1
ontop = 0

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = -1
pos = -6, 0
scale = 0.7,0.7
sprpriority = 2
ownpal = 1
ontop = 0

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = 256,256

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6145
bindtime = 1
facing = 1
pos = 10, -30
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = s0,41

[State 1532, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
ID = 8822
stateno = 8822
pos = -26,-24
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 255,44]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 70
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

[Statedef 8822]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -26,-24
ignorehitpause = 0
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1*time*0.25-1,0.1*time*0.25-1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 40

;----------------------------------------------------------------------------
;Rai
[statedef 8802]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6149
poweradd = 0
sprpriority = -2

[State 6000, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8815
ctrl = 1

;---------------------------------------------------------------------
;Electric Attack 1
[Statedef 8803]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202
poweradd = -20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volume = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 12
channel = -1

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 2

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 27,-35
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 10
scale = 0.45,0.45

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 6012
ID = 6012
pos = 3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
scale = 0.6,0.6
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 11
v = 16
value = 20

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 11
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,command = "z" && time > 11
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 8888

[State 3200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Electric Attack 2
[Statedef 8804]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8004
poweradd = -20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = AnimElem = 5
channel = -1

[State 200, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 3

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 35,-32
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = -2
removetime = 10
scale = 0.45,0.45

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 6012
ID = 6012
pos = 3,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
scale = 0.6,0.6
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 14
v = 16
value = 20

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 14
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,command = "z" && time > 14
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 8888

[State 1532, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Raikiri lvl 1
[Statedef 8805]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8005
poweradd = 0
sprpriority = 1

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = 6086
ID = 6086
pos = -2,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
scale = 0.6,0.6
removetime = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8806
ctrl = 1

[Statedef 8806]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8009
poweradd = -1000
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 0,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = -2
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2dist X<= 50
id = 6086 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 7500, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 55

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 1531, 3]
type = ChangeState
trigger1 = p2dist X<= 45
value = 8807
ctrl = 1

[Statedef 8807]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8013
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 40,-33
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = -2
scale = 0.6,0.6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 30
id = 6086

[State 1532, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 65
sparkno = S30020
sparkxy = 210, -100
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 29
helpertype = normal
ID = 8018
stateno = 8018
pos = 40,-33
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpriority = 5
persistent = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, VarSet]
type = VarSet
trigger1 = time = 70
v = 16
value = 50

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 70
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Raikiri lvl 2
[Statedef 8808]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8006
poweradd = 0
sprpriority = 1

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 6086
ID = 6086
pos = 5,-10
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
bindtime = 33
removetime = 33
scale = 0.8,0.8
pausemove = 33
supermove = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,29

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S300,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S0,39

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 1530, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 8809
ctrl = 1

[StateDef 8809]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -1500
ctrl =  0
anim = 8010
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = 17,-42
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = -2
scale = 0.8,0.8

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movehit && time > 0
trigger2 = time = 20
id = 6086 

[State 8101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 45
under = 1

[State 8101, MakeDust]
type = MakeDust
trigger1 = time > 0
pos = -30,0
spacing = 3

[State 8101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,3

[State 8101, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA
damage = 800
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0,115
sparkno = S30000
sparkxy = -17, 9
hitsound = s8000,0
guardsound = 6, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -4
airguard.velocity = -0,0
air.type = High
air.velocity = -1,-4
air.hittime = 12
fall = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 4

[State 8101, VelAdd]
type = Velset
trigger1 = 1
x = 17

[State 8101, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 8812
ctrl = 0

[State 8101, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 8810
ctrl = 0

[StateDef 8810]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8014
sprpriority = 1

[State 8101, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = 47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = 48
removetime = 48
scale = 0.8,0.8

[State 905, 7]
type = Envcolor
trigger1 = time = 0
value = 0,0,0
time = 100
under = 1

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 8811
ctrl = 1

[StateDef 8811]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8019
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6087
ID = 6087
pos = 40,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = 9
removetime = 9
scale = 0.8,0.8

[State 1532, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
ID = 8018
stateno = 8018
pos = -16,-24
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 75
v = 16
value = 50

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 70
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

[StateDef 8812]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8014
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6086
ID = 6086
pos = 47,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 1
bindtime = 20
removetime = 20
scale = 0.8,0.8

[State 8102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 8102, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40

[State 1532, Helper]
type = Helper
trigger1 = time = 21
helpertype = normal
ID = 8018
stateno = 8018
pos = 47,-34
postype = p1    ;p2,front,back,left,right
facing = 1
vfacing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 85
v = 16
value = 50

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 80
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 85
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Raiton Urufu denki
[Statedef 8813]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6138
poweradd = -1000
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S0,40
volume = 0

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 4
anim = 6086
ID = 6086
pos = 10,-40
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
removetime = 19
bindtime = -2
scale = 0.4,0.4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 26
anim = 6086
ID = 6086
pos = 25,-31
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
removetime = 3
bindtime = -2
scale = 0.4,0.4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 29
anim = 6086
ID = 6086
pos = -8,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
removetime = 6
bindtime = -2
scale = 0.4,0.4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 35
anim = 6086
ID = 6086
pos = -2,-38
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
removetime = 30
bindtime = -2
scale = 0.7,0.7

[State 0, SprPriority]
type = SprPriority
trigger1 = helper(8091),movehit 
value = 1

[State 1532, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Wolf"
ID = 8814
stateno = 8814
pos = 241,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 75
v = 16
value = 50

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 70
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,command = "z" && time > 70
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 8888

[State 1532, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

[Statedef 8814]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6139
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,32
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S8000,4
volume = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
attr = S, NA
damage = 100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 50
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = 354354
guardsound = 5354354
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(6092) = 0
anim = 6092
ID = 6092
pos = 0,-20
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
ontop = 0
scale = 0.8,0.8
removetime = 50

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 2

[State 1532, ChangeState]
type = Destroyself
trigger1 = time = 39

;-----------------------------------------------------------------------
;Raiton Kosoku kogeki
[Statedef 8815]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -100
ctrl = 0
velset = 0,0
anim = 6140
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volume = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6086
ID = 6086
pos = -8,-30
postype = p1  ;p2,front,back,left,right
sprpriority = 3
layerno = 3
facing = 1
ontop = 0
removetime = 15
bindtime = -2
scale = 0.4,0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = s0,38

[State 210, 2]
type = AfterImage
trigger1 = ishelper(8802)
trigger1 = time = 1 
trigger2 = time = 15
time = 14
length = 15
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time > 15 && time < 25
x = 8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 25
x = p2dist x +70

[State 20000, 4]
type = ChangeState
trigger1 = p2dist x <= -70
trigger2 = frontedgebodydist <= 10
value = 8816
ctrl = 1

[StateDef 8816]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 8019
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volume = 0

[State 1532, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Parali¿"
ID = 8817
stateno = 8817
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
size.xscale = 0.8
size.yscale = 0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6087
ID = 6087
pos = 40,-34
postype = p1  ;p2,front,back,left,right
sprpriority = 2
layerno = 2
facing = 1
ontop = 0
bindtime = 9
removetime = 9
scale = 0.8,0.8

[State 1532, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal
ID = 8018
stateno = 8018
pos = -14,-24
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = time = 70
v = 16
value = 20

[State 200, after]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 75
time = -1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 8889
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 30
trigger3 = parent,life = 0
trigger4 = parent,DrawGame = 1
trigger5 = parent,WinTime = 1
trigger6 = parent,LoseTime = 1
trigger7 = p2life = 0
value = 8888

[State 8102, ChangeState]
type = ChangeState
trigger1 = time = 75
value = 0
ctrl = 1

[Statedef 8817]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6146
poweradd = 0
sprpriority = 2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 
anim = 6102
ID = 6102
postype = p1
pos = 0,-30
sprpriority = 3
removetime = 20
ownpal = 1
ontop = 0
scale = 0.5,0.2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(6142) = 0
anim = 6142
ID = 6142
pos = 5,0
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale = 1.4,0.8
removetime = 200

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(6092) = 0
anim = 6092
ID = 6092
pos = 3,-20
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale =0.8,0.8
removetime = 200

[State 0, PlaySnd]
type = PlaySnd
triggerall = numexplod(6092) = 1
trigger1 = time = 1
trigger2 = time = 30
trigger3 = time = 60
trigger4 = time = 90
trigger5 = time = 120
trigger6 = time = 150
trigger7 = time = 170
value = S8000,4

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 1
attr = S, NA
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 200
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = s8000,0
guardsound = s8000,0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
palfx.time = 200
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 1532, ChangeState]
type = Destroyself
trigger1 = time = 200

;-----------------------------------------------------------------------
;Damage bunshin
[StateDef 8888]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6143
poweradd = 0
sprpriority = 2

[State 200, After]
type = AfterImage
triggerall = ishelper(8802)
trigger1 = time = 0
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 1532, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "Parali¿"
ID = 8887
stateno = 8887
pos = 0,-20
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 3
size.xscale = 1
size.yscale = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volume = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 17008, end]
type = destroyself
trigger1 = animtime = 0

[StateDef 8887]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6144
poweradd = 0
sprpriority = 3

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1 
anim = 6013
bindtime = 1
facing = 1
pos = 6, 20
scale = 0.7,0.7
sprpriority = 2
ownpal = 1
ontop = 0

[State 0]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6013
bindtime = 1
facing = -1
pos = -6, 20
scale = 0.7,0.7
sprpriority = 2
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(61420) = 0
anim = 6142
ID = 61420
pos = 5,0
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale = 1.4,0.8
removetime = 200

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movecontact = 1 && numexplod(60920) = 0
anim = 6092
ID = 60920
pos = 3,-20
postype = p2  ;p2,front,back,left,right
sprpriority = 2
layerno = 0
facing = 1
bindtime = 200
ontop = 0
scale =0.8,0.8
removetime = 200

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
attr = S, NA
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 200
sparkno = 1465165
guardsparkno = 35354354
sparkxy = 210, -100
hitsound = s8000,0
guardsound = s8000,0
ground.type = light
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = light
air.velocity = 0,0
air.hittime = 0
fall = 1
palfx.time = 100
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
triggerall = numexplod(60920) = 1
trigger1 = time = 1
trigger2 = time = 30
trigger3 = time = 60
trigger4 = time = 90
trigger5 = time = 120
trigger6 = time = 150
trigger7 = time = 170
value = S8000,4

[State 17008, end]
type = destroyself
trigger1 = time = 200

;--------------------------------------------
[StateDef 8889]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 0

[state 0]
type = VarSet
trigger1 = time = 0
v = 9
value = var(9) + GetHitVar(damage)

[State 200]
type = ChangeState
trigger1 = parent,stateno != 8801
trigger2 = parent,power <= 5
trigger3 = parent,command = "z"
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 8888

[State 2064, 2]
type = ChangeState
trigger1 = var(9) < 700
trigger1 = time = 30
value = 5000
ctrl = 1

[State 2064, 3]
type = ChangeState
trigger1 = var(9) >= 700
trigger1 = time = 30
value = 8888

;-------------------------------------------------------------------
;Raikiri -> suiton ground
[StateDef 4410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8000
poweradd = 0
sprpriority = -1

[State 5,afterimage]
type = AfterImage
triggerall = var(1) = 1 
trigger1 = time = 1
time = 1
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,0,0
palpostbright = 0,0,0
paladd = 256,0,0
palmul = .55,.65,.75
timegap = 1
framegap = 1
trans = add

[State 101100, Turn]
type = Turn
trigger1 = p2bodydist X < -30

[State 1532, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
ID = 4412
stateno = 4412
pos = -1, -40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 0
sprpriority = 5
persistent = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6095
ID = 6095
postype = p1
pos = 30,0
bindtime = -1
sprpriority = -1
ownpal = 1
ontop = 0
facing = 1
scale = 0.5,0.5
removetime = -1
removeongethit = 1

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6095
ID = 6095
postype = p1
pos = -30,0
bindtime = -1
sprpriority = -1
ownpal = 1
ontop = 0
facing = -1
scale = 0.5,0.5
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 6095

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 6096
ID = 6096
postype = p1
pos = 0,0
bindtime = -1
sprpriority = -2
ownpal = 1
ontop = 0
facing = 1
scale = 1,0.3
removetime = -1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 50
id = 6096

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 200
freq = 70
ampl = -1
phase = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 100
value = S0,40
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S220,0

[State 8000, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 4411
ctrl = 1

[StateDef 4411]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4411
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,39

[State -3, Raikiri]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1380
bindtime = 1
facing = 1
postype = p1
pos = 15, 2
scale = 0.7,0.7
sprpriority = 4
removetime = 45
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F1380
bindtime = 1
facing = -1
postype = p1
pos = -15, 2
scale = 0.7,0.7
sprpriority = 4
removetime = 45
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 79
time = 1

[State 400, Helper]
type = Helper
triggerall = time = 7
trigger1 = numhelper(4401) = 1
trigger2 = partner,numhelper(4401) = 1
trigger3 = enemy(0),numhelper(4401) = 1
trigger4 = enemy(1),numhelper(4401) = 1
ID = 4404
pos = 0,0
postype = p1
stateno = 4404
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 400, Helper]
type = Helper
trigger1 = time = 7
trigger1 = numhelper(4401) = 0
trigger1 = partner,numhelper(4401) = 0
trigger1 = enemy(0),numhelper(4401) = 0
trigger1 = enemy(1),numhelper(4401) = 0
ID = 4413
pos = 0,0
postype = p1
stateno = 4413
helpertype = normal
name = "Kouken"
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.05
pausemovetime = 9999

[State 8000, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 12
ctrl = 1

[Statedef 4412]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
facing = 0
pos = -1,-40
ignorehitpause = 0
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 00.15*(time-2)*0.1,00.15*(time-2)*0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = root,stateno != 4410

[Statedef 4413]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 4413

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109923

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 3
facing = 0
pos = 3,2
ignorehitpause = 0
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 60
channel = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F1300
id = 240
pos = -25+random%50,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F1310
id = 240
pos = -25+random%50,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F1320
id = 240
pos = -25+random%50,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 8
attr = S, NA
damage = root,var(3)*1.25*1.86,root,var(3)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1
sprpriority = 1
pausetime = 0, 30
sparkno = 1420+random%3
sparkxy = -10-random%10, -10-random%30
hitsound = 11, 3
guardsound = 11, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 250, 5]
type = Destroyself
trigger1 = time = 60

[Statedef 4414]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 6086

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 0
pos = -3,5
ignorehitpause = 0
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.1*time*0.25-1,0.1*time*0.25-1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 40





;-------------------------------------------------------------------------------------
;=====================================================================================
;--------------------------------------[ SUITON ]-------------------------------------
;=====================================================================================
;-------------------------------------------------------------------------------------



;Water Wave
[statedef 1700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1697
poweradd = -2000
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
trigger2 = Animelem = 7
trigger3 = Animelem = 10
value = 0,25

[State 6000, Helper]
type = Helper
trigger1 = time = 58
helpertype = Player
name = "Bunshin"
ID = 1701
stateno = 1701
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 1
ownpal = 1
ontop = 0
sprpriority = 1

[State 6000, Helper]
type = Helper
trigger1 = time = 46
helpertype = normal
name = "Wave"
ID = 6020
stateno = 6020
pos = 0,5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpriority = 8

[State 0, SprPriority]
type = SprPriority
trigger1 = helper,movehit 
value = -1

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = time = 46
value = S1700,65

[State 6000, ChangeState]
type = ChangeState
trigger1 = time = 96
value = 1699
ctrl = 1

[statedef 1699]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1699
poweradd = 5
sprpriority = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = helper(1701), pos x
y = helper(1701), pos y

[State 6000, ChangeState]
type = ChangeState
trigger1 = helper,stateno = 17009 
trigger2 = numhelper(1701) = 0
value = 1702
ctrl = 1

[State 6000, ChangeState]
type = ChangeState
trigger1 = power <= 5
trigger2 = command = "z" && helper(1701),stateno != 101
trigger2 = command = "z" && helper(1701),stateno = 0
trigger3 = life = 0
trigger4 = DrawGame = 1
trigger5 = WinTime = 1
trigger6 = LoseTime = 1
trigger7 = p2life = 0
value = 1702
ctrl = 1

[statedef 1702]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1700
poweradd = 5
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = pos x = 0
y = pos y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, Helper]
type = Helper
trigger1 = time = 3
name = "Big"
ID = 1703
stateno = 1703
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
sprpriority = 4

[State 6000, ChangeState]
type = ChangeState
trigger1 = time = 25
value = 0
ctrl = 1

[StateDef 1703]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6018
poweradd = 1
sprpriority = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = time <= 84
value = 0
ignorehitpause = 1
persistent = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 84
value = 4
ignorehitpause = 1
persistent = 1

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,23

[State 0, Posset]
type = Posset
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 401, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
attr = S, NA
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 8, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 0
fall = 1
p2stateno = 1704
shadow = 0

[State 401, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 15
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
trigger4 = AnimElem = 18
trigger5 = AnimElem = 19
trigger6 = AnimElem = 20
trigger7 = AnimElem = 21
trigger8 = AnimElem = 22
attr = S, NA
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 8, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 0
fall = 1
p2stateno = 1705
shadow = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
anim = 6002
ID = 6002
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,40
vel = 1,-2
postype = p2  
bindtime = 1
removetime = -2
supermove
pausemove
scale = .5,.5
sprpriority = 1
ownpal = 1

[State 401, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

[StateDef 1704]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5000
velset = 0,0
under = 1
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 20
value = 5000
ctrl = 1

[StateDef 1705]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5110
velset = 0,0
under = 1
poweradd = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 2006, ChangeState]
type = SelfState
trigger1 = time = 20
value = 5110
ctrl = 1

;----------------------------------------------------------------------------
;Wave
[StateDef 6020]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6015
poweradd = 1
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 70
facing = 0
pos = 0,5
ignorehitpause = 0
persistent = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit 
value = 10

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,23

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,23

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 401, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
attr = S, NA
damage = 160
animtype = Light
guardflag = MA
hitflag = MAF
priority = 8, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-0
air.hittime = 12
fall = 1
shadow = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
anim = 6002
ID = 6002
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+20
random = 20,40
vel = 1,-2
postype = p2  
bindtime = 1
removetime = -2
supermove
pausemove
scale = .5,.5
sprpriority = 1
ownpal = 1

[State 401, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;----------------------------------------------------------------
;Mizu
[statedef 1701]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1698
poweradd = 0
sprpriority = 1

[State 6000, ChangeState]
type = ChangeState
trigger1 = Animtime = 0
value = 30230
ctrl = 1

;----------------------------------------------------------------------
;Water teleport
[StateDef 30200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1705
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1700,65

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 30210
ctrl = 1

[StateDef 30210]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6020
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = -3

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger3 = parent,command = "z"
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 200, end]
type = ChangeState
trigger1 = parent,command = "y"
value = 30220
ctrl = 1

[StateDef 30220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1700
sprpriority = 1

[State 101100, Turn]
type = Turn
trigger1 = p2bodydist X < -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1700,65

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
;Geizer Attack
[StateDef 30230]
type = S
movetype = A
physics = S
juggle = 0
anim = 1706
ctrl = 0
sprpiority = 2

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S300,1

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 3200, Helper]
type = Helper
trigger1 = time = 6
ID = 30880
pos = 0,0
postype = p2
stateno = 30880
helpertype = normal
name = "Geizer"
keyctrl = 0
ownpal = 1
sprpiority = 2

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 17010
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 3200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Geizer
[Statedef 30880]
type = S
movetype = A
physics = S
anim = 1704
velset = 0,0
ctrl = 0
sprpiority = 2
poweraad = 5

[State 0, Posset]
type = Posset
trigger1 = 1
y = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
trigger7 = animelem = 13
trigger8 = animelem = 15
trigger9 = animelem = 17
trigger10 = animelem = 19
trigger11 = animelem = 21
trigger12 = animelem = 23
trigger13 = animelem = 25
trigger14 = animelem = 27
trigger15 = animelem = 29
value = 0,21

[State 3211, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
trigger7 = animelem = 13
trigger8 = animelem = 14
trigger9 = animelem = 15
trigger10 = animelem = 16
trigger11 = animelem = 17
trigger12 = animelem = 18
trigger13 = animelem = 19
trigger14 = animelem = 20
trigger15 = animelem = 21
trigger16 = animelem = 22
trigger17 = animelem = 23
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
priority = 4,Hit
damage = 5
pausetime = 0,10
sparkno = 643453453
sparkxy = -17,-10
hitsound = S1705,35
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = low
air.velocity = 0,0
air.hittime = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
anim = 6002
ID = 6002
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+5
random = 0,40
vel = 1,-2
postype = p1  
bindtime = 1
removetime = 18
supermove
pausemove
scale = .2,.2
sprpriority = 1
ownpal = 1

[State 3211, DestroySelf]
type = DestroySelf
trigger1 = Time = 87

;---------------------------------------------
;Water pistol
[StateDef 30529]
type = S
movetype = A
physics = S
juggle = 0
anim = 1701
ctrl = 0
sprpiority = 6

[State 0, SprPriority]
type = SprPriority
trigger1 = helper,movehit 
value = 6

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S290,0

[State 310, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S310,0

[State 3200, Helper]
type = Helper
trigger1 = time = 10
ID = 30530
pos = 27,-31
postype = p1
stateno = 30530
helpertype = normal
name = "Pistol"
keyctrl = 0
ownpal = 1

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 17010
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 3200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Pistol
[Statedef 30530]
type = S
movetype = A
physics = S
anim = 1703
velset = 0,0
ctrl = 0
sprpiority = 3
poweradd = 5

[State 0, SprPriority]
type = SprPriority
trigger1 = helper,movehit 
value = 7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
value = 0,21

[State 3211, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
priority = 3,Hit
damage = 10
pausetime = 0,10
sparkno = 5354354354
sparkxy = -17,-10
hitsound = s1705,35
ground.type = High
ground.slide = 0
ground.hit = 0
air.hittime = 20
ground.velocity = -2
guard.velocity = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
anim = 6002
ID = 6002
pos = (enemynear,const(size.mid.pos.x))+20,(enemynear,const(size.mid.pos.y))+45
random = 20,45
vel = 1,-2
postype = p1  
bindtime = 1
removetime = 18
supermove
pausemove
scale = .3,.3
sprpriority = 1
ownpal = 1

[State 3211, DestroySelf]
type = DestroySelf
trigger1 = Time = 27

;-----------------------------------------------------------------------
;Suiton Suiryuudan
[StateDef 30300]
type = S
movetype = A
physics = S
juggle = 0
anim = 400
poweradd = -1500
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
trigger5 = animelem = 16
value = 0,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 20
value = 0,29

[State 400, Helper]
type = Helper
trigger1 = time = 50
ID = 401
pos = 60,10
postype = p1
stateno = 401
helpertype = player
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 17010
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------
;Water Shield
[StateDef 30400]
type = S
movetype = A
physics = S
juggle = 0
anim = 6016
poweradd = -300
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = 400,0

[State 400, Helper]
type = Helper
trigger1 = time = 3
ID = 30401
pos = 30,5
postype = p1
stateno = 30401
helpertype = normal
name = "Shield"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 52
size.xscale = 1
size.yscale = 1

[State 30000, 4]
type = HitOverride
trigger1 = Time = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 17010
time = -1

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Shield
[StateDef 30401]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6017
poweradd = 1
sprpriority = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 52
facing = 0
pos = 30,5
ignorehitpause = 0
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 5

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
trigger7 = animelem = 13
value = 0,21

[State 401, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
attr = S, NA
damage = 30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 10
sparkno = 616161
sparkxy = 0,30
hitsound = S1705,35
guardsound = 34563
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-0
air.hittime = 12
fall = 1
shadow = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit
anim = 6002
ID = 6002
pos = (enemynear,const(size.mid.pos.x))+15,(enemynear,const(size.mid.pos.y))+20
random = 30,40
vel = 1,-5
postype = p1  
bindtime = -6
removetime = 18
supermove
pausemove
scale = .5,.5
sprpriority = 1
ownpal = 1
ontop = 1

[State 401, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;-----------------------------------------------------------------------
;Damage bunshin
[StateDef 17009]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6019
poweradd = 0
sprpriority = 0

[State 1, Trans] 
type = Trans 
trigger1 = 1
trans = addalpha 
alpha = 256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 340, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1700,65

[State 17008, end]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------
[StateDef 17010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 0

[state 0]
type = VarSet
trigger1 = time = 0
v = 6
value = var(6) + GetHitVar(damage)

[State 200]
type = ChangeState
trigger1 = parent,stateno != 1699
trigger2 = parent,power <= 5
trigger3 = parent,command = "z"
trigger4 = parent,life = 0
trigger5 = parent,DrawGame = 1
trigger6 = parent,WinTime = 1
trigger7 = parent,LoseTime = 1
trigger8 = p2life = 0
value = 17009

[State 2064, 2]
type = ChangeState
trigger1 = var(6) < 200
trigger1 = time = 30
value = 5000
ctrl = 1

[State 2064, 3]
type = ChangeState
trigger1 = var(6) >= 200
trigger1 = time = 30
value = 17009

;----------------------------------------------------------------------------
;Suiton Suiryuudan
[StateDef 400]
type = S
movetype = A
physics = S
juggle = 0
anim = 400
poweradd = -1500
ctrl = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 0 && time < 50
Time = 3
color = 256-(time*2.62)
add = 0-(time*1.4),0-(time*1.4),0-(time*1.4)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 50 && time < 100
Time = 3
color = 125
add = -70,-70,-70
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 100 && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = 400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = 400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
trigger5 = animelem = 16
value = 0,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = 0,29

[State 400, Helper]
type = Helper
trigger1 = time = 110
ID = 401
pos = 60,10
postype = p1
stateno = 401
helpertype = player
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 110
movetime = 110
anim = -1
darken = 0
ignorehitpause = 1
unhittable = 0

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 37
anim = F101
ID = 6014
postype = p1
pos = 6,-38
bindtime = -1
sprpriority = 3
ontop = 0
removetime = -2
pausemovetime = 9999
supermovetime = 9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 400, end]
type = ChangeState
trigger1 = time = 115
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Suiryuudan
[StateDef 401]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 401
poweradd = 1
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && timemod = 15,1
anim = F1090
ID = 6001
pos = -10,3
postype = p1
bindtime = -1
removetime = 18
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && timemod = 15,1
anim = F250
ID = 6001
pos = 0,3
postype = p1
facing = -1
bindtime = -1
removetime = 18
supermovetime=9999
pausemovetime=9999
scale = 2,2
sprpriority = 5
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && timemod = 5,1
anim = F240
ID = 6001
pos = -10-random%60,-20-random%30
postype = p1
facing = -1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.3,1.3
sprpriority = 6
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 4201]
type = VelSet
trigger1 = 1
x = 6

[State 1533]
type = TargetBind
trigger1 = time >= 1
time = -1
id = -1
pos = 100,0

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,22

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
value = S0,21

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6014
ID = 6014
postype = p1
pos = 10,-5
bindtime = -1
sprpriority = 5
ownpal = 1
ontop = 0
removetime = 70
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = ModifyExplod
trigger1 = 1
ID = 6014
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 6014
ID = 6014
postype = p1
pos = -70,-5
bindtime = -1
sprpriority = 5
ownpal = 1
ontop = 0
removetime = 70
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = ModifyExplod
trigger1 = 1
ID = 6014
trans = addalpha 
alpha = 256-fvar(2),256

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
attr = S, NA
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0, 10
sparkno = 240
sparkxy = -65+random%30,10-random%15
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-0
air.hittime = 12
fall = 1

[State 401, DestroySelf]
type = DestroySelf
trigger1 = time = 75
;-----------------
;Suiton, Suiryuudan
[StateDef 405]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 405
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 12
trigger6 = animelem = 14
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 400,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 400,1

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal;player
name = "suiton"
ID = 406
stateno = 406
pos = 60,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1
;------------------------
[StateDef 406]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 406
poweradd = cond((numhelper(4401)=1 || partner,numhelper(4401) = 1 || enemy(0),numhelper(4401)=1 || enemy(1),numhelper(4401)=1),-1000,-2000)
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109933

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 80
time = 1
pos = 50,-10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 90 && timemod = 2,0
anim = F241
id = 241
pos = -30+random%100,0-random%60
scale = 1.5,1.5
postype = p1
facing = -1
vel = -3+random%3,-1+random%2
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 90 && timemod = 10,0
anim = F1530
id = 1530
pos = 10,0
scale = 2.3,2.3
postype = p1
facing = -1
vel = -1,0
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F12,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F12,1
volume = 256
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F18,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F18,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = F12,3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
getpower = 0
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = 1550;240
sparkxy = -5-random%40, 0-random%40
hitsound = F12,0
guardsound = F12,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -5,-1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5,-0.5
air.hittime = 20
fall = 1
envshake.time = 70
envshake.ampl = 5
envshake.freq = 70

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F250
ID = 250
postype = p1
pos = 10,-5
bindtime = -1
sprpriority = 4
ownpal = 1
ontop = 0
removetime = 45
scale = 2,2
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F250
ID = 250
postype = p1
pos = -20,-5
bindtime = -1
sprpriority = 4
facing = -1
ownpal = 1
ontop = 0
removetime = 45
scale = 2,2
supermovetime = 9999
pausemovetime = 9999
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, End]
type = destroyself
trigger1 = time = 100

;----------------------------------------------------------------------------
;Suiton Sujinheki
[StateDef 410]
type = S
movetype = A
physics = S
juggle = 0
anim = 410
poweradd = -1000
ctrl = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 6,-40
scale = 0.5,0.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = 400,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = 0,25

[State 400, Helper]
type = Helper
trigger1 = animelem = 4
ID = 411
pos = 42,-34
postype = p1
stateno = 411
helpertype = normal
name = "mizurappa"
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
pausemovetime = 48
size.xscale = 0.8
size.yscale = 0.6

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Sujinheki
[StateDef 411]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 6034
poweradd = 1
sprpriority = 6

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, BindToParent]
type = BindToParent
trigger1 = time < 40 && parent, stateno = 410
time = 1
facing = 0
pos = 42,-34
ignorehitpause = 0
persistent = 1

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 20
channel = -1

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
trigger3 = AnimElem = 11
trigger4 = AnimElem = 16
value = S0,21

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
attr = S, NA
damage = 9,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 3
sparkno = 241
sparkxy = -50+random%20,0-random%10
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-0
air.hittime = 12
fall = 0

[State 401, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;----------------------------------------------------------------------------
;Suiton suijuheki
[StateDef 666]
type = S
movetype = A
physics = S
juggle = 0
anim = 666
poweradd = 0
ctrl = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = 0,25

[State 400, Helper]
type = Helper
trigger1 = time = 5
ID = 667
pos = 60,0
postype = p1
stateno = 667
helpertype = normal
name = "suijuheki"
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.7

[State 400, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
triggerall = time > 50
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Suijuheki
[StateDef 667]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 667
poweradd = cond((numhelper(4401)=1 || partner,numhelper(4401) = 1 || enemy(0),numhelper(4401)=1 || enemy(1),numhelper(4401)=1),-50,-300)
sprpriority = 6

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109931

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x <= 40 && parentdist x >= -80
triggerall = p2bodydist x > 20
triggerall = ishelper(540)
v = 18
value = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = parentdist x > 40
trigger2 = p2bodydist x < 20
trigger3 = parentdist x < -80
triggerall = ishelper(540)
v = 18
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1530
id = 1530
pos = 20,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1530
id = 1530
pos = -20,0
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 1530
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 10,0
anim = F250
ID = 6054
postype = p1
pos = 0,2
bindtime = -1
sprpriority = 2
ontop = 0
removetime = 15
supermovetime = 9999
pausemovetime = 9999
scale = 1.3,1.3
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 1533,excplod ]
type = Explod
trigger1 = timemod = 10,0
anim = F250
ID = 6054
postype = p1
pos = 0,2
facing = -1
bindtime = -1
sprpriority = 2
ontop = 0
removetime = 15
supermovetime = 9999
pausemovetime = 9999
scale = 1.3,1.3
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = 6100
ID = 6054
postype = p1
pos = 0,-3
facing = -1
bindtime = -1
sprpriority = 8
ownpal = 1
ontop = 0
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.15
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = Explod
trigger1 = time = 0
anim = F550
ID = 6054
postype = p1
pos = 0,0
facing = -1
bindtime = -1
sprpriority = 7
ownpal = 1
ontop = 0
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.9,0.9
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 25 && timemod = 4,0
anim = F591
ID = 591
pos = -20+random%40,0-random%20
vel = -1+random%3,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),fvar(2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0
anim = F242
ID = 242
pos = -20+random%40,0-random%20
vel = -1+random%3,-1-random%2
accel = 0,0.05
postype = p1
bindtime = 1
angle = random
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = movecontact
triggerall = time = 0
x = root, pos x + 60

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = movecontact
triggerall = time = 0
x = root, pos x - 60

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1 
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "def"
ID = 668
stateno = 668
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 20
channel = -1

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = F12,2

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F12,1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
attr = S, NA
damage = 25,10
animtype = Light
guardflag = MA
hitflag = MAF
p1sprpriority = 6
priority = 6, Hit
pausetime = 0, 1
sparkno = 240
sparkxy = -5+random%10,-10-random%70
hitsound = 36662
guardsound = 34563
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-8
air.hittime = 12
fall = 1

[State 400, end]
type = ChangeState
trigger1 = root,stateno != 666
value = 669
ctrl = 1

[StateDef 669]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 669
poweradd = 0
sprpriority = 0


[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 200-fvar(2)*0.8,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 9
id = 6054

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = movecontact
triggerall = time = 0
x = root, pos x + 60

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = movecontact
triggerall = time = 0
x = root, pos x - 60

[State 0, PosFreeze]
type = PosFreeze
trigger1 = 1 
value = 1

[State 0, End]
type = Destroyself
trigger1 = time = 12

;-----------------
;Tarcza
[StateDef 668]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 668
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 668
time = 9999
forceair = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = parent, stateno != 667
;------------------
;Suiton Suijinheki
[StateDef 880]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 880
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = time > 30 && numexplod(1520) = 0
anim = F1520
id = 1520
pos = 7,-41
scale = 0.8,1.2
postype = p1
angle = -20
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = F8,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F12,2

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "suiton"
ID = 881
stateno = 881
pos = 7,-41
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, Explod]
type = Explod
trigger1 = time > 30 && time < 70 && timemod = 10,0
anim = F240
ID = 987601
pos = 2+random%10,-46+random%10
postype = p1
bindtime = 1
removetime = 18
vel = 0.5,-.5
scale = 0.7,0.7
sprpriority = 10
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1520, destroyself]
type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1
;-----------------------------
;Suiton Sujinheki
[StateDef 881]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 881
poweradd = cond((numhelper(4401)=1 || partner,numhelper(4401) = 1 || enemy(0),numhelper(4401)=1 || enemy(1),numhelper(4401)=1),-250,-500)
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 200-fvar(2),256

[State 0, Trans]
type = Trans
trigger1 = time > 30
trigger1 = fvar(2) !=0
trans = addalpha
alpha = 200-fvar(2)-(time-30)*10*0.8,256

[State 0, Trans]
type = Trans
trigger1 = time > 30
trigger1 = fvar(2) =0
trans = addalpha
alpha = 200-(time-30)*10*0.8,256

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "suiton"
ID = 885
stateno = 885
pos = 180,30
postype = p1    ;p2,front,back,left,right
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F21,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 880
time = 1
facing = 0
pos = 7,-41

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 5
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 4
priority = 4, Hit
pausetime = 0, 20
sparkno = 240+random%2
sparkxy = -30+random%20, 10-random%30
hitsound = 12, 0
guardsound = 12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-4
airguard.velocity = -3,-4
air.type = High
air.velocity = -3,-4
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = destroyself
trigger1 = time = 100
;-----------------------------
;Suiton Fala
[StateDef 885]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 885
poweradd = cond((numhelper(4401)=1 || partner,numhelper(4401) = 1 || enemy(0),numhelper(4401)=1 || enemy(1),numhelper(4401)=1),-500,-1000)
sprpriority = 10

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 200-fvar(2),256

[State 0, Trans]
type = Trans
trigger1 = time > 80
trigger1 = fvar(2) !=0
trans = addalpha
alpha = 200-fvar(2)-(time-80)*10*0.8,256

[State 0, Trans]
type = Trans
trigger1 = time > 80
trigger1 = fvar(2) =0
trans = addalpha
alpha = 200-(time-80)*10*0.8,256

[State 0, VarSet]
type = ParentVarSet
trigger1 = movehit = 1
v = 3
value = 300

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5
y = -0.4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 10
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
sprpriority = 10
priority = 3, Hit
pausetime = 0, 5
sparkno = 1550;240+random%2
sparkxy = -50+random%50, 15-random%30
hitsound = F12, 0
guardsound = F12, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;--------------------------------------------------------------------------
;Suiton Daibakfu
[StateDef 4000]
type = S
movetype = A
physics = S
juggle = 0
anim = 400
poweradd = -500
ctrl = 0
sprpriority = -2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 0 && time < 50
Time = 3
color = 256-(time*2.62)
add = 0-(time*1.4),0-(time*1.4),0-(time*1.4)
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time > 50 && time < 180
Time = 3
color = 125
add = -70,-70,-70
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 180 && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 13
trigger5 = animelem = 16
value = 0,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 20
value = 0,29

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 6100
ID = 6100
pos = 20,-30
postype = p1  
bindtime = 1
removetime = 75
removeongethit = 1
scale = 0.5,1
sprpriority = -1
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 1533,excplod ]
type = ModifyExplod
trigger1 = 1
ID = 6100
trans = addalpha 
alpha = 256-fvar(2),256

[State 400, Helper]
type = Helper
trigger1 = time = 1
ID = 4011
pos = 10,15
postype = p1
stateno = 4011
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -1
size.xscale = 1
size.yscale = 1

[State 400, Helper]
type = Helper
trigger1 = time = 1
ID = 4011
pos = 40,15
postype = p1
stateno = 4011
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -1
size.xscale = 1
size.yscale = 1

[State 400, Helper]
type = Helper
trigger1 = time = 50
ID = 4010
pos = -350,-30
postype = p1
stateno = 4010
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 1
size.xscale = 0.9
size.yscale = 0.4

[State 400, end]
type = ChangeState
trigger1 = time = 190
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;Daibakfu
[StateDef 4010]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 6099
poweradd = -2000
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109934

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 400, Helper]
type = Helper
trigger1 = time = 0
ID = 4012
pos = -60,0
postype = p1
stateno = 4012
helpertype = normal
name = "fale"
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 1
size.xscale = 1
size.yscale = 1

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 401, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 401,0

[State 4201]
type = VelSet
trigger1 = 1
x = 12

[State 0, TargetBind]
type = TargetBind
trigger1 = time > 50 && time < 70
time = 1
id = -1
pos = 40,30

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit
value = 4

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
value = S0,21

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,1
attr = S, NT
damage = 90,17
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 0, 1
sparkno = 240
sparkxy = -7+random%15,7-random%15
hitsound = 12,0
guardsound = 34563
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -5,-2
airguard.velocity = -3,-0.5
air.type = Low
air.velocity = -4,-1
air.hittime = 0
fall = 1
getpower = 0
givepower = 0

[State 401, DestroySelf]
type = DestroySelf
trigger1 = time = 132

[StateDef 4011]
type = S
movetype= I
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 1703
poweradd = 1
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[state 102, Angle]
type = angleset
trigger1 = 1
value = 90

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 331, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 401, DestroySelf]
type = DestroySelf
trigger1 = time = 90

[StateDef 4012]
type = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
ctrl = 0
anim = 364
poweradd = -2
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 1, Trans] 
type = Trans 
trigger1 = fvar(2) !=0
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 20
trigger3 = time = 40
trigger4 = time = 60
anim = 390
ID = 390
pos = 120,150
postype = p1  
bindtime = 1
removetime = 80
supermove
pausemove
scale = 0.8,1
sprpriority = 5
ownpal = 1
ontop = 0
trans = addalpha 
alpha = 256-fvar(2),256

[State 401, DestroySelf]
type = DestroySelf
trigger1 = time = 70

;--------------------------------------------------------------------
;Suiton wodna ka³u¿a
[Statedef 4400]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 70500
ctrl = 0
poweradd = -500
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 7000, Helper]
type = Helper
trigger1 = time = 20
ID = 4401
pos = 190,0
postype = left
stateno = 4401
helpertype = normal
name = "Woda"
ownpal = 1
supermovetime = 999

[State 250, 5]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

;Woda
[Statedef 4401]
type    = S
sprpriority = -3
anim = 4401

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 401,0

[state 0, posset]
type = posset
trigger1 = 1
x = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = (frontedgedist+backedgedist)*0.00167

[State 0, VarSet]
type = VarSet
trigger1 = fvar(5) < 0.7
fv = 5
value = 0.7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.08*time*00.1*fvar(5),0.04*time*00.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Changestate
trigger1 = time = 90
value = 4402

;-------------------------------------------------------

[Statedef 4402]
type    = S
sprpriority = -3
anim = 4402

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = (frontedgedist+backedgedist)*0.00167

[State 0, VarSet]
type = VarSet
trigger1 = fvar(5) < 0.7
fv = 5
value = 0.7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
x = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.72*fvar(5),0.36

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Changestate
trigger1 = time = 1000
value = 4403

[Statedef 4403]
type    = S
sprpriority = -3
anim = 4403

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 0, posset]
type = posset
trigger1 = 1
x = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.72-(time-1)*0.01*fvar(5),0.36-(time-1)*0.01

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 250, 5]
type = Destroyself
trigger1 = time = 30

[Statedef 4404]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 4404
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.08*time*1,0.01*time*1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 400, Helper]
type = Helper
trigger1 = numhelper(4405) = 0
ID = 4405
pos = 0,-20
postype = p1
stateno = 4405
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1

[State 250, 5]
type = Destroyself
trigger1 = time = 20

[Statedef 4405]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 4407
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-3

[State 0, Helper]
type = Helper
trigger1 = movecontact
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 60
channel = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F1300
id = 240
pos = -400+random%800,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F1310
id = 240
pos = -400+random%800,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F1320
id = 240
pos = -400+random%800,-15+random%30
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
trans = addalpha 
alpha = 256-fvar(2),256

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 10
attr = S, NA
damage = root,var(3)*1.25*2.4,root,var(3)*0.6*2.4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 1
sprpriority = 1
pausetime = 0, 40
sparkno = 1420+random%3
sparkxy = -10-random%10, -10-random%30
hitsound = 11, 3
guardsound = 11, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 250, 5]
type = Destroyself
trigger1 = time = 60

