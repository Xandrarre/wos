
[Data]
life = 3000			
power = 4000		
attack = 100	
defence = 100		
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15		
sparkno = 3		
guard.sparkno = 40	
KO.echo = 0		
IntPersistIndex = 0	
FloatPersistIndex = 0  

[Size]
xscale = 0.95			
yscale = 0.95			
ground.back = 15		
ground.front = 16		
air.back = 12		
air.front = 12		
height = 60			
attack.dist = 160		
proj.attack.dist = 90	
proj.doscale = 0		
head.pos = 0, -50	
mid.pos = 0, -35		
shadowoffset = 0		
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.4		
walk.back = -1.4		
run.fwd  = 7.3, 0		
run.back = -5.0,0	
jump.neu = 0,-8.4		
jump.back = -3.15		
jump.fwd = 3.15		
runjump.back = -2.55,8.3
runjump.fwd = 3.5,-8.3	
airjump.neu = 0,-8.3	
airjump.back = -2.55	
airjump.fwd = 2.5

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44	
stand.friction = .85	
crouch.friction = .82	

;-----------------
; Unik FWD
[StateDef 104]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 104
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F300
ID = 24
pos = 5,2
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
facing = 1
vel = -.3,0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4-time/8
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F300
ID = 24
pos = 0,2
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
facing = -1
vel = .3,0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, Turn]
type = Turn
trigger1 = animtime = 0 && p2bodydist x < 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time > 20
value = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,3
channel = 2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,5
channel = 2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,0
channel = 2

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,0+random%7
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;-- Combo1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(39*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(36*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(31*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(29*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(43*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo1
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S,NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -25, -ceil(36*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;-- Combo2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(43*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 12
ctrl = 1
;-----------------
;Combo2
[StateDef 211]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2
y = -3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(70*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo2
[StateDef 212]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-4
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(55*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo2
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-3
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(68*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo2
[StateDef 214]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 214
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [3,15]
x = 3
y = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F1090
ID = 1090
pos = 6,7
postype = p1
facing = -1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.7,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F1090
ID = 1090
pos = -5,7
postype = p1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.7,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 215
ID = 215
pos = 0,-ceil(37*0.95)
postype = p1
removetime = -2
bindtime = -1
scale = 0.35,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time >= 5 && timemod = 3,0
trigger1 = hitcount < 3
attr = A, SA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4+random%3
sparkxy = -15, -ceil(40*0.95)-random%40
hitsound = S6, 8
guardsound = S6, 8
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 20
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;-- Combo3
[StateDef 220]
type = C
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(17*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,1
airguard.velocity = -2,1
air.type = High
air.velocity = -2,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(25*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(30*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,0
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 223]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(41*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,0
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 224]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 224
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 5
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(39*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,-1
airguard.velocity = -4,-1
air.type = High
air.velocity = -4,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo3
[StateDef 225]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 225
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1090
ID = 1090
pos = 7,7
postype = p1
facing = -1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.85,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F1090
ID = 1090
pos = -6,7
postype = p1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.85,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F550
ID = 550
pos = -3,3
postype = p1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 1.3,1.2
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 226
ID = 226
pos = 0,-ceil(15*0.95)
postype = p1
removetime = -2
bindtime = -1
scale = 0.4,0.45
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time >= 5 && timemod = 3,0
trigger1 = hitcount < 3
attr = S, SA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4+random%3
sparkxy = -15, -ceil(25*0.95)-random%40
hitsound = S6, 8
guardsound = S6, 8
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 20
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;-- Combo4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(27*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-4+(enemynear, pos y - pos y)/10
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(55*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-4+(enemynear, pos y - pos y)/10
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(66*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo4
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
velset = 1,-3+(enemynear, pos y - pos y)/10
ctrl = 0
anim = 214
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [3,15]
x = 3
y = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F1090
ID = 1090
pos = 6,7
postype = p1
facing = -1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.7,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;animelem = 2
anim = F1090
ID = 1090
pos = -5,7
postype = p1
removetime = -2
bindtime = 4
removeongethit = 1
scale = 0.7,0.7
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = 215
ID = 215
pos = 0,-ceil(37*0.95)
postype = p1
removetime = -2
bindtime = -1
scale = 0.35,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time >= 5 && timemod = 3,0
trigger1 = hitcount < 3
attr = A, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4+random%3
sparkxy = -15, -ceil(40*0.95)-random%40
hitsound = S6, 8
guardsound = S6, 8
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -6,-4
airguard.velocity = -6,-4
air.type = High
air.velocity = -6,-4
air.hittime = 20
fall = 1
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;-- Combo5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(47*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 241
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(55*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-3
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-3
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 242
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 4
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(34*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,0
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-1
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 243
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(39*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(34*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,1
airguard.velocity = -3,-.8
air.type = High
air.velocity = -4,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo5
[StateDef 244]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 244
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, Explod Plomyki]
type = Explod
trigger1 = timemod = 5,0
triggerall = time < 30
anim = 246
id = 246
pos = cond(time < 10,-5-random%10,5+random%20),-30-random%20
postype = p1
accel = 0,-0.05
facing = 1
bindtime = 5
removetime = -2
sprpriority = -1+random%4
scale = 0.5,0.5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 245
id = 245
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
removeongethit = 1
sprpriority = 4
scale = 0.95,0.95
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = 90008
pos = ceil(33*0.97),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
vel = -2,0
scale = 0.55,0.55
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F461
pos = ceil(39*0.95),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.35,0.35
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%12

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S,NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 2
sparkno = 2020
sparkxy = -25, -ceil(42*0.95)
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -11,-4
airguard.velocity = -11,-4
air.type = High
air.velocity = -11,-4
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;-- Combo6
[StateDef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(37*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 251]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 251
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F1020
scale = 1.3,1.3
pos = ceil(13*0.95),-ceil(23*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-ceil(27*0.95)
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(27*0.95)
hitsound = 24,10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,1
airguard.velocity = -2,1
air.type = High
air.velocity = -2,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 252]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 252
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(37*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-1
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 253]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 253
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 9
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(40*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-1
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(37*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,1
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo6
[StateDef 254]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 254
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
triggerall = pos y >= -5
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y >= -5
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = A,NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -25, -ceil(10*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,7
airguard.velocity = -3,7
air.type = High
air.velocity = -3,7
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = movehit
value = 65
ctrl = 1
;-----------------
;-- Combo7
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(13*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,1
airguard.velocity = -2,1
air.type = High
air.velocity = -2,1
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 261]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [4,21]
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
triggerall = pos y >= -5
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
triggerall = pos y >= -5
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F4,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 9
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(30*0.95)-random%20
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 262]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 262
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(28*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 263]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 263
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(43*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 264]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 264
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(56*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = High
air.velocity = -2,-3
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo7
[StateDef 265]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 265
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,4

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 35,-28
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 15
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(40*0.95)
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;-- Combo8
[StateDef 270]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(27*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -1,-3
airguard.velocity = -1,-3
air.type = High
air.velocity = -1,-3
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 271]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2+(enemynear, pos y - pos y)/10
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(42*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2+(enemynear, pos y - pos y)/10
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = A, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(30*0.95)-random%20
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[state 0, velset]
type = velset
trigger1 = movecontact
triggerall = NumTarget
x = -target, vel x*1.5
y = target, vel y*1.5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo8
[StateDef 273]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,0
ctrl = 0
anim = 273
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = A,NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -25, -ceil(10*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,7
airguard.velocity = -3,7
air.type = High
air.velocity = -3,7
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = movehit
value = 65
ctrl = 1
;-----------------
;-- Podrzucenie
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
triggerall = pos y >= -5
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y >= -5
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2
y = -3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(70*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6
p1stateno = 281

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Podrzucenie
[StateDef 281]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-4
ctrl = 0
anim = 281
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
trigger1 = !time;AnimElem = 5
attr = A, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -ceil(55*0.95)
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,-8
airguard.velocity = -4,-8
air.type = High
air.velocity = -4,-8
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;-- Przerzucenie
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 290
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%5
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = (!time)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 20, 30
sparkno = 0+random%4
sparkxy = -25, -ceil(45*0.95*0.9)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 4,0
airguard.velocity = 4,0
air.type = High
air.velocity = 4,0
air.hittime = 20
p1stateno = 291

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przerzucenie
[StateDef 291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 291
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 15
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S4,0+random%12
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 8
attr = S,NA
damage = 60,12
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -25, -ceil(33*0.95)
hitsound = S6, 12
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 8,-4
airguard.velocity = 8,-4
air.type = High
air.velocity = 8,-4
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Schemat
[StateDef 299]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 44,-31
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,4
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F290
ID = 290
pos = 5,3
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 40
ampl = -3
phase = 50

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,1+random%13
channel = 4

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -25, -30
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3
airguard.velocity = -2,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 300]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 0
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = 310
id = 310
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.5,0.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,4
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F290
ID = 290
pos = 0,0
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 10
freq = 80
ampl = -4
phase = 90

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 301
ctrl = 1
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 301]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301
poweradd = 0
sprpriority = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 300 && time = 30
value = S1,0+random%2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 300 && time = 0
value = S3,33

[State 0, VelSet]
type = VelSet
triggerall = time > 5
trigger1 = var(50) = 0 && command = "holdfwd"
trigger2 = var(50) = 1 && p2bodydist x > 50
x = 1

[State 0, VelSet]
type = VelSet
triggerall = time > 5
trigger1 = var(50) = 0 && command = "holdback"
trigger2 = var(50) = 1 && p2bodydist x < -50
x = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 0
triggerall = timemod = 3,0
time = 20
freq = 20
ampl = -4
phase = 20

[State 0, NotHitBy]
type = HitBy
trigger1 = time > 0
value = SCA,SP,HT
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
id = 315
anim = 315
pos = -5,5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = -1
scale = 0.6,0.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = numexplod(313) = 0
anim = 313
id = 313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x >= -0.5
triggerall = vel x < 0.5
anim = F1090
postype = p1
pos = 7,6
bindtime = 1
sprpriority = 4
facing = -1
scale = 0.9,0.8
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x <= 0.5
triggerall = vel x > -0.5
anim = F1090
postype = p1
pos = -7,6
bindtime = 1
facing = 1
sprpriority = 4
scale = 0.9,0.8
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x = -0.5
anim = F1090
postype = p1
pos = 7,6
bindtime = 1
sprpriority = 4
facing = 1
scale = 0.9,0.8
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x = 0.5
anim = F1090
postype = p1
pos = -15,6
bindtime = 1
facing = -1
sprpriority = 4
scale = 0.9,0.8
ontop = 0
removetime = -2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "kaiten"
ID = 311
stateno = 311
pos = 0,-20
postype = p1    ;p2,front,back,left,right
size.xscale = 0.5
size.yscale = 0.5
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c"
trigger2 = power <= 50
trigger3 = win
trigger4 = lose
trigger5 = p2life = 0
trigger6 = var(50) = 1 && random = [0,25+ceil(var(49)/2)+cond(p2bodydist x > 100,var(49),0)]
triggerall = time >= 50
value = 302
ctrl = 1
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 302]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 302
poweradd = 0
sprpriority = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 333

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 313

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 315

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Hakkesho Kaiten
[StateDef 311]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 311
poweradd = 0
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F30,0

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F14,6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, ST
damage = 25,5
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 3
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 20
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80
fall = 1

[State 0, End]
type = changestate
trigger1 = parent, stateno != 301
value = 312
;-----------------
;Hakkesho Kaiten
[StateDef 312]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 312
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, ST
damage = 25,5
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -13,-8
airguard.velocity = -13,-8
air.type = High
air.velocity = -13,-8
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 320]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 1

;----------------

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 330
id = 330
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 321
ctrl = 1
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 321]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 321
poweradd = 0
sprpriority = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 300 && time = 30
value = S1,0+random%2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,33

[State 0, arSet]
type = VarSet
triggerall = var(2) = 0
trigger1 = var(50) = 0 && command = "holdfwd"
trigger2 = var(50) = 1 && p2bodydist x > 50
v = 2
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = var(2) = 1
x = 3-time/20

[State 0, arSet]
type = VarSet
triggerall = var(2) = 0
trigger1 = var(50) = 0 && command = "holdback"
trigger2 = var(50) = 1 && p2bodydist x < -50
v = 2
value = 2

[State 0, VelSet]
type = VelSet
trigger1 = var(2) = 2
x = -3+time/20

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 0
triggerall = timemod = 3,0
time = 20
freq = 20
ampl = -4
phase = 20

[State 0, NotHitBy]
type = HitBy
trigger1 = time > 0
value = SCA,SP,HT
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 0 && timemod = 40,0
id = 333
anim = 333
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "kaiten"
ID = 331
stateno = 331
pos = 0,-30
postype = p1    ;p2,front,back,left,right
size.xscale = 0.4
size.yscale = 0.4
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c"
trigger2 = power <= 50
trigger3 = win
trigger4 = lose
trigger5 = p2life = 0
trigger6 = var(50) = 1 && random = [0,25+ceil(var(49)/2)+cond(p2bodydist x > 100,var(49),0)]
triggerall = time >= 30
value = 322
ctrl = 1

[State 195, 2]
type = ChangeState
trigger1 = pos y >= 0
value = 301
ctrl = 1
;---------------------------------------------------------------------------
;Hakkesho Kaiten
[Statedef 322]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 322
poweradd = 0
sprpriority = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id = 315

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id = 333

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id = 313

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Hakkesho Kaiten
[StateDef 331]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 331
poweradd = 0
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F30,0

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F14,6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = A, ST
damage = 25,5
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 3
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 20
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80
fall = 1

[State 0, End]
type = changestate
trigger1 = parent, stateno != 321
value = 332
;-----------------
;Hakkesho Kaiten
[StateDef 332]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 332
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = A, ST
damage = 25,5
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -13,-8
airguard.velocity = -13,-8
air.type = High
air.velocity = -13,-8
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Chakra Senbon
[StateDef 340]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 340
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && pos y = 0
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = cond(pos y > -5,-3,-2)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time = 6
trigger3 = time = 7
trigger4 = time = 8
trigger5 = time = 9
trigger6 = time = 10
helpertype = normal
name = "senbon"
ID = 345
stateno = 345
pos = 5,-30-random%10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Chakra Senbon
[StateDef 345]
type = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 345
poweradd = -50
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 70+random%40

[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 11
value = 20-random%50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = var(10)/8
y = var(11)/8

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1 && pos y < 0
x = -0.05
y = 0.05

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = A, ST
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 10
sparkno = 4
sparkxy = -15, 0
hitsound = 21, 3
guardsound = 21, 3
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,0
airguard.velocity = -2,-1
air.type = High
air.velocity = -3,-2
air.hittime = 20
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10
ID = 10
pos = 0,0
scale = 0.7,0.7
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*10,256

[State 0, end]
type = Destroyself
trigger1 = frontedgebodydist < -50
trigger2 = time = 75
;---------------------------------------------------------------------------
;Kontratak
[Statedef 350]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
sprpriority = 2
poweradd = -100
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,10
channel = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 10
value = 0

[State 0, HitOverride]
type = HitOverride
Trigger1 = AnimElem = 2,>0
trigger1 = animelem = 6,<0
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
slot = 0
stateno = 370;351
time = 1
ignorehitpause = 1

[State 195, 2]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 351]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301
poweradd = -400
sprpriority = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 250 && time = 30
value = S1,0+random%2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 250 && time = 0
value = S3,33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno != 250 && time = 0
value = S3,22

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = 0.5

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 0
triggerall = timemod = 3,0
time = 20
freq = 20
ampl = -4
phase = 20

[State 0, NotHitBy]
type = HitBy
trigger1 = time > 0
value = SCA,SP,HT
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
id = 315
anim = 315
pos = -5,5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = -1
scale = 0.6,0.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = numexplod(313) = 0
anim = 313
id = 313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x >= -0.5
triggerall = vel x < 0.5
anim = F1090
postype = p1
pos = 7,6
bindtime = 1
sprpriority = 4
facing = -1
scale = 0.9,0.8
ownpal = 1
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x <= 0.5
triggerall = vel x > -0.5
anim = F1090
postype = p1
pos = -7,6
bindtime = 1
facing = 1
sprpriority = 4
scale = 0.9,0.8
ownpal = 1
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x = -0.5
anim = F1090
postype = p1
pos = 7,6
bindtime = 1
sprpriority = 4
facing = 1
scale = 0.9,0.8
ownpal = 1
ontop = 0
removetime = -2

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
triggerall = vel x = 0.5
anim = F1090
postype = p1
pos = -15,6
bindtime = 1
facing = -1
sprpriority = 4
scale = 0.9,0.8
ownpal = 1
ontop = 0
removetime = -2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "kaiten"
ID = 361
stateno = 361
pos = 0,-20
postype = p1    ;p2,front,back,left,right
size.xscale = 0.5
size.yscale = 0.5
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = time = 20
value = 352
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 352]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 302
poweradd = 0
sprpriority = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 351
id = 333

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 351
id = 313

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 351
id = 315

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 361]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 311
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F30,0

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F14,6

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, ST
damage = 50,20
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 3
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5,-3
airguard.velocity = -5,-3
air.type = High
air.velocity = -5,-3
air.hittime = 20
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80
fall = 1

[State 0, End]
type = changestate
trigger1 = parent, stateno != 351
value = 362
;-----------------
[StateDef 362]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 312
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, ST
damage = 100,50
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
sprpriority = 3
priority = 3
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -13,-8
airguard.velocity = -13,-8
air.type = High
air.velocity = -13,-8
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;Shugohakke Rokujuyon Sho
[Statedef 370]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370
poweradd = -300
sprpriority = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [8,76]
trigger1 = timemod = 5,0
value = F8,0+random%4

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 0
triggerall = timemod = 3,0
time = 20
freq = 20
ampl = -4
phase = 20

[State 0, NotHitBy]
type = HitBy
trigger1 = time > 0
value = SCA,SP,HT
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = 1

[State 0, Explod]
type = Explod
trigger1 = 0;time = 0
anim = 315
id = 370
pos = -5,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = -1
scale = 0.7,0.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
id = 372
anim = 372
pos = 0,0
scale = 1*0.6,0.3*0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Efekt"
ID = 373
stateno = 373
pos = 0,0
postype = p1    ;p2,front,back,left,right
size.xscale = 0.7
size.yscale = 0.7
facing = 1
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 371
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 371]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 371
poweradd = 0
sprpriority = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time < 20
time = 1
add = -120+(time)*6,-120+(time)*6,-120+(time)*6
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time < 20
time = 1
add = -80+(time)*4,-80+(time)*4,-80+(time)*4
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 370
id = 370

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 370
id = 371

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [370,371]
id = 372

[State 195, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 373]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 373
poweradd = -500
sprpriority = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = time*25,256

[State 0, Trans]
type = Trans
trigger1 = time = 10
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;timemod = 20,0
anim = F550
pos = 0,20
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 2,2
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F30,0

[State 200, 1]
type = PlaySnd
trigger1 = timemod = 10,0
value = F14,6

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 370
time = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
trigger1 = hitcount < 64
trigger1 = timemod = 5,0
numhits = 4
attr = S, ST
damage = 35,7
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 4
pausetime = 0, 10
sparkno = -1;cond(time%16,0+random%4,-1)
sparkxy = -10-random%20, -20-random%40
hitsound = S6, 12
guardsound = S6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,-7
airguard.velocity = -3,-7
air.type = High
air.velocity = -3,-7
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall.yvelocity = -6
fall = 1

[State 0, End]
type = changestate
trigger1 = parent, stateno != 370
trigger2 = parent, stateno = 370 && parent, time = 76
value = 374
;-----------------
[StateDef 374]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 374
poweradd = 0
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 25
scale = (100+time*4)/100,(100+time*4)/100

[State 0, Trans]
type = Trans
trigger1 = time < 25
trans = addalpha
alpha = 256-time*10,256

[State 0, End]
type = destroyself
trigger1 = Time = 25
;-----------------
;Hakke Kunsho Air
[StateDef 375]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 375
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9998

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 10
freq = 40
ampl = -4
phase = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F461
pos = ceil(20*0.95),-ceil(5*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.4,0.4
angle = 80
vel = 0.2,3
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -1
y = -8

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "atak"
ID = 376
stateno = 376
pos = ceil(20*0.95),-ceil(5*0.95)
postype = p1    ;p2,front,back,left,right
size.xscale = 0.6
size.yscale = 0.6
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Hakke Kunsho Air
[StateDef 376]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
anim = 376
poweradd = -500
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F461
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 0.6,0.6
angle = 80
vel = 0,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,10

[State 1533,excplod ]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F587
postype = p1
pos = 10,0
bindtime = 1
sprpriority = 4
scale = 0.45,0.45
ontop = 0
removetime = -2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1 
flag = invisible

[State 0, AngleSet]
type = AngleDraw
trigger1 = 1
value = -80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 0.4
y = 4

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = A, ST
damage = 250,100
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;Hakke Kunsho
[StateDef 380]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 75
anim = 381
pos = 0,0
scale = 1,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 75
time = 1
add = -(time-75)*2,-(time-75)*2,-(time-75)*2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,1+random%13
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,5
channel = 2

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80002
ID = 9998
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 2
anim = 80005
ID = 9997
pos = -33,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 0 && time < 35
trigger1 = var(50) = 0
trigger2 = time >= 0 && time < 35 && random = [0,50-ceil((ceil(var(49)/10)*ceil(Power/400)))+cond(p2bodydist x < 100,var(49),0)]
trigger2 = var(50) = 1
value = 388
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 35 && time < 70 && power >= 500
trigger1 = var(50) = 0
trigger2 = time >= 35 && time < 70 && power >= 500 && random = [0,50-ceil((ceil(var(49)/10)*ceil(Power/400)))+cond(p2bodydist x < 100,var(49),0)]
trigger2 = var(50) = 1
value = 382
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = command != "hold_z" && time >= 70 && time < 115 && power >= 1000
trigger1 = var(50) = 0
trigger2 = time >= 70 && time < 115 && power >= 1000 && random = [0,50-ceil((ceil(var(49)/10)*ceil(Power/400)))+cond(p2bodydist x < 100,var(49),0)]
trigger2 = var(50) = 1
value = 384
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 0 && time < 35 && power < 500
value = 388
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 35 && time < 70 && power < 1000
value = 382
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 70 && time < 115 && power < 2000
value = 384
ctrl = 1

[State 310, end]
type = ChangeState
trigger1 = time >= 115 && power >= 2000
value = 386
ctrl = 1
;-----------------
;Hakke Kunsho #1
[StateDef 382]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 382
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9998

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 40
ampl = -4
phase = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F461
pos = ceil(35*0.95),-ceil(39*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.3,0.3
vel = 1,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "atak"
ID = 383
stateno = 383
pos = 5,-4
postype = p1    ;p2,front,back,left,right
size.xscale = 0.8
size.yscale = 0.8
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hakke Kunsho #1
[StateDef 383]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 383
poweradd = -500
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 20
freq = 20
ampl = -2
phase = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, ST
damage = 250,100
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Hakke Kunsho #2
[StateDef 384]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 384
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9998

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 50
ampl = -5
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1
channel = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F461
pos = ceil(30*0.95),-ceil(47*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "atak"
ID = 385
stateno = 385
pos = 5,-4
postype = p1    ;p2,front,back,left,right
size.xscale = 1
size.yscale = 1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hakke Kunsho #2
[StateDef 385]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 385
poweradd = -1000
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 30
freq = 30
ampl = -3
phase = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time 
attr = S, ST
damage = 500,200
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 0
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -10,-5
airguard.velocity = -10,-4
air.type = High
air.velocity = -10,-4
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Hakke Kunsho #3
[StateDef 386]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 386
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 11
x = 5
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9998

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 11
value = S6,4
channel = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
trigger2 = animelem = 11
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 25
time = 1
add = -50-time*2,-50-time*2,-50-time*2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 25 && time < 50
time = 1
add = -100,-100,-100

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 50 && time < 75
time = 1
add = -100+(time-50)*4,-100+(time-50)*4,-100+(time-50)*4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
trigger2 = time = 47
time = 10
freq = 60
ampl = -6
phase = 60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 11
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,1
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S4,0+random%12
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F461
pos = ceil(35*0.95),-ceil(39*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 11
anim = F461
pos = ceil(30*0.95),-ceil(37*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger2 = animelem = 11
helpertype = normal;player
name = "atak"
ID = 387
stateno = 387
pos = 5,-4
postype = p1    ;p2,front,back,left,right
size.xscale = 1
size.yscale = 1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hakke Kunsho #3
[StateDef 387]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 387
poweradd = -1000
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 40
freq = 40
ampl = -4
phase = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, ST
damage = 500,200
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 10
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -13,-5
airguard.velocity = -13,-4
air.type = High
air.velocity = -13,-4
air.hittime = 20
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Hakke Kunsho Combo
[StateDef 388]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 388
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F461
pos = ceil(25*0.95),-ceil(37*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.3,0.3
vel = 1,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 10
freq = 40
ampl = -4
phase = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0+random%12
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "atak"
ID = 389
stateno = 389
pos = ceil(28*0.95),-4
postype = p1    ;p2,front,back,left,right
size.xscale = 0.6
size.yscale = 0.6
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hakke Kunsho Combo
[StateDef 389]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 389
poweradd = -250
sprpriority = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,HP,NT,ST,HT
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = parent, var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, ST
damage = 125,25
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 5
sparkno = s999999
sparkxy = -15, -33
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Juho Soshiken
[StateDef 390]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 390
poweradd = -250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, Explod Plomyki]
type = Explod
trigger1 = timemod = 5,0
triggerall = time < 30
anim = 246
id = 246
pos = cond(time < 10,-5-random%10,5+random%20),-30-random%20
postype = p1
accel = 0,-0.05
facing = 1
bindtime = 5
removetime = -2
sprpriority = -1+random%4
scale = 0.5,0.5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 391
id = 391
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
removeongethit = 1
sprpriority = 4
scale = 0.95,0.95
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = 90008
pos = ceil(33*0.97),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
vel = -2,0
scale = 0.55,0.55
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F461
pos = ceil(39*0.95),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.35,0.35
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
damage = 125,25
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = 2020
sparkxy = -25, -ceil(42*0.95)
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -11,-4
airguard.velocity = -11,-4
air.type = High
air.velocity = -11,-4
air.hittime = 20
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Juho Soshiken
[StateDef 392]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 392
poweradd = -500
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F370
pos = 10,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,4
channel = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 15
movetime = 15
anim = -1
darken = 1
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 15
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,9

[State 0, Explod Plomyki]
type = Explod
trigger1 = timemod = 3,0
triggerall = time = [10,43]
anim = 246
id = 246
pos = cond(time < 28,-25+random%40,-30+random%20),-28-random%20
postype = p1
accel = 0,-0.05
facing = 1
bindtime = 5
removetime = -2
sprpriority = -1+random%4
scale = 0.5,0.5
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 393
id = 393
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
removeongethit = 1
sprpriority = 4
scale = 0.95*0.9,0.95*0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = -6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
anim = 90008
pos = -ceil(22*0.97),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
vel = 2,0
scale = 0.55,0.55
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
time = 10
freq = 10
ampl = -1
phase = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = var(1) = 1 && target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
anim = F461
pos = -ceil(25*0.95),-ceil(31*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.35,0.35
vel = -2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
triggerall = var(1) = 1
v = 34
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S4,0+random%12

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S,NA
damage = 250,50
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = 2020
sparkxy = -15, -ceil(32*0.95)
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 12,-4
airguard.velocity = 12,-4
air.type = High
air.velocity = 12,-4
air.hittime = 20
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = target, ishelper = 0
trigger1 = movehit
persistent = 0
value = 109990

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Hakke Rokujuyon Sho
[StateDef 400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = power < 3000
v = 4
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = power >= 3000
v = 4
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%2
channel = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 0,0
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 30
sparkno = s999999
sparkxy = -15, -33
hitsound = S1246, 5
guardsound = S2416, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
p1stateno = 401

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;HKS
[StateDef 401]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 401
poweradd = 0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < 0
trigger1 = time = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time <= 100
time = 1
add = ceil(90-time*3.46),ceil(90-time*3.46),ceil(90-time*3.46)

[State 905, 7]
type = Envcolor
trigger1 = time > 100
value = 0,0,0
time = 1
under = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100
anim = 405
pos = 4,3
scale = 1,0.3
postype = p1
facing = 1
bindtime = 1
removetime = 400
sprpriority = -1
supermovetime = 9999
pausemovetime = 9999
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 450
anim = 104
sound = F19,0
pos = 20,-30
movetime = 450
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S3,10
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 300
value = S3,cond(var(4) = 1, 9, 3)
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = time > 405
x = const(velocity.run.fwd.x)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 8
value = F2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 8
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F404;417
id = 417
pos = 0,5
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
scale = 2,2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time > 405 && p2bodydist x < 10
value = 410
ctrl = 1
;-----------------
;HKS 2
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 30
time = 1
add = -256+time*5,-256+time*5,-256+time*5

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 30
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 23,-29
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,4
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 7
anim = F290
ID = 290
pos = ceil(7*0.95),3
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 7
time = 10
freq = 40
ampl = -3
phase = 50

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,4
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 6
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
trigger2 = animelem = 6
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = 0;AnimElem = 2
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(38*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(36*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -3,0
airguard.velocity = -2,0
air.type = High
air.velocity = -3,0
air.hittime = 20
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact ;Time = 49
value = 411
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 4
[StateDef 411]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 411
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 37,-29
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F290
ID = 290
pos = ceil(13*0.95),3
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 40
ampl = -3
phase = 50

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,5
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
trigger2 = animelem = 7
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger2 = animelem = 7
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(28*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 8
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(42*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,0
airguard.velocity = -4,0
air.type = High
air.velocity = -4,0
air.hittime = 20
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact; Time = 45
value = 412
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 8
[StateDef 412]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 412
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 44,-27
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
trigger2 = animelem = 15
value = S6,4
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
anim = F290
ID = 290
pos = ceil(6*0.95),3
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 15
anim = F290
ID = 290
pos = ceil(15*0.95),3
postype = p1
scale = 1.8,1.5
sprpriority = 2
ontop = 0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
trigger2 = animelem = 15
time = 10
freq = 40
ampl = -3
phase = 50

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 12
trigger4 = animelem = 15
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,6
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 12
trigger4 = animelem = 15
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 12
trigger4 = animelem = 15
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(50*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 9
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(38*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 13
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(36*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 16
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(38*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,0
airguard.velocity = -4,0
air.type = High
air.velocity = -4,0
air.hittime = 20
envshake.time = 40
envshake.ampl = 4
envshake.freq = 40

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact; Time = 55
value = 413
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 16
[StateDef 413]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 413
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 41,-26
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,7
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 6
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 8
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 10
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 12
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 14
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 16
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 18
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -4,0
airguard.velocity = -4,0
air.type = High
air.velocity = -4,0
air.hittime = 20
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact ;Time = 63
value = 414
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 32
[StateDef 414]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 414
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 37,-22
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 23
trigger6 = animelem = 25
trigger7 = animelem = 27
trigger8 = animelem = 29
trigger9 = animelem = 31
trigger10 = animelem = 33
trigger11 = animelem = 35
trigger12 = animelem = 37
trigger13 = animelem = 39
trigger14 = animelem = 41
trigger15 = animelem = 43
trigger16 = animelem = 45
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,8
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 19
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
trigger2 = animelem = 19
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1




[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 11
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 13
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 24
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 26
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 28
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 30
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 32
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 34
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 36
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 38
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 40
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 42
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 44
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 46
trigger1 = var(4) = 1
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 20
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact; Time = 71
value = cond(var(4) = 1, 415,418)
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 63
[StateDef 415]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 415
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 20
add = -100,-100,-100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) = 0
anim = F20200000000
pos = 49,-24
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 23
trigger6 = animelem = 25
trigger7 = animelem = 27
trigger8 = animelem = 29
trigger9 = animelem = 31
trigger10 = animelem = 33
trigger11 = animelem = 35
trigger12 = animelem = 37
trigger13 = animelem = 39
trigger14 = animelem = 41
trigger15 = animelem = 43
trigger16 = animelem = 45
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 48
trigger2 = animelem = 52
trigger3 = animelem = 56
trigger4 = animelem = 58
trigger5 = animelem = 69
trigger6 = animelem = 71
trigger7 = animelem = 73
trigger8 = animelem = 75
trigger9 = animelem = 77
trigger10 = animelem = 79
trigger11 = animelem = 81
trigger12 = animelem = 83
trigger13 = animelem = 85
trigger14 = animelem = 87
trigger15 = animelem = 89
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,9
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 7
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
trigger2 = animelem = 6
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 7
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 11
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 13
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 24
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 26
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 28
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 30
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 32
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 34
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 36
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 38
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 40
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 42
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 44
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 46
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 49
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 53
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 57
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 59
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 70
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 72
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 74
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 76
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 78
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 80
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 82
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 84
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 86
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 88
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 90
attr = C, HP
p2stateno = 105080
damage = 20,4
givepower = -10
getpower = -40
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 50
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(25*0.95)-random%15
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -6,0
airguard.velocity = -6,0
air.type = High
air.velocity = -6,0
air.hittime = 20
envshake.time = 70
envshake.ampl = 7
envshake.freq = 70

[State 0, VarSet]
type = VarSet
trigger1 = var(50) = 0
trigger1 = command = "x"
trigger2 = var(50) = 1
trigger2 = random = [0,50+ceil(ceil(var(49)/5)*ceil(Power/100))]
triggerall = power >= 1300
triggerall = time >= 60
triggerall = var(5) = 0
triggerall = numenemy = 1
triggerall = numpartner = 0
v = 5
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = power < 1300
v = 5
value = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && movecontact; Time = 90
value = cond(var(5) = 0, 416, 417)
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0 && !movecontact
value = 0
ctrl = 1
;-----------------
;HKS 64
[StateDef 416]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 416
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 417

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = 418
id = 418
pos = -2,-17
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 0
time = 1
add = -ceil(256+time*10.2),-ceil(256+time*10.2),-ceil(256+time*10.2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) < 3
anim = F20200000000
id = 90002
pos = 18,-19
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && numexplod(900087) < 1
id = 900087
anim = 90008
pos = ceil(37*0.95),-ceil(40*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
vel = -3,0
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F461
pos = ceil(35*0.95),-ceil(40*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
damage = 250,50
givepower = -20
getpower = -400
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(41*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 20
p2stateno = 109994 
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Juho Soshiken
[StateDef 417]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 392
poweradd = -600
sprpriority = 2


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 417

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 0
time = 1
add = -ceil(256+time*10.2),-ceil(256+time*10.2),-ceil(256+time*10.2)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 100

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F370
pos = 10,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S6,4
channel = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 10
freq = 80
ampl = -4
phase = 90

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 15
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,9

[State 0, Explod Plomyki]
type = Explod
trigger1 = timemod = 3,0
triggerall = time = [10,43]
anim = 246
id = 246
pos = cond(time < 28,-25+random%40,-30+random%20),-28-random%20
postype = p1
accel = 0,-0.05
facing = 1
bindtime = 5
removetime = -2
sprpriority = -1+random%4
scale = 0.5,0.5
ownpal = 1
;supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 393
id = 393
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
removeongethit = 1
sprpriority = 4
scale = 0.95*0.9,0.95*0.9
ownpal = 1
ontop = 0
;supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 18
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 18
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 18
time = 60
add = -80,-80,-80

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = -6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
anim = 90008
pos = -ceil(22*0.97),-ceil(42*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
vel = 2,0
scale = 0.55,0.55
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 8
anim = F461
pos = -ceil(25*0.95),-ceil(31*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.35,0.35
vel = -2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
triggerall = var(1) = 1
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,2

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = C,HP
damage = 750,250
givepower = -20
getpower = -700
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 2
sparkno = 2020
sparkxy = -15, -ceil(32*0.95)
hitsound = S6, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = 15,-5
airguard.velocity = 15,-5
air.type = High
air.velocity = 15,-5
air.hittime = 20
p2stateno = 109994 
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;HKS 64
[StateDef 418]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 416
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 6
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 417

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = 418
id = 418
pos = -2,-17
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 0
time = 1
add = -ceil(256+time*10.2),-ceil(256+time*10.2),-ceil(256+time*10.2)

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H && numexplod(90002) < 3
anim = F20200000000
id = 90002
pos = 18,-19
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && numexplod(900087) < 1
id = 900087
anim = 90008
pos = ceil(37*0.95),-ceil(40*0.95)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
vel = -3,0
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 4
anim = F461
pos = ceil(35*0.95),-ceil(40*0.95)
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
vel = 2,0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1 && p2movetype = H
time = 1
mul = 0,0,0
invertall = 1
color = 256

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = NumTarget
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F20200000000
pos = 30,-23
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8;0.15,0.15
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 34
value = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%12
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
damage = 250,50
givepower = -20
getpower = -240
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0, 20
sparkno = cond(var(1) = 0,0+random%4,2020)
sparkxy = -15, -ceil(41*0.95)
hitsound = S6, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -12,-4
airguard.velocity = -12,-4
air.type = High
air.velocity = -12,-4
air.hittime = 20
p2stateno = 109994 
envshake.time = 80
envshake.ampl = 8
envshake.freq = 80

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;SelfHeal
[StateDef 420]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 420
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,8
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 30,0
trigger2 = time = 10
value = F20,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 30,0
trigger2 = time = 10
value = F20,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && random = [0,5]
value = F20,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time > 10 && timemod = 3,0
anim = F405
pos = -10+random%20,-10-random%45
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
scale = 0.3,0.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 15,0
anim = F1651
pos = 2,-30
angle = random
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
scale = 0.8,0.8
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 15,0
anim = F1650
pos = 2,3
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.8,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 10
value = 4-(3000-life)/1000
kill = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 10 
value = -10

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,10]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x = [-70,70]
trigger9 = random = [50,75+ceil(var(49)/2)]
trigger10 = life = 3000
value = 0
ctrl = 1
;-----------------
;FastHeal
[StateDef 430]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 420
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,8
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F20,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F20,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 10 && time < 20 && timemod = 5,0
anim = F1651
pos = 2,-30
angle = random
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 20 && time < 25 && timemod = 2,0
anim = F1651
pos = 2,-30
angle = random
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F1650
pos = 2,3
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time >= 10 && time < 20
value = 10
kill = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 20
value = 200
kill = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >= 10 && time < 20
value = -50

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 20 
value = -500

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Hakke Kuhekisho Waiting
[StateDef 889]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 889
poweradd = 0
sprpriority = 0

[State 0, Turn]
type = Turn
triggerall = numpartner = 1
trigger1 = time = 0
trigger1 = facing != partner,facing

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%2

[State 0, End]
type = ChangeState
triggerall = numpartner = 1
trigger1 = partner, name = "Neji"
;trigger1 = numpartner = 1
;trigger1 = pos x - partner, pos x = [-20,20]
trigger1 = partner, stateno = [889,890]
value = 890

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
trigger1 = numpartner = 0
trigger2 = time = 60
value = 0
ctrl = 1
;-----------------
;Hakke Kuhekisho
[StateDef 890]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 890
poweradd = 0
sprpriority = 0

[State 0, PosAdd]
type = PosSet
triggerall = numpartner = 1
trigger1 = time = 0
persistent = 0
x = partner,pos x - 10*facing

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%5

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 105080]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, LifeSet]
type = LifeSet
trigger1 = life < 50
value = 50

[State -3]
type = AfterImage
trigger1 = time = 0
time = 10
length = 40
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 176,206,256
palpostbright = 0,0,0
paladd = 176,206,156
palmul = .35,.45,.55
timegap = 1
framegap = 1
trans = add

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 156,156,156
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, ChangeState]
type = Changestate
trigger1 = time = 60
value = 105083
ctrl = 1
;-----------------------------
[StateDef 105081]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
trigger1 = pos y = 0
trigger2 = Anim = 5050
trigger2 = pos y = 0
value = 5000+var(0)*10000

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5050
trigger1 = pos y != 0
trigger2 = Anim = 5000
trigger2 = pos y != 0
value = 5050+var(0)*10000

[State 0, LifeSet]
type = LifeSet
trigger1 = life < 50
value = 50

[State 0, ChangeState]
type = Changestate
trigger1 = pos y = 0 && time = 60
value = 105083
ctrl = 1


[State 0, ChangeState]
type = Selfstate
trigger1 = time = 70
value = 5050
ctrl = 1
;-----------------------------
[StateDef 105083]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F101
id = 101
pos = -4,-34
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F450
id = 450
pos = -2,-25
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F450
id = 450
pos = -10,-20
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
sprpriority = 3
scale = 1.2,1.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 5
value = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = 0;time = 0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F5,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F19,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0+random%10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0+random%10

[State 0, VelSet]
type = VelSet
trigger1 = time = 25
x = -5
y = -3

[State 0, ChangeState]
type = selfstate
trigger1 = time = 30
value = 5050
ctrl = 1
;----------------------------------------------------------------------------
;NOWY BYAKUGAN
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,11
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 3*0.95,-46*0.95
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 1

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;NOWY BYAKUGAN
[Statedef 1001]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
anim = 9999
darken = 0
unhittable = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1

;Byakugan On Air
[Statedef 1010]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,11
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1002
pos = 4*0.95,-56*0.95
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 1

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;----------------------------------------------------------------------------
;Byakugan Off Air
[Statedef 1011]
type    = A
movetype= I
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
sprpriority = 0
velset = 0,0
anim = 1011

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;----------------
;White Flash
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;--------------
;Weapon Throw
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 10*0.95,-39*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Weapon Throw
[StateDef 70651]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70740
stateno = 70740
pos = 10*0.95,-39*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------
;Weapon Throw
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 10*0.95,-39*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Weapon Throw
[StateDef 70655]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 10*0.95,-37*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Weapon Throw
[StateDef 70656]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 22
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70741
stateno = 70741
pos = 10*0.95,-37*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Weapon Throw
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70655
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F21,4

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 3
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 10*0.95,-37*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
;Odbicie od sciany
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = cond(vel x != 0,atan(vel y/vel x)*180/PI, 0) -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = vel x != 0
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
;Odbicie od sciany
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = cond(vel x != 0,atan(vel y/vel x)*180/PI, 0) -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050


[Statedef -2]

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Var(47) = %d | Var(48) = %d | Var(49) = %d | VarAttak = %d | VarCombo = %d | Jutsu = %d"
params = var(47), var(48), var(49), ceil(var(49)), ceil(var(49)*5+var(48)), ceil(((ceil(var(49)/5)+10)*ceil(Power/100))/200)

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = numhelper(70003) != 0
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

[State -2, Button X]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 415
triggerall = power >= 1300
triggerall = var(5) = 0
triggerall = numenemy = 1
triggerall = numpartner = 0
trigger1 = time > 60
triggerall = numexplod(1610) = 0
triggerall = var(5) = 0
anim = F1610
ID = 1610
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 415
trigger2 = power < 1300
;trigger2 = var(5) = 1
id = 1610

;------------------

;Hakke Kusho
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 380
id = 9998

;Juho Soshiken
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 244
id = 245

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 390
id = 391

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 392
trigger1 = stateno != 417
id = 393


;64
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [400,419]
id = 417

;Kaiten
[State 0, VarSet]
type = VarSet
trigger1 = stateno != 321
v = 2
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 333

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 313

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 301
trigger1 = stateno != 321
id = 315

;Byakugan

[state 0, Byakugan]
type = RemapPal
trigger1 = var(1) = 0
source = 0,41
dest = 0,41

[state 0, Byakugan]
type = RemapPal
trigger1 = var(1) = 0
source = 0,216
dest = 0,41

[state 0, Byakugan]
type = RemapPal
trigger1 = var(1) = 1
source = 0,41
dest = 0,216

[state 0, Byakugan]
type = RemapPal
trigger1 = var(1) = 1
source = 0,216
dest = 0,216

[State 0, PowerSet]
type = PowerSet
triggerall = numenemy != 0
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;Oslabienie vara 34

[State 0, VarAdd]
type = VarSet
trigger1 = var(34) < 0
v = 34
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(34) > 0
triggerall = timemod = 4,0
v = 34
value = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 90007

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(1) = 0
id = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 0 ;wylaczenie
trigger1 = var(1) = 1
triggerall = stateno != 1000
triggerall = stateno != [401,416]
triggerall = stateno != [501,517]
time = 20
add = 90,90,90
mul = 256,256,256
sinadd =90,90,90,10
invertall = 0
color = 256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 0 ;wylaczenie
trigger1 = var(1) = 1
triggerall = stateno = [450,456]
triggerall = stateno = [460,461]
time = 100
add = 90,90,90
mul = 256,256,256
sinadd =90,90,90,10
invertall = 0
color = 256

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,-3,7)*0.95,cond(pos y = 0,-27,-37)*0.95
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,-3,7)*0.95,cond(pos y = 0,-47,-57)*0.95
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,7,17)*0.95,cond(pos y = 0,-37,-47)*0.95
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-13,-3)*0.95,cond(pos y = 0,-37,-47)*0.95
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID && numpartner = 1
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID && numpartner = 1
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID && numpartner = 1
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1
;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
triggerall = numenemy != 0
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0 && var(53) = 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

[Statedef -3]

;-- AI ----------------

[State -3, DeActivate AI]
type = VarSet
triggerall = var(50) = 1
trigger1 = win
trigger2 = lose
trigger3 = drawgame
trigger4 = AILevel = 0
trigger5 = life = 0
trigger6 = !ALive
trigger7 = matchover
v = 50
value = 0

[State -3, Activate AI]
type = VarSet
triggerall = var(50) = 0
trigger1 = AILevel != 0
triggerall = stateno != [190,194]
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
v = 50
value = 1

[State -3, Human Power VS Human]
type = VarSet
trigger1 = var(50) = 0
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != 5150
triggerall = NumEnemy
triggerall = enemy, AILevel = 0
v = 49
value = ceil(ceil(exp(0.5*ln(life)))/5.5+(Power/100))

[State -3, Human Power VS AI]
type = VarSet
trigger1 = var(50) = 0
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != 5150
triggerall = NumEnemy
triggerall = enemy, AILevel != 0
v = 49
value = ceil(ceil(exp(0.5*ln(life)))/5.5+(Enemy, AILevel*5))

[State -3, AI Power]
type = VarSet
trigger1 = var(50) = 1
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != 5150
v = 49
value = ceil(ceil(exp(0.5*ln(life)))/5.5+(AILevel*5))

[State -3, AI Set Min]
type = VarSet
trigger1 = var(49) < 1
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != 5150
v = 49
value = 1

[State -3, AI Set Max]
type = VarSet
trigger1 = var(49) >= 50
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != 5150
v = 49
value = 50

[State -3, Reset Power]
type = VarSet
triggerall = var(49) != 0
trigger1 = !Alive
trigger2 = life = 0
trigger3 = matchover
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = stateno = 5150
v = 49
value = 0


;-- ComboMaker --------

[State -3, ComboMaker Add]
type = VarAdd
trigger1 = movecontact = 1
triggerall = stateno = [200,299]
v = 48
value = 25

[State -3, ComboMaker Remove]
type = VarAdd
trigger1 = stateno != [200,299]
triggerall = var(48) > 0
v = 48
value = -1-ceil(var(48)/100)

[State -3, ComboMaker Set]
type = VarSet
trigger1 = var(48) > 250
v = 48   
value = 250

[State -3, VarSet]
type = VarSet
trigger1 = stateno != [200,299]
trigger1 = prevstateno != [200,299]
trigger2 = stateno = [200,299]
trigger2 = time = 0
v = 47
value = 0

[State -3, VarSet]
type = VarSet
trigger1 = movecontact
triggerall = stateno = [200,299]
v = 47
value = 1

;----------------------

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 4

[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 1
trigger1 = timemod = 5,0
triggerall = stateno != 1000
triggerall = stateno != [400,520]
triggerall = stateno != [1000,1009]
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -2

[State -3, VarSet]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
triggerall = stateno != [400,599]
v = 1
value = 0

[State -3, VarSet]
type = VarSet
trigger1 = life = 0
v = 1
value = 0

[State -3]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, Byakugan]
type = AfterImage
triggerall = var(1) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 0
palinvertall = 0
palbright = 0,0,0
palcontrast = 220,220,220
palpostbright = 0,0,0
paladd = 8,8,8
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add