
[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 45
sparkno = 1
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 64
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -54
mid.pos = 0, -32
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.7		;Walk forward
walk.back = -1.7		;Walk backward
run.fwd  = 8.6, 0		;Run forward (x, y)
run.back = -8,-4	;Hop backward (x, y)
jump.neu = 0,-10		;Neutral jumping velocity (x, y)
jump.back = -3.7		;Jump back Speed (x, y)
jump.fwd = 3.7		;Jump forward Speed (x, y)
runjump.back = -2.75,-9.5;Running jump speeds (opt)
runjump.fwd = 5.0,-9.5	;.
airjump.neu = 0,-9.5	;.
airjump.back = -2.85	;Air jump speeds (opt)
airjump.fwd = 2.8

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 6522, Helper]
type = Helper
trigger1 = Time = 15
name = "Kunai"
postype = p1
pos = 13,-59
ownpal = 1
stateno = 182
ID = 182
size.xscale = 1
size.yscale = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,5

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 6522, Helper]
type = Helper
trigger1 = Time = 15
name = "Kunai"
postype = p1
pos = 13,-59
ownpal = 1
stateno = 182
ID = 182
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S3,8

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[Statedef 182]
type    = S
sprpriority = 2
anim = 822

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*25

[State 0, VelSet]
type = VelSet
trigger1 = root,time < 30
y = -3.5

[State 0, VelSet]
type = Velset
trigger1 = root,time > 30 && root,time < 36 
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = root,time > 42
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = root,time > 36 && root,time < 42
y = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = root,time < 36
y = -0.8

[State 0, VelAdd]
type = VelAdd
trigger1 = root,time > 36
y = 0.5

[State 250, 5]
type = Destroyself
trigger1 = root,time = 57

;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 191+random%2

;---------------------------------------------------------------------------
;Intro 1 - kunai -> hiraishin
[Statedef 191]
type = S
anim = 191
sprpriority = 2

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 192
ID = 192
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 45
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time > 40 && time < 60
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2011
pos = (random%27-13)*1,-20-(random%27-13)*1
random = 30,30
vel = -0.1,-0.3
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 2001
ID = 2001
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = 2021
ID = 2021
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S3,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S8,1

[State 310, 2]
type = Explod
trigger1 = time = 40
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F9,1

[State 195, 2]
type = ChangeState
trigger1 = time = 130
value = 12

;---------------------------------------------------------------------------
;Intro 2 - Hiraishin speed
[Statedef 192]
type = S
anim = 190
sprpriority = 2

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 50
length = 7
palcontrast = 250,244,10
paladd = 40,9,5
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 1532, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "klon intro"
ID = 194
stateno = 194
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 1
size.xscale = 1
size.yscale = 1

[State 1532, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "klon 2 intro"
ID = 195
stateno = 195
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = 1
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 2001
ID = 2001
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 28
anim = 2001
ID = 2001
pos = 0,-35
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = -1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 26
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 26
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 26
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 26
value = F9,1


[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = time = 30
value = 193
ctrl = 0

[Statedef 193]
type = S
anim = 195
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,7

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 20
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2011
pos = (random%27-13)*1,-30-(random%27-13)*1
random = 30,30
vel = -0.1,-0.3
accel = 0,0.04
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 195, 2]
type = ChangeState
trigger1 = time = 130
value = 0

[Statedef 194]
type = S
anim = 193
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F14,4

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 50
length = 7
palcontrast = 250,244,10
paladd = 40,9,5
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 195, 2]
type = Destroyself
trigger1 = time = 30

[Statedef 195]
type = S
anim = 194
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F14,4

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 50
length = 7
palcontrast = 250,244,10
paladd = 40,9,5
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 195, 2]
type = Destroyself
trigger1 = time = 30

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 196]
type = S
ctrl = 1
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,15+random%12

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F8,1

[State 6522, Helper]
type = Helper
trigger1 = Time = 15
name = "Kunai"
postype = p1
pos = 13,-59
ownpal = 1
stateno = 823
ID = 823
size.xscale = 1
size.yscale = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
;Rasengan Charge
[StateDef 930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930+var(0)*10000
poweradd = -500
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,12
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 6
value = 10+(time-5)*0.3

[State 0, VarSet]
type = VarSet
trigger1 = time = 115
triggerall = power >= 1500
v = 6
value = 50

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 115
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 929
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = -14,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -14,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90001
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 90002
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time >= 115 && power < 1500
trigger10 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger10 = p2bodydist x < 150
trigger10 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 933

[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
value = 962

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holddown"
trigger2 = random = [550,551+var(49)*(var(49))/500]
trigger2 = var(50) = 1
triggerall = time >= 15
value = 520

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdup"
trigger2 = random = [650,651+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist y != [-100,50]
triggerall = time >= 15
value = 948
;-----------------
;Rasengan Fail
[StateDef 932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,1
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Rasengan Run
[StateDef 933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
value = 9335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.2,var(6)*0.48
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(6)*2.4,var(6)*1.2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = time = 40
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;------------------
;Rasengan End
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 936
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;Impact
[StateDef 9335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x) - 94

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F32,4

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 40,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(6)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wiatr]
type = Explod
trigger1 = time > 10 && timemod = 15,0
anim = F461
id = 1390
pos = 42,-44
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 9
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.002,0.3+helper(106025),var(6)*0.002
ownpal = 1
supermovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Wstazki Rasengan]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 25,0
anim = F680
id = 675
pos = 42,-44
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Duzy wiatr]
type = Explod
trigger1 = time = 15
trigger2 = time > 30 && timemod = 35,0
anim = F675
id = 675
pos = 50,-42
scale = 0.8+helper(106025),var(6)*0.005,0.7+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60,256

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 9336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
;Zwykle przeliczniki
;damage = var(6)*1.25,var(6)*0.6
;Przeliczniki konohamaru
damage = 25+var(6)*1.25*1.86,10+var(6)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
;Zwykle przeliczniki
;damage = var(6)*4.0,var(6)*2.0
;Przeliczniki konohamaru
damage = 50+var(6)*4.0*1.86,20+var(6)*4.0*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 40
trigger2 = time > 30 && !movehit
value = 935
ctrl = 1
;-----------------
;Impact lose
[StateDef 9337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 9338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;----------------------------------------------------------------------
;Air Rasengan Charge
[StateDef 940]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 940
poweradd = -500
sprpriority = 2

;----------------
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, End]
type = ChangeState
triggerall = pos y >= -10 && time >= 5
trigger1 = p2bodydist y = [-50,50]
trigger2 = p2bodydist x != [-100,100]
trigger3 = p2bodydist y != [0,400]
value = 941

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = p2bodydist x = [-100,100]
triggerall = p2bodydist y = [0,400]
value = 944

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,12
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 50
v = 6
value = 10+(time-5)*0.77;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 6
value = 45

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -28

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 50
anim = 939
id = 939
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -3,-40
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 90001
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 50
anim = 90002
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10)*2, 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = time >= 15
triggerall = command != "holddown"
value = 941

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = p2bodydist y = [-50,50]
triggerall = time >= 15
triggerall = var(50) = 1
value = 941

;----------

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = command = "holddown"
triggerall = time >= 15
triggerall = var(50) = 0
value = 944

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger2 = p2bodydist x = [-100,100]
trigger2 = p2bodydist y = [0,400]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = p2bodydist x = [-100,100]
trigger9 = p2bodydist y = [0,400]
triggerall = time >= 15
triggerall = var(50) = 1
triggerall = p2bodydist x = [-100,100]
triggerall = p2bodydist y > 0
value = 944
;------------------
;Air Rasengan Run
[StateDef 941]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 941
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 942
ctrl = 1
;------------------
;Air Rasengan Hit
[StateDef 942]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 942
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+var(6)*3,10+var(6)*1.2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = 40,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 50+var(6)*6.2,20+var(6)*3.6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -30
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 10 && !movehit
value = 943
ctrl = 1
;-----------------
;Air Rasengan End
[StateDef 943]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 943
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Air Rasengan Ground Run
[StateDef 944]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -40
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = 0,-50
angle = 90
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0

[State 0, VelSet]
type=VelSet
trigger1 = time < 6
x = 3

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 1
y = 5*const(velocity.airjump.fwd.x)

[State 811, end]
type = ChangeState
trigger1 = time = 10
value = 945
ctrl = 1
;------------------
;Air Rasengan Ground Hit
[StateDef 945]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 1*const(velocity.airjump.fwd.x)
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 25+var(6)*3,10+var(6)*1.2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = -13,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 50+var(6)*7.2,20+var(6)*3.6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = -13,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 946
ctrl = 1
;-----------------
;Air Rasengan Ground End
[StateDef 946]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 1*const(velocity.airjump.fwd.x)
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = -13,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;------------------------------
;Efekt Ziemi
[StateDef 947]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 947
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20 && timemod = 2,0
anim = F591
ID = 591
pos = -15+random%30,10-random%20
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 0.7,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,5
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
pos = -8,10
scale = 0.35,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
pos = 8,10
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 811, end]
type = destroyself
trigger1 = time = 60
;------------------
;Air Rasengan Jump
[StateDef 948]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 948
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,0+random%11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 40, 4]
type = VelSet
trigger1 = Time = 5
x = 1
y = const(velocity.jump.y)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 941
ctrl = 1
;---------------------------------------------------------------------------
;Tail Create
[Statedef 960]
type    = S
movetype= I
physics = N
anim = 960
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Helper]
type = Helper
trigger1 = Abs(parent, pos x-pos x)>10
trigger2 = Abs(parent, pos y-pos y-30)>10
triggerall = time >= 6
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
helpertype = normal ;player
name = "raiton-tail"
ID = 961
stateno = 961
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = Abs(parent, pos x-pos x)>10
trigger2 = Abs(parent, pos y-pos y-30)>10
triggerall = time >= 6
;triggerall = parent, stateno = 1111 || parent, stateno = 2222
value = 960

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = parent, pos y - 30

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno != [960,969]


;---------------------------------------------------------------------------
;Tail
[Statedef 961]
type    = S
movetype= I
physics = N
anim = 960
sprpriority = -1

; zapamiêtanie pozycji startu
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = pos x

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(5) = pos y

; zmiana do po³o¿enia postaci
[State 0, PosSet]
type = PosSet
trigger1 = time < 6
x = parent, pos x
y = parent, pos y

;pomiar kata
[State 1640, X]
Type=VarSet
Trigger1=time < 6
fvar(13)=(Pos X-var(4))*Facing

[State 1640, Y]
Type=VarSet
trigger1=time < 6
fvar(14)=-(pos y-var(5))

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)!=0
fvar(15)= Atan(fvar(14)/fvar(13))*180/PI +cond(fvar(13)>0,0,180)

[State 1640, alfa]
Type=VarSet
trigger1=fvar(13)=0
fvar(15)=cond(fvar(14)>0,90,-90)

;pomiar d³ugoœc ogona
[State 0, VarSet]
type = VarSet
trigger1 = time < 6
fvar(4) = Abs(var(4) - pos x)/150

[State 0, VarSet]
type = VarSet
trigger1 = time < 6
trigger1 = fvar(4) > 1.7
fvar(4) = 1.7

; zmina d³ugosci i kata
[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4*cond(fvar(4)<0.5,0.7,0.2+fvar(4)),0.4*cond(fvar(4)<0.5,0.8,0.3+fvar(4))
value = fvar(15)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != [960,969]
;------------------
;KCM Rasengan
[StateDef 962]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 962
poweradd = -500
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 523453425
sound = F19,3453245
pos = 37,32455
move = 20
movetime = 20
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F19,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F19,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F10,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F10,4

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 5
time = 20
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 5
time = 20
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,36

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 5
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 220,160,150
palpostbright = 0,0,0
paladd = 5,3,3
palmul = .60,.40,.35
timegap = 1
framegap = 1
trans = add

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = 0;time = 5
anim = 959
id = 959
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(960) = 0
helpertype = normal ;player
name = "Tail Create"
ID = 960
stateno = 960
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Aura"
ID = 970
stateno = 970
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State 0, Explod Plomyki]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 2,0
anim = 961
id = 961
pos = -15+random%30,-10-random%30
postype = p1
vel = 0,-2
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
removeongethit = 1
scale = 0.7,0.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 963
ctrl = 1
;------------------
;KCM Rasengan Teleport
[StateDef 963]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 963
poweradd = -1000
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 10
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 10
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 967
ID = 967
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = -2
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S8,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 2
anim = 968
ID = 968
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.7,0.7
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 2
anim = 969
ID = 969
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F9,1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = p2bodydist x+150

[State 0, Turn]
type = Turn
trigger1 = animelem = 4

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 964
ctrl = 1
;------------------
;KCM Rasengan Hit
[StateDef 964]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 964
poweradd = 0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 523453425
sound = F19,3453245
pos = 37,32455
move = 10
movetime = 10
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 50
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 50
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 6-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 220,160,150
palpostbright = 0,0,0
paladd = 5,3,3
palmul = .60,.40,.35
timegap = 1
framegap = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NT
damage = 250,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = S, NT
damage = 500,500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2016
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-2
airguard.velocity = -20,-2
air.type = High
air.velocity = -20,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper] 
type = Helper 
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Explod Plomyki]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = 961
id = 961
pos = -25+random%40,-10-random%30
postype = p1
vel = 0,-2
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
removeongethit = 1
scale = 0.7,0.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 40
trigger2 = time > 30 && !movehit
value = 965
ctrl = 1
;------------------
;KCM Rasengan End
[StateDef 965]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 965
poweradd = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,4

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time < 20
time = 2
add = -120+time*6,-120+time*6,-120+time*6

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time < 20
time = 2
add = -80+time*4,-80+time*4,-80+time*4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 966
id = 966
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Plomyki]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0
anim = 961
id = 961
pos = -25+random%40,-10-random%30
postype = p1
vel = 0,-2
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1+random%4
removeongethit = 1
scale = 0.7,0.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Aura
[Statedef 970]
type = S
ctrl = 1
anim = parent,anim+10
velset = 0,0
movetype = I
physics = S
sprpriority = 4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
pos = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = facing = 1 && parent, facing = -1
trigger2 = facing = -1 && parent, facing = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != parent,anim+10
value = parent,anim+10

[State 2000, 2]
type = destroyself
trigger1 = time > 5 && parent, stateno != [960,969]
;------------------
;Kula
[StateDef 950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(6)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F632;1
id = 90000
pos = 0,0
scale = 0.1,0.1
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F678
id = 90001
pos = 0,0
scale = 0.15,0.15
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
trans = add
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F620
id = 90002
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
trans = add
angle = time*5
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.5+var(6)*0.02,0.5+var(6)*0.02
trans = add
angle = time*5

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, Explod Kolo]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F685
id = 90004
pos = 0,0
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = addalpha
alpha = 150,256
angle = -time*3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

;--- LADOWANY ---

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
trigger2 = parent, stateno = 962
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = ishelper(950)
time = 1
pos = -18,-23

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = !ishelper(950)
time = 1
pos = 6,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -5,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 9
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 0 && parent, time <= 1
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 2 && parent, time <= 4
time = 1
pos = -14,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 4 && parent, time <= 5
time = 1
pos = -34,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = -17,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = -3,-4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -3,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -3,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = 6,-75

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -17,-52

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -8,-54

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 964 && parent, movehit
trigger4 = parent, stateno = 942 && parent, movehit
trigger5 = parent, stateno = 945 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,949]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [520,521]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 521
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
triggerall = parent, stateno != [470,472]
triggerall = parent, stateno != [606,607]
triggerall = parent, stateno != [750,752]
triggerall = parent, stateno != [480,489]
triggerall = parent, stateno != [780,789]
triggerall = parent, stateno != [530,559]
triggerall = parent, stateno != [1200,1219]
value = 952

;--- F,a Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 0 && parent, time <= 5
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 5 && parent, time <= 59
time = 1
pos = 46,-40

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 607 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 607 && parent, time >= 44
value = 952

;--- F,a Combo Double

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(951)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(951)
time = 1
pos = 44,-42

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 606 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 606 && parent, time >= 44
value = 952

;--- Hiraishin Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 750
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 751
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 752
time = 1
pos = 38,-30

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 751 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 752
value = 952

;--- Hiraishin Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 781
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 782
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 781 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 782
value = 952

;--- Kunai Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 470
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 471
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 472
time = 1
pos = 38,-30

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 471 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 472
value = 952

;--- Kunai Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 481
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 482
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 481 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 482
value = 952

;--- Double Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(952)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(952)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(952)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(952)
time = 1
pos = 44,-42

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 532 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 533
value = 952

;--- Double Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(953)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(953)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(953)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time > 11
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 0 && parent, time <= 2
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 2 && parent, time <= 4
triggerall = ishelper(953)
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 4 && parent, time <= 6
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time >= 7
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 546
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 547
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 542 && parent, movehit
triggerall = ishelper(950)
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 544
triggerall = ishelper(950)
value = 952

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 546 && parent, movehit
triggerall = ishelper(953)
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 547
triggerall = ishelper(953)
value = 952

;--- Hiraishin + Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time <= 5
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time > 5
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 556
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 557
time = 1
pos = 0,1


[State 0, End]
type = Changestate
trigger1 = parent, stateno = 556 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 557
value = 952

;--- Hiraishin Ni no Dan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1202
time = 1
pos = -7,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 2 && parent, time <= 6
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 6 && parent, time <= 10
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 10 && parent, time <= 14
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time >= 15
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1203 && parent, time >= 20
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1203 && parent, time >= 80
value = 952
;------------------
;Kula Hit
[StateDef 951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [480,489]
trigger1 = parent, stateno != [780,789]
trigger1 = parent, stateno != [544,559]
trigger1 = parent, stateno != [1200,1219]
anim = F644
id = 90006
pos = 5,0
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wstazki]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F680
id = 90007
pos = 0,0
scale = 0.3+var(6)*0.01,0.3+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [480,489]
trigger1 = parent, stateno != [780,789]
trigger1 = parent, stateno != [544,559]
trigger1 = parent, stateno != [1200,1219]
anim = F461
id = 90008
pos = -30,0
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.04,-var(6)*0.02
trans = add
supermovetime = 9999
pausemovetime = 9999


[State 0, Fale]
type = Explod
ownpal = 1
triggerall = timemod = 10,0
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [480,489]
trigger3 = parent, stateno = [780,789]
trigger4 = parent, stateno = [544,559]
trigger5 = parent, stateno = 1203
anim = F644
id = 90006
pos = 1,5
scale = 0.2+var(6)*0.008,(0.2+var(6)*0.008)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.005,-var(6)*0.03
angle = -85
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
triggerall = time = 5
trigger1 = parent, stateno = [944,946]
trigger2 = parent, stateno = [480,489]
trigger3 = parent, stateno = [780,789]
trigger4 = parent, stateno = [544,559]
trigger5 = parent, stateno = 1203
anim = F461
id = 90008
pos = -5,-30
scale = 0.3+var(6)*0.003,0.3+var(6)*0.003
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
vel = -var(6)*0.007,-var(6)*0.04
angle = -85
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Fala Uderzeniowa]
type = Explod
ownpal = 1
trigger1 = time = 15
trigger1 = parent, stateno != [940,949]
triggerall = parent, stateno != [480,489]
triggerall = parent, stateno != [544,559]
triggerall = parent, stateno != [780,789]
triggerall = parent, stateno != [1200,1219]
anim = F645
id = 90009
pos = -15,-pos y
scale = 1.8,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = var(6)*0.01,0
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [940,949]
triggerall = parent, stateno != [480,489]
triggerall = parent, stateno != [544,559]
triggerall = parent, stateno != [780,789]
triggerall = parent, stateno != [1200,1219]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;Odama

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
trans = add

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 964
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
trans = add

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 964
anim = F644
id = 90013
pos = 15,0
scale = 0.3+var(6)*0.009,(0.3+var(6)*0.009)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
vel = -var(6)*0.03,-var(6)*0.01
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Kamyki]
type = Explod
ownpal = 1
trigger1 = 1
trigger1 = parent, stateno = 964
anim = F591
ID = 591
pos = -20+random%40,-pos y +random%20
vel = 1+random%2,-2
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Wybuch ziemi]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F1490
ID = 90015
pos = 40,-pos y+3
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.3,0
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = 4
ontop = 0

[State 0, Zniszczona ziemia]
type = Explod
trigger1 = time = 10
trigger1 = parent, stateno = 964
anim = F64
ID = 90016
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.4
sprpriority = -1
ontop = 0

;Ni no Dan

[State 0, Blysk Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 1203
anim = F681
id = 90011
pos = 0,0
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = 0.01+var(3)*0.001+var(4)*0.03,0.01+var(3)*0.001+var(4)*0.03
trans = add

[State 0, Wybuch Kuli]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = 1203
anim = F650
id = 90012
pos = 0,0
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
angle = -85
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 90012
scale = (0.01+var(3)*0.001+var(4)*0.03)*2,(0.01+var(3)*0.001+var(4)*0.03)*2
trans = add

[State 0, Fale]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
trigger1 = parent, stateno = 1203
anim = F644
id = 90013
pos = 2,15
scale = 0.3+var(6)*0.009,(0.3+var(6)*0.009)*0.7
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 7
angle = -85
vel = -var(6)*0.005,-var(6)*0.03
removeongethit = 1
trans = add
supermovetime = 9999
pausemovetime = 9999


;------------

;--- LADOWANY ---

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
trigger2 = parent, stateno = 962
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = ishelper(950)
time = 1
pos = -18,-23

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = !ishelper(950)
time = 1
pos = 6,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -5,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 6
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 6 && parent, time <= 9
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 0 && parent, time <= 1
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 2 && parent, time <= 4
time = 1
pos = -14,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 4 && parent, time <= 5
time = 1
pos = -34,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = -17,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = -3,-4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -3,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -3,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = 6,-75

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -17,-52

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -8,-54

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,949]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != [960,969]
trigger1 = parent, stateno != [520,521]
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 965
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 521
trigger6 = parent, stateno = 943
trigger7 = parent, stateno = 946
triggerall = parent, stateno != [470,472]
triggerall = parent, stateno != [606,607]
triggerall = parent, stateno != [750,752]
triggerall = parent, stateno != [480,489]
triggerall = parent, stateno != [780,789]
triggerall = parent, stateno != [530,559]
triggerall = parent, stateno != [1200,1219]
value = 952

;--- F,a Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 0 && parent, time <= 5
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 5 && parent, time <= 59
time = 1
pos = 46,-40

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 607 && parent, time >= 44
value = 952

;--- F,a Combo Double

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(951)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(951)
time = 1
pos = 44,-42

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 606 && parent, time >= 44
value = 952

;--- Hiraishin Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 750
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 751
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 752
time = 1
pos = 38,-30

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 752
value = 952

;--- Hiraishin Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 781
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 782
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 782
value = 952

;--- Kunai Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 470
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 471
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 472
time = 1
pos = 38,-30

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 472
value = 952

;--- Kunai Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 481
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 482
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 482
value = 952

;--- Double Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(952)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(952)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(952)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(952)
time = 1
pos = 44,-42

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 533
value = 952

;--- Double Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(953)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(953)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(953)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time > 11
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 0 && parent, time <= 2
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 2 && parent, time <= 4
triggerall = ishelper(953)
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 4 && parent, time <= 6
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time >= 7
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 546
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 547
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 544
triggerall = ishelper(950)
value = 952

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 547
triggerall = ishelper(953)
value = 952

;--- Hiraishin + Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time <= 5
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time > 5
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 556
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 557
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 557
value = 952

;--- Hiraishin Ni no Dan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1202
time = 1
pos = -7,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 2 && parent, time <= 6
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 6 && parent, time <= 10
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 10 && parent, time <= 14
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time >= 15
time = 1
pos = 0,1

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 1203 && parent, time >= 80
value = 952
;------------------
;Kula End
[StateDef 952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.1+var(6)*0.0035,0.1+var(6)*0.0035
trans = add

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Smugi]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.15+var(6)*0.005,0.15+var(6)*0.005
trans = add
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Kolo]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003
trans = addalpha
alpha = 150,256
angle = -time*3

[State 0, Smugi]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.2+var(6)*0.01,(0.2+var(6)*0.01)*0.7
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.25+var(6)*0.01,0.25+var(6)*0.01
trans = add

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

;--- LADOWANY ---

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
trigger2 = parent, stateno = 962
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = ishelper(950)
time = 1
pos = -18,-23

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932
triggerall = !ishelper(950)
time = 1
pos = 6,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -5,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
trigger3 = parent, stateno = 964 && parent, time > 0 && parent, time <= 3
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
trigger3 = parent, stateno = 964 && parent, time > 3 && parent, time <= 6
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
trigger3 = parent, stateno = 964 && parent, time > 6 && parent, time <= 9
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
trigger3 = parent, stateno = 964 && parent, time >= 10
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935
trigger2 = parent, stateno = 9336
trigger3 = parent, stateno = 965
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 0 && parent, time <= 1
time = 1
pos = -14,-34

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 2 && parent, time <= 4
time = 1
pos = -14,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 963 && parent, time > 4 && parent, time <= 5
time = 1
pos = -34,-35

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 520
time = 1
pos = -17,-18

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 521
time = 1
pos = -3,-4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos = -3,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
time = 1
pos = -3,-43

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 0 && parent, time <= 3
time = 1
pos = 6,-75

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time > 4 && parent, time <= 6
time = 1
pos = -17,-52

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 945
trigger2 = parent, stateno = 946
time = 1
pos = -13,5

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = -13,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = -8,-54

;--- F,a Combo

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 0 && parent, time <= 5
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 607 && parent, time > 5 && parent, time <= 59
time = 1
pos = 46,-40

;--- F,a Combo Double

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(951)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 606 && parent, time > 5 && parent, time <= 59
triggerall = ishelper(951)
time = 1
pos = 44,-42

;--- Hiraishin Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 750
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 751
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 752
time = 1
pos = 38,-30

;--- Hiraishin Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 780 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 781
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 782
time = 1
pos = 0,1

;--- Kunai Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 470
time = 1
pos = 22,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 471
time = 1
pos = 38,-30

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 472
time = 1
pos = 38,-30

;--- Kunai Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time >2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 480 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 481
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 482
time = 1
pos = 0,1

;--- Double Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 530
triggerall = ishelper(952)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 531
triggerall = ishelper(952)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(952)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 532 && parent, time >= 6
trigger2 = parent, stateno = 533
triggerall = ishelper(952)
time = 1
pos = 44,-42

;--- Double Air Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(950)
time = 1
pos = -22,-33

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(950)
time = 1
pos = -15,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(950)
time = 1
pos = -37,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 540
triggerall = ishelper(953)
time = 1
pos = 17,-37

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 541
triggerall = ishelper(953)
time = 1
pos = -8,-44

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time > 0 && parent, time <= 5
triggerall = ishelper(953)
time = 1
pos = 23,-28

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 542 && parent, time >= 6
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(950)
time = 1
pos = 46,-40

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time <= 10
triggerall = ishelper(953)
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 544 && parent, time > 11
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 0 && parent, time <= 2
triggerall = ishelper(953)
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 2 && parent, time <= 4
triggerall = ishelper(953)
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time > 4 && parent, time <= 6
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 545 && parent, time >= 7
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 546
triggerall = ishelper(953)
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 547
triggerall = ishelper(953)
time = 1
pos = 0,1

;--- Hiraishin + Rasengan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time <= 5
time = 1
pos = 44,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 554 && parent, time > 5
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 2 && parent, time <= 4
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time > 4 && parent, time <= 6
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 555 && parent, time >= 7
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 556
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 557
time = 1
pos = 0,1

;--- Hiraishin Ni no Dan

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1202
time = 1
pos = -7,-32

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 0 && parent, time <= 2
time = 1
pos = -15,5000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 2 && parent, time <= 6
time = 1
pos = -15,-89

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 6 && parent, time <= 10
time = 1
pos = -38,-64

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time > 10 && parent, time <= 14
time = 1
pos = 0,1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 1203 && parent, time >= 15
time = 1
pos = 0,1



[State 0, End]
type = Destroyself
trigger1 = time = 11
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16

;---------------------------------------------------------------------------
;----------------------------------Attacks----------------------------------
;---------------------------------------------------------------------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle = 0
velset = 3,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-1
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo
[StateDef 201]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -52
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-45-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 26202
ID = 202
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Hiraishin Combo
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 204
poweradd = -50
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F300
pos = 25,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,15]
trigger1 = vel x > 0
x = 8-time/2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-33-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
getpower = 0 
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = 206
ID = 391
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1
trans = add1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11   
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0 && command = "y"
trigger2 = var(50) = 1 && random = [880,890+var(49)*(var(49))/10+10+var(48)/50]
triggerall = var(11) < 8
triggerall = movecontact
triggerall = time > 5
triggerall = power >= 50
value = 205

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Hiraishin Combo
[StateDef 205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 205+random%1
poweradd = -50
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 205+random%1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F300
pos = 25,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = [3,13]
x = 12-time/2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-33-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Turn]
type = Turn
trigger1 = time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 2
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x +70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = S8,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3 && anim = 205
anim = 2051
ID = 2051
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3 && anim = 206
anim = 2061
ID = 2061
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 11   
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0 && command = "y"
trigger2 = var(50) = 1 && random = [880,890+var(49)*(var(49))/10+10+var(48)/50]
triggerall = var(11) < 8
triggerall = movecontact
triggerall = time > 5
triggerall = power >= 50
value = 205

[State 0, ChangeState]
type = ChangeState
trigger1 = var(11) = 6
triggerall = power >= 100
value = 606
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------
;Combo 1
[StateDef 210]
type = S
movetype= A
physics = S
juggle = 0
velset = 4,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -48
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 1
[StateDef 220]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-4
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = pos y >= -10
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y >= -10
anim = F370
pos = 0,10
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -45
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-3
airguard.velocity = -8,-3
air.type = High
air.velocity = -8,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Combo 5
[StateDef 230]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = 2

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-35-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 2
sparkxy = -10, -40
hitsound = 5, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-1
air.type = High
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 241
ID = 241
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 5
[StateDef 250]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-5
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-15-random%45
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,15

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,1

[state 0, posset]
type = posadd
triggerall = p2dist x < 70
trigger1 = AnimElem = 1
y = 0
x = p2bodydist x + 10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -60
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-8
airguard.velocity = -3,-8
air.type = High
air.velocity = -3,-8
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 252
ID = 252
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;Combo 5
[StateDef 251]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 0
anim = 251
poweradd = 0
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 9
[StateDef 260]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 360
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 10
sparkno = 0+random%4
sparkxy = -15, -33
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 9
[StateDef 270]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 370
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -32
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-1
air.type = low
air.velocity = -2,-1
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 9
[StateDef 280]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 380
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 3, 5
sparkno = 0+random%4
sparkxy = -15, -22
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -6,3
air.type = High
air.velocity = -6,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 381
ID = 381
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 11
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 390
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-40-random%15
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 3, 5
sparkno = 0+random%4
sparkxy = -15, -44
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,1.5
air.type = High
air.velocity = -5,-1.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 391
ID = 391
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 4
[StateDef 300]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Combo 4
[StateDef 310]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Combo 8
[StateDef 320]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 290
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[state 0, posset]
type = posadd
triggerall = prevstateno = 603
triggerall = p2dist x < 70
trigger1 = time = 1
y = p2bodydist y + 10
x = p2bodydist x + 20

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = prevstateno = 603
triggerall = p2dist x < 70
trigger1 = time = 0
anim = 605
ID = 605
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 6522, Helper]
type = Helper
triggerall = prevstateno = 603
triggerall = p2dist x < 70
trigger1 = time = 0
name = "blysk"
postype = p1
pos = 0,0
ownpal = 1
stateno = 2000
ID = 2000
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
triggerall = prevstateno = 603
triggerall = p2dist x < 70
trigger1 = time = 0
time = 6
anim = -101
move = 6
movetime = 6
darken = 0
unhittable = 0

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 3
sparkno = 0+random%4
sparkxy = -15, -42
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-3
airguard.velocity = -4,-3
air.type = High
air.velocity = -4,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Combo 8
[StateDef 330]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 300
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;----------------------------------------------------------------------
;Combo 11
[StateDef 340]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
trigger2 = animelem = 3
anim = F300
pos = 25,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,15

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,2

[state 0, posadd]
type = Velset
trigger1 = 1
x = 10-time/2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,2
sparkno = 0+random%4
sparkxy = -15, -43
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 220, end]
type = ChangeState
trigger1 = time = 20 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 11
[StateDef 350]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F300
pos = 25,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-25-random%15
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, posadd]
type = Velset
trigger1 = time < 20
x = 15-time/2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 12
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 30,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -28
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,0
airguard.velocity = -6,1.5
air.type = High
air.velocity = -6,-1.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 411
ID = 411
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Combo 2
[StateDef 360]
type = C
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F370
pos = 0,9
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -52
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-6
airguard.velocity = -2,-6
air.type = High
air.velocity = -2,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-45-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 262
ID = 262
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 361
ctrl = 1

[StateDef 361]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kunai
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 4
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 15,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kunai TO UP
[StateDef 412]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 312
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 4
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70702
pos = 33,-60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kunai
[StateDef 415]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 315
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 20
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70701
pos = 14,-25
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;5 Kunai
[StateDef 417]
type = A
movetype= A
physics = A
juggle  = 1
velset = -3,-2
ctrl = 0
anim = 317
poweradd = 0
sprpriority = 0

[State 0, Gravity]
type = Gravity
trigger1 = time > 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
v = 20
value = 5

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(419) = 0
helpertype = normal;player
name = "kunai"
ID = 419
stateno = 419
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal =1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[StateDef 419]
type = A
anim = 2000
sprpriority = 0

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal;player
name = "kunai"
ID = 1
stateno = 418
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "kunai"
ID = 2
stateno = 418
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "kunai"
ID = 3
stateno = 418
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "kunai"
ID = 4
stateno = 418
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "kunai"
ID = 5
stateno = 418
pos = 10,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220, end]
type = Destroyself
trigger1 = time > 20 && numhelper(418) = 0

;Kunaie
[StateDef 418]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 319
poweradd = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
length = 6
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Angle]
type = AngleDraw
trigger1 = 1
value = -vel y*5

[State 0, VelSet]
type = VelSet
triggerall = isHelper(1)
trigger1 = 1
x = 16
y = 0

[State 0, VelSet]
type = VelSet
triggerall = isHelper(2)
trigger1 = 1
x = 16
y = -1.5

[State 0, VelSet]
type = VelSet
triggerall = isHelper(3)
trigger1 = 1
x = 16
y = 1

[State 0, VelSet]
type = VelSet
triggerall = isHelper(4)
trigger1 = 1
x = 16
y = -3

[State 0, VelSet]
type = VelSet
triggerall = isHelper(5)
trigger1 = 1
x = 16
y = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1
anim = F10
angle = -25+random%50
ID = 10
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = -2
sprpriority = 3

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 20,12
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,10 
sparkno = 4
sparkxy = -10, 0
hitsound = 21,3
guardsound = 11, 7
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
givepower = -40,20

[State 811, end]
type = Destroyself
trigger1 = frontedgebodydist < -50 && time > 50

;----------------------------------------------------------------------
;Hirashin attack 1
[StateDef 420]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = -250
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < -10

[State 0, PosAdd]
type = Velset
trigger1 = time > 1 && time < 15
x = 30

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1
x = helper(70700),pos x
y = helper(70700),pos y+20

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -40
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1

[State 310, 2]
type = Explod
trigger1 = time = 1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-15-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 331
ID = 331
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
name = "ciecie"
bindtime = -1
removetime = 6
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = 2152
ID = 2152
pos = 18,0
vel = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = 10
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time > 2
anim = F20
ID = 20
pos = -10+random%20,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 220, end]
type = ChangeState
trigger1 = time = 10
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time = 1 && pos y < -30
value = 50
ctrl = 1
;----------------------------------------------------------------------
;Hirashin attack 2
[StateDef 430]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 730
poweradd = -250
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = 0,-33-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < -10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3
statetype = A      
movetype = A       
physics = A         
ignorehitpause = 1    

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = .5
y = -2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1
x = helper(70700),pos x
y = helper(70700),pos y+20

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 100,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -10, -55
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-9
airguard.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 1
anim = cond(p2dist x < 0,441,442)
ID = 441
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 732
ID = 732
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 431
ctrl = 1

[StateDef 431]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 0
anim = 261
poweradd = 0
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Hirashin attack 3
[StateDef 440]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 620
poweradd = -250
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-30-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 2 && prevstateno != 205

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < -10

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1 && prevstateno != 205
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && prevstateno != 205
x = helper(70700),pos x
y = helper(70700),pos y+20

[State 0, PosAdd]
type = Posset
triggerall = facing = -1
trigger1 = numhelper(441) = 1
x = helper(441),pos x +20
y = helper(70700),pos y+20

[State 0, PosAdd]
type = Posset
triggerall = facing = 1
trigger1 = numhelper(441) = 1
x = helper(441),pos x -20
y = helper(70700),pos y+20

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -40
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
pos = 20,0

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, -25-random%20
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-35
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-35
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1


[State 0, Helper]
type = Helper
trigger1 = movecontact && numhelper(441) = 0
helpertype = normal
name = "ciêcia hity"
stateno = 441
ID = 441
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 220, end]
type = ChangeState
trigger1 = time = 15
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time = 1 && pos y < -30
value = 50
ctrl = 1

;Ciecia g³ówny helper
[Statedef 441]
type = S
movetype = A
physics = N
anim = 701
ctrl = 0
poweradd = 0
velset = 0,0
sprpriority = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
value = F5,11

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NA
damage = 10,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, -25-random%20
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
air.fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && p2movetype = H && timemod = 10,1
id = 10
anim = F10+random%3
angle = -25+random%50
pos = 0+random%10, -30+random%10
scale = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 99999
pausemovetime = 99999

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = F0 + random%2
pos = 0+random%40,-10-random%50
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 20
ontop = 0
bindtime = -1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = 2001
pos = 0+random%40,-10-random%50
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 240
ID = 240
pos = 0,-5
scale = 1,1
postype = p1
trans = addalpha
alpha = 256,256
bindtime = -1
removetime = 12
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 240
ID = 240
pos = 40,-5
scale = 1,1
postype = p1
trans = addalpha
alpha = 256,256
bindtime = -1
facing = -1
removetime = 12
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 17
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 10,-10
ownpal = 1
stateno = 1310
ID = 1
size.xscale = 0.2
size.yscale = 0.2

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 20
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 10,-20
ownpal = 1
stateno = 1310
ID = 2
size.xscale = 0.3
size.yscale = 0.3

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-30
ownpal = 1
stateno = 1310
ID = 3
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 28
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-15
ownpal = 1
stateno = 1310
ID = 4
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 25
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-25
ownpal = 1
stateno = 1310
ID = 5
size.xscale = 0.2
size.yscale = 0.2

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 2
trigger2 = Time = 18
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 10,-35
ownpal = 1
stateno = 1310
ID = 6
size.xscale = 0.3
size.yscale = 0.3

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 27
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 10,-7
ownpal = 1
stateno = 1310
ID = 7
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 20
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-14
ownpal = 1
stateno = 1310
ID = 8
size.xscale = 0.3
size.yscale = 0.3

;-------------
[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 26
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 10,-14
ownpal = 1
stateno = 1311
ID = 1
size.xscale = 0.2
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 22
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 10,-7
ownpal = 1
stateno = 1311
ID = 2
size.xscale = 0.3
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 2
trigger2 = Time = 17
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-35
ownpal = 1
stateno = 1311
ID = 3
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-25
ownpal = 1
stateno = 1311
ID = 4
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 20
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-15
ownpal = 1
stateno = 1311
ID = 5
size.xscale = 0.2
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 25
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 10,-30
ownpal = 1
stateno = 1311
ID = 6
size.xscale = 0.3
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 25
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 10,-20
ownpal = 1
stateno = 1311
ID = 7
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-10
ownpal = 1
stateno = 1311
ID = 8
size.xscale = 0.3
size.yscale = 0.5

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 15

;----------------------------------------------------------------------
;Hirashin attack 4
[StateDef 450]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 430
poweradd = -250
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-25-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < -10

[State 0, PosAdd]
type = Velset
trigger1 = time > 1 && time < 15
x = 30

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1
x = helper(70700),pos x
y = helper(70700),pos y+20

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -40
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1


[State 310, 2]
type = Explod
trigger1 = time = 1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 5
pos = 30,0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,0
airguard.velocity = -8,0
air.type = High
air.velocity = -8,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 431
ID = 431
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "ciecie"
bindtime = -1
removetime = 9
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = 2152
ID = 2152
pos = 18,0
vel = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = 10
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time > 2
anim = F20
ID = 20
pos = -10+random%20,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = addalpha
alpha = 256-fvar(2),256

[State 220, end]
type = ChangeState
trigger1 = time = 10
value = 0
ctrl = 1

[State 220, end]
type = ChangeState
trigger1 = time = 1 && pos y < -30
value = 50
ctrl = 1
;----------------------------------------------------------------------
;Attack air 1
[StateDef 460]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = 2156
id = 2156
pos = -6,-6
scale = 0.55,0.55
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,0+random%11

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = F8,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, PosAdd]
type = Velset
trigger1 = time > 1
x = 13
y = 13

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NA
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, 20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,3
airguard.velocity = -5,3
air.type = High
air.velocity = -3,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 220, end]
type = ChangeState
trigger1 = pos y > -50 && time > 2
value = 461
ctrl = 1

[StateDef 461]
type = A
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11
poweradd = -100
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2156

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2012
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F580
pos = 0,5
scale = 1,0.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F550
pos = 5,5
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
persistent = 0
time = 15
freq = 80
ampl = -5
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F1190
pos = 5,0
scale = 1.5,1.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F7,2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,0+random%5

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 12
ctrl = 1

;----------------------------------------------------------------------
;Hirashin Rasengan
[StateDef 470]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 750
poweradd = -500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -14,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1
x = helper(70700),pos x
y = helper(70700),pos y+20


[State 0, PosAdd]
type = PosAdd
trigger1 = 0;time = 2
x = -50

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -40
y = 0

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < -10
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 5 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = const(velocity.run.fwd.x)+3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = time = 1 && pos y < -30
value = 50
ctrl = 1

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
trigger1 = time >= 5
value = 471
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 30
trigger2 = p2bodydist x < -100
trigger2 = time >= 5
value = 932
ctrl = 1
;------------------
[StateDef 471]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 751
poweradd = -500
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 20 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -31
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 20
time = 5
pos = 40,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 25
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -31
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = time = 30
trigger2 = time > 20 && !movehit
value = 472
ctrl = 1
;------------------
[StateDef 472]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 752
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
;Hirashin Rasengan Air
[StateDef 480]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Turn]
type = Turn
trigger1 = facing = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1
x = helper(70700),pos x + 1
y = helper(70700),pos y -10

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -14,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = time = 8
value = 481
ctrl = 1
;------------------
[StateDef 481]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 0
y = (5+time/5)*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = -1,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 482
ctrl = 1
;-----------------
[StateDef 482]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 0
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1




;---------------------------------------------------------------------
;=========================[ Attacks Special ]=========================
;---------------------------------------------------------------------
;-----------------
;Rasengan Fail
[StateDef 499]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 499+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = [5,8]
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,8
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,20
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 610

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 630

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 680

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1390

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 680

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 829

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8296

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8291

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 82961

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8292

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 82962

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 931

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2937

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2938

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------
;Rasengan - ³adowanie
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
poweradd = -750
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F32,4
channel = 12


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1130
id = 1130
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1070
id = 1070
pos = -13,-33
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 35,0
anim = F600
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
removeongethit = 1
scale = 1.5,0.75
supermovetime = 10
pausemovetime = 10

[State 0, VarSet]
type = VarSet
trigger1 = time < 115
v = 6
value = time-5

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 21
value = -12

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 16, 5
anim = F610
id = 8296
pos = -13,-33-var(6)*0.063;6
vel = 0,-0.073
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.26*1.95,0.26*1.95
supermovetime = 10
pausemovetime = 10

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time < 21
ID = 8296
scale = (0.002+var(6)*0.009375)*1.95,(0.002+var(6)*0.009375)*1.95

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 21 && time < 115
ID = 8296
scale = (0.12+(var(6)-16)*0.00065)*2.05,(0.12+(var(6)-16)*0.00065)*2.05

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 115
ID = 8296
scale = 0.26*1.45,0.26*1.45
pos = -13,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 24,5 && time <= 115
anim = F620
id = 8292
name = "pochlanianie wiatr"
pos = -13,-32-var(6)*0.05
scale = (0.6+(var(6)/24)*0.1)*2.25,(0.6+(var(6)/24)*0.1)*2.25
postype = p1
facing = 1
bindtime = -1
removetime = 24
sprpriority = 4
removeongethit = 1
supermovetime = 40
pausemovetime = 40

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 12, 5 && numexplod(829) < 2 
anim = F630
id = 829
pos = -13,-32-var(6)*0.053;6
vel = 0,-0.173
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 0.26*1.75,0.26*1.75
supermovetime = 10
pausemovetime = 10

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time < 21
ID = 829
scale = (0.002+var(6)*0.007375)*1.95,(0.002+var(6)*0.007375)*1.95

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time>=21&&time < 115
ID = 829
scale = (0.12+(var(6)-16)*0.00075)*1.85,(0.12+(var(6)-16)*0.00075)*1.85

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 115
ID = 829
scale = 0.26*1.25,0.26*1.25
pos = -13,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 256,150,150
paladd = 5,3,3
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 504
ID = 502
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
ownpal = 1
trigger1 = time < 115
anim = 505
ID = 501
pos = -33,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 811, end]
type = ChangeState
trigger1 = var(50) = 0 && command != "holdz"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time = 115 && power < 1000
triggerall = time >= 21
value = 501

[State 811, end]
type = ChangeState
trigger1 = time = 115
value = 504

;-----------------
[StateDef 501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "life"
ID = 503
stateno = 503
pos = 0,0
postype = p1
facing = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8292

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1390
id = 1390
pos = 0,-37
postype = p1
vfacing = -1
vel = -2,0
facing = 1
trans = addalpha
alpha = 150,256
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 0.3+var(6)*0.004,0.3+var(6)*0.004
supermovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F680
id = 680
pos = 18,-42
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
scale = 0.6+var(6)*0.0007375,0.6+var(6)*0.0007375
supermovetime = 10
pausemovetime = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 0
ontop = 0
supermovetime = 10
pausemovetime = 10

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 829
pos = 20,-41
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 9999
pausemove = 9999
sprpriority = 3
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 8296
pos = 20,-42
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
supermove = 9999
pausemove = 9999
sprpriority = 3
removeongethit = 1
scale = cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75),cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)+6+(var(6)/40)

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 50
length = 6
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 811, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 20
trigger2 = p2bodydist y = [-50,50]
value = 6015
ctrl = 1

[State 811, end]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 499
ctrl = 1

;-----------------
;Rasengan Impact
[StateDef 6015]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 502
poweradd = 20
sprpriority = 2


[State 0, VarSet]
type = VarAdd
trigger1 = var(3) < 110
trigger1 = timemod = 5,0
v = 3
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(3) >= 110
v = 3
value = 110

[State 811, win]
type = ChangeState
trigger1 = helper(106025),stateno= 106025
trigger2 = helper(106025),stateno= 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 5
value = stateno+1
ctrl = 1

[State 811, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025),stateno= 106029
triggerall = time > 5
value = stateno+2
ctrl = 0

[State 811, remis]
type = ChangeState
trigger1 = helper(106025),stateno= 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 5
value = stateno+3
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F32,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = F32,4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 12

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 680

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8296

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 82961

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 82962

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,1
trigger1 = time > 5
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 4,3
trigger1 = time > 5
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1391
id = 1390
pos = 30,-37
postype = p1
vfacing = -1
vel = -4,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.003,0.3+helper(106025),var(6)*0.0025
supermovetime = 9999
removeongethit = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F611
id = 675
pos = 33,-30
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75),cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75)
supermovetime = 40
pausemovetime = 40

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 13,0
trigger1 = time > 5
anim = F676
id = 675
pos = 80,15
scale = 0.3+helper(106025),var(6)*0.004,0.3+helper(106025),var(6)*0.004
vel = -3,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = timemod = 25,0
anim = F680
id = 675
pos = 35,-36
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 256-fvar(2),256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger2 = time > 25 && timemod = 35,0
anim = F675
id = 675
pos = 45,-36
scale = 0.8+helper(106025),var(6)*0.005,0.7+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10
trans = addalpha
alpha = 60,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 829
pos = 33,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 9999
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = modifyExplod
trigger1 = time = 6
id = 829
pos = 33,-30
postype = p1
facing = 1
bindtime = 30
sprpriority = 3
removeongethit = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = Abs(enemy,pos x - pos x) - 74

;-----------------
;Rasengan Impact hit
[StateDef 6016]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -var(8)

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "life"
ID = 503
stateno = 503
pos = 0,0
postype = p1
facing = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [25,35]
ID = 829
scale = (0.15-(time-25)*0.015)*2.25,(0.15-(time-25)*0.015)*2.25
vel = 0.05,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 35
id = 829

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 82962

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F620
pos = 33,-30
scale = 0.5*2.25,0.5*2.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 10
pausemovetime = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F640
pos = 30,0
scale = 2.25,2.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 10
pausemovetime = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F650
pos = 30,-30
scale = (0.002+var(6)*0.0025)*2.25,(0.002+var(6)*0.0025)*2.25
vel = 0.5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 10
pausemovetime = 10

[State 0, Wiatr Wir]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1390
id = 1390
pos = 30,-30
postype = p1
vfacing = -1
vel = -4,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 0.3+var(6)*0.004,0.3+var(6)*0.004
supermovetime = 9999

[State 0, Ziemia]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F550
pos = 40,0
scale = 1.3,1.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1

[State 0, Wiatr Fala]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F682
pos = 0,-38
vel = -1,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Wiatr Ziemia]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F676
pos = 3,10
scale = .4,.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = time < 20
attr = S,NA
damage = (20+var(6)*1)*2.5,(20+var(6)*0.5)*2.5;70+var(6)*0.6,10+var(6)*0.27
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = S1234
sparkxy = -15, -40
hitsound = S6,33
guardsound = S6,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-2-var(6)*0.036
airguard.velocity = -9,-5
air.type = High
air.velocity = -9,-2-var(6)*0.036
air.hittime = 12
fall = cond(var(6)<40,0,1)
envshake.time = 20+var(6)*0.1
envshake.ampl = 2+var(6)*0.1
envshake.freq = 20+var(6)*0.1

[State 0, TargetState]
type = TargetState
trigger1 = var(6)>=70
trigger1 = time = 35
value = 109998

[State 811, end]
type = ChangeState
trigger1 = time = 35
value = 0
ctrl = 1

;-----------------
;Rasengan Impact lose
[StateDef 6017]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 829

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 5050

;-----------------
;Rasengan Impact remis
[StateDef 6018]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1370
pos = 0,20
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 829

[State 811, end]
type = ChangeState
trigger1 = time = 5
value = 5050

;-----------------
[StateDef 502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 502
poweradd = -600
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 12

[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 680

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8296

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -var(8)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 82961

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 82962

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 101
sound = F19,0
pos = 37,-30
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F610
id = 82962
pos = 33,-32
postype = p1
facing = 1
bindtime = -1
removetime = 60
sprpriority = 4
removeongethit = 1
scale = cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75),cond(var(6)<=16,(0.002+var(6)*0.007375)*2.35,(0.12+(var(6)-16)*0.0015)*1.75)
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 829
pos = 33,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1

;[State 0, RemoveExplod]
;type = RemoveExplod
;trigger1 = animelem = 2
;id = 829

[State 0, Explod]
type = modifyExplod
trigger1 = time = 6
id = 829
pos = 33,-30
postype = p1
facing = 1
bindtime = 30
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = [35,45]
ID = 829
scale = (0.15-(time-35)*0.015)*2.25,(0.15-(time-35)*0.015)*2.25
vel = 0.05,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 45
id = 829

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F620
pos = 33,-30
scale = 0.5*2.25,0.5*2.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F640
pos = 30,0
scale = 2.25,2.25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F650
pos = 30,-30
scale = (0.002+var(6)*0.0025)*2.25,(0.002+var(6)*0.0025)*2.25
vel = 0.5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Wiatr Wir]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1390
id = 1390
pos = 30,-30
postype = p1
vfacing = -1
vel = -4,0
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 0.3+var(6)*0.004,0.3+var(6)*0.004
ownpal = 1
supermovetime = 9999

[State 0, Ziemia]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F550
pos = 40,0
scale = 1.3,1.3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
ownpal = 1

[State 0, Wiatr Fala]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F682
pos = 0,-38
vel = -1,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Wiatr Ziemia]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F676
pos = 0,8
scale = .4,.4
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Helper] 
type = Helper 
triggerall = var(6) > 100
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
triggerall = var(6) > 100
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S,NA
damage = 20+var(6)*1,20+var(6)*0.5;70+var(6)*0.6,10+var(6)*0.27
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = S1234
sparkxy = -15, -40
hitsound = S6,33
guardsound = S6,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-1-var(6)*0.036
airguard.velocity = -9,-5
air.type = High
air.velocity = -9,-1-var(6)*0.036
air.hittime = 12
fall = cond(var(6)<40,0,1)
envshake.time = 20+var(6)*0.1
envshake.ampl = 2+var(6)*0.1
envshake.freq = 20+var(6)*0.1

[State 0, TargetState]
type = TargetState
trigger1 = var(6)>=70
trigger1 = time = 45
value = 109998

[State 811, end]
type = ChangeState
trigger1 = time = 45
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Life
[StateDef 503]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(root,stateno = 502,503,506)
poweradd = 0
sprpriority = 2

[State 0, Parent State]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, stateno

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0,256

[State 0, BindToParent]
type = BindToParent
trigger1 = var(10) != 942
trigger1 = var(10) != 961
time = 1
pos = 0,0

[State 0, BindToParent]
type = BindToParent
trigger1 = var(10) = 942
trigger2 = var(10) = 961
time = 1
pos = 0,30

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 503
time = 1

[State 0, VarSet]
type = ParentVarset
trigger1 = 1
v = 8
value = gethitvar(damage)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(10)

;-----------------
[StateDef 504]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 2

[State 6522, Helper]
type = Helper
trigger1 = time = 0
trigger2 = time = 4
name = "blysk"
postype = p1
pos = 0,0
ownpal = 1
stateno = 2000
ID = 2000
supermovetime = 9999
pausemovetime = 9999

[State 700]
type = Turn
trigger1 = time = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
x = p2dist x -400

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8292

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F14,6

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S4,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 10
pausemovetime = 10

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 829
pos = 20,-41
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 9999
pausemove = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 1
ID = 8296
pos = 20,-42
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermove = 9999
pausemove = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)+7

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 50
length = 6
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 20
trigger2 = time > 50
value = 502
ctrl = 1

;--------------------------------------------------------------------
;Rasengan Air
[StateDef 510]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = time<=21
v = 6
value = time-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F32,4
channel = 13

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F610
id = 8296
pos = 0,-44
postype = p1
facing = 1
bindtime = -1
removetime = 25
ownpal = 1
supermovetime = 10
pausemovetime = 10
sprpriority = 4
removeongethit = 1
scale = 0.12*2.25,0.12*2.25

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F620
id = 8292
pos = 0,-42
scale = 2.25,2.25
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 24
sprpriority = 4
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F630
id = 829
pos = 0,-42
scale = 0.002*1.95,0.002*1.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 10
pausemovetime = 10
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time <= 21
ID = 829
scale = (0.002+var(6)*0.007375)*2.05,(0.002+var(6)*0.007375)*2.05

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = Time = 30
value = 511

;-----------------
[StateDef 511]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 511
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = time < 10

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = -30

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 945
id = 945
pos = -15,30
postype = p1
facing = 1
supermovetime = 10
pausemovetime = 10
removetime = -2
ownpal = 1
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F610
id = 8296
pos = 0,-44
postype = p1
facing = 1
bindtime = -1
removetime = 25
sprpriority = 4
removeongethit = 1
scale = cond(var(6)<=16,(0.002+var(6)*0.007375)*2.25,(0.12+(var(6)-16)*0.0015)*2.25),cond(var(6)<=16,(0.002+var(6)*0.007375)*2.25,(0.12+(var(6)-16)*0.0015)*2.25)
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = 101
sound = F19,0
pos = 0,-43
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 10
ID = 829
pos = 0,-42
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "rasengan"
ID = 513
stateno = 513
pos = 22,-10
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 10
time = 50
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ModifyExplod]
type = removeExplod
trigger1 = time = 10
ID = 829

[State 0, VelSet]
type =  VelSet
trigger1 = time > 10 && time < 13
x = 1
y = 1

[State 0, VelSet]
type =  VelSet
trigger1 = time >= 13
trigger1 = helper(513), stateno = 513
x = 12
y = 10

[State 0, VelSet]
type =  VelSet
trigger1 = time >= 13
trigger1 = helper(513),stateno = 514
x = 0.5
y = 0.5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2dist x < 50
trigger1 = pos y > -40 && anim != 512
value = 512

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2dist x > 50
trigger1 = pos y > -15 && anim != 512
value = 512

[State 0, ModifyExplod]
type = removeExplod
trigger1 = numhelper(513) = 0
trigger1 = time > 18
ID = 829

[State 811, end]
type = ChangeState
trigger1 = numhelper(513) = 0 && time > 50
value = 50

;-----------------
[StateDef 513]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 513
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, var(6) <= 16
anim = F630
id = 829
pos = 0,0
scale = (0.002+parent,var(6)*0.007375)*2.25,(0.002+parent,var(6)*0.007375)*2.25
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
supermovetime = 10
pausemovetime = 10
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, var(6) > 16
anim = F630
id = 829
pos = 0,0
scale = (0.12+(parent,var(6)-16)*0.0017)*2.25,(0.12+(parent,var(6)-16)*0.0017)*2.25
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
supermovetime = 10
pausemovetime = 10
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F610
id = 829610
pos = 0,-2
postype = p1
facing = 1
bindtime = -1
removetime = 25
ownpal = 1
supermovetime = 10
pausemovetime = 10
sprpriority = 4
removeongethit = 1
scale = 0.13*2.25,0.13*2.25

[State 0, BindToParent]
type = BindToRoot
trigger1 = parent,animelem = 1 && parent,anim = 511
time = 10
facing = 1
pos = 0,-42

[State 0, BindToParent]
type = BindToRoot
trigger1 = parent,animelem = 2 && parent,anim = 511
time = 1
facing = 1
pos = 18,-41

[State 0, BindToParent]
type = BindToRoot
trigger1 = parent,animelem = 3 && parent,anim = 511
time = 1
facing = 1
pos = 26,-29

[State 0, BindToParent]
type = BindToRoot
trigger1 = parent,animelem = 4 && parent,anim = 511
time = -1
facing = 1
pos = 22,-10

[State 0, BindToParent]
type = BindToRoot
trigger1 = parent,anim = 512
time = -1
facing = 1
pos = 28,-5

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno =S1234
sparkxy = -15, -40
hitsound = S6,-33
guardsound = S6,-33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno !=511
id = 829610

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno !=511
id = 829

[State 0, Helper]
type = Helper
trigger1 = pos y > -15 && numhelper(513) = 1 && numhelper(515) = 0
helpertype = normal;player
name = "efekty boom"
ID = 515
stateno = 515
pos = 0,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = destroyself
trigger1 = parent, stateno !=511

[State 811, end]
type = ChangeState
trigger1 = movecontact
trigger2 = pos y > -31
;trigger3 = enemy, stateno =[5000,5999]
value = 514

;-----------------
[StateDef 514]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 514
poweradd = -400
sprpriority = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, BindToParent]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1
pos = 25,-5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
trigger1 = pos y > 0
value = S6,7

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 15
trigger1 = parent, var(6) <= 16
id = 829
scale = 2.25*(0.002+parent,var(6)*0.007375)/((time-15)*0.56+1),2.25*(0.002+parent,var(6)*0.007375)/((time-15)*0.56+1)

[State 0, Explod]
type = modifyExplod
trigger1 = time > 15
trigger1 = parent, var(6) > 16
id = 829
scale = 2.25*(0.12+(parent,var(6)-16)*0.0017)/((time-15)*0.56+1),2.25*(0.12+(parent,var(6)-16)*0.0017)/((time-15)*0.56+1)

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F670
id = 670
pos = 0,0
postype = p1
trans = add
bindtime = -1
removetime = 20
supermovetime = 10
pausemovetime = 10
sprpriority = 4
scale = 0.2,0.2
ownpal = 1
ontop = 0

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 70+parent,var(6)*0.45,10+parent,var(6)*0.27
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = S1234
sparkxy = -15, -40
hitsound = S6,33
guardsound = S6,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-1-var(6)*0.036
airguard.velocity = -9,-5
air.type = High
air.velocity = -9,-1-var(6)*0.036
air.hittime = 12
fall = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 31
trigger2 = parent, stateno !=511
id = 829

[State 0, Helper]
type = Helper
trigger1 = pos y > -15 && numhelper(513) = 1 && numhelper(515) = 0
helpertype = normal;player
name = "efekty boom"
ID = 515
stateno = 515
pos = 0,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = destroyself
trigger1 = Time = 31
trigger2 = root, stateno != 511

;efekty boom
[StateDef 515]
type = S
juggle  = 1
ctrl = 0
anim = 2000
sprpriority = 4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -15

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 515
id = 515
pos = 0,15
postype = p1
bindtime = 1
removetime = 43
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.85,0.3
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F540
id = 540
pos = 0,20
postype = p1
bindtime = 1
removetime = 45
supermovetime = 9999
pausemovetime = 9999
sprpriority = 5
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
id = 580
pos = 0,13
postype = p1
bindtime = 1
removetime = 48
supermovetime = 9999
pausemovetime = 9999
sprpriority = 5
scale = 0.85,0.25
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
pos = 30,-10
postype = p1
bindtime = 1
facing = 1
removetime = 56
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
pos = -30,-10
postype = p1
bindtime = 1
facing = -1
removetime = 56
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1,1
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F575
id = 575
pos = 0,0
vfacing = -1
postype = p1
vel = -0.5, -1.5
bindtime = 1
removetime = 21
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State -2, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F575
id = 575
pos = 0,0
postype = p1
bindtime = 1
vfacing = -1
vel = -1,-1
removetime = 21
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1.5,1.5
ownpal = 1
ontop = 0

[State 811, end]
type = destroyself
trigger1 = Time = 31

;--------------------------------------------------------------------
;Rasengan Ziemia 
[StateDef 520]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 520
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = addalpha
alpha = 256-fvar(2),256

[State 811, end]
type = ChangeState
trigger1 = Time = 10
value = 521
;-----------------
[StateDef 521]
type = C
movetype= A
physics = C
juggle  = 1
ctrl = 0
anim = 521
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 7000, Helper]
type = Helper
trigger1 = time = 3
ID = 522
pos = 4,0
postype = p1
stateno = 522
helpertype = normal
name = "Smoke"
keyctrl = 0
facing = 1
ownpal = 1
sprpriority = 30
supermovetime = 999
pausemovetime = 999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -10
trigger1 = time <= 20 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*1.25*3.6,var(6)*0.6*3.6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,9
airguard.velocity = -4,9
air.type = High
air.velocity = -4,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = time = 20
value = 12
ctrl = 1

;Dym
[StateDef 522]
type    = S
anim = 523
sprpriority = 10

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time < 1384
fvar(2) = cond(0.6*ABS(p2bodydist x)>256,256,0.6*ABS(p2bodydist x))

[State 0, VarSet]
type = VarAdd
trigger1 = numhelper(698) = 1 
trigger1 = helper(698), time >= 1640-fvar(2)
trigger1 = fvar(2) > 0
fvar(2) = -1

[State 0, VarSet]
type = VarSet
trigger1 = numhelper(698) = 0
fvar(2) = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 1,1
vel = 0.1,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = 1
removetime = 263
sprpriority = 10
ownpal = 1
ontop = 0
scale = 0.7,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3 
anim = 2030
ID = 2030
pos = 0,0
postype = p1 
facing = -1
removetime = 263
sprpriority = 10
ontop = 0
scale = 0.85,0.85
vel = -0.1,0
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 15
freq = 50
ampl = -15
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
id = 550
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 1.4,1.4
sprpriority = 8
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
id = 587
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 9
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
id = 64
pos = 0,5
postype = p1  ;p2,front,back,left,right
scale = 0.8,0.3
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = -10,5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 0.6,0.6
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F530
pos = 10,5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7
scale = 0.6,0.6
ownpal = 1

[State 1533, DestroySelf]
type = DestroySelf
trigger1 = time = 263

;--------------------------------------------------------------------
;Rasengan Double podwójne uderzenie
[StateDef 530]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 530
poweradd = -1000
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,12
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 60
v = 6
value = 10+(time-5)*0.55

[State 0, VarSet]
type = VarSet
trigger1 = time = 60
v = 6
value = 40

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 10
value = -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 529
id = 529
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -22,-33
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 952
stateno = 950
pos = 17,-37
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 531
;------------------
;Rasengan Run
[StateDef 531]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 531
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)*1.8

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
value = 532
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 532]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 532
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 200,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 400,200
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = time = 40
trigger2 = time > 30 && !movehit
value = 533
ctrl = 1
;------------------
;Rasengan End
[StateDef 533]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 533
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 534
id = 534
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------
;Rasengan Double Air
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 530
poweradd = -1000
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S1,12
volume = 255
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 60
v = 6
value = 10+(time-5)*0.55

[State 0, VarSet]
type = VarSet
trigger1 = time = 60
v = 6
value = 40

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 10
value = -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = F32,5

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 529
id = 529
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1130
id = 1130
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -22,-33
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 953
stateno = 950
pos = 17,-37
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 60
value = 541
;------------------
;Rasengan Run
[StateDef 541]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 531
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 3,0
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)*1.8

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
value = 542
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Rasengan Hit
[StateDef 542]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 535
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 100,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = time = 40
trigger2 = time > 30 && !movehit
value = 544
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 544]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 536
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11 
x = p2bodydist x
y = p2bodydist y -50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 12
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 12
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 936
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 545
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 545]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 811, end]
type = ChangeState
trigger1 = time = 8
value = 546
ctrl = 1
;------------------
[StateDef 546]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,20

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 0
y = (5+time/5)*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 100,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = -1,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 547
ctrl = 1
;-----------------
[StateDef 547]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 0
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;---------------------------------------------------------------------------
;Hiraishin+Rasengan
[StateDef 554]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 537
poweradd = -500
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = 1
time = 35
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = 1
time = 35
add = -80,-80,-80

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 30
anim = 63445643
sound = F19,5
pos = -2,-48
move = 30
movetime = 30
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x+10
y = p2bodydist y-70

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 538
id = 538
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 30
v = 6
value = 10+(time-5)*1.2

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 6
value = 40

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -22,-33
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 555
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 555]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480
poweradd = -500
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = 1
time = 10
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = 1
time = 10
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 811, end]
type = ChangeState
trigger1 = time = 8
value = 556
ctrl = 1
;------------------
[StateDef 556]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = 1
time = 10
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = 1
time = 10
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,28

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 0
y = (5+time/5)*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 100,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
;trigger1 = hitcount < 5
time = 5
pos = -1,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 300,150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, TargetDrop]
type = TargetDrop
trigger1 = pos y >= 0


[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 557
ctrl = 1
;-----------------
[StateDef 557]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time < 10
time = 2
add = -120+time*12,-120+time*12,-120+time*12

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time < 10
time = 2
add = -80+time*8,-80+time*8,-80+time*8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 0
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;-----------------
;Rozsciaganie ekranu
[StateDef 558]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 950
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -450
y = -2.7

[State 0, VelSet]
type = VelSet
trigger1 = pos y != [-450,5]
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -450
y = -450

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [554,555]
trigger1 = parent, stateno != 1301
;-----------------
[StateDef 560]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 544
sprpriority = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8291

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8297

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0.06,0.06

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 9
scale = 0.06-fvar(8)/150,0.06-fvar(8)/150

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent,fvar(14) != 0
value = atan(parent,fvar(13)/parent,fvar(14))*(180/Pi)-90+parent,fvar(16)*180/PI

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 1
pos = 32*cos(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16)),29*sin(-atan(parent,fvar(13)/parent,fvar(14))+Pi/2+parent,fvar(16))

[State 0, VarSet]
type = VarSet
trigger1 = time > 0
fv = 8
value = time-1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = F610
id = 8296
pos = 0,-2
postype = p1
facing = 1
bindtime = -1
removetime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
sprpriority = 4
removeongethit = 1
scale = 0.2925,0.2925

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0 && time <= 30
ID = 8296
scale = 0.2925-fvar(8)/103,0.2925-fvar(8)/103

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F630
id = 8292
pos = 0,0
scale = 0.2525,0.2525
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 10
pausemovetime = 10
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0 && time <= 30
ID = 8292
scale = 0.2525-fvar(8)/120,0.2525-fvar(8)/120

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 29
trigger2 = root,stateno != 554
id = 8292

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 29
trigger2 = root,stateno != 554
id = 8296

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 500,300
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = S1234
sparkxy = -15, -40
hitsound = S6,33
guardsound = S6,33
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,12
airguard.velocity = -9,7
air.type = High
air.velocity = -9,12
air.hittime = 12
fall = 1

[State 0, Helper]
type = Helper
trigger1 = pos y > -10 && numhelper(559) = 1 && numhelper(515) = 0
helpertype = normal
name = "efekty boom"
ID = 515
stateno = 515
pos = 0,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = time > 15 && movehit && numexplod(1390) = 0
anim = F1390
ID = 1390
scale = 1,1
pos = 10,10
vel = 3,4
facing = 1
vfacing = -1
postype = p1
bindtime = 1
removetime = 26
sprpriority = 3
supermovetime = 1
pausemovetime = 1

[State 811, end]
type = destroyself
trigger1 = Time = 31
trigger2 = parent, stateno != 554

;---------------------------------------------------------------------------
;Combo 3
[StateDef 600]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 600
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = 8-time/2
y = -2

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-2
airguard.velocity = -5,-2
air.type = High
air.velocity = -5,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2135
ID = 2135
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 20
removetime = 25
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;Combo 3
[StateDef 601]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 601
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = animelem = 2
x = 1.5
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && pos y > -1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 220, 1]
type = HitDef
fall.yvelocity = -6
triggerall = prevstateno != 600
trigger1 = timemod = 5,0
attr = S, NA
damage = 35,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,2
sparkno = 0+random%4
sparkxy = -15, -55
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-9
airguard.velocity = -1,-9
air.type = High
air.velocity = -1,-9
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 220, 1]
type = HitDef
fall.yvelocity = -6
triggerall = prevstateno = 600
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -55
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-13
airguard.velocity = -1,-13
air.type = High
air.velocity = -1,-13
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1
ID = 23

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 2135
ID = 2135
pos = 0,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 42
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.75
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 7
anim = 2135
ID = 2135
pos = 0,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = 42
pausemovetime = 999
supermovetime = 999
scale = 0.75,0.75
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 12
value = 602
ctrl = 1

;Combo 3
[StateDef 602]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,2
ctrl = 0
anim = 602
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -20
value = 603
ctrl = 1

;Combo 3
[StateDef 603]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 603
poweradd = 20
sprpriority = 2

[State 0, Removeexplod]
type = removeexplod
trigger1 = time = 0
id = 2135

[State 0, VelSet]
type = Posadd
trigger1 = time = 0
y = pos y + 30

[State 0, VelSet]
type = Posset
triggerall = time > 0 
trigger1 = pos y < 0 || pos y > 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

;Combo 3
[StateDef 604]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 604
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 605
ID = 605
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, posset]
type = posadd
trigger1 = time = 1
y = p2bodydist y + 5
x = p2bodydist x + 40

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 10, 5
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = 8,0.5
airguard.velocity = 8,0.5
air.type = High
air.velocity = 8,0.5
air.hittime = 50

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 15
value = 50
ctrl = 1

;Combo 3
[StateDef 605]
type = A
movetype= A
physics = S
juggle  = 1
velset = 2,-1.5
ctrl = 0
anim = 300
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 606
ID = 606
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, posset]
type = posadd
trigger1 = time = 1
y = p2bodydist y + 10
x = p2bodydist x - 10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -10
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = -0.5,5
airguard.velocity = -0.5,5
air.type = High
air.velocity = -0.5,5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall.yvelocity = -10
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 16
value = 50
ctrl = 1

;Combo 3
[StateDef 606]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 532
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 607
ID = 607
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 608
ID = 608
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
trigger1 = prevstateno = 205
x = p2bodydist x +80

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = prevstateno = 205



[state 0, posset]
type = posadd
triggerall = prevstateno = 605 && var(50) = 1
trigger1 = time = 2
x = p2bodydist x - 20

[state 0, posset]
type = posset
trigger1 = time < 50
y = 0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 2
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F1130
id = 1130
pos = -14,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -37,-32
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 951
stateno = 950
pos = 23,-28
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && time < 15
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*0.9,var(6)*0.3
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(6)*1.5,var(6)*0.5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998


[State 0, Helper] 
type = Helper 
triggerall = prevstateno = 205
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
triggerall = prevstateno = 205
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 811, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

;Combo 3
[StateDef 607]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 535
poweradd = 0
sprpriority = 2

[state 0, posset]
type = posadd
triggerall = prevstateno = 605 && var(50) = 1
trigger1 = time = 2
x = p2bodydist x - 20

[state 0, posset]
type = posset
trigger1 = time < 50
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 607
ID = 607
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 608
ID = 608
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 2
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Aura]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F1130
id = 1130
pos = -14,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
removeongethit = 1
scale = 1,1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -37,-32
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, VelSet]
type = VelSet
trigger1 = time > 6 && time < 15
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,28

[State -3, Rasengan]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 100,160,220
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .20,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(6)*0.6,var(6)*0.2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 48,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(6)*1,var(6)*0.3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -42
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 811, end]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 7
[StateDef 650]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 370
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 2

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Combo 7
[StateDef 651]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 2

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -33
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,-0.5
air.type = High
air.velocity = -5,-0.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Combo 7
[StateDef 652]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-4
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 605
ID = 605
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 5
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 2

[state 0, posset]
type = posadd
trigger1 = time = 1
x = p2bodydist x + 10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 10, 3
sparkno = 0+random%4
sparkxy = -15, -55
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-10
airguard.velocity = -1,-10
air.type = High
air.velocity = -1,-10
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-50-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 262
ID = 262
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 653
ctrl = 1

;Combo 7
[StateDef 653]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,1
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = 0 && time > 20
value = 0
ctrl = 1


;Combo 7
[StateDef 654]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 654
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 609
ID = 609
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[state 0, posset]
type = posadd
trigger1 = time = 1
y = p2bodydist y - 1
x = p2bodydist x + 40

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 10, 5
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = 8,0.5
airguard.velocity = 8,0.5
air.type = High
air.velocity = 8,0.5
air.hittime = 50

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;Combo 7
[StateDef 655]
type = A
movetype= A
physics = S
juggle  = 1
velset = 2,-1.5
ctrl = 0
anim = 300
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 610
ID = 610
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[state 0, posset]
type = posadd
trigger1 = time = 1
y = p2bodydist y + 10
x = p2bodydist x - 10

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -15
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = 1,8
airguard.velocity = 1,8
air.type = High
air.velocity = 1,8
air.hittime = 50
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;Combo 7
[StateDef 656]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 656
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,27
volume = 255
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 607
ID = 607
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 611
ID = 611
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 9
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 20
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[state 0, posset]
type = posadd
trigger1 = time = 2
x = p2bodydist x - 40

[state 0, posset]
type = posset
trigger1 = time = 0
y = 0

[state 0, posset]
type = velset
trigger1 = time > 3 && time < 8
x = 18

[State 220, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 15
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 50
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 50
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-30-random%15
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 411
ID = 411
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 16
pausemovetime = 999
supermovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = movecontact && numhelper(1074) = 0
helpertype = normal
name = "toad slizg hity"
stateno = 1074
ID = 1074
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Pieczêæ Hiraishin no jutsu
[StateDef 700]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = 20
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40 && enemy(1),alive = 0
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40 && enemy(0),alive = 0
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 15,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 3, 3
sparkno = 2
sparkxy = -10, -30
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
ID = 25

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[StateDef 701]
type = S
anim = 701

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = time > 15 && enemy(0),alive = 0

[StateDef 702]
type = S
anim = 701

[State 0, PosAdd] 
type = Posset
trigger1 = 1
x = enemy(1),pos x
y = enemy(1),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = time > 15 && enemy(1),alive = 0

;----------------------------------------------------------------------
;Shushin Hirashin 1
[StateDef 720]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = Velset
trigger1 = time > 1 && time < 15
x = 30

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x 
y = 0

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1

[State 310, 2]
type = Explod
trigger1 = time = 1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 0,-15-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 0.7,0.7
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NT
damage = 75,15
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = 0+random%4
sparkxy = -15, -25
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -9,-4
airguard.velocity = -9,-4
air.type = High
air.velocity = -9,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1
fall = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = 0;movehit = 1
value = -40
ID = -1
kill = 1
absolute = 1
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 331
ID = 331
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
name = "ciecie"
bindtime = -1
removetime = 6
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = 2152
ID = 2152
pos = 18,0
vel = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = 10
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time > 2
anim = F20
ID = 20
pos = -10+random%20,-10-random%40
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y >= -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 220, end]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Shushin Hirashin 2
[Statedef 730]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 730
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = 0,-33-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 700]
type = Turn
trigger1 = time = 2

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x 
y = helper(701),pos y 

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = helper(702),pos y 

[State 0, VelSet]
type = VelSet
trigger1 = time > 3
x = 1
y = -3

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 5
y = 0.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3
statetype = A      
movetype = A       
physics = A         
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = S, NT
damage = 75,15
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 2
sparkno = 0+random%4
sparkxy = -10, -55
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-11
airguard.velocity = -4,-9
air.type = High
air.velocity = -4,-9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = 0;movehit = 1
value = -40
ID = -1
kill = 1
absolute = 1
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 732
ID = 732
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 12
pausemovetime = 999
scale = 1,1
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 731
ctrl = 1

[StateDef 731]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 1
anim = 731
poweradd = 20
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -10
trigger2 = animtime = 0
value = 50
ctrl = 1

;----------------------------------------------------------------------
;Shushin Hirashin 3
[StateDef 740]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,-1
ctrl = 0
anim = 740
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 700]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x 
y = helper(701),pos y -10

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = helper(702),pos y -10

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 2
y = -0.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 3
statetype = A      
movetype = A       
physics = A         
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
Type=Hitdef
Trigger1 = animelem = 2
trigger2 = animelem = 3
damage = 75,15
attr = S, NT
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3,Hit
pausetime = 0, 2
sparkno = 0+random%4
sparkxy = -15, -55
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 12
ground.velocity = -4,-7
airguard.velocity = -4,-6
air.type = High
air.juggle = 1
air.velocity = -4,-6
air.hittime = 12
air.fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = 0;movehit = 1
value = -40
ID = -1
kill = 1
absolute = 1
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = -30,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = -30,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 741
ctrl = 1

;-----------------------

[StateDef 741]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,0
ctrl = 1
anim = 742
poweradd = 20
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -10
trigger2 = animtime = 0
value = 50
ctrl = 1

;----------------------------------------------------------------------
;Shushin Hirashin 4 Rasengan
[StateDef 750]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 750
poweradd = -500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -14,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x
y = 0

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
x = 100

[State 700]
type = Turn
trigger1 = time = 2 && p2bodydist x < 0
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && pos y > -5
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time > 1
x = const(velocity.run.fwd.x)+3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = -30,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = -30,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = p2bodydist x < 50
trigger1 = p2bodydist y = [-50,50]
trigger1 = time >= 5
value = 751
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 30
trigger2 = p2bodydist x < -100
trigger2 = time >= 5
value = 932
ctrl = 1
;------------------
[StateDef 751]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 751
poweradd = -500
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 20 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -31
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 20
time = 5
pos = 40,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 25
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2001
sparkxy = -15, -31
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-2
airguard.velocity = -15,-2
air.type = High
air.velocity = -15,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, End]
type = ChangeState
trigger1 = time = 30
trigger2 = time > 20 && !movehit
value = 752
ctrl = 1
;------------------
[StateDef 752]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 752
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
;Shushin Hirashin 5
[StateDef 760]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 760
poweradd = -300
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,0+random%11

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,0+random%11

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time > 10
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [2,14]
x = 4-(time-2)/5
y = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x - (facing*30)
y = helper(701),pos y -30

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x - (facing*30)
y = helper(702),pos y -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NT
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,5
sparkno = 0+random%4
sparkxy = -15, -20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 12
ground.velocity = -8,5
airguard.velocity = -8,5
air.type = High
air.velocity = -8,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1
fall = 1
fall.recovertime = 4

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = 0;movehit = 1
value = -40
ID = -1
kill = 1
absolute = 1
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
ID = 2001
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2021
ID = 2021
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2001
ID = 2001
pos = -20,-32
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2021
ID = 2021
pos = -20,-32
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;----------------------------------------------------------------------
;Shushin Hirashin 6
[StateDef 770]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 770
poweradd = -300
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time > 10
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 700]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x 
y = helper(701),pos y -50

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = helper(702),pos y -50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
attr = S, NT
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,5
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime = 12
ground.velocity = -2,8
airguard.velocity = -2,9
air.type = High
air.velocity = -2,9
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
air.fall = 1
fall = 1
fall.damage = 30
fall.recovertime = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = 0;movehit = 1
value = -40
ID = -1
kill = 1
absolute = 1
persistent = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
ID = 2001
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2021
ID = 2021
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2001
ID = 2001
pos = -22,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
vfacing = 1
bindtime = 1
removetime = 18
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2021
ID = 2021
pos = -22,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 220, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Shushin -> Hirashin 4 Rasengan
[StateDef 780]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 480
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1
flag = invisible

[State 0, Turn]
type = Turn
trigger1 = facing = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(701) = 1
x = helper(701),pos x 
y = helper(701),pos y -40

[State 0, PosAdd]
type = Posset
trigger1 = time = 1 && numhelper(702) = 1
x = helper(702),pos x 
y = helper(702),pos y -40

[State 0, VarSet]
type = VarSet
trigger1 = time = [2,5]
v = 6
value = 10+(time-2)*10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -14,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2001
ID = 2001
pos = 0,-37
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 1
anim = 2021
ID = 2021
pos = 0,-27
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = time = 8
value = 781
ctrl = 1
;------------------
[StateDef 781]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 481
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
volume = 255
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 0
y = (5+time/5)*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%30
angle = -90
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = 0,-2
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 50,20
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4325235
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,5
airguard.velocity = -1,5
air.type = High
air.velocity = -1,5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 5
time = 5
pos = -1,20

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -8
trigger1 = hitcount = 4
hitonce = 1
attr = C, HP
damage = 200,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 2001
sparkxy = -15, 0
hitsound = 32, 3536
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109998

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 782
ctrl = 1
;-----------------
[StateDef 782]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 482
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S1,6

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 0
y = 5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Wybuch"
ID = 947
stateno = 947
pos = 0,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;---------------------------------------------------------------------------
;Hiraishin ground pion
[StateDef 800]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 800
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = 802
id = 802
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 9
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 2001
ID = 2001
pos = 0,-20
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 2021
ID = 2021
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S8,1

[State 811, end]
type = ChangeState
trigger1 = Time = 20 && command != "holdc"
value = 801

[State 811, end]
type = ChangeState
trigger1 = Time = 20 && command = "holdc"
value = 802

[StateDef 801]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 801
poweradd = -400
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F580
id = 580
pos = 0,0
scale = 0.7,0.45
postype = p1
facing = 1
bindtime = 1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 48
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1190
id = 1190
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 57
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 804
id = 804
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 9
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2146
id = 2146
pos = 6,15
scale = 0.65,1
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 14
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2012
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2001
ID = 2001
pos = 0,-20
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2021
ID = 2021
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F290
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 2,2
sprpriority = 4
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 0, PosSet]
type = PosSet
triggerall = enemy(0),alive = 1
trigger1 = time = 0
x = enemy(0),pos x -10
y = 0

[State 0, PosSet]
type = PosSet
triggerall = enemy(0),alive = 0
trigger1 = time = 0
x = enemy(1),pos x -10
y = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,30
GETPOWER = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0.3,-11
airguard.velocity = -0.3,-11
air.type = High
air.velocity = -0.3,-11
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = Time = 20
value = 12
ctrl = 1

;---------------------------------------------------------------------
;Hiraishin ground kat
[StateDef 803]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 800
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = 803
id = 803
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 9
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 2001
ID = 2001
pos = 0,-20
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 2021
ID = 2021
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = Time = 20
value = 802

[StateDef 802]
type = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 801
poweradd = -400
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 805
id = 805
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 9
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F580
id = 580
pos = 0,0
scale = 0.7,0.45
postype = p1
facing = 1
bindtime = 1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 48
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1190
id = 1190
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 57
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2145
id = 2145
pos = 4,12
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 14
sprpriority = 3
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2012
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2001
ID = 2001
pos = 0,-20
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2021
ID = 2021
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F290
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 2,2
sprpriority = 4
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 0, PosSet]
type = PosSet
triggerall = enemy(0),alive = 1
trigger1 = time = 0
x = enemy(0),pos x -10
y = 0

[State 0, PosSet]
type = PosSet
triggerall = enemy(0),alive = 0
trigger1 = time = 0
x = enemy(1),pos x -10
y = 0

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
GETPOWER = 0
priority = 2, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-11
airguard.velocity = -8,-11
air.type = High
air.velocity = -8,-11
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 811, end]
type = ChangeState
trigger1 = Time = 20
value = 12
ctrl = 1

;---------------------------------------------------------------------------
;Hiraishin 7 kunai air
[StateDef 810]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 810
poweradd = 0
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 1,21

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 7

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(815) = 0
helpertype = normal
name = "kunai"
ID = 815
stateno = 815
pos = 13,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "kunai"
ID = 1
stateno = 816
pos = 5,-29
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "kunai"
ID = 2
stateno = 816
pos = 8,-30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "kunai"
ID = 3
stateno = 816
pos = 16,-33
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "kunai"
ID = 4
stateno = 816
pos = 18,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "kunai"
ID = 5
stateno = 816
pos = 19,-36
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "kunai"
ID = 6
stateno = 816
pos = 22,-38
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 1
pausemovetime = 9999

[State 220, end]
type = ChangeState
trigger1 = helper(815),stateno = 817
value = 811
ctrl = 1

[StateDef 811]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 811
poweradd = 0
sprpriority = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -1500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = F8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = F8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1 && movehit
value = F5,15

[State 0, Posset]
type = Posset
trigger1 = time = 0
y = 0
x = helper(815),pos x

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ciecia helper glowny"
ID = 813
stateno = 813
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6 
trigger1 = animelem = 1
trigger2 = animelem = 2
attr = S, NT
getpower = 0
damage = 30,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 3
sparkno = 0+random%4
sparkxy = -50+random%100,5-random%40
hitsound = 24,10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,10
air.type = High
air.velocity = 0,10
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 220, end]
type = ChangeState
trigger1 = time = 90
value = 105
ctrl = 1

;-----------
;ciecia g³ówny helper
[Statedef 813]
type = S
anim = 2000
sprpriority = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, BindToTarget]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = 1009+random%2
pos = -70+random%200,5-random%40
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = 2001
pos = -70+random%200,5-random%40
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = -1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 40
trigger3 = Time = 80
trigger4 = Time = 120
trigger5 = Time = 160
trigger6 = Time = 200
trigger7 = Time = 240
trigger8 = Time = 280
name = "Slash"
postype = p1
pos = 10,-26
ownpal = 1
stateno = 814
ID = 1
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 45
trigger3 = Time = 85
trigger4 = Time = 125
trigger5 = Time = 165
trigger6 = Time = 205
trigger7 = Time = 245
trigger8 = Time = 285
name = "Slash"
postype = p1
pos = -30,-20
ownpal = 1
stateno = 814
ID = 2
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 50
trigger3 = Time = 90
trigger4 = Time = 130
trigger5 = Time = 170
trigger6 = Time = 210
trigger7 = Time = 250
name = "Slash"
postype = p1
pos = 20,-13
ownpal = 1
stateno = 814
ID = 3
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 55
trigger3 = Time = 95
trigger4 = Time = 135
trigger5 = Time = 175
trigger6 = Time = 215
trigger7 = Time = 255
name = "Slash"
postype = p1
pos = -13,-27
ownpal = 1
stateno = 814
ID = 4
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 60
trigger3 = Time = 100
trigger4 = Time = 140
trigger5 = Time = 180
trigger6 = Time = 220
trigger7 = Time = 260
name = "Slash"
postype = p1
pos = 40,-35
ownpal = 1
stateno = 814
ID = 5
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 65
trigger3 = Time = 105
trigger4 = Time = 145
trigger5 = Time = 185
trigger6 = Time = 225
trigger7 = Time = 265
name = "Slash"
postype = p1
pos = -42,-15
ownpal = 1
stateno = 814
ID = 6
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 30
trigger2 = Time = 70
trigger3 = Time = 110
trigger4 = Time = 150
trigger5 = Time = 190
trigger6 = Time = 230
trigger7 = Time = 270
name = "Slash"
postype = p1
pos = -5,-25
ownpal = 1
stateno = 814
ID = 7
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 35
trigger2 = Time = 75
trigger3 = Time = 115
trigger4 = Time = 155
trigger5 = Time = 195
trigger6 = Time = 235
trigger7 = Time = 275
name = "Slash"
postype = p1
pos = 8,-30
ownpal = 1
stateno = 814
ID = 8
size.xscale = 0.6
size.yscale = 0.6

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 90
trigger2 = root,stateno != 811

[Statedef 814]
type = S
anim = 1006
sprpriority = 5

[State 0, BindToRoot]
type = BindToParent
trigger1 = 1
time = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = 0

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = 10

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = -20

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = 12

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = -23

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = 5

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(7)
var(0) = -7

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(8)
var(0) = 15

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.1

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.5

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.05

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 10

;Kunai glowny
[Statedef 815]
type = S
anim = 815
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 4
y = 10

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 7
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -62

[State 1003, ChangeState]
type = Changestate
trigger1 = pos y > -1
value = 817

;Kunai podrzedny 
[Statedef 816]
type = S
anim = 815
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 16523, kunai kat id 1]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = -80

[State 16523, kunai kat id 2]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = -77

[State 16523, kunai kat id 3]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = -59

[State 16523, kunai kat id 4]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = -66

[State 16523, kunai kat id 5]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = -47

[State 16523, kunai kat id 6]
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = -42

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 7
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = 1

[State 0, Kunai kat glowny]
type = AngleDraw
trigger1 = 1
value = var(0)

[State 16523, kunai predkosc id 1]
type = VarSet
trigger1 = 1
trigger1 = isHelper(1)
fvar(1) = 2

[State 16523, kunai predkosc id 2]
type = VarSet
trigger1 = 1
trigger1 = isHelper(2)
fvar(1) = 3

[State 16523, kunai predkosc id 3]
type = VarSet
trigger1 = 1
trigger1 = isHelper(3)
fvar(1) = 5

[State 16523, kunai predkosc id 4]
type = VarSet
trigger1 = 1
trigger1 = isHelper(4)
fvar(1) = 6

[State 16523, kunai predkosc id 5]
type = VarSet
trigger1 = 1
trigger1 = isHelper(5)
fvar(1) = 7

[State 16523, kunai predkosc id 6]
type = VarSet
trigger1 = 1
trigger1 = isHelper(6)
fvar(1) = 8

[State 0, kunai predkosc glowny]
type = VelSet
trigger1 = 1
x = fvar(1)
y = 10

[State 1003, ChangeState]
type = Changestate
trigger1 = pos y > -1
value = 817


[Statedef 817]
type = S
anim = 70702
sprpriority = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(1)
trigger1 = time = 10
trigger2 = time = 30
trigger3 = time = 50
trigger4 = time = 68
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(2)
trigger1 = time = 12
trigger2 = time = 26
trigger3 = time = 48
trigger4 = time = 80
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
facing = -1
sprpriority = 0
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(3)
trigger1 = time = 5
trigger2 = time = 34
trigger3 = time = 52
trigger4 = time = 71
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 3
removetime = 6
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(4)
trigger1 = time = 15
trigger2 = time = 36
trigger3 = time = 49
trigger4 = time = 58
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
facing = -1
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(5)
trigger1 = time = 9
trigger2 = time = 27
trigger3 = time = 45
trigger4 = time = 80
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(6)
trigger1 = time = 14
trigger2 = time = 21
trigger3 = time = 43
trigger4 = time = 62
anim = 816
ID = 816
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = ishelper(815)
trigger1 = time = 13
trigger2 = time = 23
trigger3 = time = 43
trigger4 = time = 73
anim = 816
ID = 816
pos = 0,0
facing = -1
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 3
removetime = 6
ontop = 0
ownpal = 1
bindtime = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, pozycja y id 1]
type = PosSet
trigger1 = ishelper(1)
trigger1 = time = 0
y = 0

[State 0, pozycja y id 2]
type = PosSet
trigger1 = ishelper(2)
trigger1 = time = 0
y = 3

[State 0, pozycja y id 3]
type = PosSet
trigger1 = ishelper(3)
trigger1 = time = 0
y = 1

[State 0, pozycja y id 4]
type = PosSet
trigger1 = ishelper(4)
trigger1 = time = 0
y = 0

[State 0, pozycja y id 5]
type = PosSet
trigger1 = ishelper(5)
trigger1 = time = 0
y = 2

[State 0, pozycja y id 6]
type = PosSet
trigger1 = ishelper(6)
trigger1 = time = 0
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 90

;---------------------------------------------------------------------------
;Kontratak
[Statedef 820]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 820
sprpriority = 2
poweradd = -100
facep2 = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,26

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S1,24

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F8,1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 15
time = 42
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 6522, Helper]
type = Helper
trigger1 = Time = 15
name = "Kunai"
postype = p1
pos = 13,-59
ownpal = 1
stateno = 823
ID = 823
size.xscale = 1
size.yscale = 1

[State 0, HitOverride]
type = HitOverride
Trigger1 = AnimElem = 4,>0
trigger1 = animelem = 11,<0
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
slot = 0
stateno = 821
time = 1
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
triggerall = numhelper(1402) = 0
trigger1 = Time >= 15
Time = 10
color = 0+((time-15)*4.75)
add = -81+((time-15)*1.5),-81+((time-15)*1.5),-81+((time-15)*1.5)
ignorehitpause = 1

[State 200, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 821]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = -400
ctrl = 0
anim = 821
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F24,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "ciêcia"
postype = p1
pos = 0,0
ownpal = 1
stateno = 822
ID = 822
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1090
ID = 1090
pos = 0,0
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 1.3,1
sprpriority = 3
removetime = 30
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1090
ID = 1090
pos = 0,0
facing = -1
postype = p1  ;p2,front,back,left,right
scale = 1.3,1
sprpriority = 3
removetime = 30
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2134
ID = 2134
pos = 20,-40
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 1
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2134
ID = 2134
pos = -20,-20
Vfacing = -1
facing = -1
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 3
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 200, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
getpower = 0
damage = 250,150
animtype  = diagup
guardflag =
hitflag = MAF
priority = 7, Hit
pausetime = 0, 3
sparkno = -1
sparkxy = -10, -40
hitsound = 5,10
guardsound = S2, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2, -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -2,-5
air.hittime = 12
fall = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 20
freq = 80
ampl = -8
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
trigger2 = time = 10
trigger3 = time = 20
time = 10
sinadd = -128,-128,-128,20
add = 0,0,0
mul = 256,256,256

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 822]
type = S
movetype = I
physics = N
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, BindToTarget]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = 1009 + random%2
pos = -55+random%90,0-random%50
postype = p1  ;p2,front,back,left,right
scale = 0.3,0.3
sprpriority = 4
removetime = 21
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = 2001
pos = -55+random%90,0-random%50
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = 0,-155
ownpal = 1
stateno = 1009
ID = 1
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = 0,-55
ownpal = 1
stateno = 1010
ID = 2
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = -35,-90
ownpal = 1
stateno = 1011
ID = 3
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = 35,-90
ownpal = 1
stateno = 1012
ID = 4
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = 30,-130
ownpal = 1
stateno = 1013
ID = 5
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = -30,-70
ownpal = 1
stateno = 1014
ID = 6
size.xscale = 1
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "Slash"
postype = p1
pos = -30,-130
ownpal = 1
stateno = 1015
ID = 7
size.xscale = 1
size.yscale = 1



[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = 0,-170
ownpal = 1
stateno = 1020
ID = 1
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = 0,-70
ownpal = 1
stateno = 1021
ID = 2
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = -50,-120
ownpal = 1
stateno = 1022
ID = 3
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = 50,-120
ownpal = 1
stateno = 1023
ID = 4
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = 60,-150
ownpal = 1
stateno = 1023
ID = 5
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = -60,-110
ownpal = 1
stateno = 1024
ID = 6
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = -60,-150
ownpal = 1
stateno = 1025
ID = 7
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
name = "Shadow"
postype = p1
pos = 60,-110
ownpal = 1
stateno = 1026
ID = 8
size.xscale = 0.5
size.yscale = 0.5

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 30

[Statedef 823]
type    = S
movetype= A
physics = S
sprpriority = 2
anim = 822

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time-1)*25

[State 0, VelSet]
type = VelSet
trigger1 = root,time < 30
y = -3.5

[State 0, VelSet]
type = Velset
trigger1 = root,time > 30 && root,time < 36 
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = root,time > 42
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = root,time > 36 && root,time < 42
y = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = root,time < 36
y = -0.8

[State 0, VelAdd]
type = VelAdd
trigger1 = root,time > 36
y = 0.5

[State 250, 5]
type = Destroyself
trigger1 = root,stateno != 820
trigger2 = root,stateno = 821
trigger3 = root,time = 57
trigger1 = root, stateno != 196
;-----------------
[StateDef 850]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 850
poweradd = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,26
volume = 255
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "Hiraishin Teleport"
ID = 850
stateno = 851
pos = 22,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.05

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
[StateDef 851]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 851
poweradd = -50
sprpriority = -5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1  
value = pos x

[State 0, PosSet]
type = PosSet
trigger1 = time > 0
x = pos x
y = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 1000000
;----------------------------------------------------------------
;Teleport Hiraishin
[Statedef 855]
anim = 70600
ctrl = 0
poweradd = -10
velset = 0,0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < -5 && anim != 70601
value = 70601

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y > -5 && anim != 70600
value = 70600

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 5 && pos y < -5 && anim != 70601 && anim != 70603
value = 70603

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 5 && pos y > -5 && anim != 70600 && anim != 70602
value = 70602

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 21
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S1,27

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -5
statetype = S      ;S,A,C,L
physics = S         ;A,C,S,N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < -5
statetype = A      ;S,A,C,L
physics = S         ;A,C,S,N

[State 310, 1]
type = Posset
trigger1 = time = 5
triggerall = numhelper(850) = 1
triggerall = numhelper(701) = 0
triggerall = numhelper(702) = 0
x = helper(850), pos x
y = helper(850), pos y

[State 310, 1]
type = Posset
trigger1 = time = 5
triggerall = numhelper(701) = 1
x = helper(701), pos x
y = helper(701), pos y

[State 310, 1]
type = Posset
trigger1 = time = 5
triggerall = numhelper(702) = 1
x = helper(702), pos x
y = helper(702), pos y

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -3]
type = AfterImage 
trigger1 = time = 0
time = 1
length = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 310, 6]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State 0, Helper] 
type = Helper 
triggerall = numhelper(2001) < 8
trigger1 = time = 3
trigger2 = time = 6
helpertype = normal
name = "efekt teleport" 
ID = 2001
stateno = 2001
pos = 0,0
postype = p1 
ownpal = 1
pausemovetime = 9999
supermovetime = 9999
size.xscale = 1
size.yscale = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
triggerall = pos y = 0
value = 0
ctrl = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
triggerall = pos y != 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Hit Hiraishin no jutsu
[StateDef 1000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = 0
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 15
v = 3
value = 600

[State 0, Helper] 
type = Helper 
trigger1 = time = 15
helpertype = normal
name = "shield" 
ID = 1001
stateno = 1001
pos = 0,-30
postype = p1 
ownpal = 1 

[State 600, end]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

[StateDef 1001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000 ;czerwony clsn
poweradd = 0
sprpriority = 4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 2000 && anim = 1004
trigger2 = anim != 2000 && anim = 1004 && parent,var(4) = 1
value = 2000

[State 0, ChangeAnim]
type = ChangeAnim
triggeall = anim != 1004 && parent,stateno != [5050,5120]
trigger1 = p2dist x < 130 && p2dist x > -130 && p2dist y < 130 && p2dist y > -130
value = 1004

[State -1, ReversalDef]
Type = ReversalDef
triggerall = numhelper(1003) = 0 && parent,var(4) = 0
trigger1 = p2dist x < 130 && p2dist x > -130 && p2dist y < 130 && p2dist y > -130
Reversal.Attr = SCA,NP,NA,SA,HA,SP,HP,NT,ST,HT
NumHits = -1
SparkNo = -1
SparkXY = 0,0
p1stateno = 1002

[State 0, NotHitBy]
type = NotHitBy
trigger1 = parent,stateno = [5050,5120]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = 0,-30

[State 600, end]
type = destroyself
trigger1 = parent,var(3) = 0 && time > 1

[StateDef 1002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1003 ;czerwony clsn
poweradd = 0
sprpriority = 4

[State 0, Helper] 
type = Helper 
trigger1 = time = 1 && numhelper(1004) < 4
trigger3 = time = 18 && numhelper(1004) < 4
helpertype = normal 
name = "Hiraishin efekt" 
ID = 1004
stateno = 1004
pos = 0,0
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = time = 0 && numhelper(1003) < 2
helpertype = normal 
name = "Ciêcia i blyski" 
ID = 1003
stateno = 1003
pos = 0,0
postype = p1 
ownpal = 1 

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
facing = 1
pos = 0,-30

[State 230, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = root,stateno != [5050,5110]
trigger1 = time = 0
attr = S, NA
animtype = high
damage = 100
guardflag = 
priority = -1,hit
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 6
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Ground.cornerpush.veloff = 0

[State 600, end]
type = changestate
trigger1 = time = 40
value = 1001
ctrl = 1

[State 600, end]
type = destroyself
trigger1 = parent,var(3) = 0 && time > 1

;Efekty ciêcia
[StateDef 1003]
type = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1007
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 5,5
sprpriority = 10
removetime = 9
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = 1 && numexplod(2137) = 0
anim = 2137
id = 2137
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = 1
sprpriority = 9
removetime = 20
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = 1 && numexplod(2138) = 0
anim = 2138
id = 2138
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = 1
sprpriority = 9
removetime = 22
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = 1 && numexplod(2139) = 0
anim = 2139
id = 2139
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = 1
sprpriority = 9
removetime = 22
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = -1 && numexplod(2137) = 0
anim = 2137
id = 2137
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = -1
sprpriority = 9
removetime = 20
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = -1 && numexplod(2138) = 0
anim = 2138
id = 2138
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = -1
sprpriority = 9
removetime = 22
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && root,facing = -1 && numexplod(2139) = 0
anim = 2139
id = 2139
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 1,0.75
facing = -1
sprpriority = 9
removetime = 22
ontop = 0
ownpal = 1
bindtime = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4

[State 0, BindToRoot]
type = BindToparent
trigger1 = 1
facing = 1
time = -1
pos = 0,0

[State 600, end]
type = Destroyself
trigger1 = time = 9

[StateDef 1004]
type    = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2000
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 12,0
anim = 2010
ID = 2010
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,30
vel = -0.1,-0.3
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 55
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 3
removetime = 18
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -1
anim = F290
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 2,2
sprpriority = 3
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
facing = 0
pos = 0,0

[State 20000, 4]
type = Destroyself
trigger1 = time = 5


;---------------------------
;¯ó³ty (1)
[Statedef 1009]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -150

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (2)
[Statedef 1010]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -55

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 45

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (3)
[Statedef 1011]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +135
y = root,pos y -80

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 90

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (4)
[Statedef 1012]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -55

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 135

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (5)
[Statedef 1013]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y +10

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 181

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (6)
[Statedef 1014]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x -135
y = root,pos y -80

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 263

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;¯ó³ty (7)
[Statedef 1015]
type = S
ctrl = 0
anim = 1008
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -80

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 162

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)*2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20



;---------------------------
;Pomaranczowo bialy (1)
[Statedef 1020]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -100

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 15

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (2)
[Statedef 1021]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +70
y = root,pos y -55

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 55

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (3)
[Statedef 1022]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +155
y = root,pos y -70

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 83

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (4)
[Statedef 1023]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +50
y = root,pos y -55

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 95

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (5)
[Statedef 1024]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -30

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 175

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (6)
[Statedef 1025]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x -115
y = root,pos y -80

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 283

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------
;Pomaranczowo bialy (7)
[Statedef 1026]
type = S
ctrl = 0
anim = 1006
sprpriority = 4

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = root,pos x +0
y = root,pos y -80

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 162

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.4

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.015

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)/1.2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;---------------------------------------------------------------------------
;10 kunai Hiraishin
[StateDef 1030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1030
poweradd = 20
sprpriority = 1

[State 0, Parametr]
type = Varset
trigger1 = time = 0
v = 12
value = 15

[State 0, Wysokosc]
type = Varset
trigger1 = time = 0
v = 13
value = cond(pos x < 0,pos x,-pos x)

[State 0, zmiana]
type = Varset
trigger1 = time = 0
v = 13
value = cond(var(13) <-90,-90,cond(var(13)>-120,-120,var(13)))

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -facing*pos x/var(12)*2

[State 0, VelSet]
type = Veladd
triggerall = facing = 1
trigger1 = pos x > 10 && pos x > -10
x = -1

[State 0, VelSet]
type = Veladd
triggerall = facing = 1
trigger1 = pos x < -10 && pos x < 10
x = 1

[State 0, VelSet]
type = Veladd
triggerall = facing = -1
trigger1 = pos x > 10 && pos x > -10
x = 1

[State 0, VelSet]
type = Veladd
triggerall = facing = -1
trigger1 = pos x < -10 && pos x < 10
x = -1

[State 0, VelSet]
type = Velset
trigger1 = pos x > -10 && pos x < 10
x = 0

[State 0, VelSet]
type = VelSet
triggerall = pos y > -90
trigger1 = time = 0
y = 1*var(13)/var(12)

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -90
y = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 20
v = 20
value = 10

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal;player
name = "kunai kulisty"
ID = 1040
stateno = 1040
pos = 12,-41
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 120
movetime = 120
darken = 0
unhittable = 0
anim = 125656

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 200, end]
type = ChangeState
trigger1 = time = 120
value = 50
ctrl = 0

[StateDef 1040]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1040
poweradd = 20
sprpriority = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 120
pos = 12,-41

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
triggerall = parent,time < 101
trigger1 = 1
value = 1-(time-1)*10

[State 0, AngleDraw]
type = AngleDraw
triggerall = parent,time > 101
trigger1 = 1
value = 1-(time-1)*6

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "drut"
ID = 1050
stateno = 1050
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai poziomo +"
ID = 1031
stateno = 1031
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai poziomo -"
ID = 1032
stateno = 1032
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos +"
ID = 1033
stateno = 1033
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos -"
ID = 1034
stateno = 1034
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
triggerall = facing = 1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai pionowo"
ID = 1035
stateno = 1035
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
triggerall = facing = 1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos +"
ID = 1036
stateno = 1036
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
triggerall = facing = 1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos -"
ID = 1037
stateno = 1037
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos +"
ID = 1038
stateno = 1038
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos -"
ID = 1039
stateno = 1039
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos +"
ID = 1048
stateno = 1048
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos -"
ID = 1049
stateno = 1049
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Helper]
type = Helper
triggerall = facing = -1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai pionowo"
ID = 1051
stateno = 1051
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
triggerall = facing = -1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos +"
ID = 1052
stateno = 1052
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
triggerall = facing = -1
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai dol skos -"
ID = 1053
stateno = 1053
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 220, end]
type = Destroyself
trigger1 = time = 100


[StateDef 1050]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1036
poweradd = 20
sprpriority = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = -1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.25,0.25

[State 0, AngleDraw]
type = AngleDraw
triggerall = root,time < 101
trigger1 = 1
value = 1-(time-1)*10

[State 0, AngleDraw]
type = AngleDraw
triggerall = root,time > 101
trigger1 = 1
value = 1-(time-1)*6

[State 220, end]
type = Destroyself
trigger1 = time = 100

;------------------------------------------------------------------
;Kunai poziomo
[Statedef 1031]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1031
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
x = 14

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = frontedgebodydist < -50
value = 1041
ctrl = 0

[Statedef 1041]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = cond(facing = 1,1041,1042)
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21041) = 0
anim = 2001
id = 21041
pos = -13,1
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
x = 190

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai poziomo 2
[Statedef 1032]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1032
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
x = -14

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = backedgebodydist < -50
value = 1042
ctrl = 0

[Statedef 1042]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = cond(facing = 1,1042,1041)
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21042) = 0
anim = 2001
id = 21042
pos = 13,1
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
x = -190

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat
[Statedef 1033]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
x = 14
y = 4

[state 102, Angle]
type = angleset
trigger1 = 1
value = 65

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = frontedgebodydist < -50
value = 1043
ctrl = 0

[Statedef 1043]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = cond(facing = 1,1043,1044)
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21043) = 0
anim = 2001
id = 21043
pos = -8,-4
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
x = 190
y = pos y

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat 2
[Statedef 1034]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
x = -14
y = 4

[state 102, Angle]
type = angleset
trigger1 = 1
value = -65

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = backedgebodydist < -50
value = 1044
ctrl = 0

[Statedef 1044]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = cond(facing = 1,1044,1043)
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21044) = 0
anim = 2001
id = 21044
pos = 8,-4
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
x = -190
y = pos y

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai pionowo
[Statedef 1035]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -1
value = 1045
ctrl = 0

[Statedef 1045]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21045) = 0
anim = 2001
id = 21045
pos = 1,-13
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0  
x = helper(1036), pos x -190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0 
x = helper(1037), pos x +190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat pionowo
[Statedef 1036]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = 5

[state 102, Angle]
type = angleset
trigger1 = 1
value = 25

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 1
value = 1046
ctrl = 0

[Statedef 1046]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21046) = 0
anim = 2001
id = 21046
pos = 1,-13
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0
x = helper(1037), pos x -190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0 
x = helper(1035), pos x +190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat 2 pionowo
[Statedef 1037]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = -5

[state 102, Angle]
type = angleset
trigger1 = 1
value = -25

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 1
value = 1047
ctrl = 0

[Statedef 1047]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1 && numhelper(1003) = 1 && numexplod(21047) = 0
anim = 2001
id = 21047
pos = 1,-13
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 1
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
bindtime = -1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0 
x = helper(1035), pos x -190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0
x = helper(1036), pos x +190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat pionowo
[Statedef 1038]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1031
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = 10

[state 102, Angle]
type = angleset
trigger1 = 1
value = -20

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = Destroyself
trigger1 = pos y > 1

;------------------------------------------------------------------
;Kunai kat 2 pionowo
[Statedef 1039]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1032
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = -10

[state 102, Angle]
type = angleset
trigger1 = 1
value = 20

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = Destroyself
trigger1 = pos y > 1

;------------------------------------------------------------------
;Kunai kat pionowo
[Statedef 1048]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1031
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = 13

[state 102, Angle]
type = angleset
trigger1 = 1
value = -50

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = Destroyself
trigger1 = pos y > 1

;------------------------------------------------------------------
;Kunai kat 2 pionowo
[Statedef 1049]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1032
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = -13

[state 102, Angle]
type = angleset
trigger1 = 1
value = 50

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = Destroyself
trigger1 = pos y > 1


;------------------------------------------------------------------
;Kunai pionowo
[Statedef 1051]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -1
value = 1054
ctrl = 0

[Statedef 1054]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0  
x = helper(1052), pos x +190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0 
x = helper(1053), pos x -190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat pionowo
[Statedef 1052]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = 5

[state 102, Angle]
type = angleset
trigger1 = 1
value = 25

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 1
value = 1055
ctrl = 0

[Statedef 1055]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0
x = helper(1053), pos x +190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0 
x = helper(1051), pos x -190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;------------------------------------------------------------------
;Kunai kat 2 pionowo
[Statedef 1053]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1035
sprpriority = 0
ctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = velSet
trigger1 = 1
y = 4
x = -5

[state 102, Angle]
type = angleset
trigger1 = 1
value = -25

[state 102, Angle2]
type = angledraw
trigger1 = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 1
value = 1056
ctrl = 0

[Statedef 1056]
type = S
movetype= I
physics = N
juggle  = 3
velset = 0,0
anim = 1045
sprpriority = 0
ctrl = 1

[state 102, StayOnWall]
type = posset
trigger1 = 1
y = 0

[state 102, StayOnWall]
type = posset
trigger1 = frontedgedist < 0 
x = helper(1051), pos x +190

[state 102, StayOnWall]
type = posset
trigger1 = backedgedist < 0
x = helper(1052), pos x -190

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 5000

;----------------------------------------------------------------------
;Pieczêæ wi¹¿¹ca
[StateDef 1060]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
poweradd = -200
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F8,0+random%5

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
value = F17,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F8,2

[State 0, Helper] 
type = Helper 
trigger1 = animelem = 8 && numhelper(1061) = 0 
helpertype = normal
name = "pieczec" 
ID = 1061
stateno = 1061
pos = 0,0
postype = p1 
ownpal = 1 
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;Pieczêæ
[StateDef 1061]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1061
poweradd = -300
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0.0015*(time*10),0.00020*(time*10)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 9
scale = 0.15,0.020

[State 0, AngleDraw]
type = AngleDraw
trigger1 = movehit
scale = 0.15,0.020

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 2040
ID = 2040
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 0.15,0.02
sprpriority = -3
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numenemy = 0
id = 2040

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
triggerall = time > 10
trigger1 = 1
attr = C,HP
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -3, Hit
pausetime = 3, 3
sparkno = 4
sparkxy = -15, -30
hitsound = 5, 1253
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p1stateno = 1062
p2stateno = 100027

[State 0, ChangeState]
type = destroyself
trigger1 = numenemy = 0

[StateDef 1062]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1062
poweradd = 20
sprpriority = -3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2040

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 7,0 && numexplod(2050) < 4 && time < 200
anim = 2050
ID = 2050
pos = -5,5
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 3
removetime = 28
supermovetime = 10
pausemovetime = 10
ontop = 0
facing = 1
ownpal = 1
bindtime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 7,0 && numexplod(2051) < 4 && time < 200
anim = 2050
ID = 2051
pos = -5,5
postype = p1  ;p2,front,back,left,right
scale = 0.45,0.45
sprpriority = -3
removetime = 28
supermovetime = 10
pausemovetime = 10
ontop = 0
facing = -1
ownpal = 1
bindtime = -1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2040
ID = 2041
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 0.15,0.02
sprpriority = -3
removetime = 210
supermovetime = 10
pausemovetime = 10
ontop = 0
ownpal = 1
bindtime = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = target,stateno != 100027 && target,stateno = [100000,109999]
id = 2050

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = target,stateno != 100027 && target,stateno = [100000,109999]
id = 2051

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = target,stateno != 100027 && target,stateno = [100000,109999]
id = 2041

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = C,HP
damage = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,10
sparkno = -1
sparkxy = -10, -30
hitsound = -5, 0
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 0
p2stateno = 100027

[State 0, ChangeState]
type = destroyself
trigger1 = target,stateno != 100027 && target,stateno = [100000,109999]
trigger2 = time = 210

;----------------------------------------------------------------------
;Kuchiyose toad z Hiraishin
[StateDef 1070]
type = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
poweradd = -200
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 7
trigger2 = time = 16
value = F17,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F3,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = F2,0

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(1072) = 0
helpertype = normal
name = "toad slizg"
stateno = 1072
ID = 1072
pos = 0,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.6
size.yscale = 0.6

[State 0, Helper] 
type = Helper 
trigger1 = time = 30 && numhelper(1075) = 0 
helpertype = normal
name = "pieczec kuchiyose" 
ID = 1075
stateno = 1075
pos = 0,3
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 10

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 45
anim = F690
ID = 690
pos = 0,0
scale = 1,0.5
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 51
value = 1071
ctrl = 1

[StateDef 1071]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1070
poweradd = 20
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = F8,2

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
value = 0
ctrl = 1

[StateDef 1072]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1071
poweradd = -300
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
triggerall = root,stateno = 1071
trigger1 = root,animelem = 1 
time = 3
pos = 5,5

[State 0, BindToRoot]
type = BindToRoot
triggerall = root,stateno = 1071
trigger1 = root,animelem = 2 
time = 3
pos = 14,5

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 5
value = 1073
ctrl = 1

[StateDef 1073]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1071
poweradd = 0
sprpriority = 1

[State 6520, VelSet]
type = VelSet
trigger1 = 1
x = 7

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = [0, 30]
trigger1 = time % 1 = 0
anim = 1072
ID = 1072
pos = -2,-7
scale = 0.2,0.2
postype = p1
bindtime = -1
removetime = 1
sprpriority = 2
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time 
attr = C,HP
damage = 120,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0,30
sparkno = -1
sparkxy = -10, -30
hitsound = -5, 0
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 0

[State 0, Helper]
type = Helper
trigger1 = movecontact && numhelper(1074) = 0
helpertype = normal
name = "toad slizg hity"
stateno = 1074
ID = 1074
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0,]
type = Explod
ownpal = 1
trigger1 = movecontact
trigger2 = time = 50
anim = F690
ID = 690
pos = 0,0
scale = 1.5,1
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = Destroyself
trigger1 = movecontact
trigger2 = time = 50


;-----------
;ciecia g³ówny helper
[Statedef 1074]
type = S
movetype = I
physics = N
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 220, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
trigger2 = Time = 17
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
value = F5,11

[State 220, PlaySnd]
type = PlaySnd
trigger1 = Time = 10
trigger2 = Time = 28
trigger3 = Time = 85
trigger4 = Time = 115
value = F5,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = F0 + random%2
pos = 0+random%40,-10-random%50
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 20
ontop = 0
ownpal = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,1
anim = 2001
pos = 0+random%40,-10-random%50
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 240
ID = 240
pos = 0,-5
scale = 1,1
postype = p1
trans = addalpha
alpha = 256,256
bindtime = -1
removetime = 12
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 240
ID = 240
pos = 40,-5
scale = 1,1
postype = p1
trans = addalpha
alpha = 256,256
bindtime = -1
facing = -1
removetime = 12
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 17
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 10,-10
ownpal = 1
stateno = 1310
ID = 1
size.xscale = 0.2
size.yscale = 0.2

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 20
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 10,-20
ownpal = 1
stateno = 1310
ID = 2
size.xscale = 0.3
size.yscale = 0.3

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-30
ownpal = 1
stateno = 1310
ID = 3
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 28
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-15
ownpal = 1
stateno = 1310
ID = 4
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 25
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-25
ownpal = 1
stateno = 1310
ID = 5
size.xscale = 0.2
size.yscale = 0.2

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 2
trigger2 = Time = 18
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 10,-35
ownpal = 1
stateno = 1310
ID = 6
size.xscale = 0.3
size.yscale = 0.3

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 27
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 10,-7
ownpal = 1
stateno = 1310
ID = 7
size.xscale = 0.25
size.yscale = 0.25

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 20
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-14
ownpal = 1
stateno = 1310
ID = 8
size.xscale = 0.3
size.yscale = 0.3

;-------------
[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 26
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 10,-14
ownpal = 1
stateno = 1311
ID = 1
size.xscale = 0.2
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 22
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 10,-7
ownpal = 1
stateno = 1311
ID = 2
size.xscale = 0.3
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 2
trigger2 = Time = 17
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-35
ownpal = 1
stateno = 1311
ID = 3
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-25
ownpal = 1
stateno = 1311
ID = 4
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 20
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 10,-15
ownpal = 1
stateno = 1311
ID = 5
size.xscale = 0.2
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 25
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 10,-30
ownpal = 1
stateno = 1311
ID = 6
size.xscale = 0.3
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 25
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 10,-20
ownpal = 1
stateno = 1311
ID = 7
size.xscale = 0.25
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 15
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 10,-10
ownpal = 1
stateno = 1311
ID = 8
size.xscale = 0.3
size.yscale = 0.5

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 30


;Pieczêæ
[StateDef 1075]
type = S
anim = 1073
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0.0015*(time*15),0.00020*(time*15)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 9
scale = 0.225,0.03

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 30


;Pieczêæ
[StateDef 1076]
type = S
anim = 1073
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 15
scale = 0.0015*(time*15),0.00020*(time*15)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 14
scale = 0.3375,0.045

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 40

;---------------------------------------------------------------------
;Kuchiyose Gamabunta
[StateDef 1080]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
poweradd = -3000
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 7
trigger2 = time = 16
value = F17,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F3,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = F2,0

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(1084) = 0
helpertype = normal
name = "Gamabunta"
stateno = 1084
ID = 1084
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 0, Helper] 
type = Helper 
trigger1 = time = 30 && numhelper(1083) = 0 
helpertype = normal
name = "pieczec kuchiyose" 
ID = 1083
stateno = 1083
pos = 0,3
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 10

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -var(8)/2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "life"
ID = 503
stateno = 503
pos = 0,0
postype = p1
facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 12
ctrl = 1

[StateDef 1084]
type = S
anim = 2000

[State 0, Helper]
type = Helper
trigger1 = p2stateno != [5050,5150]
helpertype = normal
name = "Gamabunta"
stateno = 1081
ID = 1081
pos = -50,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8
size.ground.front = 220
size.ground.back = -100
size.air.front = 150
size.air.back = -100
size.height = 200
size.head.pos = -50,-150 
size.mid.pos = 0,-100 


[State 0, ChangeState]
type = Destroyself
trigger1 = numhelper(1081) = 1

;Gamabunta
[StateDef 1081]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1080
poweradd = 0
sprpriority = 10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 9999

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -300

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 16
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2149
ID = 2149
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1.3,1.3
sprpriority = 13
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1081
ID = 1081
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta blur"
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = 0.8,0.8
sprpriority = 11
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 16,1
anim = 2143
ID = 2143
pos = -234,-82
vel = -0.25,-0.4
accel = -0.07,-0.1
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 9
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time && target,stateno != 100039
attr = C,HP
damage = 1500
animtype = Light
guardflag = MA
hitflag = MAF
priority = 0, Hit
pausetime = 0,0
sparkno = 4
sparkxy = -10, -30
hitsound = 5, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100039
p2sprpriority = -3
p1sprpriority = 0

[State 0, Explod]
type = Explod
triggerall = target,stateno = 100039 || target,stateno = 100040 
trigger1 = target,numhelper(70400) = 1 && numexplod(1082) = 0
anim = 1082
ID = 1082
pos = 0,0
postype = p1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 2
ownpal = 1
ontop = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -40
value = 1082
ctrl = 1

[StateDef 1082]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1080
poweradd = 0
sprpriority = 10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 1081

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 30
freq = 60
ampl = -7
phase = 90

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 16,1
anim = 2143
ID = 2143
pos = -234,-82
vel = -0.25,-0.4
accel = -0.07,-0.1
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 9
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2144
ID = 2144
pos = -50,0
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2144
ID = 2144
pos = 100,0
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 9
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2144
ID = 2144
pos = 80,40
postype = p1
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 13
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2144
ID = 2144
pos = 5,10
postype = p1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 13
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
triggerall = target,stateno = 100039 || target,stateno = 100040 
trigger1 = target,numhelper(70400) = 1 && numexplod(1082) = 0
anim = 1082
ID = 1082
pos = 0,0
postype = p1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.8,0.8
sprpriority = 12
ownpal = 1
ontop = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 100
id = 1082

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 2149
ID = 2149
pos = -40,0
postype = p1  ;p2,front,back,left,right
facing = 1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1
sprpriority = 13
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 90
anim = 2149
ID = 2149
pos = 120,0
postype = p1  ;p2,front,back,left,right
facing = -1
name = "gamabunta dym"
vfacing = 1
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 1,1
sprpriority = 13
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = F9,2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100

;Pieczêæ
[StateDef 1083]
type = S
anim = 1073
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 17
scale = 0.0015*(time*22),0.00020*(time*19)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
scale = 0.5625,0.065

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 70

;------------------------------------------------------------------------
;Contract Seal: Blokada Kuchiyose
[Statedef 1090]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 100
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = -1.3,-1
bindtime = 1
ownpal = 1
ontop = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)+1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State -1, Run attack 2]
type = ChangeState
triggerall = enemy,TeamMode = Simul
trigger1 = enemy(0),p2dist x < 40 && enemy(0),alive = 1 && enemy(0),var(38) = 0
value = 1091
ctrl = 1

[State -1, Run attack 2]
type = ChangeState
triggerall = enemy,TeamMode = Simul
trigger1 = enemy(1),p2dist x < 40 && enemy(0),alive = 1 && enemy(1),var(38) = 0
value = 1091
ctrl = 1

[State -1, Run attack 2]
type = ChangeState
triggerall = enemy,TeamMode != Simul
trigger1 = enemy(0),p2dist x < 40 && enemy(0),alive = 1 && enemy(0),var(38) = 0
value = 1091
ctrl = 1

[State -1, Run attack 2]
type = ChangeState
triggerall = enemy,TeamMode != Simul
trigger1 = enemy(1),p2dist x < 40 && enemy(0),alive = 0 && enemy(1),var(38) = 0
value = 1091
ctrl = 1

[State -1, Run attack 2]
type = ChangeState
trigger1 = frontedgebodydist <= 50
trigger2 = time = 30
value = 0
ctrl = 1

[StateDef 1091]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = -200
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 30
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 220, 1]
type = HitDef
givepower = 0
getpower = -300
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 50, 50
sparkno = 0+random%4
sparkxy = -15, -34
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
p2stateno = 100041
p2sprpriority = -3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(1091) = 0
persistent = 0
anim = 1091
ID = 1091
pos = 38,-34
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 999
scale = 0.033,0.066
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(1090) = 0
persistent = 0
anim = 1090
ID = 1090
pos = 38,-34
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 999
scale = 0.033,0.066
sprpriority = 2
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
;Ulitimate: Full Hiraishin 1 - start
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
ctrl = 0
velset = 0,0
poweradd = -2000
facep2 = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,1

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 6520, SuperPause]
type = SuperPause
trigger1 = time > 0 && AnimElemTime(1) = 0
time = 20
movetime = 20
anim = -1
sound = -1
darken = 0
unhittable = 0

[State 6520, VarSet];Hitsound and effects select
type = VarSet
trigger1 = Time = 0
var(7) = 0
ignorehitpause = 1

[State 6520, VarSet];MoveContact initialize
type = VarSet
trigger1 = Time = 0
var(8) = 0
ignorehitpause = 1

[State 6520, VarSet];MoveContact detection
type = Null;VarSet
trigger1 = MoveContact
var(8) = 1
ignorehitpause = 1

[State 6520, VarSet];MoveHit detection
type = VarSet
trigger1 = Time = 0
var(9) = 0
ignorehitpause = 1

[State 6520, VarSet];MoveHit detection
type = VarSet
trigger1 = MoveHit
var(9) = 1
ignorehitpause = 1

[State 6520, VarSet];Damage Correction
type = VarAdd
trigger1 = MoveHit
fvar(3) = 0
ignorehitpause = 1

[State 6520, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,75]
value = SCA
time = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = AnimElemTime(9) = 0
anim = 2152
ID = 2152
pos = 27,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = -1
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 11
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 11
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 6520, PosAdd]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
x = ceil(P2Dist X) + 150

[State 6520, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(9) = 1
x = 6

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 50
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = C,HP
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = hard
ground.type = low
air.type = low
damage = 0,8
getpower = 0,0
givepower = 200,150
pausetime = 0,10
guard.pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = 5,10
guardsound = S1,100
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
airguard.ctrltime = 20
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
airguard.velocity = 0,0
fall.recover = 0
forcestand = 0
fall = 1
air.fall = 1
kill = 1
guard.kill = 0
p2stateno = 100028

[State 6520, ChangeState]
type = ChangeState
trigger1 = NumTarget != 0
trigger1 = AnimElemTime(8) = 4
trigger1 = var(9) = 1
value = 1101
ctrl = 0

[State 6520, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Ultimate przygotowanie
[Statedef 1101]
type = S
movetype = A
physics = S
anim = 1101
ctrl = 0

[state 1000, 0]
type = BGpalfx
trigger1 = time > 0
add = 0,0,0
color = 256-(time*3.65)
time = 15
invertall = 0
persistent = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 1
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 6521, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 6521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 6521, VelAdd]
type = VelSet
trigger1 = 1
x = 0.6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2152
ID = 2152
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = -1
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ontop = 0
ownpal = 1

[State 6521, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time = 5
value = 100029
ignorehitpause = 1
persistent = 0

[State 6521, Trans]
type = Trans
trigger1 = Time > 0
trans = AddAlpha
alpha = ceil(fvar(20)),ceil(fvar(21))

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(20) = 250

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(21) = 6

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(20) > 0
fvar(20) = -10

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(21) < 256
fvar(21) = 10

[State 6521, ChangeState]
type = ChangeState
trigger1 = NumTarget > 0
trigger1 = p2StateNo = 100030
value = 1102

[State 6521, ChangeState]
type = ChangeState
trigger1 = NumTarget = 0
trigger1 = Time > 40
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Ultimate atak
[Statedef 1102]
type = S
movetype = A
physics = S
anim = 2000
ctrl = 0
poweradd = -2000
velset = 0,0

[State 1533,excplod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2155
id = 2155
postype = front
pos = cond(facing = 1,-380,0),0
name = "paski ruchu"
bindtime = 1
sprpriority = 30
ownpal = 1
trans = sub
removetime = -1
scale = 0.3,0.3

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 280
movetime = 280
anim = -1
darken = 0
unhittable = 0

[State 6522, PosSet]
type = PosSet
trigger1 = 1
x = 0

[State 6522, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 6522, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 6522, VarSet];Damage Correction
type = VarAdd
trigger1 = Time = [0,275]
trigger1 = Time % 5 = 0
fvar(3) = 0.02
ignorehitpause = 1

[State 6522, EnvShake]
type = EnvShake
trigger1 = Time = [0,275]
trigger1 = Time % 5 = 0
time = 15
ampl = -8

[state 1000, 0]
type = BGpalfx
trigger1 = time = [0,275]
trigger1 = time % 5 = 0
add = 0,0,0
color = 0
time = 15
invertall = 0
persistent = 1
ignorehitpause = 1

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = [0,275]
trigger1 = Time % 5 = 0
value = -30;+ceil(-10*fvar(0))
absolute = 0
kill = 0

[State 6522, HitAdd]
type = HitAdd
trigger1 = Time = [0,275]
trigger1 = Time % 5 = 0
value = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
name = "ciecia helper glowny"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1105
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, ChangeState]
type = ChangeState
trigger1 = Time > 280
trigger2 = p2stateno != 100030
value = 1103

;----------------------------------------------------------------------
;Ultimate zakoñczenie
[Statedef 1103]
type = S
movetype = A
physics = S
anim = 1103
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,26

[State 6523, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 6523, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 6523, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s1,9
ignorehitpause = 1

[State 6523, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s3,13
ignorehitpause = 1

[State 6523, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = s3,20
ignorehitpause = 1

[State 6523, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 10
ampl = -10

[State 6523, TargetState]
type = TargetState
trigger1 = Time = 0
value = 100031
persistent = 0

[State 6523, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 0
value = -350

[State 6523, HitAdd]
type = HitAdd
trigger1 = Time = 0
value = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0 && time < 33
Time = 1
color = 0+(time*4.14)
add = -256+(time*7.58),-256+(time*7.58),-256+(time*7.58)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 33
Time = 1
color = 136+(time*4.14)

[State 6522, Helper];blask
type = Helper
trigger1 = Time = 0
name = "swiatlo zakonczenie"
postype = p1
pos = 0,-115
ownpal = 1
stateno = 1104
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 3
facing = 1
removetime = 30
ontop = 0
ownpal = 1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1090
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 3
facing = -1
removetime = 30
ontop = 0
ownpal = 1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 2155

[State 6523, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------
;blask
[Statedef 1104]
type = S
movetype = I
physics = N
anim = 1105
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,6

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
var(0) = 0

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = -0.05

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),1

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;-----------
;ciecia g³ówny helper
[Statedef 1105]
type = S
movetype = I
physics = N
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, BindToTarget]
type = BindToRoot
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,1
value = F5,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6
channel = 15
loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = F14,4
channel = 16
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 280
trigger2 = root,stateno != 1102
channel = 15

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 280
trigger2 = root,stateno != 1102
channel = 16

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F0 + random%2
pos = -55+random%90,-55-random%90
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 20
ontop = 0
bindtime = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = 2001+random%2
pos = -55+random%90,-55-random%90
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 40
trigger3 = Time = 80
trigger4 = Time = 120
trigger5 = Time = 160
trigger6 = Time = 200
trigger7 = Time = 240
trigger8 = Time = 280
name = "Slash"
postype = p1
pos = 0,-155
ownpal = 1
stateno = 1110
ID = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 45
trigger3 = Time = 85
trigger4 = Time = 125
trigger5 = Time = 165
trigger6 = Time = 205
trigger7 = Time = 245
trigger8 = Time = 285
name = "Slash"
postype = p1
pos = 0,-55
ownpal = 1
stateno = 1110
ID = 2
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 50
trigger3 = Time = 90
trigger4 = Time = 130
trigger5 = Time = 170
trigger6 = Time = 210
trigger7 = Time = 250
name = "Slash"
postype = p1
pos = -35,-90
ownpal = 1
stateno = 1110
ID = 3
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 55
trigger3 = Time = 95
trigger4 = Time = 135
trigger5 = Time = 175
trigger6 = Time = 215
trigger7 = Time = 255
name = "Slash"
postype = p1
pos = 35,-90
ownpal = 1
stateno = 1110
ID = 4
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 60
trigger3 = Time = 100
trigger4 = Time = 140
trigger5 = Time = 180
trigger6 = Time = 220
trigger7 = Time = 260
name = "Slash"
postype = p1
pos = 30,-130
ownpal = 1
stateno = 1110
ID = 5
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 65
trigger3 = Time = 105
trigger4 = Time = 145
trigger5 = Time = 185
trigger6 = Time = 225
trigger7 = Time = 265
name = "Slash"
postype = p1
pos = -30,-70
ownpal = 1
stateno = 1110
ID = 6
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 30
trigger2 = Time = 70
trigger3 = Time = 110
trigger4 = Time = 150
trigger5 = Time = 190
trigger6 = Time = 230
trigger7 = Time = 270
name = "Slash"
postype = p1
pos = -30,-130
ownpal = 1
stateno = 1110
ID = 7
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 35
trigger2 = Time = 75
trigger3 = Time = 115
trigger4 = Time = 155
trigger5 = Time = 195
trigger6 = Time = 235
trigger7 = Time = 275
name = "Slash"
postype = p1
pos = 30,-70
ownpal = 1
stateno = 1110
ID = 8
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999


[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0
trigger2 = Time = 40
trigger3 = Time = 80
trigger4 = Time = 120
trigger5 = Time = 160
trigger6 = Time = 200
trigger7 = Time = 240
trigger8 = Time = 280
name = "Shadow"
postype = p1
pos = 0,-170
ownpal = 1
stateno = 1111
ID = 1
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 5
trigger2 = Time = 45
trigger3 = Time = 85
trigger4 = Time = 125
trigger5 = Time = 165
trigger6 = Time = 205
trigger7 = Time = 245
trigger8 = Time = 285
name = "Shadow"
postype = p1
pos = 0,-70
ownpal = 1
stateno = 1111
ID = 2
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 10
trigger2 = Time = 50
trigger3 = Time = 90
trigger4 = Time = 130
trigger5 = Time = 170
trigger6 = Time = 210
trigger7 = Time = 250
name = "Shadow"
postype = p1
pos = -50,-120
ownpal = 1
stateno = 1111
ID = 3
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 15
trigger2 = Time = 55
trigger3 = Time = 95
trigger4 = Time = 135
trigger5 = Time = 175
trigger6 = Time = 215
trigger7 = Time = 255
name = "Shadow"
postype = p1
pos = 50,-120
ownpal = 1
stateno = 1111
ID = 4
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 20
trigger2 = Time = 60
trigger3 = Time = 100
trigger4 = Time = 140
trigger5 = Time = 180
trigger6 = Time = 220
trigger7 = Time = 260
name = "Shadow"
postype = p1
pos = 60,-150
ownpal = 1
stateno = 1111
ID = 5
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 25
trigger2 = Time = 65
trigger3 = Time = 105
trigger4 = Time = 145
trigger5 = Time = 185
trigger6 = Time = 225
trigger7 = Time = 265
name = "Shadow"
postype = p1
pos = -60,-110
ownpal = 1
stateno = 1111
ID = 6
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 30
trigger2 = Time = 70
trigger3 = Time = 110
trigger4 = Time = 150
trigger5 = Time = 190
trigger6 = Time = 230
trigger7 = Time = 270
name = "Shadow"
postype = p1
pos = -60,-150
ownpal = 1
stateno = 1111
ID = 7
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 35
trigger2 = Time = 75
trigger3 = Time = 115
trigger4 = Time = 155
trigger5 = Time = 195
trigger6 = Time = 235
trigger7 = Time = 275
name = "Shadow"
postype = p1
pos = 60,-110
ownpal = 1
stateno = 1111
ID = 8
size.xscale = 0.6
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 280
trigger2 = root,stateno != 1102

;-------
;ciecie
[Statedef 1110]
type = S
movetype = I
physics = N
anim = 1006
ctrl = 0
velset = 0,0
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = 0

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = 180

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = 90

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = 270

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = 315

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = 135

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(7)
var(0) = 45

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(8)
var(0) = 225

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.1

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.5

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.025

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 20

;--------
;ciecie i postac
[Statedef 1111]
type = S
movetype = I
physics = N
anim = 1005
ctrl = 0
velset = 0,0
sprpriority = 3

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16522, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = 0

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = 180

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = 270

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = 90

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = 315

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = 135

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(7)
var(0) = 45

[State 16522, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(8)
var(0) = 225

[State 16522, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16522, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.1

[State 16522, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.5

[State 16522, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.1

[State 16522, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 16522, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16522, DestroySelf]
type = DestroySelf
trigger1 = Time > 10

;---------------------------------------------------------------------------
;Pieczêæ Hiraishin - oznaczenie
[StateDef 1120]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 360
poweradd = -200
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,0+random%11
volume = 255
channel = 4

[state 0, Velset]
type = Velset
trigger1 = time < 10
triggerall = p2dist x < 70
triggerall = numhelper(701) = 1 || numhelper(702) = 1
x = p2bodydist x/10

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 25,5
getpower = -300
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 10, 20
sparkno = 0+random%4
sparkxy = -15, -34
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, Helper] 
type = Helper 
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = movecontact && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Explod]
type = Explod
trigger1 = movecontact =1
anim = 2002
pos = 38,-33
postype = p1  ;p2,front,back,left,right
scale = 0.25,0.25
sprpriority = 3
removetime = -2
ontop = 0
ownpal = 1
bindtime = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = movecontact =1
anim = 2001
pos = 38,-33
postype = p1  ;p2,front,back,left,right
scale = 0.095,0.15
sprpriority = 1
removetime = -2
ontop = 0
ownpal = 1
bindtime = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
;Minato vs Tobi
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1204
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
triggerall = p2stateno != 100032
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -20, -32
hitsound = s534, 108
guardsound = 2626, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 100032

[State  0, End]
type = ChangeState
trigger1 = movehit && target,stateno = 100032
value = 1201
ctrl = 1

[State  0, End]
type = ChangeState
trigger1 = time = 10
value = 0
ctrl = 1

[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2120
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 5,5
sprpriority = 50
removetime = 13
ontop = 0
ownpal = 1
bindtime = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 3
trigger3 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ontop = 0

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, Turn]
type = Turn
trigger1 = facing = -1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = -300

[state 1000, 0]
type = BGpalfx
triggerall = StageVar(info.name) != "Y"
trigger1 = time = 10
add = -100,-100,-100
time = 60
invertall = 0
persistent = 1
ignorehitpause = 1

[State  0, End]
type = ChangeState
trigger1 = target,stateno != 100032
value = 100
ctrl = 1

[State  0, End]
type = ChangeState
trigger1 = backedgedist > 10
value = 1202
ctrl = 1

[Statedef 1202]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F21,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
trigger2 = animelem = 6
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 3
vel = -1.3,-1
bindtime = 0
ontop = 0

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0 
name = "Kunai za wczas"
helpertype = normal
postype = p1
pos = 37,-37
ownpal = 1
stateno = 1204
ID = 1204
pausemovetime = 9999

[state 1000, 0]
type = BGpalfx
triggerall = StageVar(info.name) != "Y"
trigger1 = time = 0
add = -100,-100,-100
time = 50
invertall = 0
persistent = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 0

[state 1202,0]
type = pause
trigger1 = time > 0 && gametime%2 = 0
time = 2
movetime = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = [10,30]
value = -25

[State 0, VarSet]
type = VarSet
trigger1 = time = [10,30]
v = 6
value = 10+(time-10)*2

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 6
value = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F32,5

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "Rasengan"
ID = 950
stateno = 950
pos = -5,-34
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999




[State 6522, Helper]
type = Helper
triggerall = helper(1204),stateno = 1205
trigger1 = time > 5 && numhelper(2000) = 0
name = "blysk"
postype = p1
pos = 0,0
ownpal = 1
stateno = 2000
ID = 2000
pausemovetime = 999

[State  0, End]
type = ChangeState
triggerall = helper(1204),stateno = 1205
trigger1 = time > 5
value = 1203
ctrl = 1
persistent = 1

[Statedef 1203]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1202
poweradd = -2000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 2
triggerall = var(20) > 0 && var(20) < 40
v = 20
value = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27

[State 6522, Helper];Shadow
type = Helper
trigger1 = Time = 0 
name = "Chmurka"
helpertype = normal
postype = p1
pos = 30,-40
ownpal = 1
stateno = 1208
ID = 1208
pausemovetime = 9999
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,28

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 85
channel = 15



[state 1202,0]
type = pause
trigger1 = gametime%2 = 0 && time < 10
time = 2
movetime = 2

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 8296

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 829

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 680

[State 0, PosAdd]
type = Posset
trigger1 = time = 0 && helper(1204),stateno = 1205
x = helper(1204),pos x -20
y = helper(1204),pos y -25

[State 46521, VelSet]
type = VelSet
trigger1 = pos y < -5 && enemy,anim != 5170 && time < 25
y = 2.4

[State 46521, VelSet]
type = VelSet
trigger1 = time > 25
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = 25
value = -750
absolute = 0
kill = 0

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = [20,80]
trigger1 = Time % 5 = 0
value = -60
absolute = 0
kill = 1

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
triggerall = 0;enemy,name = "Ay" && enemy,var(2) = 1
trigger1 = Time = [20,80]
trigger1 = Time % 5 = 0
value = -650
absolute = 0
kill = 1

[State 6522, HitAdd]
type = HitAdd
trigger1 = Time = [20,80]
trigger1 = Time % 5 = 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 89
y = pos y = 0

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2011
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F3,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "blask"
facing = 1
bindtime = 1
removetime = 18
pausemovetime = 9999
supermovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 6522, Helper]
type = Helper
trigger1 = 0;Time = 2
name = "Rasengan"
postype = p1
pos = -17,-89
ownpal = 1
stateno = 1206
ID = 1206
pausemovetime = 999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 2110
pos = 0,0
postype = front  ;p2,front,back,left,right
scale = 5,5
sprpriority = 5
removetime = 10
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 18
anim = 1206
id = 1206
postype = p1
pos = 0,0
facing = 1
bindtime = -1
removetime = 70
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1,1

[State 6522, Helper]
type = Helper
trigger1 = Time = 18
name = "Wybuch"
postype = p1
pos = -11,0
ownpal = 1
stateno = 1207
ID = 1207
pausemovetime = 999

[State 0, Helper] 
type = Helper 
trigger1 = time = 30 && numhelper(701) = 0 && numhelper(702) = 0 && enemy(0),p2dist x < 40
helpertype = normal
name = "pieczec" 
ID = 701
stateno = 701
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = time = 30 && numhelper(701) = 0 && numhelper(702) = 0 && enemy(1),p2dist x < 40
helpertype = normal
name = "pieczec 2" 
ID = 702
stateno = 702
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 18
time = 80
freq = 100
ampl = -10
phase = 100

[state 1000, 0]
type = BGpalfx
triggerall = StageVar(info.name) != "Y"
trigger1 = time = [0,80]
trigger1 = time % 5 = 0
add = -100,-100,-100
time = 15
invertall = 0
persistent = 1
ignorehitpause = 1

[State  0, End]
type = ChangeState
trigger1 = time = 90
value = 105
ctrl = 1


[Statedef 1204]
type    = S
anim = 1031
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 1 && time < 30
x = 6-time/7

[State 0, VelSet]
type = VelSet
trigger1 = time > 29
x = 0.4

[State  0, End]
type = ChangeState
trigger1 = enemy(0),p2dist x < 65
value = 1205
ctrl = 1

[Statedef 1205]
type    = S
anim = 1031
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1

[State  0, End]
type = Destroyself
trigger1 = root,stateno = 1203 && root,time > 2



;rasengan
[Statedef 1206]
type    = S
anim = 2000
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelemno(0) = 2
time = 4
pos = -17,-89

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelemno(0) = 3
time = 4
pos = -39,-64

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelemno(0) = 4
time = 4
pos = 0,-4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelemno(0) = 5
time = 4
pos = 0,-2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,3 && numexplod(8295) < 2
anim = F610
id = 8295
postype = p1
pos = 0,-2
facing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
removeongethit = 1
scale = 0.3716,0.3716

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F630
id = 8291
scale = 0.2764,0.2764
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
removeongethit = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 11
anim = F660
id = 660
postype = p1
pos = 0,0
facing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 0.2,0.2

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = enemy,life = 0
ID = 660

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = enemy,life = 0
ID = 8295

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = enemy,life = 0
ID = 8291

[State  0, End]
type = DestroySelf
trigger1 = root,stateno != 1203
trigger2 = time = 60
trigger3 = enemy,life = 0

;wybuch
[Statedef 1207]
type    = S
anim = 2000
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
trigger3 = time = 60
value = F32,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 40
trigger4 = time = 80
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 30
trigger3 = time = 60
value = F15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 15
trigger3 = time = 45
trigger4 = time = 75
value = F14,6


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F64
id = 64
postype = p1
pos = 0,-2
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -2
scale = 1.5,0.7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2080
id = 2080
postype = p1
pos = 0,3
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 1
scale = 1.7,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2080
id = 2080
postype = p1
pos = 0,-8
vfacing = -1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
scale = 1.5,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
id = 550
postype = p1
pos = 0,2
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 0
scale = 1.7,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F580
id = 580
postype = p1
pos = 0,-2
facing = 1
bindtime = 1
removetime = 96
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 2,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 70
anim = F580
id = 580
postype = p1
pos = 0,-2
facing = 1
bindtime = 1
removetime = 48
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = -1
scale = 2,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5 && time < 45
anim = F1490
id = 2060
postype = p1
pos = 0+time*2,4
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,5 && time < 45
anim = F1490
id = 2060
postype = p1
pos = 0-time*2,4
facing = -1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F530
id = 530
postype = p1
pos = 0,4
facing = -1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F530
id = 530
postype = p1
pos = 0,4
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F530
id = 530
postype = p1
pos = 30,4
facing = -1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F530
id = 530
postype = p1
pos = -30,4
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = F530
id = 530
postype = p1
pos = 80,4
facing = -1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 50
anim = F530
id = 530
postype = p1
pos = -80,4
facing = 1
bindtime = 1
removetime = 80
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
postype = p1
pos = -20,-20
facing = -1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F590
id = 590
postype = p1
pos = 20,-20
facing = 1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1,1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F590
id = 590
postype = p1
pos = -70,-20
facing = -1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.9,0.9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = F590
id = 590
postype = p1
pos = 70,-20
facing = 1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.9,0.9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F590
id = 590
postype = p1
pos = 110,-20
facing = -1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.8,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F590
id = 590
postype = p1
pos = -110,-20
facing = 1
bindtime = 1
removetime = 66
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.8,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2100
id = 2100
postype = p1
pos = 0,3
facing = 1
bindtime = 1
removetime = 78
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 0.8,0.8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F587
id = 2090
postype = p1
pos = 0,5
facing = 1
vel = 0,0
bindtime = 1
removetime = -2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 4
scale = 1/2,1.2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 15
trigger3 = time = 30
trigger4 = time = 45
trigger5 = time = 60
trigger6 = time = 75
anim = 2144
ID = 2144
pos = 20,10
postype = p1
vel = -3,0
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.4
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time = 15
trigger3 = time = 30
trigger4 = time = 45
trigger5 = time = 60
trigger6 = time = 75
anim = 2144
ID = 2144
pos = -20,10
postype = p1
vel = 3,0
facing = -1
bindtime = 1
removetime = 26
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.4
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 60 && timemod = 2,0
anim = F591
ID = 591
pos = -50+random%100,10-random%30
vel = -2+random%5,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F570
id = 570
postype = p1
pos = -30,-20
facing = 1
vel = -0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F570
id = 570
postype = p1
pos = -60,-20
facing = 1
vel = -0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F570
id = 570
postype = p1
pos = -90,-20
facing = 1
vel = -0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 45
anim = F570
id = 570
postype = p1
pos = -120,-20
facing = 1
vel = -0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F570
id = 570
postype = p1
pos = 30,-20
facing = -1
vel = 0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F570
id = 570
postype = p1
pos = 60,-20
facing = -1
vel = 0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 30
anim = F570
id = 570
postype = p1
pos = 90,-20
facing = -1
vel = 0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 45
anim = F570
id = 570
postype = p1
pos = 110,-20
facing = -1
vel = 0.4,0
bindtime = 1
removetime = 32
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 3
scale = 1.5,1.5


[State  0, End]
type = DestroySelf
trigger1 = root,stateno != 1203
trigger2 = time = 80


[Statedef 1208]
type    = S
anim = 1205
sprpriority = 3

[State 0, BindToTarget]
type = BindToTarget
trigger1 = time = 0
time = 15
pos = -40,-80,Head
ignorehitpause = 1

[State  0, End]
type = Destroyself
trigger1 = time = 15

;---------------------------------------------------------------------
;Hiraishin + Rasengan
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
ctrl = 0
velset = 0,0
poweradd = -500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F14,6

[State 6520, VarSet];MoveHit detection
type = VarSet
trigger1 = Time = 0
var(9) = 0
ignorehitpause = 1

[State 6520, VarSet];MoveHit detection
type = VarSet
trigger1 = MoveHit
var(9) = 1
ignorehitpause = 1

[State 6520, NotHitBy]
type = NotHitBy
trigger1 = Time = [15,36]
value = SCA
time = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F31

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 15
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 6520, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 8

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 50
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
fall.animtype = hard
ground.type = low
air.type = low
damage = 0,8
getpower = 0,0
givepower = 0,0
pausetime = 0,0
guard.pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = 5,14
guardsound = S1,100
ground.hittime = 20
ground.slidetime = 20
guard.hittime = 20
air.hittime = 20
guard.ctrltime = 20
airguard.ctrltime = 20
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
airguard.velocity = 0,0
p2stateno = 100035

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(1306) = 0 && numhelper(1307) = 0 && enemy(0),p2dist x < 70
helpertype = normal
name = "pieczec" 
ID = 1306
stateno = 1306
pos = 40,-34
postype = p1 
ownpal = 1 

[State 0, Helper] 
type = Helper 
trigger1 = movehit && numhelper(1306) = 0 && numhelper(1307) = 0 && enemy(1),p2dist x < 70
helpertype = normal
name = "pieczec" 
ID = 1307
stateno = 1307
pos = 40,-34
postype = p1 
ownpal = 1 

[State 6520, ChangeState]
type = ChangeState
trigger1 = NumTarget != 0
trigger1 = var(9) = 1
value = 1301
ctrl = 0

[State 6520, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Ultimate 3 - podbicie
[Statedef 1301]
type = S
movetype = A
physics = S
anim = 1301
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Rozciaganie"
ID = 558
stateno = 558
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time > 8
time = 10
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time > 8
time = 10
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,27

[State 6520, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1302
ID = 1302
ownpal = 1
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removetime = 20
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 1202,0]
type = pause
trigger1 = gametime%2 = 0
time = 2
movetime = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 1
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 6521, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

[State 6521, VelAdd]
type = VelSet
trigger1 = 1
x = 0.2

[State 6521, VelAdd]
type = VelSet
trigger1 = time > 5
y = -0.6

[State 6521, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time = 0
value = 100036
persistent = 0

[State 6521, Trans]
type = Trans
trigger1 = Time > 0
trans = AddAlpha
alpha = ceil(fvar(20)),ceil(fvar(21))

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(20) = 250

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(21) = 6

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(20) > 0
fvar(20) = -10

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(21) < 256
fvar(21) = 10

[State 6522, Helper];Slash
type = Helper
trigger1 = time > 20 && p2stateno = 100036 && numhelper(1305) = 0
name = "ciecia helper glowny"
postype = p2
pos = 0,0
ownpal = 1
stateno = 1305
id = 1305
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = [20,140]
trigger1 = Time % 5 = 0
value = -40
absolute = 0
kill = 0

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
triggerall = 0;enemy,name = "Ay" && enemy,var(2) = 1
trigger1 = Time = [20,140]
trigger1 = Time % 5 = 0
value = -50
absolute = 0
kill = 0

[State 6522, HitAdd]
type = HitAdd
trigger1 = Time = [20,140]
trigger1 = Time % 5 = 0
value = 1

[State 6521, ChangeState]
type = ChangeState
trigger1 = NumTarget > 0
trigger1 = p2StateNo = 100037
value = 554;1302

[State 6521, ChangeState]
type = ChangeState
trigger1 = NumTarget = 0
trigger1 = Time > 40
value = 0
ctrl = 1

[State 6521, ChangeState]
type = ChangeState
trigger1 = time = 150
value = 50
ctrl = 1

[StateDef 1302]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4
loop = 1
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,4
loop = 1
channel = 15

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2001
id = 2001
pos = 9,-30
postype = p1
facing = 1
bindtime = 1
removetime = 18
sprpriority = 3
removeongethit = 1
scale = 0.5,0.5
supermovetime = 999
pausemovetime = 999
ownpal = 1

[State 0, BindToTarget]
type = BindToTarget
trigger1 = time = 0
time = 1
pos = -80,-80,Foot

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = time > 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = time<=41
v = 6
value = time-5

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 50
length = 12
palcontrast = 250,244,10
paladd = 240,90,15
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 16,5
anim = F610
id = 8296
pos = 0,-43-var(6)*0.11
scale = 0.002,0.002
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 10
pausemovetime = 10
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time <= 41
ID = 8296
scale = (0.002+var(6)*0.006375)*2.05,(0.002+var(6)*0.006375)*2.05

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F620
id = 8292
pos = 0,-42
scale = 2.25,2.25
postype = p1
facing = 1
bindtime = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10
removetime = 24
sprpriority = 4
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F630
id = 829
pos = 0,-42
scale = 0.002,0.002
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 10
pausemovetime = 10
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 5 && time <= 41
ID = 829
scale = (0.002+var(6)*0.006375)*2.05,(0.002+var(6)*0.006375)*2.05

[State 210, 2]
type = AfterImage
trigger1 = time > 1 && (!time)
time = 14
length = 15
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 10
pausemovetime = 10
ownpal = 1

[State 811, end]
type = ChangeState
trigger1 = Time = 50
value = 1303

;-----------------
[StateDef 1303]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 511
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,28

[State 0, ModifyExplod]
type = removeExplod
trigger1 = time = 0
ID = 8296

[State 0, ModifyExplod]
type = removeExplod
trigger1 = time = 0
ID = 829

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = time < 10

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = -30

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 60
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -101
sound = F19,0
pos = 0,-43
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "rasengan"
ID = 1313
stateno = 1313
pos = 22,-10
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type =  VelSet
trigger1 = time > 10 && time < 13
x = 1
y = 1.5

[State 0, VelSet]
type =  VelSet
trigger1 = time >= 13
x = 9
y = 10.5

[State 811, end]
type = ChangeState
trigger1 = target,p2dist x > -30
value = 1304

[StateDef 1304]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 1304
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F32,3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 15

[State 46521, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AfterImage]
type = AfterImage
trigger1 = (!time)
time = 70
length = 12
palcontrast = 250,244,10
paladd = 80,18,10
palmul = .6,.5,.25
trans = add
timegap = 1
framegap = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "rasengan"
ID = 1314
stateno = 1314
pos = 22,-10
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
anim = 101
sound = F19,0
pos = 35,25
move = 0
movetime = 0
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 6521, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time = 0
value = 100038
persistent = 0

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Time = [0,20]
trigger1 = Time % 5 = 0
value = -250
absolute = 0
kill = 1

[State 6522, TargetLifeAdd]
type = TargetLifeAdd
triggerall = 0;enemy,name = "Ay" && enemy,var(2) = 1
trigger1 = Time = [0,20]
trigger1 = Time % 5 = 0
value = -300
absolute = 0
kill = 1

[State 6522, HitAdd]
type = HitAdd
trigger1 = Time = [0,20]
trigger1 = Time % 5 = 0
value = 1

[State 811, end]
type = ChangeState
trigger1 = time = 40
value = 50

;-----------------
[StateDef 1313]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 513
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
trigger2 = timemod = 16,5 && numexplod(8295) < 1
anim = F610
id = 8295
pos = 0,-4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 0.5399,0.5399
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F630
id = 829
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
scale = 0.5399,0.5399
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 1 && parent,anim = 511
time = 10
facing = 1
pos = 0,-42

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 2 && parent,anim = 511
time = 1
facing = 1
pos = 18,-41

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 3 && parent,anim = 511
time = 1
facing = 1
pos = 26,-29

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 4 && parent,anim = 511
time = -1
facing = 1
pos = 22,-10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno !=1303
id = 8295

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent, stateno !=1303
id = 829

[State 811, end]
type = destroyself
trigger1 = parent, stateno !=1303

;-----------------
[StateDef 1314]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 513
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time > 30
fv = 7
value = time-31

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F610
id = 8294
pos = 0,-4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 0.5399,0.5399
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 30 && time <= 48
trigger1 = fvar(7) < 47
ID = 8294
scale = 0.5399-fvar(7)/32,0.5399-fvar(7)/32

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F630
id = 829
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
scale = 0.5399,0.5399
supermovetime = 40
pausemovetime = 40
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 30 && time <= 48
trigger1 = fvar(7) < 47
ID = 829
scale = 0.5399-fvar(7)/32,0.5399-fvar(7)/32

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 47
facing = 1
pos = 35,25

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 47
id = 8294

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 47
id = 829

[State 811, end]
type = destroyself
trigger1 = fvar(7) = 47
trigger2 = parent, stateno !=1304

;-----------
;ciecia g³ówny helper
[Statedef 1305]
type = S
movetype = I
physics = N
anim = 2000
ctrl = 0
velset = 0,0
sprpriority = 1

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = F5,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,1
value = F24,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6
channel = 15
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 280
trigger2 = root,stateno != 1301
channel = 15

[State 0, PosAdd]
type = Posset
trigger1 = 1 && numhelper(1306) = 1
x = helper(1306),pos x 
y = helper(1306),pos y - 40

[State 0, PosAdd]
type = Posset
trigger1 = 1 && numhelper(1306) = 0
x = helper(1307),pos x 
y = helper(1307),pos y - 40

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F0 + random%2
pos = -40+random%80,60-random%100
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 4
removetime = 20
ontop = 0
ownpal = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = 2001
pos = -40+random%80,60-random%100
postype = p1  ;p2,front,back,left,right
scale = 0.35,0.35
sprpriority = 4
removetime = 18
ontop = 0
ownpal = 1
bindtime = -1
supermovetime = 9999
pausemovetime = 9999


[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 30
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 1
size.xscale = 0.4
size.yscale = 0.4

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 35
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 2
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 50
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 3
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 55
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 4
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 50
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 5
size.xscale = 0.4
size.yscale = 0.4

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 45
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 6
size.xscale = 0.6
size.yscale = 0.6

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 40
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 7
size.xscale = 0.5
size.yscale = 0.5

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 55
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1310
ID = 8
size.xscale = 0.6
size.yscale = 0.6

;-------------
[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 0
trigger2 = Time = 30
trigger3 = Time = 60
trigger4 = Time = 90
trigger5 = Time = 120
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 1
size.xscale = 0.4
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 5
trigger2 = Time = 35
trigger3 = Time = 65
trigger4 = Time = 95
trigger5 = Time = 125
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 2
size.xscale = 0.6
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 50
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 3
size.xscale = 0.5
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 55
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 4
size.xscale = 0.5
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 20
trigger2 = Time = 50
trigger3 = Time = 80
trigger4 = Time = 110
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 5
size.xscale = 0.4
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 15
trigger2 = Time = 45
trigger3 = Time = 75
trigger4 = Time = 105
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 6
size.xscale = 0.6
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 10
trigger2 = Time = 40
trigger3 = Time = 70
trigger4 = Time = 100
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 7
size.xscale = 0.5
size.yscale = 1

[State 6522, Helper];Slash
type = Helper
trigger1 = Time = 25
trigger2 = Time = 55
trigger3 = Time = 85
trigger4 = Time = 115
name = "Slash"
postype = p1
pos = 0,0
ownpal = 1
stateno = 1311
ID = 8
size.xscale = 0.6
size.yscale = 1

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time = 280
trigger2 = root,stateno != 1301

;-------------------------------------------
;oznakowanie
[StateDef 1306]
type = S
anim = 701

[State 0, PosAdd] 
type = Posset
trigger1 = 1
triggerall = enemy(0),stateno = [100035,100038]
x = enemy(0),pos x
y = enemy(0),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno = 1304
trigger2 = enemy(0),life = 0

[StateDef 1307]
type = S
anim = 701

[State 0, PosAdd] 
type = Posset
trigger1 = 1
triggerall = enemy(1),stateno = [100035,100038]
x = enemy(1),pos x
y = enemy(1),pos y

[State 0, ChangeState]
type = destroyself
trigger1 = root,stateno = 1304
trigger2 = enemy(1),life = 0

;-------
;ciecie
[Statedef 1310]
type = S
movetype = I
physics = N
anim = 1006
ctrl = 0
velset = 0,0
sprpriority = 5

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = 12

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = -30

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = 35

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = -26

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = 7

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = -41

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(7)
var(0) = 24

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(8)
var(0) = -9

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16523, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.5

[State 16523, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.045

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 16523, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16523, DestroySelf]
type = DestroySelf
trigger1 = Time > 10

;--------
;ciecie i postac
[Statedef 1311]
type = S
movetype = I
physics = N
anim = 1005
ctrl = 0
velset = 0,0
sprpriority = 3

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 16522, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(1)
var(0) = 30

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(2)
var(0) = -35

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(3)
var(0) = 26

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(4)
var(0) = -7

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(5)
var(0) = 41

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(6)
var(0) = -24

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(7)
var(0) = 9

[State 16523, VarRandom];AngleSet
type = VarSet
trigger1 = Time = 0
trigger1 = isHelper(8)
var(0) = -12

[State 16522, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(0) = 1

[State 16522, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.2

[State 16522, VarAdd];Scale initialize
type = VarSet
trigger1 = Time = 0
fvar(1) = 0.5

[State 16522, VarAdd];Scale
type = VarAdd
trigger1 = Time > 1
fvar(1) = -0.2

[State 16522, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 16522, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 16522, DestroySelf]
type = DestroySelf
trigger1 = Time > 5

;---------------------------------------------------------------------
;Ultimate: Shiki Fujin
[StateDef 1400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = -500
sprpriority = 3

[State 220, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = C,HP
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,10
sparkno = 1125425
sparkxy = -10, -30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,-0.5
air.type = High
air.velocity = -2,-0.5
air.hittime = 12
p2stateno = 100042

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && target, life > 2000
trigger2 = animtime = 0 && target, life < 2000 && target, stateno != 100042
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && target, life < 2000 && target, stateno = 100042
value = 1401
ctrl = 1

;-------------------------------------
;Odskok
[Statedef 1401]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,2

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)-0.75
y = const(velocity.run.back.y)

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y > -5
value = 1403
ctrl = 1

;-------------------------------------
;Rozpoczêcie
[StateDef 1403]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -2500
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80


[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = S10,2

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 100043

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 220
movetime = 220
anim = -1
darken = 0
unhittable = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 90
value = 1404
ctrl = 1

[StateDef 1404]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
poweradd = 0
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,3

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,3

[State 0, Helper]
type = Helper
trigger1 = time = 1 && numhelper(1406) = 0
helpertype = normal
name = "Shiki Fujin"
stateno = 1406
ID = 1406
pos = 0,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 90
value = 1405
ctrl = 1

;Piêczêtowanie: Shiki Fujin
[StateDef 1405]
type    = L
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1406
poweradd = 0
sprpriority = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S10,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S10,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = F24,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = F24,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = F5,10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = F5,10

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 120
value = -4000
kill = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = target,stateno = 100043 && time = 120
value = -10000
kill = 1

[State 0, Helper]
type = Helper
trigger1 = time = 100 && numhelper(1411) = 0
helpertype = normal
name = "Blokada fatality"
stateno = 1411
ID = 1411
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20 && numhelper(1408) = 0
helpertype = normal
name = "Shiki Fujin: reka"
stateno = 1408
ID = 1408
pos = -2,-32
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 110
anim = 1409
ID = 1409
pos = 25*(p2dist x/120),-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 42
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.75
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 215
value = 1412
ctrl = 0

[StateDef 1412]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0
anim = 1411
sprpriority = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 5150
ctrl = 0

;--------------------------------------------
;Shiki
[StateDef 1406]
type = S
anim = cond(facing = 1,1402,1403)
sprpriority = -30

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,4

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S10,4

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 1 && time < 35
Time = 1
color = 256-((time-1)*7.25)
add = 0-((time-1)*4.2857),0-((time-1)*4.2857),0-((time-1)*4.2857)
ignorehitpause = 1

[state 1000, 0]
type = BGpalfx
trigger1 = time > 34
trigger1 = time%5 = 0
add = -150,-150,-150
color = 0
time = 6
invertall = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = ParentDist X > 1
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = ParentDist X < -1
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = ParentDist X < 1 && ParentDist X > -1
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 60
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 60 && timemod = 15,0
y = -vel y

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2154
ID = 2154
pos = 0,18
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -29
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = -112,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = -130,-115
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = -70,-175
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = 65,-170
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = 130,-110
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2153
ID = 2153
pos = 110,-2
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -30
ontop = 0
ownpal = 1

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = -2+random%4,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = -2+random%4,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 110
value = 1407
ctrl = 1

[StateDef 1407]
type = S
anim = cond(facing = 1,1404,1405)
sprpriority = -30

[state 1000, 0]
type = BGpalfx
trigger1 = time = 0
add = -150,-150,-150
color = 0
time = 121
invertall = 0
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 120
Time = 1
color = 0+((time-120)*7.25)
add = -150+((time-120)*4.2857),-150+((time-120)*4.2857),-150+((time-120)*4.2857)
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 1 && timemod = 15,0
y = -vel y

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = 0,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = -2+random%4,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 1520]
type = Explod
ownpal = 1
trigger1 = timemod = 2,1
anim = F402
ID = 402
pos = -70+random%140,10-random%80
postype = p1  ;p2,front,back,left,right
vel = -2+random%4,-pi-2+random%5
facing = 1
name = "œwietliki"
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.08,0.08
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 130
trigger2 = root,alive = 0
trigger3 = DrawGame
trigger4 = Lose
trigger5 = LoseTime
trigger6 = Win
id = 2153

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 130
trigger2 = root,alive = 0
trigger3 = DrawGame
trigger4 = Lose
trigger5 = LoseTime
trigger6 = Win
id = 2154

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 155

;----------------------------------
;Reka shiki
[StateDef 1408]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1407
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1*(p2dist x/120),0.6+0.4*(p2dist x/120) 

[State 0, Trans]
type = Trans
trigger1 = 1 
trans = addalpha    ;none, add, addalpha, add1, sub
alpha = 256, 256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,9

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F8,9

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F5,32

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F5,32

[State 0, Helper]
type = Helper
trigger1 = time = 23
helpertype = normal
name = "Shiki Fujin: reka dusza"
stateno = 1410
ID = 1410
pos = 125*(p2dist x/120),0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.25
size.yscale = 0.25

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Shiki Fujin: reka efekt wyrwania"
stateno = 1413
ID = 1413
pos = 0,-15
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.25
size.yscale = 0.35

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 200

[StateDef 1410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1408
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 4
time = 1
pos = 125*(parent,p2dist x/120),0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 5
time = 1
pos = 75*(parent,p2dist x/120),0

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,animelem = 6
time = 1
pos = 25*(parent,p2dist x/120),0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 87
anim = 1410
ID = 1410
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 87
value = S7,2
channel = 10

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 87
value = S7,2
channel = 10

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 100
channel = 10

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 120


[StateDef 1411]
type = S
anim = 2000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = Destroyself
trigger1 = time = -1


[StateDef 1413]
type = S
anim = 2151
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 140*(parent,p2dist x/120),7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2151
ID = 1409
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 1
removetime = 20
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.35
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 20

;----------------------------------------------------------------------
;Kuchiyose toad z life
[StateDef 1500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
poweradd = -2500
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 7
trigger2 = time = 16
value = F17,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F3,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = F2,0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S6,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S6,1

[State 0, Helper]
type = Helper
trigger1 = time = 50 && numhelper(1501) = 0
helpertype = player
name = "toad"
stateno = 1501
ID = 1501
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.5952
size.yscale = 0.5952

[State 0, Helper] 
type = Helper 
trigger1 = time = 30 && numhelper(1076) = 0 
helpertype = normal
name = "pieczec kuchiyose" 
ID = 1076
stateno = 1076
pos = 0,3
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 10

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 45 && numhelper(1501) = 0
anim = F690
ID = 690
pos = 40,10
scale = 1.5,1.5
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 45 && numhelper(1501) = 0
anim = F690
ID = 690
pos = 40,5
scale = 1.5,0.5
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

[StateDef 1501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
poweradd = -1000
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = -1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 1502
ctrl = 1

[StateDef 1502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
poweradd = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S9,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[state 2062, obot]
type = turn
trigger1 = p2dist x < 0

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[state 0, zerowanie]
type = VarSet
trigger1 = time = 0
v = 5
value = 0

[State 0,losowanie]
type = VarRandom
trigger1 = time = 5
v = 5
range = 1,2

[State 0, ChangeState]
type = ChangeState
trigger1 = p2dist x > 40
trigger1 = var(5) = 1
value = 1503
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2dist x > 40
trigger1 = var(5) = 2
value = 1505
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2dist x <= 40
trigger1 = var(5) = 1
trigger2 = time = 50 && prevstateno = 1508
trigger3 = time = 50 && prevstateno = 1503
value = 1504
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root,stateno = [1200,1203]
value = 1509
ctrl = 1

[StateDef 1503]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1502
poweradd = 0
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F2,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 0, 2]
type = VelSet
trigger1 = 1
x = 1

[state 2062, obot]
type = turn
trigger1 = p2dist x < 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2dist x <= 40
value = 1502
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root,stateno = [1200,1203]
value = 1509
ctrl = 1

[StateDef 1504]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1503
poweradd = 0
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, NA
damage = 50,13
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0
sparkxy = -15, -10
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 1.5,0
airguard.velocity = 1.5,0
air.type = High
air.velocity = 1.5,0
air.hittime = 12
fall = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1508
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root,stateno = [1200,1203]
value = 1509
ctrl = 1

[StateDef 1505]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1504
poweradd = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = F12,0

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 0, Helper]
type = Helper
trigger1 = time = 17
helpertype = normal
name = "woda"
stateno = 1515
ID = 1515
pos = 38,-13
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 0.6
size.yscale = 0.4

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 17
anim = F240
ID = 240
pos = 15,-9
scale = 0.6,0.3
postype = p1
facing = 1
bindtime = -1
removetime = 24
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1502
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root,stateno = [1200,1203]
value = 1509
ctrl = 1

[StateDef 1515]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1508
poweradd = 0
sprpriority = 2

[State 0, Velset]
type = Velset
trigger1 = 1
x = 5

[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 120,33
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 20
sparkno = 240
sparkxy = -15, -10
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
fall = 1

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1507
ID = 1507
pos = -10,0
scale = 0.6,0.4
postype = p1
bindtime = -1
removetime = -1
sprpriority = 1
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
trigger2 = time = 50
id = 1507

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 2

[State 0, ChangeState]
type = Destroyself
trigger1 = movecontact
trigger2 = time = 60

[Statedef 1506]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1505
poweradd = 0
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[state 0,]
type = VarSet
trigger1 = time = 0
v = 16
value = var(16) + GetHitVar(damage)

[State 2064, 2]
type = ChangeState
trigger1 = var(16) < 600
trigger1 = animtime = 0
value = 1502

[State 2064, 3]
type = ChangeState
trigger1 = var(16) >= 600
trigger1 = animtime = 0
value = 1507

[Statedef 1507]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1506
poweradd = 0
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F690
ID = 690
pos = 0,0
scale = 1.5,1.5
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 6521, Trans]
type = Trans
trigger1 = Time > 0
trans = AddAlpha
alpha = ceil(fvar(20)),ceil(fvar(21))

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(20) = 250

[State 6521, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(21) = 6

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(20) > 0
fvar(20) = -20

[State 6521, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = fvar(21) < 256
fvar(21) = 20

[State 2064, 3]
type = Destroyself
trigger1 = time = 20

[StateDef 1508]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
poweradd = 0
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[state 2062, obot]
type = turn
trigger1 = p2dist x < 0

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1505
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 1502
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2life = 0
trigger2 = win
trigger3 = lose
trigger4 = drawgame
trigger5 = root,stateno = [1200,1203]
value = 1509
ctrl = 1

[Statedef 1509]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
poweradd = 0
sprpriority = 3

[State 3, smierc]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,NT,ST,HT
stateno = 1506
time = 1000000000000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = C,HP
time = 9999999999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = none

[State 0,]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F690
ID = 690
pos = 0,0
scale = 1.5,1.5
postype = p1
bindtime = 1
removetime = 15
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 5
pausemovetime = 9999

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,1

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,1

[State 2064, 3]
type = Destroyself
trigger1 = time = 10

;-------------
;Toad life
[Statedef 1510]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
sprpriority = -4
anim = 2000

[State 0,]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = 1510
ID = 1510
pos = 0,0
scale = 0.33,0.33
postype = p1
bindtime = -1
removetime = -1
sprpriority = -4
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = helper(1501),stateno = 1507
trigger2 = helper(1501),stateno = 1509
id = 1510

[State 0,]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = 1511
ID = 1511
pos = 0,0
scale = 0.33,0.33
postype = p1
bindtime = -1
removetime = -1
sprpriority = -4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = helper(1501),stateno = 1507 
trigger2 = helper(1501),stateno = 1509
id = 1511

[State 0,]
type = Explod
ownpal = 1
trigger1 = Timemod = 1,0
anim = 1512
ID = 1512
pos = 0,0
scale = ((helper(1501),var(16))/600.0)/3.11,0.33
postype = p1
bindtime = -1
removetime = 1
sprpriority = -4
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = helper(1501),stateno = 1507 
trigger2 = helper(1501),stateno = 1509
id = 1512

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
pos = 0,-50

[State 2064, 2]
type = destroyself
trigger1 = helper(1501),stateno = 1507 && helper(1501),time > 10
trigger2 = helper(1501),stateno = 1509 && helper(1501),time > 5

;---------------------------------------------------------------------
;Hiraishin: Dorai
[Statedef 1600]
type    = S
movetype= I
physics = N
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 11
trigger6 = animelem = 13
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S1,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S1,18

[State 400, Helper]
type = Helper
trigger1 = time = 10
ID = 1601
stateno = 1601
pos = 50,-50
postype = p1
helpertype = normal
name = "Hiraishin"
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 30
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 30
value = 0

[State 400, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
triggerall = time > 50
value = 0
ctrl = 1
;---------------------------------------------------------------------
;Hiraishin: Dorai
[Statedef 1601]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd = -400
ctrl = 0
velset = 0,0
anim = 1601
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1604
ID = 1604
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.03,0.1
sprpriority = 3
trans = addalpha
alpha = 0,256

[State 0, Explod]
type = ModifyExplod
trigger1 = time <= 20
anim = 1604
ID = 1604
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.03*(time/4),0.1*(time/4)
sprpriority = 3
trans = addalpha
alpha = 0+(time*12.5),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 20
scale = 0.03*(time/4),0.1*(time/4)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
scale = 0.15,0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F19,5

[State 400, end]
type = ChangeState
trigger1 = time = 20
value = 1602
;---------------------------------------------------------------------
;Hiraishin: Dorai
[Statedef 1602]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1602
sprpriority = 4

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
anim = 1604
ID = 1604
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.15,0.5
sprpriority = 3
trans = add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.15,0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
flag2 = noshadow

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 4


[State 200, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 64356436
sparkxy = -15, 346346
hitsound = 35, 456456
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,0
airguard.velocity = -10,0
air.type = High
air.velocity = -10,0
air.hittime = 12


[State 400, Helper]
type = Helper
trigger1 = time = 0
ID = 1605
stateno = 1605
pos = 0,0
postype = p1
helpertype = normal
name = "DEF"
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.back = 30
size.ground.front = -30
size.air.back = 30
size.air.front = 30
size.height = 125
size.head.pos = 0,0 
size.mid.pos = 0,0 

[State 400, end]
type = ChangeState
trigger1 = parent, stateno != 1600
value = 1603
;---------------------------------------------------------------------
;Hiraishin: Dorai
[Statedef 1603]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1603
sprpriority = 4

[State 0, Explod]
type = ModifyExplod
trigger1 = time <= 20
anim = 1604
ID = 1604
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.03*((20-time)/4),0.1*((20-time)/4)
sprpriority = 3
trans = addalpha
alpha = 0+((20-time)*12.5),256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
ID = 1604

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 20
scale = 0.03*((20-time)/4),0.1*((20-time)/4)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
scale = 0.03,0.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 400, end]
type = Destroyself
trigger1 = time = 20
;---------------------------------------------------------------------
;Hiraishin: Dorai
[Statedef 1605]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1605
sprpriority = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1605
time = 10
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 400, end]
type = Destroyself
trigger1 = parent, stateno != 1602



;---------------------------------------------------------------------
;=============================[ Effects ]=============================
;---------------------------------------------------------------------

;---------------------------------------------------------------------
;Efekty b³ysk
[Statedef 2000]
type    = S
movetype= I
physics = N
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2011
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -1
anim = F290
pos = 0,0
postype = p1  ;p2,front,back,left,right
scale = 2,2
sprpriority = 4
removetime = 12
ontop = 0
ownpal = 1
bindtime = 1

[State 20000, 4]
type = Destroyself
trigger1 = time > 10 && numexplod(2011) = 0

;---------------------------------------------------------------------
;Efekty teleport
[Statedef 2001]
type    = S
juggle  = 4
poweradd = 0
ctrl = 0
velset = 0,0
anim = 2000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = time < 10
trigger1 = timemod = 2,1
trigger2 = timemod = 7,1
trigger3 = timemod = 12,1
anim = 2010
ID = 2010
pos = (random%27-13)*1,-50-(random%27-13)*1
random = 30,30
vel = -0.01,-0.03
accel = 0,0.01
postype = p1
bindtime = 1
removetime = 27
supermovetime = 9999
pausemovetime = 9999
scale = 0.18,0.18
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2021
ID = 2021
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
name = "Blysk2"
angle = random
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0 && pos y > -1
anim = 2151
ID = 2151
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
name = "dym"
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 0.15,0.15
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0 && pos y > -1
anim = 2151
ID = 2151
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
name = "dym"
bindtime = 1
removetime = 20
pausemovetime = 999
scale = 0.15,0.15
sprpriority = 3
ontop = 0
ownpal = 1

[State 20000, 4]
type = Destroyself
trigger1 = time > 10 && numexplod(2010) = 0
;-----------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
poweradd = -100
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && numexplod(2011) < 4
ID = 2011
anim = 2010
pos = (random%27-13)*1,-25-(random%27-13)*0.8
random = 30,60
vel = -0.1,-0.3
accel = 0,0.01
postype = p1 
scale = 0.18,0.18
sprpriority = 2
removetime = 26
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && numexplod(2002) < 3
anim = 2001
ID = 2002
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 3
removetime = 18
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2001
ID = 2002
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 3
removetime = 18
facing = -1
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2 && numexplod(483) < 3
anim = F1
ID = 483
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 1,1
sprpriority = 2
removetime = 20
facing = 1
ontop = 0
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S8,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S8,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S1,13+random%2
volume = 255
channel = 2

[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100

[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y < 0
value = 50
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
;Impact Control (waiting)
[Statedef 106025]
type = S
movetype= A
physics = N
velset = 0,0
anim = 106025

;pozycjonowanie (dopasowaæ dla ka¿dej postaci)
[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 45+parent,var(6)/20,200
ignorehitpause = 1

;uogólnienie warunków kontroli
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 1   
value = parent, stateno

;moc 
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 6  
value = 100

;time
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 7  
value = 900

;wykrycie zderzenia
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

;przerwanie ciosu
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;---------------
;Impact Control (hit)
[Statedef 106026]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time =0
v = 6
value = -5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (trafienie)
[Statedef 106027]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 6
value = 5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (active) 
[Statedef 106028]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 36+parent,var(6)/30,250
ignorehitpause = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106026)=0
anim = 106026
ID = 106026
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.301,0.4
sprpriority = 49
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106027)=0
anim = 106027
ID = 106027
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,0.5
sprpriority = 48
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106027
scale=1.16-0.58*(100-var(6))/50,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106028)=0
anim = 106028
ID = 106028
pos = -190*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.5,0.32
sprpriority = 52
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106028
postype = front
facing = facing
vfacing = 1
pos= (-190-116*(100-var(6))/100)*facing,204

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106029)=0
anim = 106029
ID = 106029
pos = -315*facing,204
postype = front
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106030)=0
anim = 106030
ID = 106030
pos = -315*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,command = "x" || parent,command = "z"
trigger1 = parent,var(50) = 0
trigger2 = parent,var(50) = 1
trigger2 = random = [0,40+parent,var(49)*parent,var(49)/10]
;trigger1 = parent,Ailevel = 0
;trigger2 = parent,Ailevel != 0
;trigger2 = time%(14-parent,Ailevel)=(13-parent,Ailevel) || parent,Ailevel <=4
;trigger2 = time%10=9 || parent,Ailevel >4
triggerall = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106026
p1stateno = 106027

;hit
[State 811, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 10
trigger1 = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106026

;przerwanie
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;lose
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
trigger2 = var(6) < 100
value = 106029

;win
[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) >= 10
trigger2 = var(7) <= 0 
trigger2 = var(6) >= 100
value = 106030

;---------------
;Impact Control (lose) 
[Statedef 106029]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (win) 
[Statedef 106030]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (help state)
[Statedef 106031]
type = S
movetype= A
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028


;---------------------- Integer variable list ----------------------

; var(0):= 814, 816, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1104, 1110, 1111, 1310, 1311
; var(1):= 851, 106025
; var(2):= 70701, 70702
; var(3):= 6015, 1000, 77000, 78000, 77001, 78001
; var(4):= 961, 951, -2
; var(5):= 961, 952, 1502
; var(6):= 930, 940, 950, 952, 470, 480, 500, 510, 530, 540, 554, 606, 607, 750, 780, 1202, 1302, 106025, 106026, 106027
; var(7):= 1100, 106025, 106026, 106027, 106028
; var(8):= 503, 1100
; var(9):= 1100, 1300
;var(10):= 503, 77000, 78000, 77003
;var(11):= 204, 205
;var(12):= 1030
;var(13):= 1030
;var(14):= 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(16):= 1506
;var(18):= 70500
;var(19):= -2
;var(20):= 410, 412, 415, 417, 420, 430, 440, 450, 470, 480, 810, 1030, 1202, 1203, 5900, 70610, 77000, 78000, 77001, 78001, 104097, 104098
;var(21):= 5900
;var(22):= 5900
;var(23):= 5900
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(38):= 100041
;var(39):= 104099, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 814, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1104, 1110, 1111, 1310, 1311, 5900
; fvar(1):= 814, 816, 1009, 1010, 1011, 1012, 1013, 1014, 1015, 1020, 1021, 1022, 1023, 1024, 1025, 1026, 1110, 1111, 1310, 1311
; fvar(2):= 522
; fvar(3):= 1100, 1102
; fvar(4):= 961
; fvar(7):= 1314
; fvar(8):= 560
;fvar(10):= 930, 940, 500, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 961, 60
;fvar(14):= 961, 60
;fvar(15):= 961, 60
;fvar(20):= 1101, 1301, 1507
;fvar(21):= 1101, 1301, 1507




;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[statedef -2]

;Rasengan Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
id = 931

;--------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S1,15+random%12
volume = 256
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 998
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S1,29+random%33
volume = 256
channel = 2


[State 0, VarSet]
type = VarSet
trigger1 = stateno = 0
trigger2 = stateno = [10,12]
trigger3 = stateno = 52
v = 19
value = 0

[State 0, Explod]
type = RemoveExplod
trigger1 = stateno != [9335,9337]
trigger2 = stateno != [6015,6017]
triggerall = time = 0
ID = 675

;--------BLOKADY-------------------------------

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500
id = 502

;----------=======[ Hit Hiraishin ]=======----------
[state -2]
type = BGpalfx
trigger1 = var(3) > 0
add = -50,-50,-50
time = 1
invertall = 0
persistent = 1
ignorehitpause = 1

[State 0, Trans]
type = Trans
triggerall = helper(1001),stateno = 1002
trigger1 = helper(1001),time > 0 && helper(1001),time < 5
trans = addalpha
alpha = 256-(time*58),256 

[State 0, Trans]
type = Trans
triggerall = helper(1001),stateno = 1002
trigger1 = helper(1001),time > 6 && helper(1001),time < 13
trans = addalpha
alpha = 0,256 

[State 0, Trans]
type = Trans
triggerall = helper(1001),stateno = 1002
trigger1 = helper(1001),time > 14 && helper(1001),time < 19
trans = addalpha
alpha = 0+(time*36),256 

[State 0, Trans]
type = Trans
triggerall = helper(1001),stateno = 1002
trigger1 = helper(1001),time = 19
trans = none

[State 0, NotHitBy]
type = NotHitBy
triggerall = helper(1001),stateno = 1002
trigger1 = helper(1001),time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 19

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 4
value = cond(statetype = L, 1,0)


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = helper(1074),time = 2 && numexplod(2001) = 0
trigger2 = helper(1074),time = 28
anim = 2001
ID = 2001
pos = 0,-30
postype = p1  ;p2,front,back,left,right
scale = 0.5,0.5
sprpriority = 4
removetime = 18
supermovetime = 9999
pausemovetime = 9999
ontop = 0
ownpal = 1
bindtime = 1

[State 0, Trans]
type = Trans
triggerall = helper(1074),stateno = 1074
trigger1 = helper(1074),time > 0 && helper(1074),time < 5
trans = addalpha
alpha = 256-(time*58),256 

[State 0, Trans]
type = Trans
triggerall = helper(1074),stateno = 1074
trigger1 = helper(1074),time > 6 && helper(1074),time < 23
trans = addalpha
alpha = 0,256 

[State 0, Trans]
type = Trans
triggerall = helper(1074),stateno = 1074
trigger1 = helper(1074),time > 24 && helper(1074),time < 29
trans = addalpha
alpha = 0+(time*36),256 

[State 0, Trans]
type = Trans
triggerall = helper(1074),stateno = 1074
trigger1 = helper(1074),time = 29
trans = none

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(1501) = 1 && numhelper(1510) = 0
helpertype = normal 
name = "toad life"
stateno = 1510
ID = 1510
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999



;================Spis u¿ytych varsetów===============

; Var(2) - random dla kunai w powietrzu
; Var(3) - czas trwania Hit Hiraishin
; Var(4) - oznacznie dla Hit Hiraishin, gdy postaæ le¿y

; Var(6) - rasengan

; Var(7) - var z Ultimate 1
; Var(8) - var z Ultimate 1
; Var(9) - var z Ultimate 1

; Var(12) - parametr dla 10 kunai
; Var(13) - wysokoœæ dla 10 kunai


;-------------------------------------------------------------------------
;===================[ Liczniki, Okr¹g i Fatality ]========================
;-------------------------------------------------------------------------

[State -2, Arrow Down]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,4,2),cond(pos y = 0,-25,-32)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,4,2),cond(pos y = 0,-45,-52)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,14,12),cond(pos y = 0,-35,-42)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
ownpal = 1
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-6,-8),cond(pos y = 0,-35,-42)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okr¹g]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okr¹g"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wspólne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kl¹twa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
ownpal = 1
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------

;--------------------------------------------------
[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = prevstateno != 191+var(0)*10000 
triggerall = prevstateno != 192+var(0)*10000 
triggerall = prevstateno != 193+var(0)*10000 
triggerall = prevstateno != 194+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5

[State -3, Afterimage normal]
type = AfterImage
triggerall = numhelper(701) = 0 && numhelper(702) = 0
trigger1 = time = 0
time = 1

[State -3, Blysk]
type = AfterImage
triggerall = numhelper(701) = 1 || numhelper(702) = 1
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,80
palpostbright = 0,0,0
paladd = 5,5,3
palmul = .65,.65,.25
timegap = 1
framegap = 1
trans = add
