
[Data]
life = 3000
power = 4000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 3
guard.sparkno = 40
KO.echo = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 0.88
yscale = 0.88
ground.back = 15
ground.front = 15
air.back = 10
air.front = 10
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -50
mid.pos = 0, -30
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.6	
walk.back = -1.6		
run.fwd  = 8.2, 0		
run.back = -7,0	
jump.neu = 0,-8.9		
jump.back = -3.4		
jump.fwd = 3.4		
runjump.back = -2.75,-8.9
runjump.fwd = 6.0,-8.9	
airjump.neu = 0,-8.9	
airjump.back = -2.75	
airjump.fwd = 2.7

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,9
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S2,37
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 47
value = F31,0

[State 80]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 100,150,200
paladd = 20,30,40
palmul = 1,1,1
trans = add1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 47
anim = F380
ID = 24
pos = -15,2
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.6
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999



[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 170, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S


[State 180, 1]
type = ChangeState
trigger1 = Time = 0
;trigger1 = var(1) < 2
value = 181+random%2

;[State 180, 1]
;type = ChangeState
;trigger1 = Time = 0
;trigger1 = var(1) = 2
;value = 182

;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,38
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S2,27
channel = 2

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,45

[State 181, 1]
type = NotHitBy
trigger1 = time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 185]
type = S
anim = 185
sprpriority = 4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 4
value = time*20

[State -3]
type = AfterImage
trigger1 = time = 0
time = 40
length = 40
palcontrast = 100,150,200
paladd = 20,30,40
palmul = 1,1,1
trans = add1

[State 180, 1]
type = destroyself
trigger1 = animTime = 0

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S8,28+random%30
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = F8,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
value = S6,17

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Smiech 1
[Statedef 191]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 191
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = S4,23

[State 195, 2]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Smiech 2
[Statedef 192]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 192
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,27

[State 195, 2]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Smiech 3
[Statedef 193]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 193
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,28

[State 195, 2]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt 2
[Statedef 1921]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 192
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,28+random%30

[State 195, 2]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt 3
[Statedef 1931]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 193
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,28+random%30

[State 195, 2]
type = ChangeState
trigger1 = Time = 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Taunt 4
[Statedef 195]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 194
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,28+random%30
channel = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 185
stateno = 185
pos = -6,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 194]
type = S
ctrl = 1
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,28+random%30
channel = 2

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Schowanie Miecza 1
[Statedef 196]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 196
poweradd = 0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Schowanie Miecza 2
[Statedef 197]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 197
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Schowanie Miecza 3
[Statedef 198]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
anim = 198
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,17

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4


[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -25*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-3
airguard.velocity = -3,-3
air.type = High
air.velocity = -3,-3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Combo 1
[StateDef 203]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2031
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
fall = 1
fall.yvelocity = -5
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
;Finisher
[StateDef 204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 2041
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = 204
scale = 0.88,0.88
pos = -140,0
vel = 8,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F31,0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,120,120
palpostbright = 0,0,0
paladd = 5,5,5
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 0 && time < 10
anim = F20
ID = 20
pos = -10+random%20,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -2,0
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F676
ID = 24
pos = 15,4
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.25
vel = -1,0
sprpriority = 2
facing = -1
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 2
anim = F401
ID = 24
pos = 20,0
postype = p1  ;P2,front,back,left,right
scale = 0.7,0.7
vel = 0.1,0
sprpriority = 2
bindtime = 5
facing = -1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = time = [2,10]
x = 8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2dist x + 50

[State 0, Turn]
type = Turn
trigger1 = time = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,26
channel = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-32*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 30
sparkno = 0+random%4
sparkxy = -15, -32*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 35
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
fall = 1
fall.yvelocity = -5
air.hittime = 35
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
;Combo 1
[StateDef 205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,28
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = target, ishelper = 1
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -10*0.95-random%30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 35
ground.velocity = -12,-5
airguard.velocity = -12,-5
air.type = High
air.velocity = -12,-5
yaccel = 0.8
fall = 1
air.hittime = 35
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
trigger1 = target, ishelper = 0
attr = C, HP
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -10*0.95-random%30
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -12,-5
airguard.velocity = -12,-5
air.type = High
air.velocity = -12,-5
yaccel = 0.8
fall = 1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103004

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 192
ctrl = 1
;---------------
[Statedef 103004]
type = A
movetype = H
physics = N
anim = 5050+var(0)*10000

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
trigger1 = time >= 5
persistent = 0
anim = F60
ID = 24
pos = -20,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 1.2,1.2
sprpriority = 2
vel = 0,0
bindtime = 1
ownpal = 1
ontop = 0

[State 5100, 10]
type = PlaySnd
trigger1 = pos y >= 0
trigger1 = time >= 5
persistent = 0
value = F7,2

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -12
y = 3

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
trigger1 = time >= 5
persistent = 0
x = -12
y = -10

[State 1025, State]
type = ChangeState
trigger1 = vel y < 0
trigger1 = time >= 5
value = 109990
;-----------------
;Finisher
[StateDef 206]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 206
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 11
trigger4 = animelem = 14
x = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-25-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10206
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,44

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F8,0+random%4
channel = 8

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 7
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,3
airguard.velocity = -4,3
air.type = High
air.velocity = -4,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = F8,0+random%4
channel = 8

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 11
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 14
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
fall = 1
fall.yvelocity = -5
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 198
ctrl = 1
;-----------------
;Finisher
[StateDef 207]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 207
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && prevstateno = 275
value = 2071

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,27

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ama"
ID = 208
stateno =208
pos = 0,-35
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Amaterasu
[StateDef 208]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 208
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 200]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 100
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109961

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 4,0
anim = 209
ID = 208
pos = -10+random%20,-10+random%20
facing = -1
postype = p1
bindtime = 10
removetime = -2
scale = 0.09,0.09
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999
ownpal = 1
angle = time*20

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 5,1
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0,2
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -20 && time > 30
y = 2

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -20
y = 0

[State 0, end]
type = destroyself
trigger1 = time = 100
;-----------------
;Combo 2
[StateDef 210]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 10
value = 0

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-5
airguard.velocity = -1,-5
air.type = High
air.velocity = -1,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
;Combo 2
[StateDef 211]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-5
airguard.velocity = -2,-5
air.type = High
air.velocity = -2,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 2
[StateDef 212]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-4
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger1 = target, ishelper = 1
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
trigger1 = target, ishelper = 0
attr = C, HP
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 105502

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105502]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 8


[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1  

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 105503
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105503]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A  



[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
ctrl = 1
;-----------------
;Combo 2
[StateDef 213]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-7
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F820
id = 80007
pos = 0,-24
scale = 0.4,0.15
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "katon"
ID = 214
stateno = 214
pos = 0,-23
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 35
value = 50
ctrl = 1
;-----------------
[StateDef 214]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 214
poweradd = 0
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 213
time = 1
pos = 0,-25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 360-time*3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 0,20
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 1402
sparkxy = -15+random%15,20-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo 3
[StateDef 220]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10201
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
;Combo 3
[StateDef 221]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 221
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10211
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-50*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,3
airguard.velocity = -4,3
air.type = High
air.velocity = -4,3
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
;Combo 3
[StateDef 222]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 222
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10221
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-6
airguard.velocity = 0,-6
air.type = High
air.velocity = 0,-6
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 197
ctrl = 1
;-----------------
;Combo 3
[StateDef 223]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-5
ctrl = 0
anim = 223
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,18
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger1 = target, ishelper = 1
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = 0+random%4
sparkxy = -15, -20*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
trigger1 = target, ishelper = 0
attr = C, HP
damage = 30,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = 0+random%4
sparkxy = -15, -20
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 12
p2stateno = 105502
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Combo 4
[StateDef 230]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 230
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 231]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 231
poweradd = 20
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 232]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 232
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 0+random%4
sparkxy = -15, -20*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -5,6
airguard.velocity = -5,6
air.type = High
air.velocity = -5,6
air.hittime = 20
fall.yvelocity = -3
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 233]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 233
poweradd = 20
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(810) = 0
anim = F810
id = 810
pos = 13*0.95,-43*0.95
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 5,0
x = -1.5
y = -1

[State 0, Helper]
type = Helper
trigger1 = timemod = 5,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 14,-42
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Combo 5
[StateDef 240]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 240
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 241

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 241]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
anim = 241
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,12
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 12
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [12,20]
x = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95-random%10
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 4
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -45*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 8
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 4
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = -5,-1
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 50
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p1stateno = cond(var(1) = 2,1660,242)

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
[StateDef 242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 242
poweradd = -200
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S2,27
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0 &&  time > 5 && time < 60
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F11,7
channel = 11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 =0; movehit = 1 && p2movetype = H
anim = F1290
id = 1290
pos = 0,-40*0.95
scale = 1,1
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 40 
id = 1290

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F510
id = 510
pos = 29*0.95,-40*0.95
scale = 0.8*0.95,0.8*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 35
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F510
id = 510
pos = 29*0.95,-40*0.95
scale = 0.8*0.95,0.8*0.95
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = 35
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F1310
id = 1310
pos = 40*0.95,-40*0.95
scale = 2*0.95,0.5*0.95
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && time < 40
anim = 243
id = 243
pos = 27*0.95,-40*0.95
scale = fvar(10)*1.7*0.95, 0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 4
ownpal =1
removeongethit = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
trigger2 = time = 40
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2 
trigger1 = time < 30
fv = 10
value = 0.045

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 40
id = 1270


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time = [5,40]
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 4
sparkxy = -15, -35*0.95
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 25
fall = 1
envshake.time = 60
envshake.ampl = 5
envshake.freq = 60
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 192
ctrl = 1
;-----------------
[StateDef 245]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 245
poweradd = -200
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0 && time > 5
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,7
channel = 11

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 40 
id = 1280

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F510
id = 246
pos = 26*0.95,-51*0.95
scale = 0.8*0.95,0.8*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = 35

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F1310
id = 246
pos = 26*0.95,-51*0.95
scale = 2*0.95,0.5*0.95
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = 35

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 
anim = 246
id = 246
pos = 26*0.95,-51*0.95
scale = 0.9*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 4
ownpal =1
removeongethit = 1
angle = 35

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 
anim = 246
id = 246
pos = 26*0.95,-51*0.95
scale = 1.4*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
sprpriority = -1
ownpal =1
removeongethit = 1
angle = 35

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
pos = 100*0.95,-75*0.95

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = 100*0.95,-105*0.95
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 40
id = 1270

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time = [5,40]
attr = S, NA
damage = 10,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 4
sparkxy = -15, -35*0.95
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -3
airguard.velocity = -3,-.8
air.type = High
air.velocity = -3,-2
air.hittime = 25
fall = 1
envshake.time = 60
envshake.ampl = 5
envshake.freq = 60
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 192
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0 && movehit
value = 247
ctrl = 1
;-----------------
[StateDef 247]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 247
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,28
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,28
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,7
channel = 11

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 40 
id = 1280

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F510
id = 247
pos = 3*0.95,-40*0.95
scale = 0.8*0.95,0.8*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 10
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = 50

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 246
id = 247
pos = 3*0.95,-40*0.95
scale = 0.9*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 10
supermovetime = 99999
pausemovetime = 99999
sprpriority = -1
ownpal =1
removeongethit = 1
angle = 50

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 246
id = 247
pos = 3*0.95,-40*0.95
scale = 1.4*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 10
supermovetime = 99999
pausemovetime = 99999
sprpriority = -1
ownpal =1
removeongethit = 1
angle = 50

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F510
id = 247
pos = 31*0.95,-36*0.95
scale = 0.8*0.95,0.8*0.95
postype = p1
facing = 1
bindtime = -1
removetime = 10
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10 
anim = 246
id = 247
pos = 31*0.95,-36*0.95
scale = 0.9*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
sprpriority = 4
ownpal =1
removeongethit = 1
angle = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10 
anim = 246
id = 247
pos = 31*0.95,-36*0.95
scale = 1.4*0.95,0.3*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999
pausemovetime = 99999
sprpriority = -1
ownpal =1
removeongethit = 1
angle = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = F1310
id = 247
pos = 45*0.95,-31*0.95
scale = 2*0.95,0.5*0.95
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
angle = -20


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = F11,11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 13
anim = 343
id = 343
pos = 160*0.95,10*0.95
scale = 0.3*0.95,0.3*0.95
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F12
angle = -25+random%50
pos = 140*0.95,-40*0.95
scale = 1.3*0.95,1.3*0.95
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 40
id = 1270

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 75,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 4
sparkxy = -15, -35*0.95
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -3,8
airguard.velocity = -3,8
air.type = High
air.velocity = -3,8
air.hittime = 25
fall = 1
envshake.time = 60
envshake.ampl = 5
envshake.freq = 60
fall.yvelocity = -8
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 193
ctrl = 1
;-----------------
;Combo 6
[StateDef 250]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 250
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 251]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 251
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -44*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 252]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 252
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 253]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 253
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -27*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,cond(var(1)=2,-8,-5)
airguard.velocity = -6,cond(var(1)=2,-8,-5)
air.type = High
air.velocity = -6,cond(var(1)=2,-8,-5)
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 254]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 254
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 6
anim = F810
id = 80006
pos = 18*0.88,-47*0.88
scale = 0.33,0.5
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,13
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "katon"
ID = 255
stateno = 255
pos = 18*0.88,-47*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 192
ctrl = 1
;-----------------
;Katon
[StateDef 255]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 255
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 0.5,0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F730
ID = 750
pos = -5,0
postype = p1
bindtime = 10
vel = 3,0
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = .7,.7
sprpriority = 4
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0
time = 10
freq = 10
ampl = 1
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 10
range = -120,100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 4
x = 0+time*1
y = 0-time*0.1+var(10)/100.0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4
x = 8
y = -0.5+var(10)/100.0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 811, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 1
sparkno = 1400
sparkxy = -15, 0
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-3
airguard.velocity = -7,-3
air.type = High
air.velocity = -7,-3
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
fall = 1

[State 811, end]
type = changestate
trigger1 = time = 50
trigger2 = time > 5 && movehit = 1
value = 256

[State 811, end]
type = changestate
trigger1 = pos y > 0
value = 256
;-----------------
;Katon
[StateDef 256]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 256
poweradd = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 10,0
scale = 0.7,0.7
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 10,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 75,15
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 15
sparkno = 1400
sparkxy = -5-random%20, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 811, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Combo 7
[StateDef 260]
type = C
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 260
poweradd = 20
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 10
value = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-5
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-5
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------
[StateDef 261]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-6
ctrl = 0
anim = 261
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10261
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,18
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-45*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 262]
type = A
movetype= A
physics = S
juggle  = 1
velset = 1,-4
ctrl = 0
anim = 262
poweradd = 20
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = target, ishelper = 1
attr = S, NA
damage = 2,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2464
sparkxy = -15, -35
hitsound = S25, 654
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = target, ishelper = 0
attr = C, HP
damage = 2,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2464
sparkxy = -15, -35
hitsound = S25, 654
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103000

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
time = 1
pos = 5,-60*0.95

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, end]
type = ChangeState
trigger1 = pos y >= -1
value = 263
ctrl = 1
;-----------------
[StateDef 2621]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 2621
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time 
attr = C, HP
damage = 2,2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 2464
sparkxy = -15, -35
hitsound = S25, 654
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 262

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Mini Raiga
[StateDef 103000]
type = A
movetype= H
physics = S
juggle  = 1
anim = 5000+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 180

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 5100
ctrl = 1
;-----------------
[StateDef 263]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 263
poweradd = 20
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = 0;movehit 
time = 1
pos = 20,-45

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
trigger1 = target, ishelper = 1
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 6436743
sparkxy = -15, -55
hitsound = 5, 7653765
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,10
airguard.velocity = 0,10
air.type = High
air.velocity = 0,10
air.hittime = 12
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 0
trigger1 = target, ishelper = 0
p2stateno = 103001
attr = C, HP
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 6436743
sparkxy = -15, -55
hitsound = 5, 7653765
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,10
airguard.velocity = 0,10
air.type = High
air.velocity = 0,10
air.hittime = 12
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
time = 1
pos = 5,-50

[State 0, end]
type = ChangeState
trigger1 = time = 20
value = 105
ctrl = 1
;-----------------
;Mini Raiga
[StateDef 103001]
type = A
movetype= H
physics = S
juggle  = 1
anim = 5000+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5000 + var(0)*10000

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 180

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F62
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F540
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
persistent = 0
anim = F550
pos = 0,-pos y
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = time = 1
value = 103002
ctrl = 1
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 103002]
type = A
movetype= H
physics = A
juggle  = 1
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A 

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
ctrl = 1
;-----------------
;Cut
[StateDef 265]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 265
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 15
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
p1stateno = 266

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 198
ctrl = 1
;-----------------
;Cut
[StateDef 266]
type = S
movetype= A
physics = S
juggle  = 1
velset = 15,0
ctrl = 0
anim = 266
poweradd = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 25
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y > -5
anim = F676
ID = 24
pos = 10,5
postype = p1  ;P2,front,back,left,right
scale = 0.4,0.4
vel = -1,0
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F31,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,12
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2010
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
scale = 1.4,1.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2017
pos = -10,-35
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 50,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 0+random%4
sparkxy = -15, -30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -2,0
air.type = High
air.velocity = -2,0
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -8
envshake.phase = 10
fall = 1
fall.yvelocity = -6

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1

;-----------------
;combo 8
[StateDef 270]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 270
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10270
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
fall = 1
fall.yvelocity = -5
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 196
ctrl = 1
;-----------------
[StateDef 271]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 271
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10271
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
fall = 1
air.hittime = 25
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 197
ctrl = 1
;-----------------
[StateDef 272]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-5
ctrl = 0
anim = 272
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10261
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-45*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -45*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 273]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 273
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10273
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 20
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -2,7
airguard.velocity = -2,7
air.type = High
air.velocity = -2,7
air.hittime = 15
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 274]
type = A
movetype= A
physics = S
juggle  = 1
velset = 3,2
ctrl = 0
anim = 274
poweradd = 20
sprpriority = 2

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 1
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 0+random%4
sparkxy = -15, -35
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -1,4
airguard.velocity = -1,4
air.type = High
air.velocity = -1,4
air.hittime = 15
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = pos y >= -1
value = 275
ctrl = 1
;-----------------
[StateDef 275]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 275
poweradd = 20
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 0 && timemod = 8,0 && time < 15
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 0 && timemod = 8,2 && time < 15
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,5
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,7
channel = 11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1380
id = 1380
pos = -5,0
scale = 0.9,0.9
postype = p1
facing = -1
bindtime = -1
removetime = 20
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1380
id = 1380
pos = 25,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = 20
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F520
id = 520
pos = 10,0
scale = 1.5,1.8
postype = p1
facing = -1
bindtime = -1
removetime = 20
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F520
id = 520
pos = 10,0
scale = 1,1
postype = p1
facing = -1
bindtime = -1
removetime = 20
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1310
id = 1310
pos = 0,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 10,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 4
sparkxy = -15, -35
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -2,-4
airguard.velocity = -2,-4
air.type = High
air.velocity = -2,-4
air.hittime = 25
fall = 1
y.accel = 0.2
envshake.time = 10
envshake.ampl = 40
envshake.freq = 60
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = ChangeState
trigger1 = time = 20
value = 196
ctrl = 1
;-----------------
;Susanoo Combo 1
[StateDef 276]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 276
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10276
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal;player
name = "Susano"
ID = 2500
stateno =  2510
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo Combo 2
[StateDef 277]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 277
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal;player
name = "Susano"
ID = 2500
stateno =  2520
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo Combo 3
[StateDef 278]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 278
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal;player
name = "Susano"
ID = 2500
stateno =  2530
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo Combo 4
[StateDef 279]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 279
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(2500) = 0
helpertype = normal;player
name = "Susano"
ID = 2500
stateno =  2540
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
[StateDef 280]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 280
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10280
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,0
airguard.velocity = -3,0
air.type = High
air.velocity = -3,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 281]
type = A
movetype= A
physics = A
juggle  = 1
velset = 2,-2
ctrl = 0
anim = 281
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10281
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = random
pos = -15,-50*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,3
airguard.velocity = -4,3
air.type = High
air.velocity = -4,3
air.hittime = 12

envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 282]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 282
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10282
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 3
attr = S, NA
damage = 40,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-6
airguard.velocity = -4,-6
air.type = High
air.velocity = -4,-6
air.hittime = 12

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 283]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-4
ctrl = 0
anim = 283
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = target, ishelper = 1
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 0
sparkno = 0+random%4
sparkxy = -15, -25*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-4
airguard.velocity = -10,-4
air.type = High
air.velocity = -10,-4
air.hittime = 12
fall = 1

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = target, ishelper = 0
trigger1 = AnimElem = 3
attr = C, HP
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 0
sparkno = 0+random%4
sparkxy = -15, -25*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-4
airguard.velocity = -10,-4
air.type = High
air.velocity = -10,-4
air.hittime = 12
fall = 1
p2stateno = 109990

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Bansho
[StateDef 284]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 284
poweradd = 20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2841
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = F1070
scale = 0.25,0.8
pos = 45*0.88,-45*0.88
vel = -1,0
;angle = -15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 3
anim = F676
scale = 0.5,0.5
pos = 145,15
vel = -3,0
;angle = -15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%25
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
triggerall = var(11) < 119
trigger1 = !ishelper
v = 11
value = 119

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 2
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
sparkno = 35675637
sparkxy = -15, -52
hitsound = 14, 6
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 5,-1
airguard.velocity = 5,-1
air.type = High
air.velocity = 5,-1
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, End]
type = ChangeState
trigger1 = movehit && p2bodydist x < 40
value = 241
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Amaterasu Sword 1
[StateDef 285]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 285
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Plomien"
ID = 285
stateno = 2851
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 0.88
size.yscale = 0.88

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Plomien
[StateDef 2851]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2851
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 100]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 50
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109960

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 285 
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 518
pos = 40*0.88+random%35,-25*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 518
pos = 40*0.88+random%35,-25*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 518
pos = 40*0.88+random%35,-25*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 518
pos = 40*0.88+random%35,-25*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 518
pos = 40*0.88+random%35,-25*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-1
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, end]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------
;Amaterasu Sword 2
[StateDef 286]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 286
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Plomien"
ID = 286
stateno = 2861
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 0.88
size.yscale = 0.88

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Plomien
[StateDef 2861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2861
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 100]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 50
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109960

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 286 
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 518
pos = 20*0.88+random%25,5*0.88-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 518
pos = 20*0.88+random%25,5*0.88-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 518
pos = 20*0.88+random%25,5*0.88-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 518
pos = 20*0.88+random%25,5*0.88-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 518
pos = 20*0.88+random%25,5*0.88-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,4
airguard.velocity = -3,4
air.type = High
air.velocity = -3,4
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, end]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------
;Amaterasu Sword 3
[StateDef 287]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 287
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Plomien"
ID = 287
stateno = 2871
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 0.88
size.yscale = 0.88

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time > 6 && helper(287), movehit
value = 291
ctrl = 1
;-----------------
;Plomien
[StateDef 2871]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2871
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 100]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 50
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109960

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 287 
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 518
pos = 40*0.88+random%40,-35*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 518
pos = 40*0.88+random%40,-35*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 518
pos = 40*0.88+random%40,-35*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 518
pos = 40*0.88+random%40,-35*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 518
pos = 40*0.88+random%40,-35*0.88-random%20
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0+random%1,0-random%1
accel = 0,0.01
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, 0
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-2
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, end]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------
;Chidori Nagashi Finisher
[StateDef 288]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 289
stateno = 289
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 10
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,2
channel = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F11,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F11,4

[State 0, end]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Chidori Nagashi
[StateDef 289]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301
poweradd = 0
sprpriority = 2

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1410) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1410) = 0
anim = F1410
id = 1410
pos = 7,-30
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.35,1.35
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 288
id = 1410

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(510) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(510) = 0
anim = F510
id = 510
pos = 5,-40
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(511) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(511) = 0
anim = F510
id = 511
pos = 5,-40
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 288
id = 510

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 288
id = 511

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1380) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1380) = 0
anim = F1380
id = 1380
pos = -20,0
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1381) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1381) = 0
anim = F1380
id = 1381
pos = 20,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 288
id = 1380

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 288
id = 1381

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,1
anim = F470
id = 470
pos = -15+random%25,-15-random%40
postype = p1
facing = 1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.3,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 288
;-----------------
[StateDef 290]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 290
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-7
airguard.velocity = -4,-7
air.type = High
air.velocity = -4,-7
air.hittime = 12
p1stateno = 291
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
[StateDef 291]
type = A
movetype= A
physics = A
juggle  = 1
velset = 7,-7
ctrl = 0
anim = 291
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && vel x = 0
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -40*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
p1stateno = 292
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 292]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 292
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
p1stateno = 293
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10
fall = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 293]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-3
ctrl = 0
anim = 293
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 35
sparkno = 0+random%4
sparkxy = -15, -30*0.95
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 50
ground.velocity = -2,15
airguard.velocity = -2,15
air.type = High
air.velocity = -2,15
air.hittime = 50
fall = 1
p1stateno = 294
envshake.time = 50
envshake.ampl = 5
envshake.freq = 50

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 294]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 294
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 00
anim = 295
ID = 295
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x+20

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0

[State 310, 2]
type = Explod
trigger1 = time = 0
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 310, 2]
type = Explod
trigger1 = time =1
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F9,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,16
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,16
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S2,24
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
channel = 8

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 60
time = 10
freq = 60
ampl = 6
phase = 60

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time = [5,55]
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 15
v = 3
value = 10+(time-5);0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 15
v = 3
value = 20

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal;player
name = "Chidori"
ID = 950
stateno = 950
pos = 18*0.88,-66*0.88
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0 && time = [5,55]
trigger1 = target, ishelper = 1
attr = S, NA
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -66*0.88
hitsound = F11,3
guardsound = F11,3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.ampl = 10
envshake.freq = 60
palfx.time = 40
fall = 1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 10,0 && time = [5,55]
trigger1 = target, ishelper = 0
attr = C, HP
p2stateno = 103010
damage = 25,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 4
sparkxy = -15, -66*0.88
hitsound = F11,3
guardsound = F11,3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.ampl = 10
envshake.freq = 60
palfx.time = 40
fall = 1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
trigger1 = time = [5,55]
time = 2
pos = 16,-56*0.88

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = time >= 57
persistent = 0
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -66*0.88
hitsound = F11,8
guardsound = F11,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-8
airguard.velocity = -3,-8
air.type = High
air.velocity = -3,-8
air.hittime = 12
envshake.time = 10
envshake.ampl = 10
envshake.freq = 60
palfx.time = 40
fall = 1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 193
ctrl = 1
;-----------------
[StateDef 103010]
type = S
movetype= H
physics = S
ctrl = 0
anim = 5070+var(0)*10000
poweradd = 0
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5070+var(0)*10000

[State 0, SelfState]
type = SelfState
trigger1 = time = 50
value = 5050
;-----------------
[StateDef 296]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-2
ctrl = 0
anim = 296
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%2
angle = -25+random%50
pos = -15,-30*0.95-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10280
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && prevstateno != 296
value = S2,15
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(5) > 6
value = 1

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = var(5) < 10
attr = S, NA
damage = 15,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 10+random%2
sparkxy = -15, -30*0.95-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-4
airguard.velocity = 0,-4
air.type = High
air.velocity = 0,-4
air.hittime = 10
fall = 1
p1stateno = 296
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10


[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = var(5) >= 10
attr = S, NA
damage = 15,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -30*0.95-random%30
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 10
fall = 1
p1stateno = 297
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 296 && time = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = prevstateno = 296 && time = 0
x = p2bodydist x +50
y = p2bodydist y -10

[State 0, VarSet]
type = VarSet
trigger1 = prevstateno != 296
v = 5
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time = 0
v = 5
value = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 297]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-2
ctrl = 0
anim = 297
poweradd = 20
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = time > 5 && movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 3
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10297
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,28
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15*0.95,-35*0.95
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.3,1.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 2
attr = S, NA
damage = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 0+random%4
sparkxy = -15, -35*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-7
airguard.velocity = -3,-7
air.type = High
air.velocity = -3,-7
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F24,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,2
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = F8,0+random%4
channel = 8

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 6
trigger1 = target, ishelper = 1
attr = S, NA
damage = 60,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,15
airguard.velocity = -4,15
air.type = High
air.velocity = -4,15
air.hittime = 12
fall = 1
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = animelem = 6
trigger1 = target, ishelper = 0
attr = C, HP
damage = 60,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -50*0.95
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,15
airguard.velocity = -4,15
air.type = High
air.velocity = -4,15
air.hittime = 12
fall = 1
envshake.time = 60
envshake.ampl = 6
envshake.freq = 60
p2stateno = 105502

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
[StateDef 298]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 298
poweradd = 0
sprpriority = 2


[State 0, Helper]
type = Helper
trigger1 = time > 115 && movehit = 1
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 10298
ID = 298
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = 10299
scale = 0.5,0.5
pos = 9,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1
removeongethit = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,0
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S2,28
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F24,0+random%5
channel = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 11
value = F8,0+random%4
channel = 8

[State -3]
type = AfterImage
trigger1 = time%5 = 0
trigger1 = time = [0,120]
time = 10
length = 15
palcontrast = 100,150,200
paladd = 20,30,40
palmul = 1,1,1
trans = add1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F10+random%3
angle = -25+random%50
pos = -30+random%30,-10-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
scale = 0.7,0.7
angle = time*5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time > 100
value = 1

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 8,3
getpower = -20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 35
sparkno = 0+random%4
sparkxy = -20+random%20,-20-random%20
hitsound = 24, 10+random%4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = 0,-1
airguard.velocity = 0,-3
air.type = High
air.velocity = 0,-3
air.hittime = 30
fall = 1
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, VelAdd]
type = VelAdd
trigger1 = movehit = 1
x = 1

[State 0, end]
type = ChangeState
trigger1 = time > 13 && movecontact = 0
trigger2 = Time > 13 && p2bodydist x > 70
trigger3 = Time > 13 && p2bodydist x < -20
;trigger5 = Time > 13 && command = "holdback"
value = 197
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = Time = 120
value = 265
ctrl = 1

;-----------------
[StateDef 299]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 299
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,17

[State 0, 1]
type = HitDef
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 20,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 25
sparkno = 0+random%4
sparkxy = -15, -40
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 25
p1stateno = 298
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;Chidori Nagashi
[StateDef 300]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = -500
sprpriority = 2

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0 && prevstateno = [200,299]
time = 10
anim = 103
sound = S19,0
pos = -12,-42
movetime = 10
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 301
stateno = 301
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 10
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 20
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F11,4

[State 0, end]
type = ChangeState
trigger1 = time > 30 && var(50) = 0 && command != "hold_z"
trigger2 = power = 0
trigger3 = time > 30 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x != [-80,80]
trigger10 = time > 30 && var(50) = 1 && p2bodydist y != [-80,80]
value = 0
ctrl = 1
;-----------------
;Chidori Nagashi
[StateDef 301]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 30-time/20,10-time/30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1410) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1410) = 0
anim = F1410
id = 1410
pos = 7,-30
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.35,1.35
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 300
id = 1410

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(510) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(510) = 0
anim = F510
id = 510
pos = 5,-40
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(511) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(511) = 0
anim = F510
id = 511
pos = 5,-40
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 300
id = 510

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 300
id = 511

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1380) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1380) = 0
anim = F1380
id = 1380
pos = -20,0
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1381) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1381) = 0
anim = F1380
id = 1381
pos = 20,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 300
id = 1380

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 300
id = 1381

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,1
anim = F470
id = 470
pos = -15+random%25,-15-random%40
postype = p1
facing = 1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.3,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 300
;---------------------------------------------------------------------------
;Kontratak
[Statedef 305]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 305
sprpriority = 2
poweradd = -100
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,27
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,27
channel = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 10
value = 0

[State 0, HitOverride]
type = HitOverride
Trigger1 = AnimElem = 3,>0
trigger1 = animelem = 11,<0
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
slot = 0
stateno = 306
time = 1
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 15
Time = 10
color = 0+((time-15)*4.75)
add = -81+((time-15)*1.5),-81+((time-15)*1.5),-81+((time-15)*1.5)
ignorehitpause = 1

[State 195, 2]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1
;-----------------
;Chidori Nagashi
[StateDef 306]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = -400
sprpriority = 2

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 307
stateno = 307
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 10
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F11,4

[State 0, end]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------
;Chidori Nagashi
[StateDef 307]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 301
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 80,80
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1410) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1410) = 0
anim = F1410
id = 1410
pos = 7,-30
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.35,1.35
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 306
id = 1410

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(510) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(510) = 0
anim = F510
id = 510
pos = 5,-40
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(511) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(511) = 0
anim = F510
id = 511
pos = 5,-40
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 306
id = 510

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 306
id = 511

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1380) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1380) = 0
anim = F1380
id = 1380
pos = -20,0
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1381) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1381) = 0
anim = F1380
id = 1381
pos = 20,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1,1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 306
id = 1380

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 306
id = 1381

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 5,1
anim = F470
id = 470
pos = -15+random%25,-15-random%40
postype = p1
facing = 1
bindtime = 1
removetime = 40
sprpriority = 3
scale = 0.3,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 306
;-----------------
;Chidori Nagashi
[StateDef 310]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = -500
sprpriority = 2

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 30
statetype = A
movetype = A
physics = A

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0 && prevstateno = [200,299]
time = 10
anim = 103
sound = S19,0
pos = -12,-42
movetime = 10
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 311
stateno = 311
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999


[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 10
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 20
value = -10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,28
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,2
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F11,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F11,4

[State 0, end]
type = ChangeState
trigger1 = time = 50
trigger2 = power = 0
value = 50
ctrl = 1
;-----------------
;Chidori Nagashi
[StateDef 311]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 311
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 30-time/20,10-time/30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 4
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,-4
airguard.velocity = -4,-.8
air.type = High
air.velocity = -4,-4
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(1410) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(1410) = 0
anim = F1410
id = 1410
pos = 7,-30
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.35,1.35
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 310
id = 1410

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(510) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(510) = 0
anim = F510
id = 510
pos = 5,-40
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && numexplod(511) = 0
trigger2 = time > 5 && timemod = 5,1 && numexplod(511) = 0
anim = F510
id = 511
pos = 5,-40
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
scale = 1.7,1.7
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 310
id = 510

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 310
id = 511

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 310
;-----------------
;Chidori Koken
[StateDef 320]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 0
sprpriority = 2

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Helper]
type = Helper
triggerall = time = 0
trigger1 = partner,numhelper(4401) = 0
trigger1 = enemy(0),numhelper(4401) = 0
trigger1 = enemy(1),numhelper(4401) = 0
helpertype = normal
ID = 325
stateno = 325
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 400, Helper]
type = Helper
triggerall = time = 0
trigger1 = partner,numhelper(4401) = 1
trigger2 = enemy(0),numhelper(4401) = 1
trigger3 = enemy(1),numhelper(4401) = 1
ID = 321
pos = 0,0
postype = p1
stateno = 321
helpertype = normal
name = "Suiton"
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 5
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,14
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,14
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,28
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S2,28
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F11,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F11,4

[State 0, end]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

;------------------
[Statedef 321]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 321
poweradd = 0
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(53) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109932

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-3

[State 0, PlaySnd]
type = PlaySnd
triggerall = p2statetype = S
trigger1 = time = 1
trigger2 = time = 30
value = S8000,4

[State 0, Helper]
type = Helper
trigger1 = movecontact
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 4,1
time = 5
freq = 50
ampl = 5
phase = 60

[State 1533, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 10
attr = S, NA
damage = root,var(3)*1.25*2.4,root,var(3)*0.6*2.4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 60
sparkno = 1420+random%3
sparkxy = -10-random%10, -10-random%30
hitsound = 11, 3
guardsound = 11, 3
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.velocity = 0,0
air.hittime = 0
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1
givepower = 0
getpower = 0

[State 0, End]
type = destroyself
trigger1 = parent, stateno != 320

;-----------------
;Chidori Koken
[StateDef 325]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 325
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 8
attr = S, NA
damage = root,var(3)*1.25*1.86,root,var(3)*0.6*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420+random%3
sparkxy = -10-random%10, -10-random%30
hitsound = 11, 3
guardsound = 11, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4,0
airguard.velocity = -4,0
air.type = High
air.velocity = -4,0
air.hittime = 12
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320
time = 1
pos = 30,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 18,0
trigger1 = parent, stateno = 320
anim = F520
id = 520
pos = 0,0
scale = 1,0.35
postype = p1
facing = 1
vfacing = -1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 20,0
trigger1 = parent, stateno = 320
anim = F1410
id = 1410
pos = 0,4
scale = 1,0.25
postype = p1
facing = 1
vfacing = -1
bindtime = 30
removetime = 30
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 5,1
trigger1 = parent, stateno = 320
anim = F470
id = 470
pos = 0+random%10+time*1.5,15-random%20
postype = p1
facing = 1
bindtime = 1
removetime = 44
sprpriority = 5
removeongethit = 1
scale = 0.6,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 5,1
trigger1 = parent, stateno = 320
anim = F470
id = 470
pos = 0-random%10-time*1.5,15-random%20
postype = p1
facing = 1
bindtime = 1
removetime = 44
sprpriority = 5
removeongethit = 1
scale = 0.6,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 10 && timemod = 25,0
trigger1 = parent, stateno = 320
anim = F1380
id = 1380
pos = 0,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.6,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(326) = 0
anim = F1360
trigger1 = parent, stateno = 320
id = 326
pos = 0,0
scale = var(3)/20,0.1
postype = p1
facing = 1
bindtime = 1
removetime = 12
sprpriority = -1
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(327) = 0
trigger1 = parent, stateno = 320
anim = F1360
id = 327
pos = 0,0
scale = var(3)/20,0.1
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = 12
sprpriority = -1
removeongethit = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 3
value = 18

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 320
triggerall = numexplod(1410) = 0
;-----------------
;Chidori Senbon
[StateDef 330]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 2

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -4
y = cond(pos y > -5,-4,-2)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = A

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0 && time > 4
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,15
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,15
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F11,5

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger1 = var(3) >= 10
trigger2 = time = 6
trigger2 = var(3) >= 10
trigger3 = time = 7
trigger3 = var(3) >= 10
trigger4 = time = 8
trigger4 = var(3) >= 10
trigger5 = time = 9
trigger5 = var(3) >= 15
trigger6 = time = 10
trigger6 = var(3) >= 15
trigger7 = time = 11
trigger7 = var(3) >= 15
trigger8 = time = 12
trigger8 = var(3) >= 20
trigger9 = time = 13
trigger9 = var(3) >= 20
trigger10 = time = 14
trigger10 = var(3) >= 25
trigger11 = time = 15
trigger11 = var(3) >= 30
trigger12 = time = 16
trigger12 = var(3) >= 35
trigger13 = time = 17
trigger13 = var(3) >= 40
helpertype = normal
name = "senbon"
ID = 335
stateno = 335
pos = 5,-25-random%10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.05
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Chidori Senbon
[StateDef 335]
type = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 335
poweradd = -50
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109920

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 70+random%40

[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 11
value = 20-random%50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = var(10)/8
y = var(11)/8

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1 && pos y < 0
x = -0.05
y = 0.05

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 4
sparkxy = -15, 0
hitsound = 11, 7
guardsound = 11, 7
ground.type = High
ground.slidetime = 5
ground.hittime  = 60
ground.velocity = -3,0
airguard.velocity = -2,-1
air.type = High
air.velocity = -3,-2
air.hittime = 60
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2001
id = 2001
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 1 && random = [0,9]
anim = F470
id = 470
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
removeongethit = 1
scale = 0.35,0.25
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = time > 50
trans = addalpha
alpha = 256-(time-50)*10,256

[State 0, end]
type = Destroyself
trigger1 = frontedgebodydist < -50
trigger2 = time = 75
;-----------------
;Chidori Eiso
[StateDef 340]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 340
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,21
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "miecz"
ID = 345
stateno = 345
pos = 29,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 0.5
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = Time = 65
value = 937
ctrl = 1
;-----------------
;Chidori Kouken Throw
[StateDef 341]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 341
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && pos y >= -5
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
ownpal = 1
trigger1 = time = 5 && pos y >= -5
anim = F360
pos = 0,-pos y
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 341 && time = 0 && pos y != 0
value = 3412

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
trigger1 = anim != 3411
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && pos y < 0
trigger1 = anim != 3411 
x = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 3411 && time > 10 && pos y >= -5
value = 3411

[State 0, Gravity]
type = Gravity
trigger1 = time > 5
trigger1 = anim != 3411 

[State 0, PosSet]
type = PosSet
trigger1 = time > 10 && pos y >= 0
trigger2 = anim = 3411
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3411
persistent = 0
value = F4,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = anim = 3411
persistent = 0
anim = F290
ID = 23
pos = -1,3
postype = p1  ;p2,front,back,left,right
scale = 1.8,1.5
sprpriority = 2
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3411
persistent = 0
value = S3,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3411
persistent = 0
value = S3,14

[State 0, Helper]
type = Helper
trigger1 = anim = 3411
persistent = 0
helpertype = normal
ID = 342
stateno = 342
pos = 60,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = anim = 3411 && AnimTime = 0
value = 198
ctrl = 1
;-----------------
;Chidori Koken
[StateDef 342]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 342
poweradd = -500
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109921

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F11,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = F15,4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time < 5 && timemod = 5,0
attr = S, NA
damage = 70,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1420+random%2
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 5 && timemod = 5,0
attr = S, NA
damage = 70,15
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1420+random%2
sparkxy = -15, -40
hitsound = 11, 5
guardsound = 11, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-9
airguard.velocity = 0,-9
air.type = High
air.velocity = 0,-9
air.hittime = 12
fall = 1
envshake.time = 30
envshake.ampl = 4
envshake.freq = 30
palfx.time = 40+var(6)*0.1
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 343
id = 343
pos = 0,0
scale = 0.3,0.3
postype = p1
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
sprpriority = 0
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
id = 550
pos = 0,4
scale = 0.9,0.9
postype = p1
facing = 1
vfacing = 1
bindtime = -2
removetime = -2
sprpriority = 3
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F520
id = 520
pos = 0,0
scale = 1,1.7
postype = p1
facing = 1
vfacing = 1
bindtime = -2
removetime = 40
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1410
id = 1410
pos = 0,4
scale = 0.6,0.15
postype = p1
facing = 1
vfacing = 1
bindtime = 40
removetime = 40
sprpriority = -1
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 3,0
anim = F1300+random%3
id = 470
pos = -30+random%60,0-random%(40+time/2)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
removeongethit = 1
scale = 0.3,0.3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 5,0
trigger2 = time < 15
anim = F1380
id = 1380
pos = 8,5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.5,0.6
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 5,0
trigger2 = time < 15
anim = F1380
id = 1380
pos = -8,5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.5,0.6
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = Destroyself
trigger1 = time = 40
;-----------------
;Chidori Eiso
[StateDef 345]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 345
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0 && time > 6
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2 && time > 6
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 29*0.95,-40*0.95


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = F11,6
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F11,3
channel = 11

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 10,0
anim = F1310
id = 1310
pos = time*3,0
scale = 2,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime = 99999
pausemovetime = 99999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 1
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.05

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(10)*4,0.5


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 8
attr = S, NA
damage = parent,var(3)*2.4,parent,var(3)*1.2
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 4
sparkxy = -15, -35
hitsound = F11,7
guardsound = F11,7
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2,-.8
air.type = High
air.velocity = -2,-2
air.hittime = 25
envshake.time = 10
envshake.ampl = 10
envshake.freq = 60
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, end]
type = Destroyself
trigger1 = parent, stateno != 340
;-----------------
;Katon, Goryuuka no Jutsu
[StateDef 350]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 0
sprpriority = 0

[State 1500]
type = SuperPause
trigger1 = animelem = 4
time = 20
movetime = 0
sound = F19,7
anim = 2006
pos = 2*0.88,-44*0.88
anim = 9999
darken = 1
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,24

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 
value = S3,26

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 15*0.95,-46*0.95
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal;player
name = "katon"
ID = 355
stateno = 355
pos = 15*0.95,-46*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal;player
name = "katon"
ID = 356
stateno = 355
pos = 15*0.95,-46*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = animelem = 8
helpertype = normal;player
name = "katon"
ID = 357
stateno = 355
pos = 15*0.95,-46*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon, Goryuuka no Jutsu
[StateDef 355]
type = A
movetype= A
juggle  = 1
ctrl = 0
anim = 355
poweradd = -600
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 20
ampl = -4
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 2+time

[State 0, VelSet]
type = VelSet
trigger1 = time >= 10
x = 12

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(355)
y = -0.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(355)
y = 0.05

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(356)
y = -2

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(356)
y = 0.07

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
triggerall = ishelper(357)
y = -3

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 15 && ishelper(357)
y = 0.1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F18,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F271
ID = 271
pos = 20,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 5 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -10,0
scale = 1,1.8
vel = 0,0
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = -atan(vel y/vel x)*180/PI

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 5
attr = S, NA
damage = 50,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-4
airguard.velocity = -6,-2
air.type = High
air.velocity = -6,-3
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, ChangeState]
type = ChangeState
trigger1 = hitcount >= 4
trigger2 = time = 80
trigger3 = frontedgedist < 0
trigger4 = backedgedist < 0
trigger5 = pos y >= 10
value = 356
ctrl = 0
;-----------------
;Katon, Goryuuka no Jutsu
[StateDef 356]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 356
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 271

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
freq = 30
ampl = -7
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= 0
anim = 548
id = 548
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= 0
anim = F64
id = 64
pos = 0,0
scale = 0.8,0.6
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 547
id = 547
pos = 0,0
scale = .5,.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 25,0
scale = 0.8,0.8
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
hitonce = 1
attr = S, NA
damage = 100,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -5,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Ryuuka
[StateDef 360]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 28 && time < 110 && numexplod(80006) = 0
anim = F810
id = 80006
pos = 18,-42
scale = 0.3,0.4
angle = 30
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,7
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3,7
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time > 38 && timemod = 5,0 && time < 120
helpertype = normal;player
name = "katon"
ID = 365
stateno = 365
pos = 35+(time-38)*8,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 28 && timemod = 15,0 && time < 120
anim = 366
ID = 366
pos = 16,-41
postype = p1
bindtime = 16
removetime = -2
supermove = 9999
scale = 0.35,0.3
sprpriority = 1
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
trigger2 = power < 40
value = 0
ctrl = 1
;-----------------
[StateDef 365]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 365
poweradd = -40
sprpriority = 5

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109910

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 367
ID = 850
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
scale = 1,0.7
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 0
anim = F850
ID = 850
pos = 0,0
postype = p1
bindtime = -1
removetime = 42
supermove = 9999
scale = 1.2,1
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;time = 20
trigger2 = 0;time = 60
anim = F850
ID = 850
pos = 0,0
postype = p1
bindtime = -1
removetime = 54
supermove = 9999
scale = 1.2,1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3
channel = 10

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
trigger2 = time > 0
trigger3 = movecontact
value = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 15,0
attr = S, NA
damage = 15,15
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -12-random%40
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10

[State 0, end]
type = destroyself
trigger1 = time = 110
;-----------------
;Odnowienie
[StateDef 370]
type = S
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 370
poweradd = -500
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = F1070
id = 1070
ownpal = 1
pos = 0,-13
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 20
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 21
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 22
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 23
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 24
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,34
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y = 0
anim = F300
pos = 15,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Enton Kagetsuchi
[StateDef 380]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,15
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 1014
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 381
id = 380
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "enton"
ID = 385
stateno = 385
pos = 0,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 193
ctrl = 1
;-----------------
;Enton Kagetsuchi
[StateDef 381]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,15
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 1014
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 381
id = 380
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "enton"
ID = 386
stateno = 386
pos = 0,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 192
ctrl = 1
;-----------------
;Enton Honoikazuchi
[StateDef 382]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 382
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,42

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,42

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,15
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 15
anim = 1014
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = 383
id = 380
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "enton"
ID = 389
stateno = 389
pos = 0,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 192
ctrl = 1
;-----------------
[StateDef 385]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 385
poweradd = -2000
sprpriority = 4

[State 0, Amaterasu 400]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 200
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109963

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F24,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 15,0 && numexplod(3862) < 4
anim = 519
ID = 3862
pos = -40+random%80,-10
postype = p1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0 && time = [10,90]
anim = 387
ID = 386
pos = -40+random%80,0
facing = 1
postype = p1
bindtime = 1
removetime = -2
vel = 0,0
accel = 0,0
scale = 0.3,0.5
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 8,0 && numexplod(518) < 4
trigger1 = pos y < -10
anim = 518
ID = 518
pos = -15+random%30,-5+random%20
facing = 1
postype = p1
bindtime = -2
removetime = -2
scale = 0.6,0.6
sprpriority = 3
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 8,0 && numexplod(521) < 4
trigger1 = pos y >= -10
anim = 518
ID = 521
pos = -40+random%80,0-random%5
facing = -1
postype = p1
bindtime = -1
removetime = -2
scale = 0.7,0.7
sprpriority = 4
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 8,0 && numexplod(522) < 4
trigger1 = pos y >= -10
anim = 518
ID = 522
pos = -35+random%70,0-random%10
postype = p1
bindtime = -1
removetime = -2
scale = 0.8,0.8
sprpriority = 4
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -30+random%60,-10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time < 80
triggerall = root, stateno != [600,679]
attr = S, NA
damage = 45,40
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 40
envshake.ampl = -4
envshake.freq = 40

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = time > 80
triggerall = root, stateno != [600,679]
attr = S, NA
damage = 100,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-9
airguard.velocity = 0,-9
air.type = High
air.velocity = 0,-9
air.hittime = 12
fall = 1
envshake.time = 50
envshake.ampl = -7
envshake.freq = 50

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, end]
type = destroyself
trigger1 = time = 96
;-----------------
[StateDef 386]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 384
poweradd = -2000
sprpriority = 4

[State 0, Amaterasu 400]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 200
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109963

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F24,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0
anim = 209
ID = 208
pos = -25+random%50,-25+random%50
facing = -1
postype = p1
bindtime = -1
removetime = -2
scale = 0.1,0.1
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0
anim = 387
ID = 387
pos = -15+random%30,-15+random%30
facing = -1
postype = p1
angle = time*15
bindtime = -1
removetime = -2
scale = 0.3,0.3
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -25+random%50,10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time= 0
anim = 388
ID = 386
pos = 0,15
facing = 1
postype = p1
bindtime = -1
removetime = -2
scale = 0.07,0.07
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = root, stateno != [600,679]
attr = S, NA
damage = 45,30
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 5
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, end]
type = destroyself
trigger1 = time = 96
;-----------------
[StateDef 389]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 389
poweradd = -2000
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 382
time = 1
pos = 0,0

[State 0, Amaterasu 400]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 200
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109963

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F24,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = timemod = 5,0
anim = 209
ID = 208
pos = -15+random%30,10-random%40
facing = -1
postype = p1
bindtime = -1
removetime = -2
scale = 0.1,0.1
sprpriority = -1+random%4
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 10 && time < 45 && timemod = 2,0
anim = 387
ID = 387
pos = -15+random%30,-5-random%20
facing = -1
postype = p1
angle = -90+random%180
bindtime = -1
removetime = -2
scale = 0.2,0.4
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -25+random%50,10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = root, stateno != [600,679]
triggerall = parent, time > 10
attr = S, NA
damage = 70,35
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 5
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, end]
type = destroyself
trigger1 = parent, stateno != 382
;-----------------
;Taka Mode
[StateDef 390]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 390
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = F1560
pos = 11,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 50
ampl = -2
freq = 50
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,39
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Ptak"
ID = 395
stateno = 395
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, end]
type = ChangeState
trigger1 = time = 15
value = 391
ctrl = 0
;-----------------
;Taka Mode
[StateDef 3901]
type = A
movetype= A
physics = A
juggle  = 1
velset = 0,-5
ctrl = 0
anim = 3901
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 50
ampl = -2
freq = 50
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,39
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Ptak"
ID = 395
stateno = 395
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, end]
type = ChangeState
trigger1 = time = 15
value = 391
ctrl = 0
;-----------------
;Taka Mode
[StateDef 391]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 391
poweradd = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -30 && command != "holddown"
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,9
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,10
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,23
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,24
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,27
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 50 && timemod = 199,0
triggerall = time > 100
value = S2,30
channel = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y > -30 && command != "holddown"
anim = F360
pos = 0,30
scale = 3,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
triggerall = pos y > -140 && pos y < -30
trigger1 = animelem = 4
anim = F580
ID = 2000
pos = 0,-pos y+15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 48
scale = 2,0.8
sprpriority = -4
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = vel y = 0
trigger2 = vel y != -0.5 && vel y != 0.5
trigger2 = (command != "holddown" && command != "holdup" && var(50) = 0) || var(50) = 1
triggerall =  pos y < -50 
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 =  timemod = 20,0
trigger1 =  pos y < -50 
y = - vel y

[State 0, Turn]
type = Turn
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = var(50) = 0
trigger2 = p2bodydist x < -10 && timemod = 10,0
trigger2 = command != "holdfwd"
trigger2 = command != "holdfwd"

[State 0, VelAdd]
type = VelSet
trigger1 =  pos y > -50 && command != "holddown"
y = -1.8

[State 0, VelSet]
type = VelSet
triggerall = command != "holddown" && command != "holdup"
trigger1 = command = "holdfwd" 
trigger2 = command = "holdback" 
triggerall = pos y < -40
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = var(50) = 0 && command = "holdfwd"
trigger1 = command != "holdback"
triggerall = pos y < -31
trigger2 = var(50) = 1 && p2bodydist x > 70
x = 8

[State 0, VelSet]
type = VelSet
trigger1 = var(50) = 0 && command = "holdback"
trigger1 = command != "holdfwd"
triggerall = pos y < -31
trigger2 = var(50) = 1 && p2bodydist x < -70
x = -8

[State 0, VelSet]
type = VelSet
trigger1 = var(50) = 0 && command = "holddown" && pos y < -30
trigger1 = command != "holdup"
trigger2 = var(50) = 1 && p2bodydist y = [50,150]
trigger2 = var(50) = 1 && pos y < -70
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = var(50) = 0 && command = "holdup" && pos y > -600
trigger1 = command != "holddown"
trigger2 = var(50) = 1 && p2bodydist y = [-150,-50]
y = -4

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -30
y = -30

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -600
y = -600

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel x != 0 && anim != 392
value = 392

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel x = 0 && anim != 391
value = 391

[State 0, end]
type = ChangeState
trigger1 = numhelper(395) = 0
trigger2 = win
trigger3 = lose
trigger4 = command = "s"
value = 50
ctrl = 0
;-----------------
;Taka Mode
[StateDef 395]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 395
poweradd = -200
sprpriority = 4



[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,15-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1.2,1.2
sprpriority = 7
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -25+random%10,30-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.6,1.6
sprpriority = 7
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -20-random%10,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1.4,1.4
sprpriority = 7
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 397
time = 9999


[State 0, Helper]
type = Helper
trigger1 = numhelper(398) = 0
helpertype = normal ;player
name = "Skrzydla"
ID = 398
stateno = 398
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
triggerall = pos y < -30
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 250 && timemod = 199,0
triggerall = time > 100
value = F26,1
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 250 && timemod = 199,0
triggerall = time > 100
value = F26,0
channel = 6

[State 0, VelSet]
type = VelSet
triggerall = root, stateno != 391
triggerall = pos y > -75 && pos y < -65
trigger1 = animelem  = 1
trigger2 = animelem  = 2
trigger3 = animelem  = 7
trigger4 = animelem  = 8
y = 0.2

[State 0, VelSet]
type = VelSet
triggerall = root, stateno != 391
triggerall = pos y > -75 && pos y < -65
trigger1 = animelem  = 3
trigger2 = animelem  = 4
trigger3 = animelem  = 5
trigger4 = animelem  = 6
y = -0.2

[State 0, VelSet]
type = VelSet
trigger1 = parent, stateno != 391 && pos y < -75
triggerall = root, stateno != 391
triggerall = time > 10
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = parent, stateno != 391 && pos y > -65
triggerall = root, stateno != 391
triggerall = time > 10
y = -2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 395 && pos y >= -30
value = 396

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 396 && pos y < -30
value = 395

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = root, stateno = 391
time = 1
pos = 0,0

[State 15008, end]
type = changestate
trigger1 = win
trigger2 = lose
trigger3 = parent, stateno != 45 && parent, stateno != 3901 && parent, stateno != [390,391] 
value = 397
ctrl = 0
;-----------------
;Taka Mode
[StateDef 397]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 397
poweradd = 0
sprpriority = 4

[State 0, Prawa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = 20+random%10,15-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0+random%2,-1-random%3
scale = 1.2,1.2
sprpriority = 7
ontop = 0

[State 0, Srodek]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -25+random%10,30-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = -1+random%3,-1-random%2
scale = 1.6,1.6
sprpriority = 7
ontop = 0

[State 0, Lewa]
type = Explod
trigger1 = time = 0
anim = F696
ownpal = 1
ID = 900
pos = -20-random%10,5-random%10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
vel = 0-random%2,-1-random%3
scale = 1.4,1.4
sprpriority = 7
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F26,1


[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-----------------
;Taka Mode
[StateDef 398]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 398
poweradd = 0
sprpriority = 6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 398 && pos y >= -30
value = 399

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 399 && pos y < -30
value = 398

[State 0, Turn]
type = Turn
trigger1 = root, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = root, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno = 397
trigger2 = parent, stateno != 395
;-----------------
;Katon z powietrza pionowy
[StateDef 8231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8231
poweradd = 0
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
angle = -atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 20
freq = 20
ampl = 2
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, Turn]
type = Turn
trigger1 = 0;time = 0 && random = [0,300]
persistent = 0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 15,3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 1402
sparkxy = -15+random%15,20-random%30
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,6
airguard.velocity = -3,6
air.type = High
air.velocity = -3,6
air.hittime = 12
fall = 1
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 8232
;-----------------
[StateDef 8232]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8232
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F800
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 40
scale = 0.5,0.5
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 800
pos = 0,0
postype = p1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Shishi Rendan
[StateDef 400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 3,0
ctrl = 0
anim = 400
poweradd = -40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -47
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0 && !movehit
value = 0
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0 && movehit
value = 402
ctrl = 1
;-----------------
;Shishi Rendan
[StateDef 402]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 402
poweradd = -40
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 20
add = -20,-20,-20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 401
ID = 401
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3

[State 310, 2]
type = Explod
trigger1 = time = 0
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5

[State 310, 2]
type = Explod
trigger1 = time = 6
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 6
value = F14,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 6
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 6
value = F9,1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2 
x = p2bodydist x-10
y = p2bodydist y-50

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 405
ctrl = 1
;-----------------
;Shishi Rendan
[StateDef 405]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 405
poweradd = -40
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 20
add = -40,-40,-40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 4
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 4
sparkno = 0+random%4
sparkxy = -15, -31
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-2
air.type = High
air.velocity = -3,-2
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
p1stateno = 406
fall = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Shishi Rendan
[StateDef 406]
type = A
movetype= A
physics = A
juggle  = 1
velset = 4,-2
ctrl = 0
anim = 406
poweradd = -40
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 20
add = -50,-50,-50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 3
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 4
sparkno = 0+random%4
sparkxy = -15, -38
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,1
airguard.velocity = -3,1
air.type = High
air.velocity = -3,1
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
p1stateno = 407
fall = 1

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Shishi Rendan
[StateDef 407]
type = A
movetype= A
physics = A
juggle  = 1
velset = 5,1
ctrl = 0
anim = 407
poweradd = -40
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 20
add = -60,-60,-60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,0+random%25
channel = 4

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
attr = S, NA
damage = 30,6
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 4
sparkno = 0+random%4
sparkxy = -15, -12
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,8
airguard.velocity = -2,8
air.type = High
air.velocity = -2,8
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
p1stateno = 408
fall = 1
fall.yvelocity = -8

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-----------------
;Shishi Rendan
[StateDef 408]
type = A
movetype= A
physics = N
juggle  = 1
velset = 3,8
ctrl = 0
anim = 408
poweradd = -200
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 10
anim = 7476345
sound = S6,24654
pos = 25,52346
movetime = 0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 20
add = -70,-70,-70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,36

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,36

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,36

[State 310, 2]
type = Explod
trigger1 = animelem = 5
anim = F2016
ID = 2016
pos = 25, -19
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger1 = target, ishelper = 1
attr = S, NA
damage = 200,40
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,12
airguard.velocity = -2,12
air.type = High
air.velocity = -2,12
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
fall = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
time = 5
pos = 30,5


[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = AnimElem = 5
trigger1 = target, ishelper = 0
attr = C, HP
damage = 200,40
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 0+random%4
sparkxy = -15, -13
hitsound = 35, 0+random%15;5, 21+random%5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,12
airguard.velocity = -2,12
air.type = High
air.velocity = -2,12
air.hittime = 12
envshake.time = 20
envshake.freq = 25
envshake.ampl = -6
envshake.phase = 10
p2stateno = 103001
fall = 1

[State 0, PosSet]
type = PosSet
trigger1 =  AnimTime = 0
y = 0

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0 
value = 105
ctrl = 1
;-----------------
;Snake
[StateDef 410]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 9,-47
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 9,-47
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = F1560
pos = 11,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 50
ampl = -2
freq = 50
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,39
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal ;player
name = "Waz"
ID = 415
stateno = 415
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 9999
size.xscale = 0.7
size.yscale = 0.7

[State 0, end]
type = ChangeState
trigger1 = time = 40
value = 411
ctrl = 0
;---------------------------------------------------------------------------
;Snake
[Statedef 411]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 411
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S2,28

[State 195, 2]
type = ChangeState
trigger1 = Time = 90
value = 0
ctrl = 1
;-----------------
;Snake
[StateDef 415]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 415
poweradd = -500
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = F28,0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 416
ID = 416
pos = 0,0
postype = p1
bindtime = -1
removetime = 100
scale = 0.7,0.7
sprpriority = 3
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 100
value = F9,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 100
anim = 418
ID = 418
pos = 15,-5
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.8
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
;triggerall = numhelper(336) = 0
helpertype = normal
name = "def"
ID = 417
stateno = 417
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = 80
size.ground.back = -75
size.air.front = 70
size.air.back = -60
size.height = 120
size.head.pos = -55,-60
size.mid.pos = 0,-20 

[State 0, end]
type = destroyself
trigger1 = time = 100
;-----------------
;Def
[StateDef 417]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 417
poweradd = 0
sprpriority = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
slot = 0
stateno = 417
time = 9999
forceair = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 10
pos = 0,0

[State 0, End]
type = Destroyself
trigger1 = numhelper(415) = 0
trigger2 = time = 100
;-----------------
;Aoda Kuchiyose
[StateDef 420]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 9,-47
postype = p1  ;p2,front,back,left,right
facing = -1
vel = -0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F13
pos = 9,-47
postype = p1  ;p2,front,back,left,right
facing = 1
vel = 0.5,-0.3
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.4,1.4
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = F1560
pos = 11,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
supermovetime = 99999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 50
ampl = -2
freq = 50
phase = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,39
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 35
helpertype = normal ;player
name = "Aoda"
ID = 425
stateno = 425
pos = 100,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
pausemovetime = 9999
size.xscale = 0.55
size.yscale = 0.55

[State 0, Helper] 
type = Helper 
trigger1 = time = 30
helpertype = normal
name = "pieczec kuchiyose" 
ID = 421
stateno = 421
pos = -120,2
postype = p1 
ownpal = 1 
pausemovetime = 9999
supermovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 60
value = 11
ctrl = 1
;---------------------
;Piecz
[StateDef 421]
type = S
anim = 421
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 17
scale = 0.0015*(time*22),0.00020*(time*19)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 16
scale = 0.5625,0.065

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, ChangeState]
type = destroyself
trigger1 = time = 70
;-----------------
;Aoda
[StateDef 425]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 425
poweradd = -2000
sprpriority = 15

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F9,2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 418
ID = 418
pos = -230*0.84,0
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 16
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 36
anim = F64
pos = -260*0.84,0
scale = 1,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 36
anim = F587
id = 587
pos = -260*0.84,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 16
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F64
pos = 265*0.84,0
scale = 1,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F587
id = 587
pos = 265*0.84,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 16
supermovetime=9999
pausemovetime=9999
ownpal = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F1370
id = 1370
ownpal = 1
pos = 245*0.84,15
vel = -1,0
accel = 0.03,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 18
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F1490
id = 1490
ownpal = 1
pos = 235*0.84,5
vel = -0.6,0
accel = 0.02,0
scale = 1.2,1.2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 17
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F1490
id = 1490
ownpal = 1
pos = 295*0.84,5
vel = 0.6,0
accel = -0.02,0
scale = 1.2,1.2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 17
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 46
trigger2 = time >= 46 && timemod = 40,0
anim = F1370
id = 1370
ownpal = 1
pos = 285*0.84,15
vel = 1,0
accel = -0.03,0
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 18
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time >= 46 && timemod = 2,0
anim = F591
ID = 591
pos = (225+random%80)*0.85,0-random%20
vel = -2+random%5,-7
accel = 0,0.3
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 35 && timemod = 15,0
value = F32,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 35 && timemod = 20,0
value = F16,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 55
value = F15,6

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 35 && timemod = 15,0
time = 50
ampl = -2
freq = 50
phase = 230

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F2016
angle = random
pos = -15,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 20
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Hitdef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 10
triggerall = time >= 40
attr = S, NA
damage = 80,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
sparkno = 523535
sparkxy = -15, -40
hitsound = 35, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-5
airguard.velocity = -8,-5
air.type = High
air.velocity = -8,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, end]
type = Destroyself
trigger1 = animtime = 0
;-----------------
;Shinra Tensei
[StateDef 430]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 430
poweradd = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 50
ampl = -5
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4301
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,43

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,43

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
triggerall = var(11) < 359
v = 11
value = 359

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Shinra Tensei"
ID = 435
stateno = 435
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = 0;time = 10
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Shinra
[StateDef 431]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 431
poweradd = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,22

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = 432
id = 432
ownpal = 1
pos = 25,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = 434
id = 434
ownpal = 1
pos = 0,0
scale = 0.5,0.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 25
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
trigger1 = hitcount < 1
attr = S, NA
damage = 400,100
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 3
guardsound = 32, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-6
airguard.velocity = -20,-6
air.type = High
air.velocity = -20,-6
air.hittime = 12
envshake.time = 50
envshake.ampl = -10
envshake.freq = 50
fall = 1

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Air Shinra Tensei
[StateDef 435]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 435
poweradd = -1000

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 20
freq = 50
ampl = -7
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F64
pos = 0,0
scale = 1,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F587
id = 587
ownpal = 1
pos = 0,10
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1370
id = 1370
ownpal = 1
pos = 0,10
vel = -2,0
accel = 0.05,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1490
id = 1490
ownpal = 1
pos = -45,5
vel = -2,0
accel = 0.03,0
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1490
id = 1490
ownpal = 1
pos = 45,5
vel = 2,0
accel = -0.03,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1370
id = 1370
ownpal = 1
pos = 0,10
vel = 2,0
accel = -0.05,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,38

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 436
id = 436
ownpal = 1
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 430
time = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F15,8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = hitcount = 0
trigger1 = time < 15
trigger1 = target, ishelper = 1
attr = S, NA
getpower = 0
damage = 500,250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 3
guardsound = 32, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 12
envshake.time = 50
envshake.ampl = -10
envshake.freq = 50
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = hitcount = 0
trigger1 = time < 15
trigger1 = target, ishelper = 0
attr = C, HP
getpower = 0
damage = 500,250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 3
guardsound = 32, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 12
envshake.time = 50
envshake.ampl = -10
envshake.freq = 50
p2stateno = 109990
fall = 1

[State 0, end]
type = destroyself
trigger1 = time = 15
;-----------------
;Air Shinra Tensei
[StateDef 440]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 440
poweradd = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 10
freq = 50
ampl = -5
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 4401
scale = 1,1
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
removeongethit = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,43

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,43

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
triggerall = var(11) < 359
v = 11
value = 359

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Shinra Tensei"
ID = 445
stateno = 445
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = 0;time = 10
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-----------------
;Air Shinra Tensei
[StateDef 445]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 445
poweradd = -1000

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 20
freq = 50
ampl = -7
phase = 90

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F64
pos = 0,-pos y+35
scale = 1,0.3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F587
id = 587
ownpal = 1
pos = 0,-pos y+45
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1370
id = 1370
ownpal = 1
pos = 0,-pos y+45
vel = -2,0
accel = 0.05,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1490
id = 1490
ownpal = 1
pos = -45,-pos y+40
vel = -2,0
accel = 0.03,0
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1490
id = 1490
ownpal = 1
pos = 45,-pos y+40
vel = 2,0
accel = -0.03,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 && pos y >= -100
anim = F1370
id = 1370
ownpal = 1
pos = 0,-pos y+45
vel = 2,0
accel = -0.05,0
scale = 1,1
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,38

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 446
id = 446
ownpal = 1
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 440
time = 1
pos = 0,-35

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && pos y >= -50
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10 && pos y >= -50
value = F15,8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = hitcount = 0
trigger1 = time < 15
trigger1 = target, ishelper = 1
attr = S, NA
getpower = 0
damage = 400,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 3
guardsound = 32, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 12
envshake.time = 50
envshake.ampl = -10
envshake.freq = 50
fall = 1

[State 0, hitdef]
type = HitDef
givepower = 0
fall.yvelocity = -6
trigger1 = hitcount = 0
trigger1 = time < 15
trigger1 = target, ishelper = 0
attr = C, HP
getpower = 0
damage = 400,100
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 3
guardsound = 32, 3
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,-4
airguard.velocity = -8,-4
air.type = High
air.velocity = -8,-4
air.hittime = 12
envshake.time = 50
envshake.ampl = -10
envshake.freq = 50
p2stateno = 109990
fall = 1

[State 0, end]
type = destroyself
trigger1 = time = 15
;-----------------
;Amateratsu Celowane
[StateDef 500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 15,0
anim = F1070
id = 1070
ownpal = 1
pos = 1*0.88,-58*0.88
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 10
value = S2,26
channel = 2

[State 0, End]
type = ChangeState
trigger1 = Time = 40
value = 501
ctrl = 1
;-----------------
[StateDef 501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 505

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 0
anim = 6436345;1170
sound = F19,2
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 50,0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,3

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 50
under = 1

[State 0, PalFX]
type = PalFX
trigger1 = time > 1
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 508
ID = 507
pos = 190,100
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.30,0.30
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80011
ID = 50180011
pos = 0,-50
postype = back
facing = 1
vfacing = 1
bindtime =-1
removetime = -1
scale = 0.65,0.65
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Celownik"
ID = 510
stateno = 510
pos = 2,-54
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.15
size.yscale = 0.15
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(500) = 0
helpertype = normal
name = "ama"
ID = 500
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 35
;triggerall = numhelper(500) = 1
triggerall = numhelper(501) = 0
helpertype = normal
name = "ama"
ID = 501
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 50
;triggerall = numhelper(501) = 1
triggerall = numhelper(502) = 0
helpertype = normal
name = "ama"
ID = 502
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 65
;triggerall = numhelper(502) = 1
triggerall = numhelper(503) = 0
helpertype = normal
name = "ama"
ID = 503
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 80
;triggerall = numhelper(503) = 1
triggerall = numhelper(504) = 0
helpertype = normal
name = "ama"
ID = 504
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 95
;triggerall = numhelper(504) = 1
triggerall = numhelper(505) = 0
helpertype = normal
name = "ama"
ID = 505
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command = "s"
trigger2 = var(50) = 1 && random = [0,50-var(49)*(var(49))/50-life/300-power/400]
trigger2 = time >= 50
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = power < 500
trigger9 = time = 100
value = 502
ctrl = 1
;-----------------
[StateDef 502]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 502
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 505

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90011

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,16
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,16
channel = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 14
value = 0

[State 0, PalFX]
type = PalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 9998
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 200
scale = 10,10
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 193
ctrl = 1
;-----------------
;Celownik
[StateDef 510]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, PosSet]
type = PosAdd
trigger1 = time = 0
x = (parent, p2bodydist x)/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (51-time)*0.3,(51-time)*0.3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0+time*5,256-time*3

[State 0, End]
type = changestate
trigger1 = time = 50
value = 511
;-----------------
;Celownik
[StateDef 511]
type = A
movetype = I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = gametime*25
scale = (.5+sin(gametime*.5)*.15)*2,(.5+sin(gametime*.5)*.15)*2

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = -2,3

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2

[State 0, VelAdd]
type = VelAdd
trigger1 = timemod = 4,0
x = var(1)
y = var(2)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .9+sin(gametime*.3)*.05,.9+sin(gametime*.3)*.05

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = -time*10

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0  && parent, command = "holdfwd"
trigger2 = parent,var(50) = 1 && p2dist x > -20 && random = [0,100+root,var(49)*(root,var(49))/10]
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holdback"
trigger2 = parent,var(50) =  1 && p2dist x < 20 && random = [0,100+root,var(49)*(root,var(49))/10] 
x = -5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holdup"
trigger2 = parent,var(50) = 1 && p2dist y < cond(p2statetype = C,5+random%20,25+random%20) && random = [0,100+root,var(49)*(root,var(49))/10]
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = parent,var(50) = 0 && parent, command = "holddown"
trigger2 = parent,var(50) = 1 && p2dist y > cond(p2statetype = C,5+random%20,25+random%20) && random = [0,100+root,var(49)*(root,var(49))/10]
triggerall = pos y < 0
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 15,0
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, End]
type = changestate
trigger1 = parent, stateno != [500,501]
trigger1 = parent, stateno != [2060,2061]
trigger1 = parent, stateno != [2750,2751]
trigger2 = time = 150
value = 512
;-----------------
;Celownik
[StateDef 512]
type = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 510
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (1+time)*0.5,(1+time)*0.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*12.5,100+time*7.5

[State 0, End]
type = destroyself
trigger1 = time = 20
;-----------------
;Amaterasu
[StateDef 515]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 515
poweradd = -500
sprpriority = 3

[State 0, Amaterasu 500]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 250
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109964

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = helper(510), pos x
y = helper(510), pos y

[State 0, Turn]
type = Turn
trigger1 = facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = pos x - helper(500), pos x = [-40,0]
trigger1 = pos y - helper(500), pos y = [-40,40]
trigger1 = numhelper(500) = 1
trigger1 = !ishelper(500)
trigger2 = pos x - helper(501), pos x = [-40,0]
trigger2 = pos y - helper(501), pos y = [-40,40]
trigger2 = numhelper(501) = 1
trigger2 = !ishelper(501)
trigger3 = pos x - helper(502), pos x = [-40,0]
trigger3 = pos y - helper(502), pos y = [-40,40]
trigger3 = numhelper(502) = 1
trigger3 = !ishelper(502)
trigger4 = pos x - helper(503), pos x = [-40,0]
trigger4 = pos y - helper(503), pos y = [-40,40]
trigger4 = numhelper(503) = 1
trigger4 = !ishelper(503)
trigger5 = pos x - helper(504), pos x = [-40,0]
trigger5 = pos y - helper(504), pos y = [-40,40]
trigger5 = numhelper(504) = 1
trigger5 = !ishelper(504)
trigger6 = pos x - helper(505), pos x = [-40,0]
trigger6 = pos y - helper(505), pos y = [-40,40]
trigger6 = numhelper(505) = 1
trigger6 = !ishelper(505)
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = pos x - helper(500), pos x = [0,40]
trigger1 = pos y - helper(500), pos y = [-40,40]
trigger1 = numhelper(500) = 1
trigger1 = !ishelper(500)
trigger2 = pos x - helper(501), pos x = [0,40]
trigger2 = pos y - helper(501), pos y = [-40,40]
trigger2 = numhelper(501) = 1
trigger2 = !ishelper(501)
trigger3 = pos x - helper(502), pos x = [0,40]
trigger3 = pos y - helper(502), pos y = [-40,40]
trigger3 = numhelper(502) = 1
trigger3 = !ishelper(502)
trigger4 = pos x - helper(503), pos x = [0,40]
trigger4 = pos y - helper(503), pos y = [-40,40]
trigger4 = numhelper(503) = 1
trigger4 = !ishelper(503)
trigger5 = pos x - helper(504), pos x = [0,40]
trigger5 = pos y - helper(504), pos y = [-40,40]
trigger5 = numhelper(504) = 1
trigger5 = !ishelper(504)
trigger6 = pos x - helper(505), pos x = [0,40]
trigger6 = pos y - helper(505), pos y = [-40,40]
trigger6 = numhelper(505) = 1
trigger6 = !ishelper(505)
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && ishelper(500)
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10 && ishelper(500)
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
triggerall = timemod = 10,0
trigger1 = ishelper(500)
trigger2 = ishelper(501) && numhelper(500) = 0
trigger3 = ishelper(502) && numhelper(501) = 0
trigger4 = ishelper(503) && numhelper(502) = 0
trigger5 = ishelper(504) && numhelper(503) = 0
trigger6 = ishelper(505) && numhelper(504) = 0
value = F10,2

[State 0, Explod]
type = Explod
trigger1 = timemod = 15,0
anim = 516
ID = 516
pos = -25+random%50,25-random%50
angle = -100+random%200
facing = 1
postype = p1
bindtime = -1
removetime = -2
scale = 0.4,0.4
sprpriority = -2+random%6

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
anim = 516
ID = 516
pos = -20+random%40,-15+random%30
facing = 1
postype = p1
bindtime = 1
removetime = -2
scale = 0.3,0.3
sprpriority = -2+random%6

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
anim = 515
scale = 0.15,0.15
pos = -15+random%30,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2+random%6
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = movehit = 1 && p2movetype = H
triggerall = numexplod(517) = 0
anim = 517
ID = 517
scale = 0.6,0.6
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2+random%6
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -40+random%80,10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-2-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = movecontact = 1
v = 6  
value = 25

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
triggerall = parent, stateno != [200,250]
triggerall = parent, stateno != [600,679]
triggerall = parent, var(6) < 1500
attr = S,NT
damage = 25,25
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 0,10
sparkno = -1
sparkxy = -25+random%40, -10-random%30
hitsound = F10, 645363
guardsound = F10, 45646
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && ishelper(1)
time = 1
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -10
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = -10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno = 540 && root, time = 70

[State 0, End]
type = destroyself
trigger1 = time = 600
trigger2 = animtime = 0 && p2life = 0
trigger3 = animtime = 0 && life = 0
trigger4 = parent, var(6) = 1500
triggerall = time > 20
;-----------------
[StateDef 540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 540
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S6,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 61
value = S6,7
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,0
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 23
value = S5,16
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 23
value = S5,16
channel = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 61
anim = 541
ID = 541
pos = 9,-51
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.5,0.5
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 100
value = numhelper(500)*-100;200
kill = 0
absolute = 0

[State 0, AllPalFX]
type = PalFX
trigger1 = time = 90
time = 20
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 1

[State 1500]
type = SuperPause
trigger1 = time = 95
time = 50
movetime = 0
supermove = 0
anim = 103
sound = S5,23
pos = 3,-35
darken = 1
unhittable = 0

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Chibaku
[StateDef 680]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 680
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,41

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,41

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = player
name = "Kula"
ID = 685
stateno = 685
pos = -22*0.88,-46*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.07
size.yscale = 0.07
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Przyciaganie
[StateDef 682]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 682
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = parent, pos x - pos x != [-10,10]
x = 1+time/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,246245624
hitsound = 32, 3652526
guardsound = 32, 35654625
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 12

[State 0, end]
type = destroyself
trigger1 = parent, pos x - pos x = [-20,20]

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 687
;-----------------
;Przyciaganie
[StateDef 683]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 683
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
triggerall = ishelper(683)
y = 20

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
triggerall = ishelper(681)
y = -500

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = parent, pos y - pos y != [-10,10]
triggerall = ishelper(683)
y = -1-time/2

[State 0, VelSet]
type = VelSet
trigger1 = parent, pos y - pos y != [-10,10]
triggerall = ishelper(681)
y = 1+time/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = ishelper(683)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,246245624
hitsound = 32, 3652526
guardsound = 32, 35654625
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-5
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-5
air.hittime = 12

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = ishelper(681)
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,246245624
hitsound = 32, 3652526
guardsound = 32, 35654625
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,5
airguard.velocity = 0,5
air.type = High
air.velocity = 0,5
air.hittime = 12

[State 0, end]
type = destroyself
trigger1 = parent, pos y - pos y = [-30,30]

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 687
;-----------------
;Ziemia
[StateDef 684]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 684
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 40
freq = 40
ampl = -6
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F15,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F15,11

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = -150,150

[State 0, Explod]
type = Explod
trigger1 = 0;timemod = 10,0
anim = F587
ID = 587
pos = var(1),-10+random%30
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 0.6,0.5
sprpriority = 0+random%15
ontop = 0
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 1 && timemod = 60,0
anim = F581
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 2,0.7
sprpriority = 5
ownpal = 1
trans = addalpha
alpha = 156,256

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = time > 1 && timemod = 70,0
anim = F64
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 2,0.7
sprpriority = -1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F591
ID = 591
pos = var(1),-10+random%30
postype = p1 
vel = -(var(1)/(90+time/3)),-2
angle = random
facing = 1
vfacing = 1
bindtime = 10
removetime = -2
pausemovetime = 999
scale = 1,1
sprpriority = -1+random%15
ontop = 0
ownpal = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 687
;-----------------
;Kula
[StateDef 685]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 685
poweradd = -500
sprpriority = 10

[State 0, VarSet]
type = ParentVarSet
trigger1 = 1
triggerall = var(11) < 359
v = 11
value = 359

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 680 && parent, time > 14 && parent, time <= 29
time = 2
facing = 0
pos = -22*0.88,-46*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 680 && parent, time > 29 && parent, time <= 41
time = 2
facing = 0
pos = -15*0.88,-74*0.88

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, VelSet]
type = VelSet
trigger1 = parent, time >= 41
trigger2 = parent, stateno != 680
y = -2

[State 0, VelAdd]
type = VelAdd
trigger1 = parent, time >= 41
trigger2 = parent, stateno != 680

y = 0.005

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 50
scale = 1+(time-50)/10,1+(time-50)/10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,35

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = ChangeState
trigger1 = time = 70
value = 686
ctrl = 1
;-----------------
;Kula
[StateDef 686]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 686
poweradd = 0
sprpriority = 10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 3,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 688
id = 688
ownpal = 1
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S6,35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,36

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 300 && timemod = 20,0
anim = 690
id = 690
ownpal = 1
pos = 0,0
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 11
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 300 && timemod = 25,0
anim = 691
id = 691
ownpal = 1
pos = 0,0
scale = 0.9,0.9
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 12 
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = timemod = 20,0
helpertype = normal;player
name = "Przyciaganie"
ID = 682
stateno = 682
pos = -250,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = timemod = 20,0
helpertype = normal;player
name = "Przyciaganie"
ID = 682
stateno = 682
pos = 250,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = timemod = 20,0
helpertype = normal;player
name = "Przyciaganie"
ID = 681
stateno = 683
pos = 0,-200
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = timemod = 20,0
helpertype = normal;player
name = "Przyciaganie"
ID = 683
stateno = 683
pos = 0,200
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Ziemia"
ID = 684
stateno = 684
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 300
trigger2 = power <= 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
value = 687
;-----------------
;Kula
[StateDef 687]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 687
poweradd = 0
sprpriority = 10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 3-time/20,3-time/20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 688

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 689
id = 689
ownpal = 1
pos = 0,0
scale = 0.8,0.8
postype = p1
facing = -1
bindtime = -2
removetime = -2
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;-----------------
[StateDef 799]
type = S
movetype= I
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 799
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = timemod = 20,0
x = random
random = -200,200

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 100

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = C,HP
damage = 0,0
affectteam = B
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = -0
sparkxy = -15, -40
hitsound = -1
guardsound = -6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 0, end]
type = destroyself
trigger1 = parent, life = 0
;----------------------------------------------------------------
;Rinnegan Teleport
[Statedef 800]
anim = 800
ctrl = 0
poweradd = -200
velset = 0,0
sprpriority = 3

[State 0, VarSet]
type = VarAdd
trigger1 = time = 2
triggerall = var(11) < 60
v = 11
value = 300

;---

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
ownpal = 1

;---

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = 810
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = 812
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = 811
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = 813
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

;---

[State 0, 1]
type = Explod
trigger1 = time = 0
trigger2 = time = 2
anim = 805
ID = 805
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.45,0.45
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = time = 0
trigger2 = time = 2
anim = 806
ID = 806
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 0.6,0.6
ownpal = 1

;----

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,24

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F19,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = F9,1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y > -5 && anim != 800
value = 800

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < -5 && anim != 801
value = 801

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && pos y > -5 && anim != 800 && anim != 802
value = 802

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && pos y < -5 && anim != 801 && anim != 803
value = 803

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -5
statetype = S
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < -5
statetype = A
physics = S

[State 310, 1]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x-80+random%160
y = p2bodydist y-40+random%80

[State 310, 1]
type = Posset
trigger1 = time = 1
trigger1 = pos y >= 0
y = 0

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1
length = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 310, 6]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 2
value = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
triggerall = pos y = 0
value = 0
ctrl = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
triggerall = pos y != 0
value = 50
ctrl = 1


;-----------------
;Housenka
[StateDef 836]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 836
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 15*0.95,-46*0.95
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,10
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3,10
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 16*0.95,-44*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1

;-----------------
[StateDef 837]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 837
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = F810
id = 810
pos = 15*0.95,-46*0.95
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 838
stateno = 838
pos = 16*0.95,-44*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.12
size.yscale = 0.12
supermovetime = 9999
pausemovetime = 9999

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 837
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 838]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 8
range = 3,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = (4+var(8))*1.5
y = var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 839

[State 0, End]
type = changestate
trigger1 = pos y > 0
value = 840
persistent = 1


;-----------------
;Katon
[StateDef 839]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=2-time/10

[State 0, End]
type = destroyself
trigger1 = time = 12
;-----------------
;Katon
[StateDef 840]
type = S
movetype= A
physics = S
anim = 861
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Goukakyu Hold
[StateDef 844]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 844
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 27 && numexplod(810) = 0
anim = F810
id = 810
pos = 15*0.95,-46*0.95
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,13
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S3,13
channel = 3

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
value = -5

[State 0, Helper]
type = Helper
trigger1 = animelem = 8 && numhelper(846) = 0
helpertype = normal;player
name = "katon"
ID = 846
stateno = 846
pos = 15*0.95,-47*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7*0.88
size.yscale = 0.7*0.88
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time > 50 && var(50) = 0 && command != "hold_c"
trigger2 = power = 0
trigger3 = time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time > 30 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
value = 845
ctrl = 1
;-----------------
[StateDef 845]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 845
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,36
channel = 2

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Katon
[StateDef 846]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 846
poweradd = -200
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 844
time = 1
facing = 0
pos = 15*0.95,-47*0.95

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 25
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
triggerall = var(12) < 40
trigger2 = var(12) = 0
v = 12
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(12) >= 40
v = 12
value = 0

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%6 = 0 && numexplod(1462) < 10 
anim = F1462
ID = 1462
pos = 50*0.88+var(12)*6*0.88,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 2.5*0.88,2*0.88
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time % 16 = 0 && numexplod(271) <= 2
anim = F271
ID = 271
pos = 100*0.88,5*0.88
postype = p1
vel = 0,0
bindtime = 1
removetime = 60
supermovetime=9999
pausemovetime=9999
scale = 1*0.88,1*0.88
sprpriority = 5
ownpal = 1

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 15 && time % 20 = 0 && numexplod(820) <= 1
anim = F820
id = 820
pos = 200*0.88,0
scale = 1.3*0.88,2*0.88
vel = -4,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6
supermovetime=9999
pausemovetime=9999

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 12,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 4
sparkno = 1400
sparkxy = -30+random%30, -7-random%40
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-2
airguard.velocity = -3,-1
air.type = High
air.velocity = -3,-1
air.hittime = 12
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = parent, stateno != 844 && parent, stateno != 8451
value = 847
;-----------------
;Katon
[StateDef 847]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 847
poweradd = 0
sprpriority = 3

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Goukakyuu
[StateDef 849]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 849
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 40
anim = F810
id = 80006
pos = 26*0.95,-36*0.95
scale = 0.4,0.6
postype = p1
facing = 1
bindtime = 1
removetime = 10
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,13
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S3,13
channel = 3

[State 0, Helper]
type = Helper
trigger1 = animelem = 16
helpertype = normal;player
name = "katon"
ID = 850
stateno = 850
pos = 50,-35
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 60; && (numhelper(850) = 0 || command != "hold_c")
value = 845
ctrl = 1
;-----------------
;Katon
[StateDef 850]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 850
poweradd = -2000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109913

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120
value = F15,4

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
pos = 20,0
postype = p1
bindtime = 130
removetime = 130
scale = 1.8,1.8
sprpriority = 4
ownpal = 1

[State 0, Skaly]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1490) < 8 && time < 100
anim = F1490
ID = 1490
pos = 10,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 1.5,1.2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Ogien na ziemi]
type = Explod
ownpal = 1
trigger1 = time%10 = 0 && numexplod(1462) < 10 && time < 100
anim = F1462
ID = 1462
pos = 20,-pos y +15
postype = p1
bindtime = 5
removetime = -2
scale = 3.5,2.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch ziemia]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(1200) < 2 && time < 100
anim = F1200
ID = 1200
pos = 20,-pos y-20
postype = p1
bindtime = 10
vfacing = -1
removetime = 60
scale = 1.5,1.5
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 1 && time < 100
anim = F271
ID = 271
pos = 30,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 1 && time < 100
anim = F271
ID = 272
pos = 0,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.5,1.5
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -25,-5
scale = 1.3,2
vel = -3,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1340
id = 1340
pos = 25,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 115
anim = F1331
id = 1331
pos = 25,0
scale = 2,2
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = time = 115
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit && time < 120
time = 1
pos = 30,30

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 5,0 && time <= 120
attr = S, NA
damage = 25,10
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-2
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = time = 125
hitonce = 1
attr = S, NA
damage = 200,100
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-10
airguard.velocity = -5,-10
air.type = High
air.velocity = -5,-10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, End]
type = destroyself
trigger1 = time = 130
;-----------------
;Housenka Air
[StateDef 858]
type = A
movetype= A
physics = A
juggle  = 1
velset = -1.3,-5
ctrl = 0
anim = 858
poweradd = 20
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 8 && numexplod(810) = 0
anim = F810
id = 810
pos = 13*0.95,-43*0.95
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 14*0.95,-42*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 13
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 30
trigger2 = power < 200
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
[StateDef 8581]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 8581
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
y = -1.3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F810
id = 810
pos = 13*0.95,-43*0.95
scale = 0.30,0.45
postype = p1
facing = 1
bindtime = 10
angle = -45
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
triggerall = power > 100
helpertype = normal;player
name = "katon"
ID = 859
stateno = 859
pos = 14*0.95,-42*0.95
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

;Katon, Housenka no Jutsu
[State -1, Katon, Housenka no Jutsu]
type = ChangeState
value = 8581
trigger1 = var(50) = 0 && (command = "c" || command = "x")
triggerall = time > 9
trigger2 = var(50) = 1 && random = [20,100+var(49)*(var(49))/10]
trigger2 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [3,16]
triggerall = power >= 200

[State 0, end]
type = ChangeState
trigger1 = time = 25
trigger2 = power < 100
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger9 = p2statetype = L
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 859]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 838
poweradd = -100
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109911

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1470
ID = 840
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 0.3,0.3
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =840
angle = -atan(vel y/vel x)*180/PI 

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F271
ID = 6001
pos = -15,0
postype = p1
bindtime = -1
removetime = 40
supermovetime=9999
pausemovetime=9999
scale = 0.4,0.4
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID =6001
angle = -atan(vel y/vel x)*180/PI

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,10+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 6
freq = 20
ampl = 2
phase = 90

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = -100,75

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 7
value = 2+random%6

[State 0, VarRandom]
type = VarSet
trigger1 = time = 0
v = 8
value = 3+random%3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3+var(7)
y = (4+var(8))*1.5;var(10)/50.0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT,NT
stateno = 839
time = 9999
forceair = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 25,10
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 1402
sparkxy = -5+random%10, 0-random%10
hitsound = 10, 0
guardsound = 10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,0
airguard.velocity = -1,0
air.type = High
air.velocity = -1,0
air.hittime = 12
envshake.time = 15
envshake.ampl = -9
envshake.freq = 25
envshake.phase = 10
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = movecontact
trigger2 = time = 100
value = 860

[State 0, end]
type = changestate
trigger1 = pos y > 0
value = 861
;-----------------
;Katon
[StateDef 860]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 839
poweradd = 0
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1451
ID = 1451
pos = 0,0
postype = p1
bindtime = -1
removetime = 12
supermovetime=9999
pausemovetime=9999
scale = 0.55,0.55
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 840

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, VelSet]
type=VelSet
trigger1= 1
x=1;-time/10
y=1;-time/10

[State 0, end]
type = changestate
trigger1 = pos y >= 0
value = 861

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Katon
[StateDef 861]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 861
poweradd = 0
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1 
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 840

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time= 0
anim = F1402
ID = 1402
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = 1.2,1.2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F550
ID = 24
pos = 0,3
facing = 1
postype = p1  ;p2,front,back,left,right
scale = 0.4,0.4
sprpriority = 0
bindtime = 1
ownpal = 1
ontop = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, End]
type = destroyself
trigger1 = time = 40
;-----------------
;Goukakyu Air
[StateDef 863]
type = A
movetype= A
physics = A
juggle  = 1
velset = 3,-3
ctrl = 0
anim = 863
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = F17,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 5
anim = F810
id = 80006
pos = 13*0.88,-43*0.88
scale = 0.40,0.55
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 315

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,13
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3,13
channel = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = -5
y = -3

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "katon"
ID = 864
stateno = 864
pos = 45*0.88,-15*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Katon
[StateDef 864]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 864
poweradd = -1000
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F270
ID = 6001
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
supermovetime=9999
pausemovetime=9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 6001
angle = atan(vel y/vel x)*180/PI

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 10
freq = 30
ampl = -3
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [10,20] 
x = 3+time/2
y = 3+time/2

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && time < 100 && vel x > 5
x = 8-(time-20)/20+var(1)
y = 8-(time-20)/20+var(1)

[State 0, VelSet]
type = VelSet
trigger1 = time > 20 && vel x <= 5
x = 5
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(271) < 2 && time < 100
anim = F271
ID = 271
pos = 15,15
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.1,1.1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time%30 = 0 && numexplod(272) < 2 && time < 100
anim = F271
ID = 272
pos = -10,-10
postype = p1
vel = 0,0
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 272
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 10 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = 15,15
scale = 1.3,2
vel = -3,-3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = atan(vel y/vel x)*180/PI

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1480
id = 1480
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = 1.5,1.5
sprpriority = 4
angle = -45
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = timemod = 3,0
attr = S, NA
damage = 75,25
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 12
envshake.time = 15
envshake.ampl = -7
envshake.freq = 25
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = changestate
trigger1 = pos y > -10
value = 866
;-----------------
;Katon ziemia
[StateDef 866]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 866
poweradd = 0
sprpriority = 3

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1450
id = 1450
pos = 0,0
scale = 1.4,0.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1480

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F550
ID = 550
pos = 0,5
postype = p1
bindtime = 1
removetime = 40
supermovetime = 9999
pausemovetime = 9999
scale = 1.6,1.6
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1400
ID = 1400
pos = 0,-10
vel = -1.7,-2
postype = p1
bindtime = 1
removetime = 30
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1

[State 0, Wybuch]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1340
id = 1340
pos = 0,0
scale = 1,1
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, Swietliki]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1331
id = 1331
pos = 0,0
scale = 1.5,1.5
vel = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
hitonce = 1
attr = S, NA
damage = 200,100
givepower = 0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 0
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,-6
airguard.velocity = -3,-6
air.type = High
air.velocity = -3,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 50

;-----------------
[StateDef 868]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,24
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 6 && numexplod(80007) = 0
anim = F810
id = 80007
pos = 0,-25
scale = 0.3,0.45
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1
angle = 90

[State 0, Helper]
type = Helper
trigger1 = time > 6 && timemod = 5,0
helpertype = normal;player
name = "katon"
ID = 8231
stateno = 8231
pos = 8,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.10
size.yscale = 0.10

[State 0, End]
type = ChangeState
trigger1 = time = 50
value = 50
ctrl = 1

;-----------------
[StateDef 896]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 895
poweradd = 0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = F10,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = time = 65
;----------------------------------------------------------------------
;Chidori Charge
[StateDef 930]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 930
poweradd = -500
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,2
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 115
v = 3
value = 10+(time-5)*0.3;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 115
v = 3
value = 45

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -10

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 929
id = 929
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1380
id = 1380
pos = -10,0
vel = -0.5,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time > 5 && timemod = 15,0
anim = F1380
id = 1380
pos = 10,0
vel = 0.5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Chidori"
ID = 950
stateno = 950
pos = 0*0.88,-13*0.88
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.0087

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 80009
ID = 930
pos = -33,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 115
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 115
anim = 80010
ID = 931
pos = -33,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10), 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && !command = "hold_z"
trigger2 = power = 0
trigger3 = var(50) = 1 && random = [0,20-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive
trigger9 = time >= 115 && power < 1500
trigger10 = var(50) = 1 && random = [0,100+var(49)*(var(49))/50]
trigger10 = p2bodydist x < 150
trigger10 = p2bodydist y = [-50,50]
triggerall = time >= 15
value = 933

[State 0, End]
type = ChangeState
trigger1 = time >= 115
trigger1 = power >= 1500
value = 980

;Koken
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holddown"
trigger2 = var(50) = 1 && (numhelper(4401) != 0 || partner,numhelper(4401) != 0 || enemy(0),numhelper(4401) != 0 || enemy(1),numhelper(4401) != 0) && random = [400,450+var(49)*(var(49))/20+cond(numhelper(4401) != 0,var(49)*var(49)/5,0))
trigger3 = var(50) = 1 && p2bodydist x = [-150,150]
trigger3 = random = [550,550+var(49)*(var(49))/20+cond(numhelper(4401) != 0,var(49)*var(49)/50,0))
triggerall = time >= 21
value = 320

;Senbon
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdback"
trigger2 = random = [600,601+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist x = [100,400]
trigger2 = p2bodydist y = [-200,100]
triggerall = time >= 21
value = 330

;Eiso
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdfwd"
trigger2 = random = [650,651+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist x = [20,250]
trigger2 = p2bodydist y = [-100,50]
triggerall = time >= 21
value = 340

[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdup"
trigger2 = random = [700,701+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist y != [-100,50]
triggerall = time >= 15
value = 948
;----------------------------------------------------------------------
;Chidori Seals
[StateDef 931]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 931
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
value = F17,0

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 930
;-----------------
;Chidori Fail
[StateDef 932]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 932
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F14,4

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F300
pos = 40,3
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = vel x > 0 && time > 4
x = 5-time/5

[State 0, VelSet]
type = VelSet
trigger1 = vel x < 0 
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,23
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F2,0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;------------------
;Chidori Run
[StateDef 933]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 933
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = F2,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 5
anim = F300
ID = 24
pos = -10,2
postype = p1  ;p2,front,back,left,right
scale = 0.9,0.9
sprpriority = 3
vel = -1.3,-1
bindtime = 1
ownpal = 0
ontop = 0

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = time > 1 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%50
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

;---------------------

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "impact control"
ID = 106025
stateno = 106025
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
supermovetime = 99999

[State 0, end]
type = ChangeState
trigger1 = helper(106025), stateno = 106028
trigger2 = p2bodydist x < 50
trigger2 = p2bodydist y = [-50,50]
value = 9335
ctrl = 1

[State 0, Fail]
type = ChangeState
trigger1 = time = 100
trigger2 = p2bodydist x < -40
value = 932
ctrl = 1
;------------------
;Chidori Hit
[StateDef 934]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 40*0.88,-43*0.88
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time > 10 && time <= 30 && timemod = 5,0
trigger1 = hitcount < 4
attr = S, NA
damage = var(3)*1.2,var(3)*0.48
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -42*0.88
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 40*0.88,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = var(3)*2.4,var(3)*1.2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 2005
sparkxy = -15, -43*0.88
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && movehit
value = 935
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time > 30 && !movehit
value = 937
ctrl = 1
;-----------------
;Chidori End
[StateDef 935]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 935
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F11
angle = -25+random%50
scale = 1.5,1.5
pos = 32*0.88,-43*0.88
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F15
scale = 1.5,1.5
pos = 33*0.88,-38*0.88
postype = p1  ;p2,front,back,left,right
vfacing = -1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F11,12

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 0
attr = S, NA
damage = 20,0
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = -1
sparkxy = -15, -40
hitsound = 11,5
guardsound = 11,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0 
airguard.velocity = 0,0 
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
envshake.time = 20+var(3)*0.1
envshake.ampl = 2+var(3)*0.1
envshake.freq = 20+var(3)*0.1

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = numhelper(698) = 0 
anim = 936
id = 936
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Turn]
type = Turn
trigger1 = animtime = 0

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Chidori End2
[StateDef 937]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 937
poweradd = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------
;Impact
[StateDef 9335]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 934
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S2,0

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

;---------------------
;---IMPACT EFFECTS----
;---------------------

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 11
x = Abs(enemy,pos x - pos x)-70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 20,0
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 25,0
value = F11,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = F11,8

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 10 && timemod = 10,1
time = 15
freq = 70
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,1
Time = 2
color = 256
add = -80,-80,-80
ignorehitpause = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 10 && timemod = 4,3
Time = 2
color = 256
add = -150,-150,-150
ignorehitpause = 1

;USTAWIC POZYCJE DLA DANYCH POSTACI

[State 0, Podmuch na ziemi]
type = Explod
trigger1 = time > 10 && timemod = 13,0
anim = F674
id = 675
pos = 30,5
scale = 0.3+helper(106025),var(6)*0.0035,0.3+helper(106025),var(6)*0.0035
vel = -1-helper(106025),var(3)*0.03,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Maly Efekt Chidori]
type = Explod
trigger1 = time = 10
trigger2 = time > 10 && timemod = 15,0
anim = F1360
id = 675
pos = 42*0.88,-43*0.88
postype = p1
vel = -1-helper(106025),var(6)*0.03,0
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
removeongethit = 1
scale = 0.3+helper(106025),var(6)*0.005,0.3+helper(106025),var(6)*0.005
ownpal = 1
supermovetime = 9999

[State 0, Duzy Efekt Chidori]
type = Explod
trigger1 = time = 10
trigger2 = time > 10 && timemod = 15,0
anim = F1361
id = 675
pos = 37*0.88,-43*0.88
scale = 0.3+helper(106025),var(6)*0.003,0.3+helper(106025),var(6)*0.003
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
ownpal = 1
supermovetime = 10
pausemovetime = 10

[State 0, Efekt Chidori]
type = Explod
trigger1 = time = 15
trigger2 = time > 10 && timemod = 20,0
anim = F510
id = 675
pos = 41*0.88,-43*0.88
scale = 0.8+helper(106025),var(6)*0.005,0.8+helper(106025),var(6)*0.005
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
ownpal = 1
supermovetime = 10
pausemovetime = 10

;------------------------------------

[State 0, win]
type = ChangeState
trigger1 = helper(106025), stateno = 106025
trigger2 = helper(106025), stateno = 106030
trigger2 = helper(106025), var(6) !=100
triggerall = time > 9
value = stateno+1
ctrl = 1

[State 0, lose]
type = ChangeState
trigger1 = numhelper(106025) = 0
trigger2 = helper(106025), stateno = 106029
triggerall = time > 9
value = stateno+2
ctrl = 0

[State 0, remis]
type = ChangeState
trigger1 = helper(106025), stateno = 106030
trigger1 = helper(106025), var(6) = 100
triggerall = time > 9
value = stateno+3
ctrl = 0
;-----------------
;Impact hit
[StateDef 9336]
type = S
movetype= A
physics = S
juggle  = 1
velset = 6,0
ctrl = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
triggerall = time >= 10
value = 109923

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5-time/3

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 40*0.88,-43*0.88
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time <= 30 && timemod = 5,0
trigger1 = hitcount < 7
attr = S, NA
damage = 25+var(3)*1.25*1.86,10+var(3)*0.6*1.86
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -43*0.88
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit && time < 30
time = 5
pos = 40*0.88,-5

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 35
hitonce = 1
attr = C, HP
damage = 50+var(3)*4.0*1.86,20+var(3)*4.0*1.86
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2005
sparkxy = -15, -43*0.88
hitsound = 11, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
palfx.time = 60
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, End]
type = ChangeState
trigger1 = time = 30 && movehit
value = 935
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 40 && !movehit
trigger2 = time >= 30 && !movehit
value = 937
ctrl = 1
;-----------------
;Impact lose
[StateDef 9337]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 20
value = 5050
;-----------------
;Impact remis
[StateDef 9338]
type = A
movetype= H
physics = A
juggle  = 1
velset = -5,-2
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = 2

;Impact effects
[State 0, Explod]
type = RemoveExplod
trigger1 = time = 0
ID = 675

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, End]
type = ChangeState
trigger1 = time = 5
value = 5050
;----------------------------------------------------------------------
;Air Chidori Charge
[StateDef 940]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 940
poweradd = -500
sprpriority = 2

;----------------
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = vel x /2
y = cond(vel y > 0, 0.5, -0.5)

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = const(movement.yaccel)*.2

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) != [10,25]
value = 941

[State 0, End]
type = ChangeState
trigger1 = pos y >= -10 && time >= 5
triggerall = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
value = 944

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 52
;----------------

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time%5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S2,2
channel = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 5 && time < 50
v = 3
value = 10+(time-5)*0.77;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 50
v = 3
value = 45

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 15
value = -28

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 50
anim = 939
id = 939
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal;player
name = "Chidori"
ID = 950
stateno = 950
pos = -15,-45
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 7500, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10    ;fv = 10
value = 0

[State 7500, VarAdd]
type = VarAdd
trigger1 = time%2
fv = 10
value = 0.01

[State 7500, VarSet]
type = VarSet
trigger1 = fvar(10) > 1
fv = 10    ;fv = 10
value = 1

[State 7500, Explod]
type = Explod
trigger1 = time = 0
anim = 80009
ID = 930
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.5,0.5
sprpriority = 2
removeongethit = 1
ontop = 0
ownpal = 1

[State 7500, Explod]
type = Explod
trigger1 = time < 50
anim = 80010
ID = 931
pos = -33,-75
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = fvar(10)*2, 0.5
sprpriority = 1
removeongethit = 1
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = time >= 15
triggerall = command != "holddown"
value = 941

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = p2bodydist y = [-50,50]
triggerall = time >= 15
triggerall = var(50) = 1
value = 941

;----------

[State 0, End]
type = ChangeState
trigger1 = !command = "hold_z"
trigger2 = power = 0
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
triggerall = command = "holddown"
triggerall = time >= 15
triggerall = var(50) = 0
value = 944

[State 0, End]
type = ChangeState
trigger1 = power = 0
trigger2 = random = [0,20-var(49)*(var(49))/100]
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = time = 50
trigger9 = random = [0,100+var(49)*(var(49))/50]
trigger9 = abs((p2dist x/((p2dist y+1)+cond(p2statetype=C,-5,-20)))*10) = [10,25]
triggerall = time >= 15
triggerall = var(50) = 1
triggerall = p2bodydist x > 20
triggerall = p2bodydist y > 20
value = 944

;Senbon
[State 0, end]
type = ChangeState
trigger1 = var(50) = 0 && command = "holdback"
trigger2 = random = [600,601+var(49)*(var(49))/500]
trigger2 = var(50) = 1
trigger2 = p2bodydist x = [100,400]
trigger2 = p2bodydist y = [-200,100]
triggerall = time >= 15
value = 330
;------------------
;Air Chidori Run
[StateDef 941]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 941
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,16

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, end]
type = ChangeState
trigger1 = time = 10
value = 942
ctrl = 1
;------------------
;Air Chidori Hit
[StateDef 942]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 942
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = 1
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 45*0.88,-33*0.88
angle = 45
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35+var(3)*4.8,15+var(3)*2.4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -33*0.88
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 4
time = 5
pos = 45,-5

[State 0, End]
type = ChangeState
trigger1 = Time = 20
trigger2 = time > 10 && !movehit
value = 943
ctrl = 1
;-----------------
;Air Chidori End
[StateDef 943]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 943
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
x = 5*const(velocity.airjump.fwd.x)
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Air Chidori Ground Run
[StateDef 944]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 944
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,16

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = time > 6 && timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%25
angle = -35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1.2,-0.8
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = F280
pos = -25,-45
angle = 225
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0

[State 0, VelSet]
type=VelSet
trigger1 = time > 6
x = 3.5*const(velocity.airjump.fwd.x)
y = 2.5*const(velocity.airjump.fwd.x)

[State 0, end]
type = ChangeState
trigger1 = time = 10
value = 945
ctrl = 1
;------------------
;Air Chidori Ground Hit
[StateDef 945]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 945
poweradd = 0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(52) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109922

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type=VelSet
trigger1 = pos y < 0
x = 3.5*const(velocity.airjump.fwd.x)
y = 2.5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -15+random%30,-20-random%25
angle = -35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1.2,-0.8
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit && numexplod(450) = 0 && enemy(0),p2dist x < 20 || movehit && numexplod(450) = 0 && enemy(1),p2dist x < 20
anim = F450
ID = 450
pos = 28*0.88,-10*0.88
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0 && var(3) > 40
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 3,0
trigger1 = hitcount < 4
attr = S, NA
damage = 35+var(3)*4.8,15+var(3)*2.4
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 20
sparkno = 63466
sparkxy = -15, -3
hitsound = 11, 3
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,2
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1
palfx.time = 40
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4

[State 0, TargetBind]
type = TargetBind
triggerall = target, ishelper = 0
trigger1 = movehit
trigger1 = hitcount < 4
time = 5
pos = 28*0.88,10*0.88

[State 0, Helper]
type = Helper
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Chidori"
ID = 947
stateno = 947
pos = 28*0.88,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, End]
type = ChangeState
trigger1 = Time = 30
trigger2 = time > 20 && !movehit
value = 946
ctrl = 1
;-----------------
;Air Chidori Ground End
[StateDef 946]
type = A
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 946
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type=VelSet
trigger1 = time = 0
trigger1 = pos y < 0
x = 3.5*const(velocity.airjump.fwd.x)
y = 2.5*const(velocity.airjump.fwd.x)

[State 0, VelSet]
type=VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, VelSet]
type=PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, Helper]
type = Helper
trigger1 = time < 5
trigger1 = pos y >= 0
trigger1 = numhelper(947) = 0
helpertype = normal;player
name = "Chidori"
ID = 947
stateno = 947
pos = 28*0.88,0
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 105
ctrl = 1
;------------------------------
;Efekt Ziemi
[StateDef 947]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 947
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 40 && timemod = 2,0
anim = F1300+random%2
ID = 1300
angle = random
pos = -50+random%100,10-random%20
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.8,0.8
sprpriority = 7
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 20 && timemod = 2,0
anim = F591
ID = 591
pos = -15+random%30,10-random%20
vel = -1+random%3,-1-random%3
accel = 0,0.1
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 6
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F64
pos = 0,0
scale = 0.7,0.35
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F550
pos = 0,5
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1380
pos = -20,5
scale = 0.7,0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1380
pos = 20,5
scale = 0.7,0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 968
pos = 0,-7
scale = 0.3,0.3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F587
pos = 0,5
scale = 0.35,0.35
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 7

[State 0, end]
type = destroyself
trigger1 = time = 60
;------------------
;Air Chidori Jump
[StateDef 948]
type = A
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 948
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 931

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,0+random%25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F3,0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y > -1
anim = F370
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 40, 4]
type = VelSet
trigger1 = Time = 5
x = 1
y = const(velocity.jump.y)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State -3, Chidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 0, end]
type = ChangeState
trigger1 = time = 20
value = 941
ctrl = 1
;------------------
;Black Chidori Charge
[StateDef 980]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 980
poweradd = -500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 16
value = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 40
anim = 523453425
sound = F19,3453245
pos = 37,32455
movetime = 40
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 3*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,24

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 5
time = 40
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 5
time = 40
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S8,32

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State -3, Chidori]
type = AfterImage
trigger1 = 0;time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,200,230
palpostbright = 0,0,0
paladd = 3,4,5
palmul = .40,.50,.60
timegap = 1
framegap = 1
trans = add

[State 811, end]
type = ChangeState
trigger1 = time = 30
value = 981
ctrl = 1
;----------------------------------------------------------------
;Black Chidori Teleport
[Statedef 981]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 981
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = time = 2
triggerall = var(11) < 600
v = 11
value = 360

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 20
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 20
add = -80,-80,-80

;---

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = F290
ID = 290
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.5,1.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = F350
ID = 350
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 2.5,2.5
ownpal = 1

;---

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y > -5
anim = 810
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y > -5
anim = 812
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 0 && pos y < -5
anim = 811
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

[State 310, 2]
type = Explod
trigger1 = time = 2 && pos y < -5
anim = 813
ID = 800
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.88,0.88
ownpal = 1

;---

[State 0, 1]
type = Explod
trigger1 = time = 0
trigger2 = time = 2
anim = 805
ID = 805
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 0.45,0.45
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = time = 0
trigger2 = time = 2
anim = 806
ID = 806
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = 0.6,0.6
ownpal = 1

;----

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S6,24

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F19,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = F3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 2
value = F9,1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y > -5 && anim != 800
value = 800

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && pos y < -5 && anim != 801
value = 801

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && pos y > -5 && anim != 800 && anim != 802
value = 802

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && pos y < -5 && anim != 801 && anim != 803
value = 803

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y > -5
statetype = S
physics = S

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < -5
statetype = A
physics = S

[State 310, 1]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x-30
y = p2bodydist y

[State 310, 1]
type = Posset
trigger1 = time = 1
trigger1 = pos y >= 0
y = 0

[State -3]
type = AfterImage
trigger1 = time = 0
time = 1
length = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 310, 6]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 310, 7]
type = ChangeState
trigger1 = animtime = 0
value = 982
ctrl = 1
;-----------------
;Black Chidori
[StateDef 982]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,982,983)
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 20
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 20
add = -80,-80,-80

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State -3, BChidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,20,170
palpostbright = 0,0,0
paladd = 4,1,5
palmul = .40,.10,.50
timegap = 1
framegap = 1
trans = add

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 984
ctrl = 1
;-----------------
;Black Chidori Hit
[StateDef 984]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 984
poweradd = -200
sprpriority = 2

[State 0, Kuroi Kaminari 200]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) < 100
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109971

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 20
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 20
add = -80,-80,-80

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0 
v = 16   
value = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0 && prevstateno = 984

[State 0, Velset]
type = Velset
trigger1 = time >= 1
x = 15
y = -2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1981

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1982

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1981
id = 1981
pos = 65*0.88,-34*0.88
scale = 0.6+var(6)*0.01*0.45,0.6+var(6)*0.01*0.45
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1982
id = 1982
pos = 55*0.88,-34*0.88
scale = 0.2+var(6)*0.025*0.45,0.2+var(6)*0.025*0.45
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = -1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger1 = var(16) = 3
value = S3,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger1 = var(16) = 3
value = S3,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger1 = var(16) = 3
value = S3,17

[State -3, BChidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 15
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,20,170
palpostbright = 0,0,0
paladd = 4,1,5
palmul = .40,.10,.50
timegap = 1
framegap = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = 0;movehit = 1 && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 250,250
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,5
sparkno = S990
sparkxy = -15,-34*0.88
hitsound = 11,5
guardsound = 11,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-6
airguard.velocity = 0,-6
air.type = High
air.velocity = 0,-6
air.hittime = 12
fall = 1
envshake.time = 40
envshake.ampl = 8
envshake.freq = 40
palfx.time = 40
palfx.mul = 140,20,170
palfx.add = -20,-40,-10
palfx.sinadd = 80,20,100,4

[State 0, end]
type = ChangeState
trigger1 = time = 8 && var(16) = 1
trigger1 = p2bodydist y = [-50,50]
value = 984
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time = 11 && var(16) > 1 && var(16) < 4
trigger1 = p2bodydist y = [-50,50]
value = 984
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time = 11 && var(16) = 4
trigger1 = p2bodydist y = [-50,50]
value = 985
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time = 12 && p2bodydist y != [-50,50]
trigger2 = time = 20
value = 986
ctrl = 1
;-----------------
;Black Chidori Final Hit
[StateDef 985]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 984
poweradd = -500
sprpriority = 2

[State 0, Kuroi Kaminari 400]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(57) < 200
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109973

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 20
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 20
add = -80,-80,-80

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0 
v = 16   
value = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0 && prevstateno = 984

[State 0, Velset]
type = Velset
trigger1 = time >= 1
x = 15-time/2
y = -2


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1981

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1982

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1981
id = 1981
pos = 65*0.88,-34*0.88
scale = 0.6+var(6)*0.01*0.45,0.6+var(6)*0.01*0.45
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 1982
id = 1982
pos = 55*0.88,-34*0.88
scale = 0.2+var(6)*0.025*0.45,0.2+var(6)*0.025*0.45
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = -1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 30
ampl = 3
phase = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F3,1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = F20
ID = 20
pos = -5+random%15,-10-random%35
postype = p1  ;P2,front,back,left,right
scale = 0.8,0.4
vel = -1,0
sprpriority = 1+random%3
bindtime = 1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F280
pos = -20,-30
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
ownpal = 1
removetime = -2
sprpriority = 0
angle = -90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,5

[State -3, BChidori]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 140,20,170
palpostbright = 0,0,0
paladd = 4,1,5
palmul = .40,.10,.50
timegap = 1
framegap = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(9999) = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = !time
attr = S, NT
damage = 500,500
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,2
sparkno = S991
sparkxy = -15,-34*0.88
hitsound = 11,5
guardsound = 11,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-4
airguard.velocity = -5,-4
air.type = High
air.velocity = -5,-4
air.hittime = 12
fall = 1
envshake.time = 40
envshake.ampl = 8
envshake.freq = 40
palfx.time = 40
palfx.mul = 140,20,170
palfx.add = -20,-40,-10
palfx.sinadd = 80,20,100,4

[State 0, end]
type = ChangeState
trigger1 = time = 10
value = 986
ctrl = 1
;-----------------
;Black Chidori End
[StateDef 986]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 986
poweradd = 0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 1

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;------------------
;Kula
[StateDef 950]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(3)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1260
id = 90000
pos = 0,0
scale = 0.4,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 3
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02

[State 0, Dodatkowe blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = F1290
id = 90001
pos = 0,0
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 5
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025

[State 0, Blyskawice powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = F1420+random%3
id = 90002
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice powstawanie]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.6+var(6)*0.03,0.6+var(6)*0.03

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F1300+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, Explod Blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = F1410
id = 90004
pos = 0,0
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 50
trigger1 = parent, stateno = 320
value = 952

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 11
trigger1 = parent, stateno = 330
value = 952

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 65
trigger1 = parent, stateno = 340
value = 952

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 420
trigger1 = parent, stateno = 3001
value = 952

;Czarne Chidori

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 5
trigger1 = parent, stateno = 980
value = 960

;-----------------

;Chidori Combo

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 294
time = 1
pos = 19*0.88,-66*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 60
trigger1 = parent, stateno = 294
value = 962

;-----------------


[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 942 && parent, movehit
trigger4 = parent, stateno = 945 && parent, movehit
value = 951

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,989]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 3001
trigger1 = parent, stateno != 320
trigger1 = parent, stateno != 330
trigger1 = parent, stateno != 340
trigger1 = parent, stateno != 294
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 937
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 943
trigger6 = parent, stateno = 946
value = 952
;------------------
;Kula Hit
[StateDef 951]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = F1300+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
ID = 90002
scale = 0.3+var(6)*0.015,0.3+var(6)*0.015

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.1+var(6)*0.01,0.1+var(6)*0.01

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
anim = F1360
id = 90006
pos = 10,0
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
anim = F510
id = 90007
pos = 10,0
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = -2
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
anim = F1360
id = 90006
pos = 10,0
angle = -45
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
anim = F510
id = 90007
pos = 5,5
angle = 45
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = -2
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5
trigger1 = parent, stateno != [940,949]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005,0.2+var(6)*0.005
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;------------

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 50
trigger1 = parent, stateno = 320
value = 952

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 11
trigger1 = parent, stateno = 330
value = 952

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 65
trigger1 = parent, stateno = 340
value = 952

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 420
trigger1 = parent, stateno = 3001
value = 952

;-----------------

;Chidori Combo

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 294
time = 1
pos = 19*0.88,-66*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 60
trigger1 = parent, stateno = 294
value = 962

;-----------------


[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,989]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 3001
trigger1 = parent, stateno != 320
trigger1 = parent, stateno != 330
trigger1 = parent, stateno != 340
trigger1 = parent, stateno != 294
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 937
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 943
trigger6 = parent, stateno = 946
value = 952
;------------------
;Kula End
[StateDef 952]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
ID = 90000
scale = 0.4+var(6)*0.02,0.4+var(6)*0.02

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90001
scale = 0.5+var(6)*0.025,0.5+var(6)*0.025

[State 0, Dodatkowe blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
ID = 90004
scale = 0.04+var(6)*0.003,0.04+var(6)*0.003

[State 0, Explod Blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90006
scale = 0.6+var(6)*0.01,0.6+var(6)*0.01

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
ID = 90007
scale = 0.2+var(6)*0.025,0.2+var(6)*0.025

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

;-----------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;------------------
;Czarna Kula
[StateDef 960]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90000

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 90004

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,6

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 6
value = parent, var(3)

[State 0, Kula]
type = Explod
ownpal = 1
trigger1 = numexplod(90000) = 0
anim = 1970
id = 90000
pos = 0,0
scale = 0.4*0.45,0.4*0.45
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
anim = 1970
id = 90000
sprpriority = 5
scale = 0.4+var(6)*0.02*0.45,0.4+var(6)*0.02*0.45

[State 0, Dodatkowe blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90001) = 0
anim = 1971
id = 90001
pos = 0,0
scale = 0.5*0.45,0.5*0.45
postype = p1
facing = 1
bindtime = -2
removetime = -1
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1971
id = 90001
sprpriority = 4
scale = 0.5+var(6)*0.025*0.45,0.5+var(6)*0.025*0.45

[State 0, Blyskawice powstawanie]
type = Explod
ownpal = 1
trigger1 = numexplod(90002) = 0 && time < 30
anim = 1975+random%3
id = 90002
pos = 0,0
scale = 0.6,0.6
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice powstawanie]
type = ModifyExplod
trigger1 = 1
ID = 90002
sprpriority = 4
scale = 0.6+var(6)*0.03*0.45,0.6+var(6)*0.03*0.45

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = 1985+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015*0.45,0.3+var(6)*0.015*0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
id = 90002
scale = 0.3+var(6)*0.015*0.45,0.3+var(6)*0.015*0.45

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = F1070
ID = 90003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 999
scale = 1.2,1.2
sprpriority = 5
ownpal = 1
removeongethit = 1

[State 0, Explod Blyskawice]
type = Explod
ownpal = 1
trigger1 = numexplod(90004) = 0
anim = 1980
id = 90004
pos = 0,0
scale = 0.1+var(6)*0.01*0.45,0.1+var(6)*0.01*0.45
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 3
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1980
id = 90004
sprpriority = 3
scale = 0.1+var(6)*0.01*0.45,0.1+var(6)*0.01*0.45

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 50
trigger1 = parent, stateno = 320
value = 962

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 11
trigger1 = parent, stateno = 330
value = 962

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 65
trigger1 = parent, stateno = 340
value = 962

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 420
trigger1 = parent, stateno = 3001
value = 962

;Czarne Chidori

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 0 && parent, time <= 1
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 1 && parent, time <= 2
time = 1
pos = 0,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 2 && parent, time <= 3
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 982
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 983
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 984
trigger2 = parent, stateno = 985
trigger3 = parent, stateno = 986
time = 1
pos = 45*0.88,-34*0.88

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 984
trigger2 = parent, stateno = 985
value = 961

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 986
value = 962

;-----------------


[State 0, End]
type = Changestate
trigger1 = parent, stateno = 934 && parent, movehit
trigger2 = parent, stateno = 9336 && parent, movehit
trigger3 = parent, stateno = 942 && parent, movehit
trigger4 = parent, stateno = 945 && parent, movehit
value = 961

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,989]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 3001
trigger1 = parent, stateno != 320
trigger1 = parent, stateno != 330
trigger1 = parent, stateno != 340
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 937
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 943
trigger6 = parent, stateno = 946
value = 962
;------------------
;Czarna Kula Hit
[StateDef 961]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0
time = 3
add = 40,0,80
mul = 256,156,256
sinadd = -80,-80,-80,10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2
time = 3
add = 0,0,0
mul = 100,100,100
sinadd = -80,-80,-80,10

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
value = F11,4

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 4
value = time

[State 0, Kola]
type = ModifyExplod
trigger1 = 1
anim = 1970
id = 90000
sprpriority = 5
scale = 0.4+var(6)*0.02*0.45,0.4+var(6)*0.02*0.45

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1971
id = 90001
sprpriority = 4
scale = 0.5+var(6)*0.025*0.45,0.5+var(6)*0.025*0.45

[State 0, Blyskawice Randomowe]
type = Explod
ownpal = 1
trigger1 = timemod = 5,0
anim = 1975+random%3
id = 90002
pos = -10*var(6)/30+random%(20*var(6)/15),-10*var(6)/30+random%(20*var(6)/15)
scale = 0.3+var(6)*0.015*0.45,0.3+var(6)*0.015*0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4+random%4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice Randomowe]
type = ModifyExplod
trigger1 = 1
ID = 90002
sprpriority = 4
scale = 0.3+var(6)*0.015*0.45,0.3+var(6)*0.015*0.45

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1980
id = 90004
sprpriority = 3
scale = 0.1+var(6)*0.01*0.45,0.1+var(6)*0.01*0.45

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [980,989]
anim = 1981
id = 90006
pos = 20,0
scale = 0.6+var(6)*0.01*0.45,0.6+var(6)*0.01*0.45
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno != [944,946]
trigger1 = parent, stateno != [980,989]
anim = 1982
id = 90007
pos = 10,0
scale = 0.2+var(6)*0.025*0.45,0.2+var(6)*0.025*0.45
postype = p1
facing = -1
bindtime = -1
removetime = -2
sprpriority = -1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice uderzenie]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
trigger1 = parent, stateno != [980,989]
anim = 1981
id = 90006
pos = 20,0
angle = -45
scale = 0.6+var(6)*0.01*0.45,0.6+var(6)*0.01*0.45
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawica za przeciwnikiem]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = parent, stateno = [944,946]
trigger1 = parent, stateno != [980,989]
anim = 1982
id = 90007
pos = 5,5
angle = 45
scale = 0.2+var(6)*0.025*0.45,0.2+var(6)*0.025*0.45
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = -1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Podmuch]
type = Explod
ownpal = 1
trigger1 = time = 5 && pos y >= -10
trigger1 = parent, stateno != [940,949]
anim = F674
id = 90010
pos = -10,-pos y+5
scale = 0.2+var(6)*0.005*0.45,0.2+var(6)*0.005*0.45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 7
vel = -var(6)*0.01,0
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

;------------

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 50
trigger1 = parent, stateno = 320
value = 962

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 11
trigger1 = parent, stateno = 330
value = 962

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 65
trigger1 = parent, stateno = 340
value = 962

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, End]
type = Changestate
trigger1 = parent, time >= 420
trigger1 = parent, stateno = 3001
value = 962

;Czarne Chidori

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 0 && parent, time <= 1
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 1 && parent, time <= 2
time = 1
pos = 0,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 2 && parent, time <= 3
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 982
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 983
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 984
trigger2 = parent, stateno = 985
trigger3 = parent, stateno = 986
time = 1
pos = 45*0.88,-34*0.88

[State 0, End]
type = Changestate
trigger1 = parent, stateno = 986
value = 962

;-----------------

[State 0, End]
type = Changestate
trigger1 = parent, stateno != [930,989]
trigger1 = parent, stateno != [9330,9336]
trigger1 = parent, stateno != 3001
trigger1 = parent, stateno != 320
trigger1 = parent, stateno != 330
trigger1 = parent, stateno != 340
trigger2 = parent, stateno = 935
trigger3 = parent, stateno = 937
trigger4 = parent, stateno = 932
trigger5 = parent, stateno = 943
trigger6 = parent, stateno = 946
value = 962
;------------------
;Czarna Kula End
[StateDef 962]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = facing = 1
trigger1 = parent, facing = -1
trigger1 = time%5

[State 0, Turn]
type = Turn
trigger1 = facing = -1
trigger1 = parent, facing = 1
trigger1 = time%5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 1+var(6)/15
freq = 30+var(6)/10
ampl = -3-var(6)/20
phase = 30+var(6)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = var(6)

[State 0, VarSet]
type = VarAdd
trigger1 = 1
v = 6
value = -var(5)/10

[State 0, Kula]
type = ModifyExplod
trigger1 = 1
anim = 1970
id = 90000
sprpriority = 5
scale = 0.4+var(6)*0.02*0.45,0.4+var(6)*0.02*0.45

[State 0, Kula]
type = RemoveExplod
trigger1 = time = 10
id = 90000

[State 0, Dodatkowe blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1971
id = 90001
sprpriority = 4
scale = 0.5+var(6)*0.025*0.45,0.5+var(6)*0.025*0.45

[State 0, Dodatkowe blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90001

[State 0, Explod Blyskawice]
type = ModifyExplod
trigger1 = 1
anim = 1980
id = 90004
sprpriority = 3
scale = 0.04+var(6)*0.003*0.45,0.04+var(6)*0.003*0.45

[State 0, Explod Blyskawice]
type = RemoveExplod
trigger1 = time = 10
id = 90004

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
anim = 1981
id = 90006
scale = 0.6+var(6)*0.01*0.45,0.6+var(6)*0.01*0.45

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90006

[State 0, Fala]
type = ModifyExplod
trigger1 = 1
anim = 1982
id = 90007
scale = 0.2+var(6)*0.025*0.45,0.2+var(6)*0.025*0.45

[State 0, Fala]
type = RemoveExplod
trigger1 = time = 10
id = 90007

;Charge

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 930
time = 1
pos = 2*0.88,-13*0.88

;Fail

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time <= 5
time = 1
pos = 12*0.88,-30*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 932 && time > 5
time = 1
pos = 28*0.88,2*0.88

;Bieg

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 933
time = 1
pos = -17*0.88,-43*0.88

;Uderzenie

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 0 && parent, time <= 3
trigger2 = parent, stateno = 9335 && parent, time > 0 && parent, time <= 3
time = 1
pos = -17*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 3 && parent, time <= 6
trigger2 = parent, stateno = 9335 && parent, time > 3 && parent, time <= 6
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time > 6 && parent, time <= 9
trigger2 = parent, stateno = 9335 && parent, time > 6 && parent, time <= 9
time = 1
pos = 33*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 934 && parent, time >= 10
trigger2 = parent, stateno = 9335 && parent, time >= 10
time = 1
pos = 33*0.88,-43*0.88

;Koniec

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 935 || parent, stateno = 937
trigger2 = parent, stateno = 9336
time = 1
pos = 38*0.88,-43*0.88

;Air Raikiri

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 940
time = 1
pos =1*0.88,-22*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time > 0 && parent, time <= 6
trigger2 = parent, stateno = 944 && parent, time > 0 && parent, time <= 6
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 941 && parent, time >= 7
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 942
trigger2 = parent, stateno = 943
time = 1
pos = 45*0.88,-34*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 944 && parent, time >= 7
trigger2 = parent, stateno = 945
trigger3 = parent, stateno = 946
time = 1
pos = 26*0.88,-6*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time > 0 && parent, time <= 5
time = 1
pos = 12*0.88,-31*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 948 && parent, time >= 6
time = 1
pos = 16*0.88,-40*0.88

;Koken

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time <= 5
time = 1
pos = 1*0.88,-24*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 320 && parent, time > 5
time = 1
pos = 29*0.88,2*0.88

;Senbon

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time <= 2
time = 1
pos = 0*0.88,-35*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 2 && parent, time <= 4
time = 1
pos = -8*0.88,-37*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 4 && parent, time <= 6
time = 1
pos = -24*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 330 && parent, time > 6
time = 1
pos = -26*0.88,-48*0.88

;Eiso

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time <= 5
time = 1
pos = 10*0.88,-36*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 5 && parent, time <= 15
time = 1
pos = 27*0.88,-43*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 340 && parent, time > 15
time = 1
pos = 38*0.88,-43*0.88

;Kirin

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent,  time <= 10
trigger1 = parent, stateno = 3001
time = 1
pos = -31*0.88,-39*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 10 && parent, time <= 20
trigger1 = parent, stateno = 3001
time = 1
pos = -22*0.88,-46*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 30 && parent, time <= 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, time > 33
trigger1 = parent, stateno = 3001
time = 1
pos = -14*0.88,-75*0.88

;Czarne Chidori

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 980
time = 1
pos = -32*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 0 && parent, time <= 1
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 1 && parent, time <= 2
time = 1
pos = 0,1000

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 981 && parent, time > 2 && parent, time <= 3
time = 1
pos = -13*0.88,-40*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 982
time = 1
pos = -20*0.88,-35*0.88

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 982 && parent, anim = 983
time = 1
pos = -18*0.88,-40*0.88

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 984
trigger2 = parent, stateno = 985
trigger3 = parent, stateno = 986
time = 1
pos = 45*0.88,-34*0.88

;-----------------

;Chidori Combo

[State 0, BindToRoot]
type = BindToRoot
trigger1 = parent, stateno = 294
time = 1
pos = 19*0.88,-66*0.88

;-----------------

[State 0, End]
type = Destroyself
trigger1 = time = 11
;---------------------------------------------------------------------------
;Lot Chidori
[Statedef 103003]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 1
anim = F470
pos = -30+random%60,-30+random%60
scale = .5,.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority= 3
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = 1
y = .1

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = F460
scale = 1.25,1.25
pos = 0,0
postype = p1
bindtime = -1
removetime = 18
sprpriority = 3

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = F460
scale = 1,1
pos = 30,5
postype = p1
bindtime = -1
removetime = 18
sprpriority = 3

[State 213, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 0
anim = F460
scale = 0.75,0.75
pos = 60,10
postype = p1
bindtime = -1
removetime = 18
sprpriority = 3

[State 212, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050
;----------------------------------------------------------------------------
;Sharingan
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,33
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1022
pos = 3*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Sharingan
[Statedef 1005]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,33
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,6
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*4,0-time*4,0-time*4

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -40,-40,-40

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -40+(time-20)*4,-40+(time-20)*4,-40+(time-20)*4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1022
pos = 2*0.95,-57*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 0

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1010]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,22
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1023
pos = 3*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;EMS
[Statedef 1015]
type    = A
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 1015
ctrl = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 70850
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,22
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,15
channel = 6

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 10
time = 2
add = 0-time*7,0-time*7,0-time*7

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time >= 10 && time <= 20
time = 2
add = -70,-70,-70

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time > 20
time = 2
add = -70+(time-20)*7,-70+(time-20)*7,-70+(time-20)*7

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1023
pos = 2*0.95,-57*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 1500]
type = SuperPause
trigger1 = time = 1
time = 30
movetime = 30
supermove = 30
anim = 9999
darken = 0
unhittable = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 2

[State 1500, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 30

[State 250, 5]
type = ChangeState
trigger1 = time = 30
value = 50
ctrl = 1
;-----------------
;Susano Bones
[StateDef 1620]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = cond(pos y = 0,1620,1621)
poweradd = 0
sprpriority = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A   

[State 0, PlaySnd]
type = PlaySnd
trigger1 =0; animelem = 1
value = S1,0+random%27
channel = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, end]
type = ChangeState
trigger1 = time = 10
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones
[StateDef 1625]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1625
poweradd = -100
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F10,2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 6
freq = 7
ampl = -2
phase = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 10
trigger1 = parent, var(18) <= 1
v = 18
value = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 1629
id = 629
pos = -5,5
scale = 0.35,0.25
postype = p1
facing = facing
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
anim = 1629
id = 629
pos = -5,5
scale = 0.35,0.25
postype = p1
facing = facing
bindtime = -1
removetime = -1
sprpriority = 3
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 9 && numhelper(627) = 0
helpertype = normal;player
name = "Susano"
ID = 627
stateno = 1627
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40

[State 0, Helper]
type = Helper
trigger1 = time = 10 && numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 624
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, end]
type = changestate
trigger1 = time > 15 && numhelper(624) = 0
trigger2 = time > 15 && root, var(18) != 1
trigger3 = root, stateno = [5000,5299]
trigger4 = root, stateno = [100000,199999]
trigger5 = root, stateno = 70600
trigger6 = root, stateno = 70800
trigger7 = root, stateno = [60,98]
trigger8 = root, stateno = [102,103]

trigger9 = root, stateno = [402,408]
trigger10 = root, stateno = 330
trigger11 = root, stateno = 300 || root, stateno = 306 || root, stateno = 310
trigger12 = root, stateno = 320
trigger13 = root, stateno = 800
trigger14 = root, stateno = [933,939]
trigger15 = root, stateno = [941,989]
trigger16 = root, stateno = 3000
trigger17 = root, stateno = [933,939]
trigger18 = root, stateno = [621,622]
trigger19 = root, stateno = [641,642]
trigger20 = root, stateno = 204 || root, stateno = 223 || root, stateno = 232 || root, stateno = 262 || root, stateno = 263 || root, stateno = 266 || root, stateno = [273,275]
trigger21 = root, stateno = [241,245]
trigger22 = root, stateno = [291,294]
trigger23 = root, stateno = [298,299]

trigger24 = time >= 180
triggerall = root, stateno != [1630,1680]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
triggerall = numhelper(1670) = 0
triggerall = numhelper(1680) = 0
value = 1626

[State 0, end]
type = changestate
trigger1 = root, stateno = [200,299]
triggerall = time >= 20
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
triggerall = numhelper(1670) = 0
triggerall = numhelper(1680) = 0
value = 1626
;-----------------
;Susanoo Bones
[StateDef 1626]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1626
poweradd = 0
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 5
v = 18
value = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 0
anim = 1629
ID = 629
pos = -5,5
scale = 0.4,0.3
postype = p1
facing = cond(root, facing = 1,1,-1)
bindtime = -1
removetime = 10
sprpriority = 3
ownpal = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10
id = 629

[State 0, end]
type = destroyself
trigger1 = time = 20
;-----------------
;Susanoo Bones
[StateDef 1627]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1627
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = root, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = root, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, end]
type = changestate
trigger1 = time > 15 && numhelper(624) = 0
trigger2 = time > 15 && root, var(18) != 1
trigger3 = root, stateno = [5000,5299]
trigger4 = root, stateno = [100000,199999]
trigger5 = root, stateno = 70600
trigger6 = root, stateno = 70800
trigger7 = root, stateno = [60,98]
trigger8 = root, stateno = [102,103]

trigger9 = root, stateno = [402,408]
trigger10 = root, stateno = 330
trigger11 = root, stateno = 300 || root, stateno = 306 || root, stateno = 310
trigger12 = root, stateno = 320
trigger13 = root, stateno = 800
trigger14 = root, stateno = [933,939]
trigger15 = root, stateno = [941,989]
trigger16 = root, stateno = 3000
trigger17 = root, stateno = [933,939]
trigger18 = root, stateno = [621,622]
trigger19 = root, stateno = [641,642]
trigger20 = root, stateno = 204 || root, stateno = 223 || root, stateno = 232 || root, stateno = 262 || root, stateno = 263 || root, stateno = 266 || root, stateno = [273,275]
trigger21 = root, stateno = [241,245]
trigger22 = root, stateno = [291,294]
trigger23 = root, stateno = [298,299]

trigger24 = time >= 180
triggerall = root, stateno != [1630,1680]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
triggerall = numhelper(1670) = 0
triggerall = numhelper(1680) = 0
value = 1628

[State 0, end]
type = changestate
trigger1 = root, stateno = [200,299]
triggerall = time >= 20
triggerall = root, stateno != [1630,1660]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
triggerall = numhelper(1670) = 0
triggerall = numhelper(1680) = 0
value = 1628
;-----------------
;Susanoo Bones
[StateDef 1628]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1628
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = root, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = root, facing = 1 && facing = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, end]
type = destroyself
trigger1 = time = 10
;-----------------
;Susanoo Bones 1
[StateDef 1630]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1630,1633)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1630) = 0
helpertype = normal;player
name = "Reka"
ID = 1630
stateno = 1631
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 1631]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1631
poweradd = 0
sprpriority = 5

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = F14,5

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 13
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-60
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-5
airguard.velocity = -15,-5
air.type = High
air.velocity = -15,-5
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 109990
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1630
value = 1632
ctrl = 1
;-----------------
;Susanoo Bones 1
[StateDef 1632]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1632
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 2
[StateDef 1640]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1640,1643)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(1640) = 0
helpertype = normal;player
name = "Reka"
ID = 1640
stateno = 1641
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 1641]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1641
poweradd = -200
sprpriority = 5

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1644
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 6
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 15
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-40-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 16
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-50
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1640
value = 1642
ctrl = 1
;-----------------
;Susanoo Bones 2
[StateDef 1642]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1642
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 3
[StateDef 1650]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1650,1653)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1650) = 0
helpertype = normal;player
name = "Reka"
ID = 1650
stateno = 1651
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1650
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 1651]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1651
poweradd = 0
sprpriority = -2

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 10
freq = 30
ampl = -7
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F550
id = 550
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 1.5,1.5
sprpriority = 4
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && pos y >= -10
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F587
id = 587
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 0.7,0.7
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = time = 20 && pos y >= -10
anim = F64
id = 64
pos = 105,-pos y+5
postype = p1  ;p2,front,back,left,right
scale = 1,0.4
sprpriority = -2
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20 && pos y >= -10
persistent = 0
anim = F530
pos = 100,-pos y+5
vel = -1,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20 && pos y >= -10
persistent = 0
anim = F530
pos = 110,-pos y+5
vel = 1,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 0.8,0.8
ownpal = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = !time
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-15
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,20
airguard.velocity = -3,20
air.type = High
air.velocity = -3,20
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1652
ctrl = 1
;-----------------
;Susanoo Bones 3
[StateDef 1652]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1652
poweradd = 0
sprpriority = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------
;Susanoo Bones 4
[StateDef 1660]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(pos y = 0,1660,1663)
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y != 0
statetype = A      
movetype = A
physics = A 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1660) = 0
helpertype = normal;player
name = "Reka"
ID = 1660
stateno = 1661
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1660
value = cond(pos y = 0,0,50)
ctrl = 1
;-----------------
;Susanoo Bones 4
[StateDef 1661]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1661
poweradd = 0
sprpriority = -2

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-25-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 30
pos = 80*0.9,-10*0.9

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 3
trigger1 = target, ishelper = 1
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-35
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = animelem = 3
trigger1 = target, ishelper = 0
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
pausetime = 0, 0
sparkno = S905
sparkxy = -15,0.9*-35
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
p2stateno = 103009
fall = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1662
ctrl = 1
;-----------------
;Susanoo Bones 4
[StateDef 1662]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1662
poweradd = 0
sprpriority = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = -3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -2

[State 0, HitDef]
type = HitDef
getpower = 0
givepower = 0
trigger1 = time = 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = -2
pausetime = 0, 0
sparkno = S9053453425
sparkxy = -15,0.9*-35
hitsound = S6, 543245
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall.damage = 50
fall = 1

[State 0, End]
type = destroyself
trigger1 = AnimTime = 0
;-----------------------------
;Zmiazdzenie
[StateDef 103009]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5000+var(0)*10000
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = time = 5
persistent = 0
anim = F19
id = 19
angle = random
pos = 0,-40
postype = p1  ;p2,front,back,left,right
scale = 1.5,1.5
sprpriority = 5
bindtime = 1
facing = 1
ownpal = 1
ontop = 0
removetime = -2

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 0, ChangeState]
type = SelfState
trigger1 = time = 30
value = 5050
ctrl = 1
;-----------------
;Susanoo Bones Kagutsuchi
[StateDef 1670]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1670
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S3,23

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 10
triggerall = numhelper(1670) = 0
helpertype = normal;player
name = "Reka"
ID = 1670
stateno = 1671
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1
;-----------------
;Susanoo Bones Kagutsuchi
[StateDef 1671]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1671
poweradd = -200
sprpriority = -2

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = F24,14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = 1674
ID = 1670
pos = -15,-5
facing = -1
postype = p1
bindtime = -1
removetime = -2
scale = 0.05,0.09
sprpriority = 5
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 5
anim = 1674
ID = 1670
pos = 18,-5
facing = 1
postype = p1
bindtime = -1
removetime = -2
scale = 0.02,0.09
sprpriority = 5
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = 1674
ID = 1670
pos = -4,-10
facing = 1
postype = p1
bindtime = -1
removetime = -2
scale = 0.07,0.1
sprpriority = -2
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 10 && time < 50 && timemod = 5,0
anim = 1673
ID = 1670
pos = -5-random%10,-10-random%50
facing = -1
postype = p1
angle = -90
bindtime = -1
removetime = -2
scale = 0.15,0.25
sprpriority = 0+random%6
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time > 10 && time < 50 && timemod = 5,0
anim = 1673
ID = 1670
pos = 10+random%5,-10-random%50
facing = -1
postype = p1
angle = 90
bindtime = -1
removetime = -2
scale = 0.15,0.20
sprpriority = 0+random%6
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -20+random%35,-10-random%40
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
triggerall = hitcount < 5
triggerall = time <= 60
attr = S, NA
damage = 40,8
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 5
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall = 1

[State 0, End]
type = Destroyself
trigger1 = Time = 70
;-----------------
;Susanoo Bones Yasaka
[StateDef 1680]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1680
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27
value = S3,23

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(625) = 0
trigger1 = numhelper(624) = 0
helpertype = normal;player
name = "Susano"
ID = 625
stateno = 1625
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8;1
size.yscale = 0.8;1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 25
size.ground.back = -28
size.air.front = 20
size.air.back = -20
size.height = 70
size.head.pos = 0,-60 
size.mid.pos = 0,-40 

[State 0, Helper]
type = Helper
trigger1 = time = 0
triggerall = numhelper(1680) = 0
helpertype = normal;player
name = "Reka"
ID = 1680
stateno = 1681
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.9;1
size.yscale = 0.9;1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------
;Susanoo Bones Yasaka
[StateDef 1681]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1681
poweradd = 0
sprpriority = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1684
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
sprpriority = 7
scale = 0.9,0.9
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 2
pos = 3,5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 15
freq = 15
ampl = -3
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = F14,5

[State 0, Helper]
type = Helper
trigger1 = time = 18
triggerall = numhelper(1685) = 0
helpertype = normal;player
name = "Reka"
ID = 1685
stateno = 1685
pos = -82*0.9,-50*0.9
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 1680
value = 1632
ctrl = 1
;-----------------
;Yasaka Ogien Glowny
[StateDef 1685]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1685
poweradd = 0
sprpriority = 6

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, time > 17 && parent, time <= 47
time = 2
pos = -82*0.9,-50*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, time > 47 && parent, time <= 52
time = 2
pos = -38*0.9,-10*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, time > 52
time = 2
pos = 51*0.9,-88*0.9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
anim = 1686
ID = 1685
pos = 0,10
facing = -1
postype = p1
bindtime = -1
removetime = -2
scale = 0.05,0.05
sprpriority = 6
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -15+random%30,10-random%25
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 6
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, time = 54
helpertype = normal;player
name = "Yasaka"
ID = 1690
stateno = 1690
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, time = 56
helpertype = normal;player
name = "Yasaka"
ID = 1691
stateno = 1690
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, time = 58
helpertype = normal;player
name = "Yasaka"
ID = 1692
stateno = 1690
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, time = 60
helpertype = normal;player
name = "Yasaka"
ID = 1693
stateno = 1690
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = parent, time = 62
helpertype = normal;player
name = "Yasaka"
ID = 1694
stateno = 1690
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = Destroyself
trigger1 = parent, stateno != 1681
trigger2 = time = 50
;-----------------
;Yasaka
[StateDef 1690]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1690
poweradd = 0
sprpriority = 6

[State 0, Amaterasu 200]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 100
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109961

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4+random%10
y = -2-random%5

[State 0, PlaySnd]
type = PlaySnd
triggerall = timemod = 10,0
trigger1 = ishelper(1690)
trigger2 = ishelper(1691) && numhelper(1690) = 0
trigger3 = ishelper(1692) && numhelper(1691) = 0
trigger4 = ishelper(1693) && numhelper(1692) = 0
trigger5 = ishelper(1694) && numhelper(1693) = 0
value = F10,2

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -15+random%30,15-random%30
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 4+random%3
scale = 0.4,0.4
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, BindToTarget]
type = BindToTarget
trigger1 = 1
time = 1
pos = 0,-30,Foot

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
triggerall = hitcount < 5
attr = S,NT
damage = 25,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 0,10
sparkno = -1
sparkxy = -25+random%40, -10-random%30
hitsound = F10, 645363
guardsound = F10, 45646
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0
y = 0

[State 0, VelSet]
type = VelAdd
trigger1 = pos y < -10
triggerall = vel x > 4
triggerall = !movehit
x = -0.1

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -10
triggerall = vel x <= 4
triggerall = !movehit
x = 4

[State 0, VelSet]
type = VelAdd
trigger1 = pos y < -10
triggerall = vel y < 5
triggerall = !movehit
y = 0.2

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -10
triggerall = vel y >= 5
triggerall = !movehit
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
y = -10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, var(15) = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno = 540 && root, time = 70

[State 0, End]
type = destroyself
trigger1 = time = 60
trigger2 = animtime = 0 && p2life = 0
trigger3 = animtime = 0 && life = 0
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 103030]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, End]
type = ChangeState
trigger1 = time = 10
value = 105502
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105502]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5060+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5060 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 8

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, Explod]
type = Explod
trigger1 = pos y >= 0
persistent = 0
anim = F64
pos = 0,2
scale = 0.6,0.3
postype = p1
facing = 1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = -2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.7
ownpal = 1  

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F540
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = 1.7,1.4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = pos y >= 0
persistent = 0
anim = F550
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = 1.4,1.4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F14,6

[State 0, End]
type = ChangeState
trigger1 = pos y >= 0
value = 105503
;-----------------------------------------------------------------
;Odbicie od ziemi
[StateDef 105503]
type = A
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5050+ var(0)*10000
poweradd = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 5050 + var(0)*10000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 1
statetype = A       
movetype = H      
physics = A  

[State 0, End]
type = SelfState
trigger1 = vel y > 0
value = 5050
;-----------------
;Sasuke Susano Stance
[StateDef 2000]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-20 && timemod = 20,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

;Walk Fwd
[State -1, Walk Fwd]
type = ChangeState
value = 2001
;P1
trigger1 = command = "holdfwd"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 150
trigger2 = random = [10,19+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

;Walk Back
[State -1, Walk Back]
type = ChangeState
value = 2002
;P1
trigger1 = command = "holdback"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,100]
trigger2 = random = [20,29-var(49)*(var(49))/200+cond(p2movetype = A,var(49)*(var(49))/50,0)]
trigger2 = var(50) = 1

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2010
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-120,0]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,400]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Sasuke Susanoo Walk Fwd
[StateDef 2001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2001
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)*0.8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = var(50) = 0
trigger2 = p2bodydist x < 70
trigger2 = var(50) = 1
triggerall = time > 10
value = 2000
;-----------------
;Sasuke Susanoo Walk Back
[StateDef 2002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2002
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)*0.8

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = var(50) = 0
trigger2 = p2bodydist x > 100 && time > (20-var(49)*(var(49))/100)
trigger2 = var(50) = 1
triggerall = time > 10
value = 2000
;-----------------
;Sasuke Susanoo Atak
[StateDef 2010]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2010
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 12010
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000

;Combo
[State -1, Combo]
type = ChangeState
value = 2020
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2110

;Combo
[State -1, Combo]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2110
;-----------------
;Sasuke Susanoo Atak
[StateDef 2020]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
poweradd = 0
sprpriority = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 12020
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,0+random%5

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000

;Combo
[State -1, Combo]
type = ChangeState
value = 2030
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 8 && helper(2100), movecontact && helper(2100), stateno = 2120
;-----------------
;Sasuke Susanoo Atak
[StateDef 2030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2030
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
triggerall = prevstateno != 2050
value = S2,25+random%2
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
triggerall = prevstateno = 2050
value = S3,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
triggerall = prevstateno = 2050
value = S3,31

[State 0, end]
type = ChangeState
trigger1 = time > 10 && var(50) = 0 && command != "hold_b"
trigger2 = power = 0
trigger3 = time > 10 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = time > 10 && var(50) = 1 && p2bodydist x < 0 && random = [0,100+var(49)*(var(49))/10]
trigger5 = time = 40
triggerall = prevstateno != 2050
value = 2031
ctrl = 1

[State 0, end]
type = ChangeState
trigger1 = time = 20
triggerall = prevstateno = 2050
value = 2031
ctrl = 1
;-----------------
;Sasuke Susanoo Atak
[StateDef 2031]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2032
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,10+random%3
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2000
ctrl = 1
;-----------------
;Sasuke Susanoo Enton Kagetsuchi
[StateDef 2040]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 380
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 3
trigger4 = helper(2100), var(10) >= 600
trigger5 = numhelper(2100) = 0
trigger6 = numhelper(2200) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2095
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,23

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,15
channel = 6

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 1014
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod Postac]
type = Explod
ownpal = 1
trigger1 = time = 10
anim = 381
id = 380
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
removeongethit = 1
scale = 1.2,1.1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal;player
name = "enton"
ID = 385
stateno = 385+random%2
pos = 0,-20
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 2000
ctrl = 1
;-----------------
;Sasuke Susanoo Amaterasu Sword
[StateDef 2050]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2050
poweradd = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 0;1
value = -4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 6522, Helper]
type = Helper
trigger1 = animelem = 2
name = "Amaterasu"
helpertype = normal
postype = p1
pos = 100,0
ownpal = 1
stateno = 2051
ID = 2051
size.xscale = 0.4
size.yscale = 0.4
pausemovetime = 9999
supermovetime = 9999

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0 && numhelper(2051) = 0
value = 2000

[State 100, 4]
type = ChangeState
trigger1 = numhelper(2051) != 0 && helper(2051), movecontact
value = 2030
;------------------------
;Amaterasu prowadzenie
[Statedef 2051]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3052
poweradd = -500
sprpriority = 2

[State 0, Amaterasu 200]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 50
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109961

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0
loop = 1
channel = 17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,0
loop = 1
channel = 17

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = 5

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 516
ID = 516
pos = -25+random%50,0-random%25
angle = -20+random%40
facing = 1
postype = p1
bindtime = 10
removetime = -2
scale = 0.25,0.25
sprpriority = -2+random%6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NT
damage = 5,5
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12

[State 200, 7]
type = Destroyself
trigger1 = time > 50 && frontedgebodydist < -50
trigger2 = hitcount > 20

[State 0, ChangeState]
type = ChangeState
trigger1 = pos x - helper(2135), pos x = [-20,20]
;trigger1 = pos y - helper(2135), pos y = [-80,50]
triggerall = numhelper(2135) != 0
triggerall = power >= 2000
value = 2052
;--------------------------

;Amaterasu duze
[Statedef 2052]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3053
poweradd = -2000
sprpriority = 2

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 30
channel = 17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,2
loop = 1
channel = 18

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 110
channel = 18

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0 && numexplod(521) < 20
anim = 516
ID = 521
pos = -130+random%260,5-random%30
facing = -1
postype = p1
bindtime = 1
removetime = -2
scale = 0.24,0.24
sprpriority = 1
supermovetime = 9999
pausemovetime = 9999
ownpal = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
pos = 0,0

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0 
triggerall = hitcount < 20
attr = S, NT
damage = 50,50
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 30
sparkno = -1
sparkxy = -15, -35
hitsound = F10, 2
guardsound = F10, 2
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 20
envshake.ampl = 8
envshake.freq = 80

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0 
id = 513

[State 200, 7]
type = Destroyself
trigger1 = time = 110
;-----------------
;Sasuke Susano Start
[StateDef 2090]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2090
poweradd = -200
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,37+random%2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1023
pos = 3*0.95,-54*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
persistent = 0
helpertype = player
name = "Susano"
ID = 2100
stateno = 2190
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8
size.ground.front = 50*0.88
size.ground.back = -60*0.88
size.air.front = 50*0.88
size.air.back = -50*0.88
size.height = 175*0.88
size.head.pos = 0,-130*0.88 
size.mid.pos = 0,-60 *0.88

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 2000
ctrl = 1
;-----------------
;Sasuke Susanoo Koniec
[StateDef 2095]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2095
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,35

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0 
v = 2  
value = 15

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 191+random%3
ctrl = 0
;-----------------
;Susanoo
[StateDef 2100]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2100
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 3

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != [2000,2094]
trigger2 = parent, var(18) != 3
trigger3 = time > 10 && numhelper(2200) = 0
trigger4 = parent, stateno = 2095
value = 2195
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2001
value = 2101
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2002
value = 2102
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2080
triggerall = time > 5
value = 2180
ctrl = 0
;-----------------
;Susanoo
[StateDef 2101]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2101
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2001
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2080
triggerall = time > 5
value = 2180
ctrl = 0
;-----------------
;Susanoo
[StateDef 2102]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2102
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2002
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2080
triggerall = time > 5
value = 2180
ctrl = 0
;-----------------
;Susanoo
[StateDef 2110]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2110
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-10-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,-10
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,3
airguard.velocity = -3,3
air.type = High
air.velocity = -3,3
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2010
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2020
triggerall = time > 5
value = 2120
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0
;-----------------
;Susanoo
[StateDef 2120]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2120
poweradd = 0
sprpriority = 4

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-70-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NA
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,-80
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-6
airguard.velocity = -7,-6
air.type = High
air.velocity = -7,-6
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2020
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2010
triggerall = time > 5
value = 2110
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2030
triggerall = time > 5
value = 2130
ctrl = 0
;-----------------
;Susanoo
[StateDef 2130]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2130
poweradd = 0
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time > 0
v = 10
value = time

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,30

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != [2030,2031]
value = 2100
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2031
value = 2131
ctrl = 0
;-----------------
;Susanoo
[StateDef 2131]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2131
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-10
scale = 0.55,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,32+random%3

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Strzala"
ID = 2135
stateno = 2135
pos = 60*0.88,-95*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2030
value = 2100
ctrl = 0
;-----------------
;Strzala
[StateDef 2135]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2135
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim = 518
pos = -30+random%50,-10+random%20
postype = p1
facing = 1
;angle = atan(vel y/vel x)*180/PI 
bindtime = 2
removetime = -2
sprpriority = 4+random%2
scale = 0.8,0.8
vel = -2,-2
accel = 0.05,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = numexplod(2137) = 0
anim = 2137
ID = 2137
pos = 0,0
postype = p1
facing = 1
angle = -atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.5,0.3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2137
pos = 0,0
angle = -atan(vel y/vel x)*180/PI 

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = parent, var(10)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 15+var(10)*0.8
y = 0.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = C, HP
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-2
airguard.velocity = -10,-5
air.type = High
air.velocity = -10,-5
air.hittime = 12
p1stateno = 2136
;p2stateno = 109990
fall = 1

[State 811, end]
type = changestate
trigger1 = time > 10 && pos y >= -10
trigger2 = time > 10 && frontedgebodydist < 0
trigger3 = time >= 200
value = 2136
;-----------------
;Wybuch
[StateDef 2136]
type = S
movetype= A
physics = S
juggle  = 1
velset = 10,2
ctrl = 0
anim = 2136
poweradd = 0
sprpriority = 5

[State 0, Amaterasu 300]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(56) < 150
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109962

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 2137

;Wybuch

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && pos y >= -20
value = F16,1

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time < 20 && timemod = 2,0
anim = 518
pos = -50+random%100,10-random%40
vel = -3+random%7,-2-random%4
accel = 0,0.1
angle = -40+random%80
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 4+random%3
ontop = 0

;Efekty Ogien


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S6,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = F10,2

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 518
pos = -30+random%60,-10-random%30
postype = p1
facing = 1
angle = -20+random%40
bindtime = 5
removetime = -2
sprpriority = 6
scale = 0.4,0.4
vel = 0,-2-random%3
accel = 0,0.05
ownpal = 0
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
triggerall = hitcount < 5
attr = S,NT
damage = 50,25
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 0,15
sparkno = -1
sparkxy = -25+random%40, -10-random%30
hitsound = F10, 645363
guardsound = F10, 45646
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 10
envshake.freq = 20
envshake.ampl = -5
envshake.phase = 10

[State 0, VelSet]
type = VelSet
trigger1 = pos y < -10
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
;trigger2 = movehit
y = -10

[State 0, End]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Susanoo
[StateDef 2190]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2190
poweradd = 0
sprpriority = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2000,2094]
time = 2
facing = 0
pos = 0,0

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 3

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(2200) = 0
helpertype = normal;player
name = "Susano"
ID = 2200
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
size.ground.front = 50*0.88
size.ground.back = -60*0.88
size.air.front = 50*0.88
size.air.back = -50*0.88
size.height = 175*0.88
size.head.pos = 0,-130*0.88 
size.mid.pos = 0,-60 *0.88

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(2400) = 0
helpertype = normal;player
name = "Miecz"
ID = 2400
stateno = 2400
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 2100
ctrl = 0
;-----------------
;Susanoo
[StateDef 2195]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2195
poweradd = 0
sprpriority = 4

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2301

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
anim = 2302
id = 2302
pos = 0,-10
scale = 0.5,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Miecz Susanoo
[StateDef 2400]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = parent,anim+300
poweradd = 0
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
pos = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Turn]
type = Turn
trigger1 = facing = 1 && parent, facing = -1
trigger2 = facing = -1 && parent, facing = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != parent,anim+300
value = parent,anim+300

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State -3, Miecz]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 1
palbright = 0,0,0
palcontrast = 150,100,200
palpostbright = 0,0,0
paladd = 2,1,3
palmul = .25,.5,.35
timegap = 1
framegap = 1
trans = add

[State 2000, 2]
type = destroyself
trigger1 = parent, stateno = 2195
trigger2 = parent, stateno = [2180,2189]
;-----------------
;Susanoo Combo Stance
[StateDef 2500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2500
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = 1
v = 19  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 2590 && prevstateno != [2910,2940]
value = S6,9

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2600) = 0
helpertype = normal;player
name = "Susano"
ID = 2600
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -15
size.height = 150
size.head.pos = 20,-125 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 276
triggerall = time > 5
value = 2510
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 277
triggerall = time > 5
value = 2520
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 278
triggerall = time > 5
value = 2530
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 279
triggerall = time > 5
value = 2540
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = time = 30
trigger2 = parent, var(18) != 2
trigger3 = parent, stateno = [5000,5299]
trigger4 = parent, stateno = [100000,199999]
trigger5 = parent, stateno = 70600
trigger6 = parent, stateno = 70800
trigger7 = parent, stateno = [60,98]
trigger8 = parent, stateno = [102,103]
trigger9 = time > 15 && numhelper(2600) = 0
trigger10 = parent, pos y < 0
triggerall = root, stateno != [276,279]
value = 2595
;-----------------
;Susanoo Combo 1
[StateDef 2510]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2510
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(18) <= 2
v = 18  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,-20-random%40
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 150,30
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S906
sparkxy = -15,-30
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3,4
airguard.velocity = -3,4
air.type = High
air.velocity = -3,4
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2600) = 0
helpertype = normal;player
name = "Susano"
ID = 2600
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -15
size.height = 150
size.head.pos = 20,-125 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 276
value = 2500
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 277
triggerall = time > 5
value = 2520
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 278
triggerall = time > 5
value = 2530
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 279
triggerall = time > 5
value = 2540
ctrl = 1
;-----------------
;Susanoo Combo 2
[StateDef 2520]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2520
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(18) <= 2
v = 18  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Strzala"
ID = 2525
stateno = 2525
pos = 65*0.6,-147*0.6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2600) = 0
helpertype = normal;player
name = "Susano"
ID = 2600
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -15
size.height = 150
size.head.pos = 20,-125 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 277
value = 2500
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 276
triggerall = time > 5
value = 2510
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 278
triggerall = time > 5
value = 2530
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 279
triggerall = time > 5
value = 2540
ctrl = 1
;-----------------
;Strzala
[StateDef 2525]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2525
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = numexplod(2137) = 0
trigger1 = time > 0
anim = 2137
ID = 2137
pos = 0,0
postype = p1
facing = 1
angle = -atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.4,0.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2137
pos = 0,0
angle = -atan(vel y/vel x)*180/PI 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 20
y = 0.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI ;-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2017
sparkxy = -15,0
hitsound = 24, 10+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-5
airguard.velocity = -20,-5
air.type = High
air.velocity = -20,-5
air.hittime = 12
p2stateno = 109990
fall = 1

[State 0, end]
type = changestate
trigger1 = time > 10 && pos y >= -10
value = 2526

[State 0, end]
type = destroyself
trigger1 = time > 10 && frontedgebodydist < 0
trigger2 = time >= 300
;-----------------
;Wybuch
[StateDef 2526]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
ID = 2137

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

;2525

[State 0, AngleDraw]
type = Changeanim
trigger1 = prevstateno = 2525
persistent = 0
value = 2526

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
trigger1 = prevstateno = 2525
persistent = 0
anim = F1200
pos = 60*0.6,20*0.6
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2525
anim = F550
pos = 50*0.6,20*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.5,1.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 15
trigger1 = prevstateno = 2525
anim = F591
ID = 591
pos = 40*0.6+random%40,30*0.6-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2525
anim = F64
pos = 60*0.6,20*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.2
sprpriority = -1
ownpal = 1

;2535

[State 0, AngleDraw]
type = Changeanim
trigger1 = prevstateno = 2535
persistent = 0
value = 2536

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
trigger1 = prevstateno = 2535
persistent = 0
anim = F1200
pos = 45*0.6,35*0.6
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 5
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2535
anim = F550
pos = 38*0.6,35*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1.5,1.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 15
trigger1 = prevstateno = 2535
anim = F591
ID = 591
pos = 25*0.6+random%40,45*0.6-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2535
anim = F64
pos = 45*0.6,35*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.2
sprpriority = -1
ownpal = 1

;2545

[State 0, AngleDraw]
type = Changeanim
trigger1 = prevstateno = 2545
persistent = 0
value = 2546

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 0
trigger1 = prevstateno = 2545
persistent = 0
anim = F1190
pos = 10*0.6,56*0.6
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,1
sprpriority = 5
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2545
anim = F550
pos = 10*0.6,56*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 1,1.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 15
trigger1 = prevstateno = 2545
anim = F591
ID = 591
pos = -10*0.6+random%40,66*0.6-random%20
vel = -2+random%4,-3
accel = 0,0.05
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger1 = prevstateno = 2545
anim = F64
pos = 10*0.6,56*0.6
postype = p1
bindtime = -1
removetime = -2
supermovetime=9999
pausemovetime=9999
scale = 0.7,0.2
sprpriority = -1
ownpal = 1

;Wybuch

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
persistent = 0
value = F15,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
y = -10

[State 0, Trans]
type = Trans
trigger1 = time >= 25
trans = addalpha
alpha = 256-(time-25)*10,256

[State 0, End]
type = destroyself
trigger1 = time = 50
;-----------------
;Susanoo Combo 3
[StateDef 2530]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2530
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(18) <= 2
v = 18  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Strzala"
ID = 2535
stateno = 2535
pos = 65*0.6,-147*0.6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2600) = 0
helpertype = normal;player
name = "Susano"
ID = 2600
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -15
size.height = 150
size.head.pos = 20,-125 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 278
value = 2500
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 276
triggerall = time > 5
value = 2510
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 277
triggerall = time > 5
value = 2520
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 279
triggerall = time > 5
value = 2540
ctrl = 1
;-----------------
;Strzala
[StateDef 2535]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2535
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = numexplod(2137) = 0
trigger1 = time > 0
anim = 2137
ID = 2137
pos = 0,0
postype = p1
facing = 1
angle = -atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.4,0.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2137
pos = 0,0
angle = -atan(vel y/vel x)*180/PI 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 15
y = -5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI ;-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2017
sparkxy = -15,0
hitsound = 24, 10+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-7
airguard.velocity = -15,-7
air.type = High
air.velocity = -15,-7
air.hittime = 12
p2stateno = 109990
fall = 1

[State 0, end]
type = changestate
trigger1 = time > 10 && pos y >= -10
value = 2526

[State 0, end]
type = destroyself
trigger1 = time > 10 && frontedgebodydist < 0
trigger2 = time >= 300
;-----------------
;Susanoo Combo 4
[StateDef 2540]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2540
poweradd = 0
sprpriority = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(18) <= 2
v = 18  
value = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, pos y >= 0
time = 2
pos = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 6
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 && prevstateno != 2590 && prevstateno != [2510,2540]
value = S6,2+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S6,31

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal;player
name = "Strzala"
ID = 2545
stateno = 2545
pos = -3*0.6,-223*0.6
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(2600) = 0
helpertype = normal;player
name = "Susano"
ID = 2600
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999
size.ground.front = 50
size.ground.back = -50
size.air.front = 30
size.air.back = -15
size.height = 150
size.head.pos = 20,-125 
size.mid.pos = 0,-60 

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0 && parent, stateno != 279
value = 2500
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 276
triggerall = time > 5
value = 2510
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 277
triggerall = time > 5
value = 2520
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = parent, stateno = 278
triggerall = time > 5
value = 2530
ctrl = 1
;-----------------
;Strzala
[StateDef 2545]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2545
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = numexplod(2137) = 0
trigger1 = time > 0
anim = 2137
ID = 2137
pos = 0,0
postype = p1
facing = 1
angle = -atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.4,0.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2137
pos = 0,0
angle = -atan(vel y/vel x)*180/PI 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 1+random%4
y = -12

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -atan(vel y/vel x)*180/PI ;-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = C, HP
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 2017
sparkxy = -15,0
hitsound = 24, 10+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,cond(vel y < 0,-8,8)
airguard.velocity = -2,cond(vel y < 0,-8,8)
air.type = High
air.velocity = -2,cond(vel y < 0,-8,8)
air.hittime = 12
fall = 1

[State 0, end]
type = changestate
trigger1 = time > 10 && pos y >= -20
value = 2526

[State 0, end]
type = destroyself
trigger1 = time > 10 && frontedgebodydist < 0
trigger2 = time >= 300
;-----------------
;Susanoo Combo End
[StateDef 2595]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2595
poweradd = 0
sprpriority = 4

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 10
ampl = -3
phase = 5

[State 0, VarSet]
type = ParentVarSet
trigger1 = parent, var(18) = 2
v = 18  
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2301

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
anim = 2302
id = 2302
pos = 0,-10
scale = 0.3,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,9

[State 0, End]
type = destroyself
trigger1 = time = 10
;-----------------
;Perfect Susano Sasuke Stance
[StateDef 2700]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2700
poweradd = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-20 && timemod = 20,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

; Run Fwd
[State -1, Run Fwd]
type = ChangeState
value = 2701
;P1
trigger1 = command = "holdfwd"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 150
trigger2 = random = [10,19+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

; Run Back
[State -1, Run Back]
type = ChangeState
value = 2702
;P1
trigger1 = command = "holdback"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,100]
trigger2 = random = [20,29-var(49)*(var(49))/200+cond(p2movetype = A,var(49)*(var(49))/50,0)]
trigger2 = var(50) = 1

; Fly Fwd
[State -1, Run Fwd]
type = ChangeState
value = 2705
;P1
trigger1 = command = "up"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 300
trigger2 = random = [0,5+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2710
;PLAYER
trigger1 = command = "y"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [100,200]
trigger2 = p2dist y = [-300,-200]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2720
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2730
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 4
[State -1, Combo 4]
type = ChangeState
value = 2740
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [200,400]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [250,251+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Perfect Susano Sasuke WalkF
[StateDef 2701]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2701
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
trigger1 = var(50) = 0
trigger2 = p2bodydist x < 70
trigger2 = var(50) = 1
triggerall = time > 10
value = 2700

; Fly Fwd
[State -1, Run Fwd]
type = ChangeState
value = 2705
;P1
trigger1 = command = "up"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 300
trigger2 = random = [0,5+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2710
;PLAYER
trigger1 = command = "y"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [100,200]
trigger2 = p2dist y = [-300,-200]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2720
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2730
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 4
[State -1, Combo 4]
type = ChangeState
value = 2740
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,400]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [250,251+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Perfect Susano Sasuke Walk B
[StateDef 2702]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2702
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 100, 4]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = var(50) = 0
trigger2 = p2bodydist x > 100 && time > (20-var(49)*(var(49))/100)
trigger2 = var(50) = 1
triggerall = time > 10
value = 2700

; Fly Fwd
[State -1, Run Fwd]
type = ChangeState
value = 2705
;P1
trigger1 = command = "up"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x > 300
trigger2 = random = [0,5+var(49)*(var(49))/50+(p2bodydist x)/50]
trigger2 = var(50) = 1

;Combo 1
[State -1, Combo 1]
type = ChangeState
value = 2710
;PLAYER
trigger1 = command = "y"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [100,200]
trigger2 = p2dist y = [-300,-200]
trigger2 = random = [100,101+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 2
[State -1, Combo 2]
type = ChangeState
value = 2720
;PLAYER
trigger1 = command = "a"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [150,151+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 3
[State -1, Combo 3]
type = ChangeState
value = 2730
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,200]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]

;Combo 4
[State -1, Combo 4]
type = ChangeState
value = 2740
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [50,400]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [250,251+var(49)*(var(49))/50]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;-----------------
;Perfect Susano Sasuke Fly Fwd
[StateDef 2705]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2705
poweradd = 0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 2702
trigger1 = !time

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 15

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && time < 30
y = -5

[State 0, Gravity]
type = Gravity
trigger1 = time >= 30 && pos y < 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 100, 4]
type = ChangeState
trigger1 = time >= 30 && pos y >= 0
value = 2700
;-----------------
;Perfect Susano Sasuke Atak
[StateDef 2710]
type = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 2710
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2700

;Combo
[State -1, Combo]
type = ChangeState
value = 2730
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 10 && helper(2800), movecontact && helper(2800), stateno = 2820

;Combo
[State -1, Combo]
type = ChangeState
value = 2740
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [250,251+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 10 && helper(2800), movecontact && helper(2800), stateno = 2820
;-----------------
;Perfect Susano Sasuke Atak
[StateDef 2720]
type = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 2720
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2721
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2700

;Combo
[State -1, Combo]
type = ChangeState
value = 2710
;PLAYER
trigger1 = command = "y"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [100,101+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 10 && helper(2800), movecontact && helper(2800), stateno = 2820

;Combo
[State -1, Combo]
type = ChangeState
value = 2730
;PLAYER
trigger1 = command = "x"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [200,201+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 10 && helper(2800), movecontact && helper(2800), stateno = 2820

;Combo
[State -1, Combo]
type = ChangeState
value = 2740
;PLAYER
trigger1 = command = "b"
trigger1 = var(50) = 0
;AI RANDOM
trigger2 = p2dist x = [0,150]
trigger2 = p2dist y = [-200,50]
trigger2 = random = [250,251+var(49)*(var(49)/10)]
trigger2 = var(50) = 1
trigger2 = p2stateno != [5110,5150]
;WARUNEK
triggerall = time > 10 && helper(2800), movecontact && helper(2800), stateno = 2820
;-----------------
;Perfect Susano Sasuke Atak
[StateDef 2730]
type = S
movetype= A
physics = S
juggle  = 1
velset = 4,0
ctrl = 0
anim = 2730
poweradd = 0
sprpriority = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2731
scale = 0.88,0.88
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2700
;-----------------
;Perfect Susano Sasuke Atak
[StateDef 2740]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2740
poweradd = 0
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -6

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F8,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
volume = 255
channel = 4

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2700
;-----------------
;Perfect Susano Sasuke Amaterasu
[StateDef 2750]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2750
poweradd = 0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-20 && timemod = 20,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 6
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 501

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 505

[State 1500]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 0
supermove = 0
anim = 6436345;1170
sound = F19,2
pos = 3,-35
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,32

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 50,0
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 10 && timemod = 40,0
value = S6,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,3

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 0
value = 0,0,0
time = 50
under = 1

[State 0, PalFX]
type = PalFX
trigger1 = time > 1
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 508
ID = 507
pos = 190,100
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 0.30,0.30
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
anim = 80011
ID = 50180011
pos = 0,-50
postype = back
facing = 1
vfacing = 1
bindtime =-1
removetime = -1
scale = 0.65,0.65
sprpriority = 199
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 1024
pos = 5*0.95,-257*0.95
scale = 0.15,0.15
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = player
name = "Celownik"
ID = 510
stateno = 510
pos = 2,-54
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.15
size.yscale = 0.15
supermovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 20
triggerall = numhelper(500) = 0
helpertype = normal
name = "ama"
ID = 500
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 35
triggerall = numhelper(500) = 1
triggerall = numhelper(501) = 0
helpertype = normal
name = "ama"
ID = 501
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 50
triggerall = numhelper(501) = 1
triggerall = numhelper(502) = 0
helpertype = normal
name = "ama"
ID = 502
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 65
triggerall = numhelper(502) = 1
triggerall = numhelper(503) = 0
helpertype = normal
name = "ama"
ID = 503
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 80
triggerall = numhelper(503) = 1
triggerall = numhelper(504) = 0
helpertype = normal
name = "ama"
ID = 504
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 95
triggerall = numhelper(504) = 1
triggerall = numhelper(505) = 0
helpertype = normal
name = "ama"
ID = 505
stateno = 515
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0, End]
type = ChangeState
trigger1 = var(50) = 0 && command = "s"
trigger2 = var(50) = 1 && random = [0,50-var(49)*(var(49))/50-life/300-power/400]
trigger2 = time >= 50
trigger3 = win
trigger4 = lose
trigger5 = drawgame
trigger6 = life = 0
trigger7 = !ALive
trigger8 = power < 500
trigger9 = time = 100
value = 2751
ctrl = 1
;-----------------
;Perfect Susano Sasuke Amaterasu
[StateDef 2751]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2751
poweradd = 0
sprpriority = 0

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-20 && timemod = 20,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(50) = 0
trigger1 = command = "s"
trigger2 = var(50) = 1
trigger2 = random = [680,681]
trigger3 = var(18) != 4
trigger4 = helper(2800), var(10) >= 600
trigger5 = numhelper(2800) = 0
trigger6 = numhelper(2900) = 0
trigger7 = power = 0
trigger8 = win
trigger9 = lose
trigger10 = drawgame
trigger11 = life = 0
trigger12 = !ALive 
trigger13 = var(1) < 2
value = 2795
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 505

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 90011

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,16
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,16
channel = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 14
value = 0

[State 0, PalFX]
type = PalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 25
time = 1
add = 0,0,0
sinadd = -256+time*10,-256+time*10,-256+time*10, 60
invertall = 0
color = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 20
anim = 9998
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 200
scale = 10,10
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 2700
ctrl = 1
;-----------------
;Ulti: Indra no Ya - Jump
[StateDef 2760]
type = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2760
poweradd = 0
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 0;1
value = -5

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 35 && time < 70
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time > 35 && time < 70
y = -7

[State 0, VelSet]
type = VelSet
trigger1 = time > 70
x = 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,32

[State 6522, Helper]
type = Helper
trigger1 = time = 50
name = "deszcz"
helpertype = normal
postype = p1
pos = 0,0
ownpal = 1
stateno = 3020
ID = 3021
pausemovetime = 9999
supermovetime = 9999

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2762
;-----------------
;Ulti: Indra no Ya
[StateDef 2762]
type = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2762
poweradd = -2000
sprpriority = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = 1
value = -10

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4002
ID = 4002
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 100
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 100
add = -80,-80,-80

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,28

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S8,28

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 2795
;-----------------------------
;Perfect Susano Sasuke Start
[StateDef 2790]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 2790
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,37+random%2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F360
pos = 0,0
scale = 1,1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y > -260*0.7
y = -10

[State 0, VelSet]
type = VelSet
trigger1 = time > 10 && pos y <= -260*0.7
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
persistent = 0
helpertype = player
name = "Susano"
ID = 2800
stateno = 2890
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
size.ground.front = 70*0.7
size.ground.back = -90*0.7
size.air.front = 30*0.7
size.air.back = -30*0.7
size.height = 440*0.7
size.head.pos = 0,-420*0.7
size.mid.pos = 0,-330 *0.7
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Rozciaganie"
ID = 2791
stateno = 2791
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time > 10 && pos y <= -260*0.7; && numhelper(650) = 1
value = 2700
ctrl = 1
;-----------------
;Rozsciaganie ekranu
[StateDef 2791]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2791
poweradd = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -260
triggerall = parent, stateno != [2760,2769]
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -260
triggerall = parent, stateno != [2760,2769]
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -260
triggerall = parent, stateno != [2760,2769]
y = -240

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -560
triggerall = parent, stateno = [2760,2769]
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -560
triggerall = parent, stateno = [2760,2769]
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -560
triggerall = parent, stateno = [2760,2769]
y = -540

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [2700,2794]
;-----------------
;Perfect Susano Sasuke End
[StateDef 2795]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 44
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,35

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = 1
time = 2
length = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 1

[State 0, PosSet]
type = PosSet
trigger1 = prevstateno != [2760,2769]
y = -260*0.7

[State 0, PosSet]
type = PosAdd
trigger1 = prevstateno = [2760,2769]
persistent = 0
y = -212

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;-----------------
;Perfect Susanoo
[StateDef 2800]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2800
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 4

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

;----------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = prevstateno = 2805
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = prevstateno = 2805
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
triggerall = prevstateno = 2805
time = 50
freq = 50
ampl = -10
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y = 0
triggerall = prevstateno = 2805
anim = F290
ID = 23
pos = 32*0.7,-pos y +2
bindtime = 1
postype = p1
scale = 3,2.7
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y = 0
triggerall = prevstateno = 2805
anim = F64
ID = 24
pos = 32*0.7,-pos y +2
bindtime = 1
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y = 0
triggerall = prevstateno = 2805
anim = F290
ID = 23
pos = -52*0.7,-pos y +5
bindtime = 1
postype = p1
scale = 3,2.7
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
triggerall = pos y = 0
triggerall = prevstateno = 2805
anim = F64
ID = 24
pos = -52*0.7,-pos y +5
bindtime = 1
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, HitDef]
type = HitDef
fall.yvelocity = -6
trigger1 = !time
triggerall = prevstateno = 2805
attr = S, NA
damage = 100,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3
pausetime = 0, 0
sparkno = 765757
sparkxy = -15, -20*0.85
hitsound = S9, 76575
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,5
airguard.velocity = -2,5
air.type = High
air.velocity = -2,5
air.hittime = 12
envshake.time = 20
envshake.freq = 20
envshake.ampl = -6
envshake.phase = 10
fall = 1

;----------

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != [2700,2794]
trigger2 = parent, var(18) != 4
trigger3 = time > 10 && numhelper(2900) = 0
trigger4 = parent, stateno = 2795
triggerall = time >= 5
value = 2895
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2701
value = 2801
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2702
value = 2802
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2705
value = 2805
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo WalkF
[StateDef 2801]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2801
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F16,1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
trigger2 = animelem = 6
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F290
ID = 23
pos = 40*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 3,2.8
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F290
ID = 23
pos = 60*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 3,2.8
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F65
ID = 24
pos = 40*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 1.5,1
sprpriority = -2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F65
ID = 24
pos = 60*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 1.5,1
sprpriority = -2
ontop = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2701
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo WalkB
[StateDef 2802]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2802
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F16,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = F16,1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
trigger2 = animelem = 6
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F290
ID = 23
pos = -40*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 3,2.8
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F290
ID = 23
pos = -60*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 3,2.8
sprpriority = -1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F65
ID = 24
pos = -40*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 1.5,1
sprpriority = -2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 6
anim = F65
ID = 24
pos = -60*0.7,2
postype = p1  ;p2,front,back,left,right
scale = 1.5,1
sprpriority = -2
ontop = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2702
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo Fly
[StateDef 2805]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2805
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-85
scale = 0.45,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-85
scale = 0.45,0.4
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F370
pos = -180*0.7,0
scale = 2,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F65
ID = 24
pos = -180*0.7,0
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 1
anim = F370
pos = 120*0.7,0
scale = 2,1.8
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F65
ID = 24
pos = 120*0.7,0
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 2705
value = 2800
ctrl = 0
;-----------------
;Perfect Susanoo Atak
[StateDef 2810]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2810
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 60
freq = 60
ampl = -10
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = 0;animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = 0;animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = 0;movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*0.7*-40-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 3,3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = animelem = 2
trigger1 = target, ishelper = 0
attr = S, NA
damage = 200,4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-230*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -25,-6
airguard.velocity = -25,-6
air.type = High
air.velocity = -25,-6
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = animelem = 2
trigger1 = target, ishelper = 0
attr = C, HP
damage = 200,40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-230*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -15,-6
airguard.velocity = -15,-6
air.type = High
air.velocity = -15,-6
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
p2stateno = 109990
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2710
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo Atak
[StateDef 2820]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2820
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 2
anim = 658
id = 658
pos = 100*0.7,0
scale = 0.7*0.7,0.7*0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 60
freq = 60
ampl = -10
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-20*0.7-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 3,3
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
trigger1 = target, ishelper = 0
attr = S, NA
damage = 250,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-200*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-12
airguard.velocity = -7,-12
air.type = High
air.velocity = -7,-12
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
trigger1 = target, ishelper = 0
attr = C, HP
damage = 250,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-200*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -7,-12
airguard.velocity = -7,-12
air.type = High
air.velocity = -7,-12
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
p2stateno = 109990
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2720
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo Atak
[StateDef 2830]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2830
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 2
anim = 658
id = 658
pos = 220*0.7,20*0.7
scale = 0.5*0.7,0.5*0.7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 2
anim = 658
id = 658
pos = 230*0.7,20*0.7
scale = 0.5,0.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 60
freq = 60
ampl = -10
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F24,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = movehit = 1 && p2movetype = H
anim = F11+random%2
angle = -25+random%50
pos = -15,0.9*-20-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F15,10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 3
anim = F585
pos = 250*0.7,15*0.7
postype = p1  ;p2,front,back,left,right
scale = 2,2
sprpriority = 6
ontop = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
trigger1 = target, ishelper = 0
attr = S, NA
damage = 250,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-50*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,15
airguard.velocity = -2,15
air.type = High
air.velocity = -2,15
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
fall.yvelocity = -6
fall = 1

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
trigger1 = target, ishelper = 0
attr = C, HP
damage = 250,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
sprpriority = 4
pausetime = 0, 5
sparkno = S909
sparkxy = -15,-50*0.9*0.7
hitsound = S6, 1
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,15
airguard.velocity = -2,15
air.type = High
air.velocity = -2,15
air.hittime = 12
envshake.time = 40
envshake.freq = 35
envshake.ampl = -9
envshake.phase = 10
fall.damage = 50
fall.yvelocity = -6
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2730
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2740
triggerall = time > 5
value = 2840
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Perfect Susanoo Atak
[StateDef 2840]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2840
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.8,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = 0;animelem = 2
anim = 658
id = 658
pos = 150*0.7,0
scale = 0.7*0.7,0.7*0.7
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 60
freq = 60
ampl = -10
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S6,31

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal;player
name = "Strzala"
ID = 2845
stateno = 2845
pos = 79*0.7,-313*0.7
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && parent, stateno != 2740
value = 2800
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2710
triggerall = time > 5
value = 2810
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2720
triggerall = time > 5
value = 2820
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2730
triggerall = time > 5
value = 2830
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2760
triggerall = time > 5
value = 2860
ctrl = 0
;-----------------
;Strzala
[StateDef 2845]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2845
poweradd = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = numexplod(2137) = 0
trigger1 = time > 0
anim = 2137
ID = 2137
pos = 0,0
postype = p1
facing = 1
angle = -5-atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.4,0.2
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2137
pos = 0,0
angle = -5-atan(vel y/vel x)*180/PI 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 30
y = -1

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = -5-atan(vel y/vel x)*180/PI ;-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = C, HP
damage = 200,20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = 909
sparkxy = -15,0
hitsound = 24, 10+random%2
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -20,-5
airguard.velocity = -20,-5
air.type = High
air.velocity = -20,-5
air.hittime = 12
p2stateno = 109990
fall = 1

[State 0, end]
type = destroyself
trigger1 = time > 10 && frontedgebodydist < 0
trigger2 = time >= 300
trigger3 = time > 10 && pos y >= 100
;-----------------
;Ulti: Indra no Ya - Jump
[StateDef 2860]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2860
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8,0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-50
scale = 0.45,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <= 30
anim = 2301
id = 2301
pos = 0,-50
scale = 0.60,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 30
anim = 2301
id = 2301
pos = 0,-50
scale = 0.45,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 40
freq = 40
ampl = -8
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F14,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F370
pos = -35*0.6,0
scale = 2,1.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F65
ID = 24
pos = -35*0.6,0
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F370
pos = 80*0.6,5
scale = 2,1.8
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F65
ID = 24
pos = 80*0.6,5
postype = p1
scale = 1,0.7
sprpriority = -2
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S6,30

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2762
value = 2862
ctrl = 0
;-----------------
;Ulti: Indra no Ya
[StateDef 2862]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2862
poweradd = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8,0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 90,30,100
palpostbright = 0,0,0
paladd = 4,2,4
palmul = .50,.15,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = 2864
ID = 2864
pos = 0,0
scale = 0.7*0.8,0.7*0.8
postype = p1
facing = 1
bindtime = -2
removetime = 110
sprpriority = 3
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S6,31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-50
scale = 0.45,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-50
scale = 0.45,0.8
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "Strzala"
ID = 2865
stateno = 2865
pos = 98*0.7*0.8,-325*0.7*0.8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7*0.8
size.yscale = 0.7*0.8

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != [2760,2762]
trigger2 = animtime = 0
value = 2895
ctrl = 0
;-----------------
;Strzala
[StateDef 2865]
type = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2865
poweradd = -900
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = F1300+random%3
angle = random
pos = 0,0
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -3+random%5
scale = 1.5,1.5
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999
trans = add

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist > 10
value = 1
movecamera = 10,10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = frontedgebodydist < 0
value = 0

[State -3, EMS]
type = AfterImage
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 0,150,200
palpostbright = 0,0,0
paladd = 0,4,5
palmul = .05,.50,.55
timegap = 1
framegap = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = numexplod(2867) = 0
anim = 2867
ID = 2867
pos = 0,0
postype = p1
facing = 1
angle = 37-atan(vel y/vel x)*180/PI 
bindtime = -2
removetime = -2
sprpriority = 6
scale = 0.75,0.45
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = ModifyExplod
trigger1 = 1
ID = 2867
pos = 0,0
angle = 37-atan(vel y/vel x)*180/PI 

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 13*1.5
y = 15*1.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 1
y = 0.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x != 0
value = 37-atan(vel y/vel x)*180/PI 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = vel x = 0
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = !time
attr = S, NT
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 5
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,10
airguard.velocity = -5,10
air.type = High
air.velocity = -5,10
air.hittime = 12
fall = 1

[State 811, end]
type = changestate
trigger1 = time > 10 && pos y >= -10
value = 2866
;---------------------
;Wybuch
[Statedef 2866]
type = A
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
anim = 2866
poweradd = 0
sprpriority = 30

[State 0, Helper]
type = Helper
trigger1 = time < 40 && timemod = 5,0
helpertype = normal
name = "Thunder"
stateno = 2869
ID = 2869
pos = -400+random%800,10+random%30
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 10
pausemovetime = 9999
size.xscale = 1.5
size.yscale = 1.5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 3,0 && time < 30
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 3,2 && time < 30
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F15,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 80
freq = 80
ampl = -12
phase = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,10


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F64
scale = 5,1.5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time < 25
anim = F591
ID = 591
pos = -250+random%500,0-random%100
vel = -7+random%15,-5-random%5
accel = 0,0.2
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 4
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3025
pos = 0,50
postype = p1
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 3,3
sprpriority = 5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2868
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 1.6,1.6
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F587
ownpal = 1
pos = 0,0
scale = 3,3
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
supermovetime = 9999
pausemovetime = 9999


[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F530
pos = -50,-5
vel = -5,0
postype = p1
bindtime = -1
facing = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 3,3
sprpriority = 5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = F530
pos = 50,-5
vel = 5,0
postype = p1
bindtime = -1
facing = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 3,3
sprpriority = 5
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = -250,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 999
scale = 2.5,2.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1370
ID = 1370
pos = 250,20
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 3,0
removetime = -2
pausemovetime = 999
scale = 2.5,2.5
sprpriority = 5
ontop = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F580
pos = 0,-5
postype = p1
bindtime = -1
removetime = 48
supermovetime = 9999
pausemovetime = 9999
scale = 4,1.5
sprpriority = 0
ownpal = 0
ontop = 0

[State 0, Posset]
type = Posset
trigger1 = 1 
y = 0

[State 0, Posset]
type = Velset
trigger1 = 1
x = 0
y = 0

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
givepower = 0
getpower = 0
trigger1 = timemod = 5,0
trigger1 = hitcount < 2
attr = S, NT
damage = 1250,1250
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 15
sparkno = 523626
sparkxy = -15,0
hitsound = 35, 23464325
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -10,-15
airguard.velocity = -10,-15
air.type = High
air.velocity = -10,-15
air.hittime = 12
envshake.time = 30
envshake.freq = 30
envshake.ampl = -7
envshake.phase = 10
fall.yvelocity = -6
palfx.time = 100
palfx.mul = 100,200,200
palfx.add = 50,50,200
palfx.sinadd = 150,150,300,4
fall = 1

[State 250, 5]
type = Destroyself
trigger1 = time = 60
;--------------------
;Thunder
[StateDef 2869]
type = A
movetype= A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2869
poweradd = 0
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 7
time = 40
freq = 40
ampl = -10
phase = 90

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 7
anim = 2870
id = 2870
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = 4

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 7
anim = F587
id = 587
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.5,0.5
sprpriority = 3

[State 0, Explod]
type = Explod
ownpal = 0
trigger1 = time = 7
anim = F64
id = 64
pos = 0,0
postype = p1
bindtime = -1
removetime = -2
supermovetime= 9999
pausemovetime= 9999
scale = 0.8,0.4
sprpriority = -2

[State 0, VelSet]
type = VelSet
trigger1= time = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F15,10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;-----------------
;Perfect Susanoo Start
[StateDef 2890]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2890
poweradd = 0
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = [2700,2789]
time = 1
facing = 0
pos = 0,0

[State 0, Turn]
type = Turn
trigger1 = parent, facing = -1 && facing = 1

[State 0, Turn]
type = Turn
trigger1 = parent, facing = 1 && facing = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 5
flag = invisible

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
trigger1 = numexplod(2301) = 0
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 2301
id = 2301
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 4

[State 0, Helper]
type = Helper
trigger1 = time = 0 && numhelper(2900) = 0
helpertype = normal;player
name = "Susano"
ID = 2900
stateno = 130
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
size.ground.front = 70*0.7
size.ground.back = -90*0.7
size.air.front = 30*0.7
size.air.back = -30*0.7
size.height = 440*0.7
size.head.pos = 0,-420 *0.7
size.mid.pos = 0,-330 *0.7

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 2800
ctrl = 0
;-----------------
;Susanoo
[StateDef 2895]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(prevstateno = 2862, 2863, 2895)
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = prevstateno != [2860,2869]
y = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "White Flash"
ID = 9999
stateno = 9999
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 10
size.yscale = 10
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10
id = 2301

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
trigger1 = prevstateno != [2860,2861]
anim = 2302
id = 2302
pos = 0,-45
scale = 0.45,0.7
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(2302) = 0
trigger1 = prevstateno = [2860,2861]
anim = 2302
id = 2302
pos = 0,-5
scale = 0.45,0.8
postype = p1
facing = 1
bindtime = -2
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,4

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 18
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0, ChangeState]
type = destroyself
trigger1 = animtime = 0
;------------------------------
[StateDef 4500]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4500
poweradd = -100
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [0,99]
value = S2,23
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [100,199]
value = S2,19
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [200,299]
value = S2,15
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [300,399]
value = S2,10
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && random = [400,499]
value = S2,5
channel = 2
[State 0, PosAdd]
type = PosAdd
triggerall = time = 1
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup"
trigger2 = command = "holdfwd" && command = "holdback"
x = p2bodydist x +70

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdfwd"
x = 150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdback"
x = -150

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
triggerall = command = "holdup"
y = -100


[State 0, Turn]
type = Turn
trigger1 = time = 2
triggerall = p2bodydist x < -20

[State 0, PosSet]
type = PosSet
trigger1 = time = 2
y = 0
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "kawarimi"
ID = 4501
stateno = 4501
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = F21,2
channel = 9

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------
[StateDef 4501]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4501
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F700
ID = 700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = time = 25
value = F9,0
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = F21,8

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 1
trigger2 = time = 25
anim = F690
ID = 690
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, end]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------
;ZOOM
[StateDef 9990]
type    = S
physics = N
ctrl = 0
anim = 9999

;Vary poczatkowe

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, stateno

;------------------------
;Pozycja X/Y

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 20
value = pos x

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 21
value = pos y

;------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

;Skalowanie

;0.5

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9990)
pos = fvar(20),fvar(21)
scale = 1.0-time*0.1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9990)
pos = fvar(20),fvar(21)
scale = 0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;0.75

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9991)
pos = fvar(20),fvar(21)
scale = 1.0-time*0.03
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9991)
pos = fvar(20),fvar(21)
scale = 0.75
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.25

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9992)
pos = fvar(20),fvar(21)
scale = 1.0+time*0.05
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9992)
pos = fvar(20),fvar(21)
scale = 1.25
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.5

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9993)
pos = fvar(20),fvar(21)
scale = 1.0+time*0.1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9993)
pos = fvar(20),fvar(21)
scale = 1.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.75

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9994)
pos = fvar(20),fvar(21)
scale = 1.0+time*0.15
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9994)
pos = fvar(20),fvar(21)
scale = 1.75
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;2.0

[State 0, Zoom]
type = Zoom
trigger1 = time < 5
triggerall = ishelper(9995)
pos = fvar(20),fvar(21)
scale = 1.0+time*0.2
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Zoom]
type = Zoom
trigger1 = time >= 5
triggerall = ishelper(9995)
pos = fvar(20),fvar(21)
scale = 2.0
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Oddalenie]
type = Changestate
trigger1 = parent, stateno != var(0)
trigger2 = parent, stateno = 3001 && time >= 150
value = 9991

;---------------------------------------------------------
;ZOOM OUT
[StateDef 9991]
type    = S
physics = N
ctrl = 0
anim = 9999

;------------------------
;Pozycja X/Y

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 20
value = pos x

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 21
value = pos y

;------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

;Skalowanie

;0.5

[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9990)
pos = fvar(20),fvar(21)
scale = 0.5+time*0.05
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;0.75

[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9991)
pos = fvar(20),fvar(21)
scale = 0.75+time*0.025
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.25

[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9992)
pos = fvar(20),fvar(21)
scale = 1.25-time*0.025
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.5
[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9993)
pos = fvar(20),fvar(21)
scale = 1.5-time*0.05
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;1.75

[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9994)
pos = fvar(20),fvar(21)
scale = 1.75-time*0.075
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;2.0

[State 0, Zoom]
type = Zoom
trigger1 = ishelper(9995)
pos = fvar(20),fvar(21)
scale = 2.0-time*0.2
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Oddalenie]
type = Destroyself
trigger1 = time = 10
;----------------------------------
;----------------
[Statedef 9999]
type = S
movetype = I
physics = S
velset = 0,0
sprpriority = 40
anim = 9999
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 40

[State 0, Trans]
type = Trans
trigger1 = time < 8
trans = addalpha
alpha = time*32,256-time*32

[State 0, Trans]
type = Trans
trigger1 = time >= 8
trans = addalpha
alpha = 256-(time-8)*32,(time-8)*32

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 16

;--------------
;Stan postaci
[StateDef 70649]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70653
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2,37
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = anim = 70653
value = F21,6
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = anim = 70653
value = F21,6
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
trigger1 = anim = 70653
value = F21,6
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
trigger1 = anim = 70653
value = F21,6
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 70654
trigger1 = animelem = 1
value = S2,19
channel = 2

[State 0, Turn]
type = Turn
trigger1 =p2bodydist x < 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
triggerall = var(23) <= 19
v = 23
value = 1

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)-40+random%80

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 8
trigger4 = animelem = 11
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 5+random%10,(-37-random%10)*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = var(23) > 19
trigger2 = command = "holdback"
trigger3 = win
trigger4 = lose
trigger5 = life = 0
trigger6 = p2life = 0
trigger7 = drawgame
trigger8 = !ALive
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70650]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70700
stateno = 70700
pos = 7,-42*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70651]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70651
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 20
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70701
stateno = 70701
pos = 10,-48*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------
;Stan postaci
[StateDef 70652]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70652
ctrl = 0


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 3 && var(23) <= 19
trigger2 = time = 4 && var(23) <= 19
trigger3 = time = 5 && var(23) <= 19
v = 23
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(13)=(EnemyNear(0),Pos X-Pos X)*Facing

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(14)=(EnemyNear(0),pos Y-Pos Y)

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(15)=Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14))))

[State 0, Helper]
type = Helper
trigger1 = time = 3
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 7,-46*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 4
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 7,-42*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
triggerall = var(23) <= 19
helpertype = normal;player
name = "shuriken"
ID = 70710
stateno = 70710
pos = 7,-38*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

;COMBO ABLE
[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 5 
value = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70656]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 70650
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70730
stateno = 70730
pos = 7,-42*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------
;Stan postaci
[StateDef 70657]
type = A
movetype = A
physics = A
juggle = 0
poweradd = 0
anim = 70651
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = F21,4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,0+random%25
channel = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 21
value = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal;player
name = "kunai"
ID = 70731
stateno = 70731
pos = 7,-48*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 310, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Kagemane: Nadanie Vara
[Statedef 104099]
type = S
physics = S
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 46  
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 5000+var(0)*10000
value = 5000+var(0)*10000

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(39) = 0
;triggerall = !ishelper(20000)

[State 0, ChangeState]
type = ChangeState
triggerall = time = 5
trigger1 = !ishelper
;trigger2 = ishelper(20000)
value = 104000
;---------------
;Impact Control (waiting)
[Statedef 106025]
type = S
movetype= A
physics = N
velset = 0,0
anim = 106025

;pozycjonowanie (dopasowa dla kadej postaci)
[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 35,200
ignorehitpause = 1

;uoglnienie warunkw kontroli
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 1   
value = parent, stateno

;moc 
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 6  
value = 100

;time
[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 7  
value = 900

;wykrycie zderzenia
[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

;przerwanie ciosu
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;---------------
;Impact Control (hit)
[Statedef 106026]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = time =0
v = 6
value = -5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (trafienie)
[Statedef 106027]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 6
value = 5

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
;Impact Control (active) 
[Statedef 106028]
type = S
movetype= A
physics = N

;time
[State 0, VarSet]
type = VarAdd
trigger1 = 1 
v = 7  
value = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 35,250
ignorehitpause = 1


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106026)=0
anim = 106026
ID = 106026
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.301,0.4
sprpriority = 49
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106027)=0
anim = 106027
ID = 106027
pos = -306*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,0.5
sprpriority = 48
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106027
scale=1.16-0.58*(100-var(6))/50,0.5

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106028)=0
anim = 106028
ID = 106028
pos = -190*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.5,0.32
sprpriority = 52
removeongethit = 0

[State 0, Explod]
type = modifyExplod
trigger1 = 1
ID = 106028
postype = front
facing = facing
vfacing = 1
pos= (-190-116*(100-var(6))/100)*facing,204

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106029)=0
anim = 106029
ID = 106029
pos = -315*facing,204
postype = front
facing = -1
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = numexplod(106030)=0
anim = 106030
ID = 106030
pos = -315*facing,204
postype = front
facing = facing
vfacing = 1
bindtime = 1
removetime = -1
scale = 0.36,0.36
sprpriority = 51
removeongethit = 0

;hit
[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = parent,command = "x" || parent,command = "z"
trigger1 = parent,var(50) = 0
trigger2 = parent,var(50) = 1
trigger2 = random = [0,40+parent,var(49)*parent,var(49)/10]
;trigger1 = parent,Ailevel = 0
;trigger2 = parent,Ailevel != 0
;trigger2 = time%(14-parent,Ailevel)=(13-parent,Ailevel) || parent,Ailevel <=4
;trigger2 = time%10=9 || parent,Ailevel >4
triggerall = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106026
p1stateno = 106027

;hit
[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = time = 10
trigger1 = var(6) >= 10
triggerall = var(7) > 0
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -15, -60
hitsound = S1, -1
guardsound = 6, -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 106031
p1stateno = 106031

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5
ID = 106026

;przerwanie
[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != var(1)
trigger1 = parent, stateno != var(1)+1
trigger1 = parent, stateno != var(1)*10+5

;lose
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) < 10
trigger2 = var(7) <= 0 
trigger2 = var(6) < 100
value = 106029

;win
[State 0, ChangeState]
type = ChangeState
trigger1 = time = 11
trigger1 = var(6) >= 10
trigger2 = var(7) <= 0 
trigger2 = var(6) >= 100
value = 106030

;---------------
;Impact Control (lose) 
[Statedef 106029]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (win) 
[Statedef 106030]
type = S
movetype= A
physics = N

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106029

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106030

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106028

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106027

[State 0, Explod]
type = removeExplod
trigger1 = time = 0
ID = 106026

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10

;---------------
;Impact Control (help state)
[Statedef 106031]
type = S
movetype= A
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = 1
value = 106028

;---------------
[Statedef 109990]
type = A
movetype= H
physics = N
velset = 0,0
anim = 5030

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 109991


;---------------------------------------------------------------------------
[Statedef 109991]
type = A
movetype= H
physics = N
anim = 5000

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5000
value = 5000+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109992]
type = A
movetype= H
physics = N
anim = 5030

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5030
value = 5030+var(0)*10000

[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 1
value = F7,1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F7,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = F15,4

[State 0, Turn]
type = Turn
trigger1 = frontedgedist<backedgedist
trigger1 = time = 0

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1190
pos = -15,-25
postype = p1
facing = 1
scale = 1,1
sprpriority = 4
angle = 90

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1080
pos = -15,-25
postype = p1
facing = 1
sprpriority = -1
angle = 270
scale = 0.7,0.7

[State 1027, Spark]
type = Explod
ownpal = 1
trigger1 = Time = 1
anim = F1200
pos = -15,-25
postype = p1
facing = -1
sprpriority = -1
scale = 1.1,1.1

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 109993

;---------------------------------------------------------------------------
[Statedef 109993]
type = A
movetype= H
physics = N
anim = 5060

[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ishelper(624)
trigger2 = ishelper(2200)
value = 130

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
Value = -((ATan(vel y/vel x))*(180.0/PI))

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = var(0) != 0
trigger1 = Anim = 5060
value = 5060+var(0)*10000


[State 210, 2]
type = AfterImage
trigger1 = (!time)
time = 14
length = 15
palcontrast = 160,150,150
paladd = 5,0,0
palmul = 1,1,1
trans = add1

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5050+var(0)*10000

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
trigger1 = var(0) != 0
value = 5052+var(0)*10000

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
trigger1 = var(0) != 0
value = 5060+var(0)*10000

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Anim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
trigger1 = var(0) != 0
value = 5062+var(0)*10000

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
[Statedef 109994 ]
type    = A
movetype= H
physics = N
anim = 100022

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = var(0) != 0
value = 100022 + var(0)*10000

[State 0, AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = time*20

[State 212, Velocity]
type = HitVelSet
trigger1 = Time = 1
x = 1
y = -1

[State 212, Gravity]
type = VelAdd
trigger1 = time > 1 && 1
y = .3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
trigger2 = timemod = 6,0
anim = F1391
ID = 380
pos = -20,-25
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 3
ontop = 0
angle = atan(vel y/vel x)*180/PI -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F8,9

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F14,6

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 109992

[State 212, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5050

;---------------------------------------------------------------------
;Ultimate: Kirin
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3000
poweradd = 0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 110
movetime = 50
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4001
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = F11,5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 3018
ID = 3018
pos = 4*0.95,-36*0.95
postype = p1
bindtime = -1
removetime = 33
supermovetime = 9999
pausemovetime = 9999
scale = 0.2,0.2
sprpriority = 3
ownpal = 1
ontop = 0

[State 200, 7]
type = ChangeState
trigger1 = time = 50
value = 3001
ctrl = 1

[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3001
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = F3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S7,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S7,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S7,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 400
value = S2,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 400
value = S2,18

;Nowe 

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time <= 30
v = 3
value = 5+(time)*0.3;0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 30
v = 3
value = 15

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time < 30 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Wiatr]
type = Explod
ownpal = 1
trigger1 = time < 30 && timemod = 35,0
anim = F601
id = 600
pos = 0,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 1
scale = 0.9,0.75
ownpal = 1

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time < 30 && timemod = 15,0
anim = F1380
id = 1380
pos = -10,0
vel = -0.5,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Blyskawice ziemia]
type = Explod
ownpal = 1
trigger1 = time < 30 && timemod = 15,0
anim = F1380
id = 1380
pos = 10,0
vel = 0.5,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
scale = 0.2+var(3)*0.015,0.2+var(3)*0.015
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal;player
name = "Chidori"
ID = 950
stateno = 950
pos = 37*0.95,-37*0.95
size.xscale = 1
size.yscale = 1
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

;Stare

;[State 6522, Helper]
;type = Helper
;trigger1 = Time = 0 
;name = "Chidori kirin"
;helpertype = normal
;postype = p1
;pos = 37*0.95,-37*0.95
;ownpal = 1
;stateno = 3010
;ID = 3010
;pausemovetime = 9999
;supermovetime = 9999

;-----------

[State 6522, Helper]
type = Helper
trigger1 = Time = 70 
name = "blyskawica do gory"
helpertype = normal
postype = p1
pos = 0,0
ownpal = 1
stateno = 3011
ID = 3011
pausemovetime = 9999
supermovetime = 9999

[State 6522, Helper]
type = Helper
trigger1 = Time = 180 
name = "Kirin"
helpertype = normal
postype = front
pos = 0,0
ownpal = 1
stateno = 3012
ID = 3012
pausemovetime = 9999
supermovetime = 9999

[State 6522, Helper]
type = Helper
trigger1 = Time = 420 
name = "Kirin grom"
helpertype = normal
postype = p1
pos = 0,0
ownpal = 1
stateno = 3014
ID = 3014
size.xscale = 0.9
size.yscale = 0.7
pausemovetime = 9999
supermovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 422
movetime = 422
anim = -101
darken = 0
unhittable = 0

[State 16523, AngleDraw]
type = AngleSet
trigger1 = anim = 3001

[State 0, VarSet]
type = VarSet
triggerall = numhelper(3014) = 1
trigger1 = time = 430 && fvar(5) = 0
fv = 5
value = 1

[State 200, 7]
type = ChangeState
trigger1 = time = 435
value = 0
ctrl = 1

[Statedef 3010]
type    = S
sprpriority = 3
anim = 3009

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 100,1
value = F11,4
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1260
ID = 1260
pos = 0,0
postype = p1
bindtime = -1
removetime = 335
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F1290
ID = 1290
pos = 0,0
postype = p1
bindtime = -1
removetime = 335
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 2
ownpal = 0
ontop = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 10
pos = -24*0.95,-41*0.95

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 11
time = 20
pos = -22*0.95,-43*0.95

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 31
time = 3
pos = -9*0.95,-66*0.95

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 34
time = 335
pos = -10*0.95,-73*0.95

[State 250, 5]
type = Destroyself
trigger1 = time = 335


[Statedef 3011]
type    = S
sprpriority = 3
anim = 3019

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F11,8

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
time = 20
pos = -14*0.88,-75*0.88

[State 0, VelSet]
type = VelSet
trigger1 = time > 2 && fvar(0) > 0.3
y = -13

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 16523, VarAdd];Skala poczatkowa
type = VarSet
trigger1 = Time = 0
fvar(0) = 0.1

[State 16523, VarAdd];Scale zmienna
type = VarAdd
trigger1 = Time > 1
fvar(0) = 0.03

[State 16523, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.75,fvar(0)*2

[State 16523,Trans]
type = Trans
trigger1 = 1
trans = Add

[State 250, 5]
type = Destroyself
trigger1 = time = 100



[Statedef 3012]
type    = S
sprpriority = 30
anim = 3009

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 180,1
value = S7,7

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = nobardisplay

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3003
ID = 3003
pos = 0,0
postype = left
bindtime = -1
removetime = 200
supermovetime = 9999
pausemovetime = 9999
scale = 4,4
sprpriority = 270
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3021
ID = 3021
pos = 190,100
postype = left
bindtime = -1
facing = -1
removetime = 200
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 280
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3020
ID = 3020
pos = 190,70
vel = -0.2,0
postype = left
bindtime = 1
facing = -1
removetime = 80
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.9
sprpriority = 300
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,1
anim = 3007
ID = 3007
pos = 160-random%170,30+random%80
postype = left
bindtime = -1
removetime = 6
supermovetime = 9999
pausemovetime = 9999
scale = 0.3,0.2
sprpriority = 330
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 7,1
anim = 3007
ID = 3007
pos = 160+random%170,30+random%80
postype = left
bindtime = -1
facing = -1
removetime = 6
supermovetime = 9999
pausemovetime = 9999
scale = 0.3,0.2
sprpriority = 330
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 3022
ID = 3022
pos = 190,100
postype = left
bindtime = -1
removetime = 10
supermovetime = 9999
pausemovetime = 9999
scale = 5,5
sprpriority = 360
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3005
ID = 3005
pos = 190,100
postype = left
bindtime = -1
removetime = 80
supermovetime = 9999
pausemovetime = 9999
scale = 3,3
sprpriority = 310
ownpal = 0
ontop = 0

[State 250, 5]
type = Changestate
trigger1 = time = 80
value = 3013
ctrl = 1

[Statedef 3013]
type    = S
sprpriority = 30
anim = 3009

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = nobardisplay

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S6,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 120
freq = 80
ampl = -8
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3020
ID = 3020
pos = 190,50
postype = left
bindtime = 1
facing = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 1,0.9
sprpriority = 300
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0 && root,facing = 1 && numexplod(3002) = 0
anim = 3002
ID = 3002
pos = 190,70
postype = left
bindtime = -1
facing = 1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 320
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0 && root,facing = 1 && numexplod(3004) = 0
anim = 3004
ID = 3004
pos = 190,70
postype = left
bindtime = -1
facing = 1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 310
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0 && root,facing = -1 && numexplod(3002) = 0
anim = 3002
ID = 3002
pos = 190,70
postype = left
bindtime = -1
facing = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 320
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0 && root,facing = -1 && numexplod(3004) = 0
anim = 3004
ID = 3004
pos = 190,70
postype = left
bindtime = -1
facing = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 310
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
pos = 190,-15
postype = left
bindtime = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.5
sprpriority = 340
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3005
ID = 3005
pos = 190,100
postype = left
bindtime = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 5,5
sprpriority = 310
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3008
ID = 3008
pos = 190,100
postype = left
bindtime = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.45,0.45
sprpriority = 330
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 3006
ID = 3006
pos = 190,130
postype = left
bindtime = -1
facing = -1
removetime = 120
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 330
ownpal = 0
ontop = 0

[State 250, 5]
type = Destroyself
trigger1 = time = 120


[Statedef 3014]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3023
poweradd = 0
sprpriority = 30

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -101
darken = 0
unhittable = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0 && time > 6
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2 && time > 6
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 60,1
value = S7,10

[State 0, Posset]
type = Posset
triggerall = enemy(0),alive = 1
trigger1 = time = 0
y = -600
x = enemy(0),pos x

[State 0, Posset]
type = Posset
triggerall = enemy(0),alive = 0
trigger1 = time = 0
y = -600
x = enemy(1),pos x

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 6520, Hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6 
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
attr = S, NT
damage = 0,0
getpower = 0
givepower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 3
sparkno = -1
sparkxy = 0,0
hitsound = F11,10
guardsound = F11,10 
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0
airguard.velocity = 0,10
air.type = High
air.velocity = 0,10
air.hittime = 12
fall = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = target,name = "Ay"
trigger1 = movehit
value = cond(target,var(1)=1,-120,-50)
kill = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
triggerall = target,name != "Ay"
trigger1 = movehit
value = -50
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3024
ID = 3024
pos = 0,0
postype = p1
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 1.5,1.35
sprpriority = 29
ownpal = 0
ontop = 0

[State 6522, Helper]
type = Helper
trigger1 = Time = 12 
name = "Kirin wybuch"
helpertype = normal
postype = p1
pos = 0,0
ownpal = 1
stateno = 3015
ID = 3015
size.xscale = 3
size.yscale = 3
pausemovetime = 9999
supermovetime = 9999

[State 250, 5]
type = Destroyself
trigger1 = time = 60


[Statedef 3015]
type    = S
sprpriority = 30
anim = 3009

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F15,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = F15,8


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7,10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 80
freq = 190
ampl = -19
phase = 200


[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 10
trigger2 = time = 40
anim = F64
pos = 0,4
scale = 2.5,0.7
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = -1
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time < 45
anim = F591
ID = 591
pos = -60+random%120,0-random%20
vel = -6+random%12,-8
accel = 0,0.3
angle = random
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 25+random%10
ownpal = 1
ontop = 0

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F587
id = 587
ownpal = 1
pos = 0,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 32
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1370
id = 1370
ownpal = 1
pos = -70,40
vel = -4,0
accel = 0.1,0
scale = 1.5,1.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1490
id = 1490
ownpal = 1
pos = -80,20
vel = -3,0
accel = 0.05,0
scale = 2,2
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F1490
id = 1490
ownpal = 1
pos = 80,20
vel = 3,0
accel = -0.05,0
scale = 2,2
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0
anim = F1370
id = 1370
ownpal = 1
pos = 70,40
vel = 4,0
accel = -0.1,0
scale = 1.5,1.5
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, Posset]
type = Posset
trigger1 = time = 0 
y = 0
x = helper(3014),pos x

[State 16523, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F590
ID = 590
pos = 50,-50
postype = p1
bindtime = -1
removetime = 66
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F590
ID = 590
pos = -50,-50
postype = p1
bindtime = -1
facing = -1
removetime = 66
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = F570
ID = 570
pos = 40,-20
postype = p1
bindtime = -1
facing = 1
vel = 0.7,-0.3
accel = 0.3,-0.08
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = F570
ID = 570
pos = -60,-30
postype = p1
bindtime = -1
facing = -1
vel = -0.7,-0.3
accel = -0.3,-0.08
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = F570
ID = 570
pos = 70,-50
postype = p1
bindtime = -1
facing = 1
vel = 0.7,-0.3
accel = 0.3,-0.08
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = F570
ID = 570
pos = -80,-40
postype = p1
bindtime = -1
facing = -1
vel = -0.7,-0.3
accel = -0.3,-0.08
removetime = 32
supermovetime = 9999
pausemovetime = 9999
scale = 2.5,2.5
sprpriority = 29
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 20
trigger3 = time = 40
trigger4 = time = 60
anim = F580
ID = 580
pos = 0,-5
postype = p1
bindtime = -1
removetime = 48
supermovetime = 9999
pausemovetime = 9999
scale = 3,1.25
sprpriority = 30
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F530
ID = 530
pos = 0,-5
postype = p1
bindtime = -1
facing = 1
removetime = 84
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 30
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time = 30
anim = F530
ID = 530
pos = 0,-5
postype = p1
bindtime = -1
facing = -1
removetime = 84
supermovetime = 9999
pausemovetime = 9999
scale = 2,2
sprpriority = 30
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3025
ID = 3025
pos = 0,0
postype = p1
bindtime = -1
removetime = 85
supermovetime = 9999
pausemovetime = 9999
scale = 1.9,1.3
sprpriority = 31
ownpal = 0
ontop = 0

[State 250, 5]
type = Destroyself
trigger1 = time = 60


[StateDef 3016]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6085
poweradd = 0
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Posset]
type = Posset
trigger1 = 1 
y = -30

[State 0, Posset]
type = Posset
trigger1 = time = 0
x = enemy(0),pos x - 80

[State 0, VelSet]
type = VelSet
triggerall = numhelper(3014) = 0
trigger1 = parent, command = "holdfwd" && parentdist x > 0 
x = -3.5

[State 0, VelSet]
type = VelSet
triggerall = numhelper(3014) = 0 
trigger1 = parent, command = "holdback" && parentdist x > 0 
x = 3.5

[State 0, VelSet]
type = VelSet
trigger1 = var(50) = 0 && parent, command != "holdfwd" && parent, command != "holdback"
trigger2 = var(50) = 1 && random = [0,5]
x = 0

[State 0, end]
type = destroyself
trigger1 = numhelper(3014) = 1 && helper(3014),time = 20

;---------------------------------------------------------------------------
;Deszcz
[StateDef 3020]
type = S
anim = 3009
sprpriority = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,0
trigger1 = ishelper(3021)
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = timemod = 8,2
trigger1 = ishelper(3021)
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = timemod = 60,0 
trigger1 = ishelper(3021)
anim = 3008
ID = 3008
pos = 190,0;100
postype = left
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.2
sprpriority = 21+random%3
ownpal = 0
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 40,2
trigger1 = ishelper(3021)
anim = 3006
ID = 3006
pos = 190,0;130
postype = left
bindtime = -1
facing = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.35,0.3
sprpriority = 21+random%3
ownpal = 0
ontop = 0

[State 0, VarSet]
type = ParentVarSet
trigger1 = ishelper(3020)
fv = 6
value = 1

[State 0, Czas deszczu]
type = ParentVarSet
trigger1 = time = 0
v = 4
value = 3600

[State 0, Deszcz]
type = Explod
trigger1 = random = [10,29]
anim = 3017
ID = 3017
pos = 0+random%380,20
postype = left
bindtime = -1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.25,0.25
sprpriority = 23
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [0,2] 
value = S7,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = [3,5]
value = S7,11

[State 0, BGPalFX]
type = BGPalFX
trigger1 = random = [0,14]
time = 2
add = 0,32,64
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = random = [15,29]
time = 2
add = 0,96,128
mul = 256,256,256

[State 0, BGPalFX]
type = AllPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = Time > 0 && time < 45
time = 4
add = 0-(time*0.42),0-(time*0.42),0-(time*0.42)
color = 256-(time*1.68)

[State 0, BGPalFX]
type = AllPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
triggerall = numhelper(3012) = 0
trigger1 = Time > 44
time = 4
add = -19,-19,-19
color = 180

[State 0, BGPalFX]
type = AllPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = Time > 0 && time < 45
time = 4
add = 0-(time*0.21),0-(time*0.21),0-(time*0.21)
color = 256-(time*1.68)

[State 0, BGPalFX]
type = AllPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = numhelper(3012) = 0
triggerall = Time > 44
time = 4
add = -9,-9,-9
color = 180

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1 
x = 0
y = 0

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1620
ID = 3010
pos = -190,240
postype = left
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 21
ontop = 0

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = -500,0
postype = p1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1.5,1.5
sprpriority = -3
ontop = 0
trans = add

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = 0,0
postype = p1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1.5,1.5
sprpriority = -3
ontop = 0
trans = add

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = 500,0
postype = p1
bindtime = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1.5,1.5
sprpriority = -3
ontop = 0
trans = add

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = -500,0
postype = p1
bindtime = 1
facing = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -3
ontop = 0
trans = add

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = 0,0
postype = p1
bindtime = 1
facing = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -3
ontop = 0
trans = add

[State 0, Deszcz]
type = Explod
trigger1 = time = 0
anim = F1640
ID = 3010
pos = 500,0
postype = p1
bindtime = 1
facing = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = -3
ontop = 0
trans = add

[State 0, Chmury]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
pos = 190,-85
postype = left
bindtime = 1
vfacing = 1
removetime = 20
vel = 0,2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 22
ownpal = 0
ontop = 0

[State 0, Chmury]
type = Explod
trigger1 = time = 20
anim = 3015
ID = 3015
pos = 190,-45
postype = left
bindtime = 1
vfacing = 1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 22
ownpal = 0
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F23,0
lowpriority = -10
channel = 12
loop = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 10 && root,var(4) = 0
trigger2 = numhelper(3014) = 1
trigger3 = enemy, name = "Sasuke" && enemy, numhelper(3014) = 1
trigger4 = parent, prevstateno = 2762
value = 3021

[StateDef 3021]
type = S
anim = 3009
sprpriority = 10

[State 0, VarSet]
type = ParentVarSet
trigger1 = ishelper(3020)
fv = 6
value = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 90
channel = 12
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 3010

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 3012

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 21
id = 3015

[State 0, BGPalFX]
type = AllPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = Time > 0 && time < 50
time = 4
add = -38+(time*0.76),-38+(time*0.76),-38+(time*0.76)
color = 180+(time*1.42)

[State 0, BGPalFX]
type = AllPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = Time > 0 && time < 50
time = 4
add = -19+(time*0.38),-19+(time*0.38),-19+(time*0.38)
color = 180+(time*1.42)

[State 0, BGPalFX]
type = AllPalFX
trigger1 = Time > 49
time = 4
add = 0,0,0
color = 256

[State 0, PosSet]
type = PosSet
trigger1 = 1 
x = 0
y = 0

[State 0, Deszcz]
type = Explod
trigger1 = time = 1
anim = F1620
ID = 3011
pos = -190,240
postype = left
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 21
ontop = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 1
ID = 3011
pos = -190,240
scale = 1,1
sprpriority = 21
postype = left
trans = addalpha
alpha = 256-(time*5.12),256

[State 0, Chmury]
type = Explod
trigger1 = time = 20
anim = 3015
ID = 30151
pos = 190,-45
postype = left
bindtime = 1
vfacing = 1
vel = 0,-2
removetime = 15
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 19
ownpal = 0
ontop = 0

[State 0, end]
type = destroyself
trigger1 = time = 108

[StateDef 3022]
type = S
anim = 3009
sprpriority = -10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 3
x = 0

[State 0, Deszcz]
type = Explod
trigger1 = timemod = 2,0
anim = 3014
ID = 3014
pos = -190+random%380,2-random%11
postype = p1
bindtime = -1
removetime = 16
supermovetime = 9999
pausemovetime = 9999
scale = 0.125,0.015
sprpriority = -20
ownpal = 0
ontop = 0

[State 0, Deszcz]
type = Explod
trigger1 = timemod = 2,0
anim = 3014
ID = 3014
pos = -190+random%380,2-random%11
postype = p1
bindtime = -1
removetime = 16
supermovetime = 9999
pausemovetime = 9999
scale = 0.125,0.022
sprpriority = -20
ownpal = 0
ontop = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 5 && numhelper(3020) = 0
id = 3014

[State 0, end]
type = destroyself
trigger1 = time > 5 && numhelper(3020) = 0

;-----------------
;Goryuuka air
[StateDef 3030]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3030
poweradd = 0
sprpriority = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F8,0+random%4
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = F17,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,24

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,26

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2 
value = S3,26

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = animelem = 2
anim = F810
id = 80006
pos = 0*0.88,-57*0.88
scale = 0.4,0.6
angle = 45
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999

[State 0, Helper]
type = Helper
trigger1 = time = 46
helpertype = normal;player
name = "katon"
ID = 3031
stateno = 3031
pos = 5*0.88,-63*0.88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Ilo goryuuki]
type = VarSet
trigger1 = time = 0 && fvar(4) = 0
fv = 4
value = 0

[State 0, end]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

;-----------------
;Goryuuka
[StateDef 3031]
type = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 355
poweradd = -1000
sprpriority = 4

[State 0, TargetState]
type = TargetState
trigger1 = enemy(cond((enemy(0),alive),0,1)), var(51) = 0
trigger1 = !(enemynear, ishelper)
trigger1 = target, ishelper = 0
trigger1 = movehit
value = 109912

[State 0, VarSet]
type = ParentVaradd
trigger1 = time = 60
fv = 4
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10 
scale = 0.05*(time+1),0.05*(time+1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10 
scale = 1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 20
freq = 20
ampl = -4
phase = 90

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan(vel y/vel x)*180/PI 

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 2+time
y = -(2+time)*(parent,fvar(4)+5)/10

[State 0, VelSet]
type = VelSet
trigger1 = time >= 10
x = 12
y = -12*(parent,fvar(4)+5)/10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F18,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F10,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = F10,2

[State 0, Iskry]
type = Explod
ownpal = 1
trigger1 = time = 5
anim = F271
ID = 271
pos = 20,5
postype = p1
vel = 0,0
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 5
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 271
angle = -atan(vel y/vel x)*180/PI

[State 0, Kola]
type = Explod
ownpal = 1
trigger1 = time > 5 && time%10 = 0 && numexplod(820) < 2 && time < 100
anim = F810
id = 810
pos = -10,0
scale = 1,1.8
vel = 0,0
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = 4
ownpal = 1
supermovetime=9999
pausemovetime=9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 810
angle = -atan(vel y/vel x)*180/PI

[State 0, 1]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 5,0
attr = S, NA
damage = 100,50
getpower = 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 4
pausetime = 0, 10
sparkno = 1400
sparkxy = -30+random%30, -5-random%30
hitsound = F10, 0
guardsound = F10, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-2
airguard.velocity = -6,-1
air.type = High
air.velocity = -6,-1
air.hittime = 12
fall = 1
envshake.time = 20
envshake.ampl = 5
envshake.freq = 20
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0, end]
type = destroyself
trigger1 = time = 80

[StateDef 103009]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+ var(0)*10000
poweradd = 0
sprpriority = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -2000
kill = 1 

[State 0, SelfState]
type = SelfState
trigger1 = time = 10
value = 5000

;---------------------------------------------------------------------------
;Ultimate: Amaterasu
[Statedef 3050]
type    = S
physics = S
ctrl = 0
anim = 3050
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,20

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = F3,0

[State 0, AfterImage]
type = AfterImage
trigger1 = time%16 = 0
time = 17
length = 10
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 160,150,150
palpostbright = 0,0,0
paladd = 5,0,0
palmul = .65,.65,.75
timegap = 1
framegap = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 105, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 0, SuperPause]
type = SuperPause
trigger1 = time%2 = 0
time = 1
movetime = 1
anim = -101
darken = 0
unhittable = 0

[State 105, 3]
type = ChangeState
trigger1 = p2dist x > 350
trigger2 = time = 100
trigger1 = animelem = 5 || animelem = 6
value = 3051

;Kucanie
[Statedef 3051]
type    = C
movetype= A
physics = C
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3051
poweradd = -2000
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 0
anim = -1
darken = 0
unhittable = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F34,2

[State 0, Swiatlo do superpausy]
type = Explod
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 190,100
postype = back
bindtime = -1
removetime = 60
supermovetime = 9999
pausemovetime = 9999
scale = 0.75,0.75
sprpriority = -100
ownpal = 1
ontop = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = StageVar(info.name) != "Y" && StageVar(info.name) != "H"
trigger1 = time = 0
time = 60
add = -120,-120,-120

[State 0, BGPalFX]
type = BGPalFX
trigger1 = StageVar(info.name) = "Y" 
trigger2 = StageVar(info.name) = "H"
triggerall = time = 0
time = 60
add = -80,-80,-80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 180
value = S4,17

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S2,2

[State 6522, Helper]
type = Helper
trigger1 = Time = 190 
name = "Amaterasu"
helpertype = normal
postype = p1
pos = 30,0
ownpal = 1
stateno = 3052
ID = 3052
size.xscale = 0.25
size.yscale = 0.25
pausemovetime = 9999
supermovetime = 9999

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 12 && time < 90
Time = 1
color = 50
add = -20,-20,-20
mul = 256,0+(time-12)*2.5,0+(time-12)*2.5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time >= 90
Time = 1
color = 0
add = -20,-20,-20
mul = 256,256,256

[State 0, AllPalFX]
type = PalFX
trigger1 = time = 310
time = 40
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 0;helper(3052),stateno = 3053 && helper(3052),time = 5
value = -700
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
trigger2 = time = 72
trigger3 = time = 102
trigger4 = time = 132
trigger5 = time = 162
trigger6 = time = 192
value = F27,0

[State 0, Explod]
type = Explod
trigger1 = time = 190
anim = 80011
ID = 80011
pos = 0,-50
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.65,0.65
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 190
anim = 80011
ID = 80011
pos = 416,-50
postype = back
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.65,0.65
sprpriority = 10
ontop = 0
trans = addalpha
alpha = 100,256
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 200 && numhelper(3052) = 0
id = 80011

[State 0, Explod]
type = Explod
trigger1 = time = 30
trigger2 = time = 72
trigger3 = time = 102
trigger4 = time = 132
trigger5 = time = 162
trigger6 = time = 192
anim = 509
ID = 509
pos = 10,-33
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 11
scale = 0.07,0.07
sprpriority = 3
trans = add
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 72
ID = 509
trans = add
scale = 0.1,0.1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 102
ID = 509
trans = add
scale = 0.13,0.13
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 132
ID = 509
trans = add
scale = 0.16,0.16
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 162
ID = 509
trans = add
scale = 0.19,0.19
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 192
ID = 509
trans = add
scale = 0.22,0.22
removeongethit = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 220
movetime = 220
anim = -101
darken = 0
unhittable = 0

[State 200, 7]
type = ChangeState
triggerall = numhelper(3052) = 0
trigger1 = time = 245
value = 11
ctrl = 1

[State 200, 7]
type = ChangeState
trigger1 = time = 360
value = 11
ctrl = 1









;---------------------- Integer variable list ----------------------

; var(0):= 9990
; var(1):= 511, 684, 1000, 1005, 1010, 1015, 106025, -3
; var(2):= 511, 2095, 602, 622
; var(3):= 294, 325, 930, 940, 3001
; var(4):= 951, 961, 3020, 77000, 78000, 77001, 78001
; var(5):= 296, 952, 962
; var(6):= 500, 515, 950, 952, 960, 962, 2750, 106025, 106026, 106027, -2
; var(7):= 859, 106025, 106026, 106027, 106028, 600, 620
; var(8):= 8231, 838, 859
;var(10):= 255, 335, 8231, 838, 859, 1625, 2130, 2135, 130, 77000, 78000, 77003
;var(11):= 284, 335, 430, 440, 685, 800, 981, -2
;var(12):= 846, 70500
;var(14):= 501, 502, 2750, 2751, 77000, 78000, 77001, 78001, 77003
;var(15):= 60
;var(16):= 980, 984, 985
;var(18):= 1625, 1626, 2090, 2095, 2100, 2190, 2195, 2510, 2520, 2530, 2540, 2595, 2790, 2795, 2800, 2890, 2895, -2
;var(19):= 2500
;var(20):= 370, 70650, 70651, 5900, 104097, 104098
;var(21):= 370, 70656, 70657, 5900
;var(22):= 370, 5900
;var(23):= 370, 70649, 70652, 5900
;var(24):= 370
;var(30):= -2, 5900, 106000
;var(35):= -2, 5900, 106025, 106026, 106027, 106028
;var(36):= -2
;var(39):= 104099, 109990, 109991, 109992, 109993, -2, 0, 5000, 5001, 5010, 5011, 5020, 5030, 5035, 5040, 5050, 5070, 5071, 5080, 5081, 5100, 5101, 5110
;var(40):= -2, 105251, 105252, 105253, 105254
;var(46):= 104099, -2, 104000, 104001
;var(48):= -1
;var(49):= -1
;var(50):= -1
;var(51):= -2, 5900, 70300, 109910, 109911, 109912, 109913, 109914, 109915
;var(52):= -2, 70300, 109920, 109921, 109922, 109923, 109924, 109925
;var(53):= -2, 70300, 109930, 109931, 109932, 109933, 109934, 109935
;var(54):= -2, 70300, 109940, 109941, 109942, 109943, 109944, 109945
;var(55):= -2, 70300, 109950, 109951, 109952, 109953, 109954, 109955
;var(56):= -2, 70300, 109960, 109961, 109962, 109963, 109964, 109965
;var(57):= -2, 70300, 109970, 109971, 109972, 109973, 109974, 109975

;---------------------- Float variable list ----------------------

; fvar(0):= 3011
; fvar(2):= 5900
; fvar(4):= 3030, 3031, 77000
; fvar(5):= 3001
; fvar(6):= 3020, 3021
;fvar(10):= 242, 345, 930, 940, 77000, 78000
;fvar(11):= 77000, 78000
;fvar(12):= 77003
;fvar(13):= 70649, 70652, 60
;fvar(14):= 70649, 70652, 60
;fvar(15):= 70649, 70652, 60
;fvar(20):= 9990, 9991
;fvar(21):= 9990, 9991






;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
;vary
;1 - sharingan
;3 - Chidori
;4 - Czas trwania deszczu
;fvar(4) - ilo goryuuka w powietrzu
;fvar(5) - blokada dla Kirin
;fvar(6) - mozliwosc pojawienia sie deszczu
;6 - dmg - amaterasu
;7 - Prawe Mangekyou
;8 - genjutsu mode
;9 - genjutsu mode
;10 - var random - katony, kruki
;11 - var random x - katon housenka air
;12 - naliczanie czasu goukakyu hold
;13 - licznik czasu amaterasu controlled
;14 - amaterasu controlled palfx
;16 - Chidori MAX Ilosc
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -2]

;Efekt miecza

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 298
id = 298


;------------------

;REMAP PAL

;Sharingan

;Lewa

[state 0, Sharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,470
dest = 0,473

[state 0, Sharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,471
dest = 0,473

[state 0, Sharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,472
dest = 0,473

[state 0, Sharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,474
dest = 0,473

;Prawa

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,470
dest = 0,474

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,471
dest = 0,474

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,472
dest = 0,474

[state 0, Sharingan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 0
triggerall = !ishelper
source = 0,473
dest = 0,474

;EMS

;Lewa

[state 0, EMSharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,470
dest = 0,471

[state 0, EMSharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,472
dest = 0,471

[state 0, EMSharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,473
dest = 0,471

[state 0, EMSharingan]
type = RemapPal
trigger1 = facing = 1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,474
dest = 0,471

;Prawa

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,470
dest = 0,472

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,471
dest = 0,472

[state 0, EMRinnegan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,473
dest = 0,472

[state 0, EMSharingan]
type = RemapPal
trigger1 = facing = -1
triggerall = var(1) = 2
triggerall = !ishelper
source = 0,474
dest = 0,472




;Licznik Shinra

[State 0, VarAdd]
type = VarAdd
trigger1 = var(11) > 0
v = 11   
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(11) < 0
v = 11  
value = 0

;Chidori Pasek

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
id = 930

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 930
trigger1 = stateno != 940
id = 931

;KIRIN

[State 6522, Helper]
type = Helper
trigger1 = numhelper(3020) = 0 && cond(enemy, name = "Sasuke",(fvar(4)+enemy,fvar(4)) > 3,fvar(4)>3)
trigger1 = cond(enemy, name = "Sasuke",enemy, numhelper(3020) = 0,1)
triggerall = numenemy = 1
triggerall = numpartner = 0
triggerall = cond(enemy, name = "Sasuke",(enemy, fvar(6) = 0 && fvar(6) = 0),fvar(6) = 0)
name = "deszcz"
helpertype = normal
postype = p1
pos = 0,0
ownpal = 1
stateno = 3020
ID = 3020
pausemovetime = 9999
supermovetime = 9999


;Susanoo

[State 0, VarSet]
type = VarSet
trigger1 = var(18) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 0 && command = "hold_y" && (command = "hold_c" || command = "hold_z")
trigger2 = power = 0
trigger3 = var(18) = 1 && numhelper(625) = 1 && helper(625), time > 50 && var(50) = 1 && random = [0,100-var(49)*(var(49))/100]
trigger4 = win
trigger5 = lose
trigger6 = drawgame
trigger7 = life = 0
trigger8 = !ALive 
trigger9 = var(1) < 2
trigger10 = var(18) = 1 && numhelper(625) = 0
;trigger10 = numhelper(295) = 1 && helper(295), stateno = 2952
triggerall = var(18) = 1
triggerall = stateno != [1630,1680]
triggerall = numhelper(1630) = 0
triggerall = numhelper(1640) = 0
triggerall = numhelper(1650) = 0
triggerall = numhelper(1660) = 0
triggerall = numhelper(1670) = 0
triggerall = numhelper(1680) = 0
v = 18
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(18) != 0
;trigger2 = var(18) = 1
value = SCA,NA,SA,HA,NP,SP,HP,ST,HT
time = 2

[State 150, 1]
type = ChangeState
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(2200) && stateno != 130
trigger3 = ishelper(2600) && stateno != 130
trigger4 = ishelper(2900) && stateno != 130
value = 130

[State 150, 1]
type = destroyself
trigger1 = ishelper(624) && stateno != 130
trigger2 = ishelper(2200) && stateno != 130
trigger3 = ishelper(2600) && stateno != 130
trigger4 = ishelper(2900) && stateno != 130

;----------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random = 999
triggerall = Alive
triggerall = life > 0
triggerall = !matchover
triggerall = !win
triggerall = !lose
triggerall = !drawgame
triggerall = stateno != [170,199]
triggerall = stateno != [5000,5300]
triggerall = stateno != [100000,109999]
value = S8,0+random%58
channel = 2


[State 0, Explod]
type = RemoveExplod
trigger1 = stateno != [9335,9337]
trigger2 = stateno != [6015,6017]
triggerall = time = 0
ID = 675

;SMIERC OSTATECZNA
[State 0, SMIERC OSTATECZNA]
type = ChangeState
triggerall = prevstateno = 5150
triggerall = stateno != 5150
trigger1 = alive = 0
trigger2 = life = 0
value = 5150
ctrl = 0

[State 0, STANIE W POWIETRZU]
type = SelfState
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y < 0
value = 50

[State 0, STANIE POD ZIEMIA]
type = PosSet
trigger1 = stateno = [0,39]
trigger2 = stateno = 100
triggerall = pos y > 0
y = 0

[State 0, OGRANICZENIE WYSOKOSCI]
type = PosSet
trigger1 = pos y < -500
y = -500

;----Arena Uchiha-----------

[State 0, PosSet]
type = PosSet
trigger1 = pos y < -300
triggerall = helper(70003), var(10) = 0
triggerall = StageVar(info.name) = "U"
y = -300

;ANTI CLONE - CLONE DESTROY -----
[State 0, VarSet]
type = VarSet
trigger1 = !ishelper
v = 39
value = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = var(39) = 0
trigger1 = stateno = [0,99]
trigger2 = stateno = [5000,5100]
trigger3 = stateno = [100000,199999]
;--------------------------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(415) = 0
id = 416

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 9421
id = 13612

[State 0, VarSet]
type = VarSet
trigger1 = 0;numhelper(500) = 0 && stateno != [500,540]
v = 6
value = 0;5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 501
id = 50180011

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 245
id = 246

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 247
id = 247

; amaterasu usuwanie

[State 0, Trans]
type = Trans
trigger1 =ishelper(500) && root, stateno = 540
trans = addalpha
alpha = 256-(root, time-60)*9.6,(root, time-60)*9.6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper(500) && root, stateno = 540 && root, time = 110


;amaterasu controlled

[State 0, PalFX]
type = PalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
triggerall = var(14) = 1
trigger1 = stateno = 501
trigger2 = stateno = 521
trigger3 = stateno = 531
time = 1
add = 0,0,0
sinadd = -256,-256,-256, 60
invertall = 0
color = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 500 && stateno != 520 && stateno != 530  && stateno != 600 && stateno != 700 && stateno != 930
id = 501


[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = [836,837]
trigger1 = command = "c"
trigger2 = stateno = 836 && time = 5 
triggerall = numexplod(1608) = 0
anim = F1608
ID = 1608
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [836,837]
id = 1608

[State -2, Button C]
type = Explod
triggerall = var(50) = 0
triggerall = stateno = 858 || stateno = 8581
trigger1 = stateno = 858 && time = 5
trigger2 = command = "c" 
triggerall = numexplod(16082) = 0
anim = F1608
ID = 16082
pos = cond(pos y = 0,-16,12),cond(pos y = 0,-60,-70)
postype = p1
facing = facing
vfacing = 1
;vel = 0,2 
;accel = 0,-0.1
bindtime = -1
removetime = -1
scale = 0.7,0.7
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 8581 && stateno != 858
id = 16082

;-------------------------------------------------------------------------
;===================[ Liczniki, Okrg i Fatality ]========================
;-------------------------------------------------------------------------
[State -2, Arrow Down]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holddown"
triggerall = numexplod(1600) = 0
anim = F1600
ID = 1600
pos = cond(pos y = 0,2,4),cond(pos y = 0,-26,-28)
postype = p1
facing = 1
vfacing = 1
vel = 0,2 
accel = 0,-0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Up]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdup"
triggerall = numexplod(1601) = 0
anim = F1601
ID = 1601
pos = cond(pos y = 0,2,4),cond(pos y = 0,-46,-48)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2 
accel = 0,0.1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Forward]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdfwd"
triggerall = numexplod(1602) = 0
anim = F1602
ID = 1602
pos = cond(pos y = 0,12,14),cond(pos y = 0,-36,-38)
postype = p1
facing = 1
vfacing = 1
vel = 2,0
accel = -0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Arrow Back]
type = Explod
trigger1 = stateno = 70850
trigger2 = prevstateno = 70850 && time < 2
triggerall = command = "holdback"
triggerall = numexplod(1603) = 0
anim = F1603
ID = 1603
pos = cond(pos y = 0,-8,-6),cond(pos y = 0,-36,-38)
postype = p1
facing = 1
vfacing = 1
vel = -2,0
accel = 0.1,0
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 9999
pausemovetime = 9999

[State -2, Okrg]
type = Helper
trigger1 = numhelper(70300) = 0
trigger1 = alive
helpertype = normal
name = "Okrg"
ID = 70300
stateno = 70300
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.4

[State -2, Fatality Hit]
type = Helper
trigger1 = !alive && numhelper(70400) = 0
helpertype = normal
name = "Fatality Hit"
ID = 70400
stateno = 70400
pos = 0, 0
postype = p1 ;P2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
sprpriority = -20
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State -2, Efekty do aren]
type = Helper
triggerall = teamside = 1 || teamside = 2 && numenemy = 0
triggerall = numhelper(70003) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "Efekty do aren"
ID = 70003
stateno = 77003
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P1 Licznik Lewa strona"
ID = 70000
stateno = 77000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Lewa strona 2]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 1
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P3 Licznik Lewa strona"
ID = 70001
stateno = 77001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = stateno!=5500
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70000) = 0
trigger1 = numpartner = 0
trigger2 = partner, ID > ID
trigger3 = teammode = turns && numpartner = 0
helpertype = normal
name = "P2 Licznik Prawa strona"
ID = 70000
stateno = 78000
pos = 0,30
postype = p1
facing = 1
ownpal = 1

[State -2, Licznik Prawa strona]
type = Helper
triggerall = numenemy != 0
triggerall = teamside = 2
triggerall = numhelper(70001) = 0
trigger1 = numpartner = 1
trigger1 = partner, ID < ID
helpertype = normal
name = "P4 Licznik Prawa strona"
ID = 70001
stateno = 78001
pos = 0,30
postype = p1
facing = 1
ownpal = 1

;-------------------------------------------------------------------------
;==========================[ Vary Wsplne ]===============================
;-------------------------------------------------------------------------

;>>>>>>>>>>>> Byakugan <<<<<<<<<<<<<<<<<
[State 0, PowerSet]
type = PowerSet
trigger1 = power > (PowerMax - enemy, var(34))
value = PowerMax - enemy, var(34)

;>>>>>>>>>>>>>>> Kakashi - Mangekyou Sharingan <<<<<<<<<<<<<<<
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = alive = 0 && var(36) != 0
flag = invisible

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 100051 && alive = 1
v = 36
value = 0

[State -3]
type = AfterImage
trigger1 = alive = 0 && var(36) != 0
time = 1
length = 1
trans = add


;>>>>>>>>>>>>>>> Kltwa Hidana <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(35) = 0

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(35) != 0
trigger1 = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
value = -PlayerID(var(35)),var(1)
kill = cond(PlayerID(var(35)),stateno=421 || PlayerID(var(35)),stateno=422 || PlayerID(var(35)),stateno=423 || PlayerID(var(35)),stateno=424 || PlayerID(var(35)),stateno=431 || PlayerID(var(35)),stateno=432 || PlayerID(var(35)),stateno=433 ,1,0)

[State 0, ChangeState]
type = ChangeState
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),var(0)=1
triggerall = !ishelper
trigger1 = PlayerID(var(35)),stateno = [422,429]
trigger1 = PlayerID(var(35)),time < 12
trigger2 = PlayerID(var(35)),stateno = 424
triggerall = PlayerID(var(35)),var(1) != 0
triggerall = stateno != 5050
value = 5050

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 421
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 422
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 423
trigger1 = PlayerID(var(35)),time = 5
trigger2 = PlayerID(var(35)),time = 7
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 1,1
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 431
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,10,8),cond(statetype != L,-28,5)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 432
trigger1 = PlayerID(var(35)),time = 6
anim = F10+random%2
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,7,15),cond(statetype != L,-15,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
triggerall = PlayerID(var(35)),stateno = 433
trigger1 = PlayerID(var(35)),time = 6
anim = F11+random%1
angle = -25+random%50
ID = 4004
pos = cond(statetype != L,5,0),cond(statetype != L,-32,-10)
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.6,0.6
sprpriority = 3
ownpal = 1
ontop = 0

[State 0, explode]
type = Explod
triggerall = var(35) != 0
trigger1 = PlayerID(var(35)),stateno = 424
trigger1 = PlayerID(var(35)),time = 125
anim = F1500
ID = 4004
pos = 0,-30
postype = p1
bindtime = 1
removetime = 25
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
sprpriority = 6
ownpal = 1
ontop = 0

;>>>>>>>>>>>>>>> Koto Amatsukami <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemy, var(45) != 0
value = 0

;>>>>>>>>>>>>>>> Pieczec Danzo <<<<<<<<<<<<<<<
[State -2, Varset]
type = VarSet
trigger1 = stateno = 5150
var(40) = 0

[State 0, ChangeState]
type = ChangeState
triggerall = var(40) != 0
triggerall = !ishelper
trigger1 = PlayerID(var(40)),stateno = 630
triggerall = PlayerID(var(40)),var(3) = 2
triggerall = stateno != 5050
value = 105250

;>>>>>>>>>>>>>>> Kagemane Shikamaru <<<<<<<<<<<<<<<
[State 0, CtrlSet]
type = CtrlSet
trigger1 = var(46) = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
trigger1 = var(46) = 1
v = 46
value = 0

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && (stateno = 0|| stateno = 12 || stateno = 20 || stateno = 52 || stateno = [98,104])
value = 104000

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [10,11]
trigger2 = var(46) = 1 && stateno = 5120
value = 104002

[State 0, Changestate]
type = Changestate
trigger1 = var(46) = 1 && stateno = [40,59]
value = 104008

[State 0, Selfstate]
type = Selfstate
trigger1 = var(46) = 0 && stateno = [104000,104099]
trigger1 = enemy, name = "Shikamaru"
trigger1 = enemy, var(10) = 0
value = cond(pos y = 0,0,50)
ctrl = 1

;>>>>>>>>>>>>>>> Kankuro, Sasori Poison <<<<<<<<<<<<<<<
[State 0, VarAdd]
type = VarAdd
trigger1 = var(30) !=0 && gametime%4 = 0
v = 30
value = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = var(30) != 0
trigger1 = gametime%18 = 0
trigger1 = !ishelper
time = 18
add = 100,0,100
mul = 220,120,224
sinadd = 80,50,80,18
invertall = 0
color = 256

[State 0, LifeAdd]
type = LifeAdd
trigger1 = gametime%4 = 0
trigger1 = var(30) != 0
trigger1 = !ishelper
value = -1
kill = 0

[State 0, Trucizna]
type = Explod
trigger1 = var(30) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1916) = 0
trigger1 = !ishelper
anim = F1916
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Trucizna]
type = ModifyExplod
trigger1 = var(30) > 0
triggerall = numexplod(1916) = 1
trigger1 = !ishelper
ID = 1916
pos = 0*facing,cond(stateno = 5110,-25,cond(statetype = C,-50,-70))
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(30) = 0
trigger1 = !ishelper
ID = 1916

;>>>>>>>>>>>>>>> Var Katon <<<<<<<<<<<<<<<

[State 0, - Katon - ]
type = VarAdd
triggerall = var(51) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 51
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(51) <= 0
trigger2 = var(53) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109910,109919]
v = 51
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
value = -1
kill = 1


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(51) > 0
triggerall = var(53) = 0
value = F10,4

[State 0, PalFX]
type = PalFX
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
time = 10
add = 240,50,0
mul = 250,224,120
sinadd = 110,55,85,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1901) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(51) > 0
triggerall = var(53) = 0
anim = F1901
ID = 1901
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0*facing,-0.04
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Futonem
[State 0, Katon + Futon]
type = LifeAdd
trigger1 = timemod = 4,0
triggerall = var(51) > 0
triggerall = var(54) != 0
value = -3
kill = 1

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(51) > 0
triggerall = var(54) != 0
anim = F1402
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1.6,1.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Raiton <<<<<<<<<<<<<<<

[State 0, - Raiton - ]
type = VarAdd
triggerall = var(52) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 52
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(52) <= 0
trigger2 = var(54) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109920,109929]
v = 52
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = var(52) = 100 || var(52) = 200 || var(52) = 300 || var(52) = 400 || var(52) = 500
triggerall = var(52) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109929

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(52) > 0
triggerall = var(54) = 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) = 0
triggerall = var(54) = 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.25,0.25
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1902) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(52) > 0
triggerall = var(54) = 0
anim = F1902
ID = 1902
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;Polaczony z Suitonem
[State 0, Raiton + Suiton]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
value = -1
kill = 1

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(52) > 0
triggerall = var(53) != 0
time = 10
add = 50,50,200
mul = 100,200,200
sinadd = 150,150,300,4
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 3,0
triggerall = var(52) > 0
triggerall = var(53) != 0
anim = F1300+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Suiton <<<<<<<<<<<<<<<

[State 0, - Suiton - ]
type = VarAdd
triggerall = var(53) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 53
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(53) <= 0
trigger2 = var(55) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109930,109939]
v = 53
value = 0

;~~ Debuff ~~

[State 0, Atk Break]
type = Explod
trigger1 = var(53) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1910) = 0
anim = F1910
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Atk Break]
type = ModifyExplod
trigger1 = var(53) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(53) = 0
ID = 1910

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) = 0
value = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = var(53) > 0
value = 0.6


;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 30,0
triggerall = var(53) > 0
triggerall = var(55) = 0
value = F12,0

[State 0, Explod]
type = Explod
trigger1 = time > 0 && timemod = 10,0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1550
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1903) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(53) > 0
triggerall = var(55) = 0
anim = F1903
ID = 1903
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Fuuton <<<<<<<<<<<<<<<

[State 0, - Fuuton - ]
type = VarAdd
triggerall = var(54) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 54
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(54) <= 0
;trigger2 = var(51) != 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109940,109949]
v = 54
value = 0

;~~ Debuff ~~

[State 0, Def Break]
type = Explod
trigger1 = var(54) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1912) = 0
anim = F1912
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Def Break]
type = ModifyExplod
trigger1 = var(54) > 0
triggerall = numexplod(1912) = 1
ID = 1912
pos = 10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(54) = 0
ID = 1912

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) = 0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = var(54) > 0
value = 1.25

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && timemod = 40,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
value = F14,6

[State 0, Explod]
type = Explod
trigger1 = time > 0 &&  timemod = 10,0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F643
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 0.4,0.4
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1904) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(54) > 0
;triggerall = var(51) = 0
anim = F1904
ID = 1904
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = 0.03*facing,-0.02
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Doton <<<<<<<<<<<<<<<
[State 0, - Doton - ]
type = VarAdd
triggerall = var(55) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 55
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(55) <= 0
trigger2 = var(52) != 0
trigger3 = ishelper
trigger4 = stateno = [170,194]
trigger5 = stateno = 5150
triggerall = stateno != [109950,109959]
v = 55
value = 0

;~~ Debuff ~~

[State 0, Slow]
type = Explod
trigger1 = var(55) > 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = numexplod(1914) = 0
anim = F1914
ID = 1914
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Slow]
type = ModifyExplod
trigger1 = var(55) > 0
triggerall = numexplod(1910) = 1
ID = 1910
pos = -10*facing,10
postype = p1
facing = cond(facing = 1,1,-1)
bindtime = -1
removetime = -1
sprpriority = 4
scale = 0.6,0.6
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(55) = 0
ID = 1914

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 45 || stateno = 60
value = 50
ctrl = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = var(55) != 0
trigger1 = stateno = 50
y = -(const(velocity.jump.y))/20

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 100 || stateno = 101
value = 20
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 102 || stateno = 103
value = 11
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 105
value = 0
ctrl = 1

[State 0, SelfState]
type = SelfState
trigger1 = var(55) != 0
trigger1 = stateno = 70600
value = 0
ctrl = 1

;~~ Efekty ~~

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(55) > 0
triggerall = var(52) = 0
time = 10
add = 25,20,5
mul = 196,186,166
sinadd = 0,0,0,1
invertall = 0
color = 256

;~~ Ikonka ~~

[State 0, Ikonka]
type = Explod
trigger1 = numexplod(1905) = 0
triggerall = stateno != 5500
triggerall = numenemy != 0
triggerall = var(55) > 0
triggerall = var(52) = 0
anim = F1905
ID = 1905
pos = 0,cond(stateno = 5110,0,cond(statetype = C,-15,-30))
postype = p1
facing = 1
bindtime = 2
removetime = -2
sprpriority = 10
accel = -0.02*facing,0.03
scale = 0.4,0.4
ownpal = 1
ontop = 1
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Czarne Plomienie <<<<<<<<<<<<<<<
[State 0, - Amaterasu - ]
type = VarAdd
triggerall = var(56) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 56
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(56) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109960,109969]
v = 56
value = 0

;~~ Debuff ~~

[State 0, LifeAdd]
type = LifeAdd
trigger1 = timemod = 3,0
triggerall = var(56) > 0
value = -2
kill = 1

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
triggerall = var(56) > 0
value = F10,2

[State 0, PalFX]
type = PalFX
trigger1 = timemod = 5,0
triggerall = var(56) > 0
time = 10
add = -60,-80,-50
mul = 90,20,120
sinadd = 40,20,50,5
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
triggerall = var(56) > 0
anim = F1700
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-10-random%40))
postype = p1
facing = 1
angle = -20+random%40
bindtime = 10
removetime = -2
sprpriority = -2+random%5
scale = 1,1;0.35,0.35
vel = 0,-1-random%2
accel = 0,0.05
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;>>>>>>>>>>>>>>> Var Kuroi Kaminari <<<<<<<<<<<<<<<
[State 0, - Kuroi Kaminari - ]
type = VarAdd
triggerall = var(57) > 0
trigger1 = stateno = [0,199]
trigger2 = stateno = [5000,5299]
v = 57
value = -1

[State 0, VarSet]
type = VarSet
trigger1 = var(57) <= 0
trigger2 = ishelper
trigger3 = stateno = [170,194]
trigger4 = stateno = 5150
triggerall = stateno != [109970,109979]
v = 57
value = 0

;~~ Debuff ~~

[State 0, ChangeState]
type = ChangeState
triggerall = timemod = 100,0
triggerall = var(57) != 0
triggerall = !ishelper
trigger1 = stateno = [0,199]
trigger2 = stateno = 70500+var(0)*1000 
;trigger3 = stateno = [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = stateno != [170,194]
value = 109979

;~~ Efekty ~~

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
triggerall = var(57) > 0
value = F11,3

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
triggerall = var(57) > 0
anim = F1701+random%3
angle = random
pos = cond((statetype = L || stateno = 5110 || stateno = 5150),-20+random%40,-10+random%20),cond((statetype = L || stateno = 5110 || stateno = 5150),5-random%15,cond(statetype = C,-10-random%20,-20-random%30))
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = -2+random%5
scale = 0.6,0.6
ownpal = 1
ontop = 0
supermovetime = 9999
pausemovetime = 9999

;-------------------------



;--------------------------------------------------
[Statedef -3]

[State -3, PowerAdd]
type = PowerAdd
triggerall = prevstateno != 190+var(0)*10000 
triggerall = stateno = [0,199]
triggerall = stateno != 70500+var(0)*1000 
triggerall = stateno != [5000,5299]
triggerall = stateno != [10000,199999]
triggerall = timemod = 20,0
trigger1 = !ishelper
value = 5

;M Sharingan
[State -3, PowerAdd]
type = PowerAdd
trigger1 = var(1) = 2
trigger1 = timemod = 5,0
triggerall = stateno != [600,679]
triggerall = stateno != [1000,1009]
triggerall = stateno != [10000,199999]
triggerall = stateno != 70850
triggerall = stateno != [2000,2999]
triggerall = prevstateno != [190,194]
triggerall = prevstateno != 5900
value = -3

[State -3, VarSet - usunicie sharingana i MS]
type = VarSet
trigger1 = life = 0
trigger2 = !Alive
trigger3 = power <= 5
trigger4 = lose
v = 1
value = 0

[State -3, Afterimage normal]
type = AfterImage
triggerall = var(1) = 0
trigger1 = time = 0
time = 1

[State -3, EMS]
type = AfterImage
triggerall = var(1) = 2
trigger1 = time = 0
time = -1
length = 7
palcolor = 256
palinvertall = 0
palbright = 0,0,0
palcontrast = 120,40,40
palpostbright = 0,0,0
paladd = 5,2,2
palmul = .65,.15,.15
timegap = 1
framegap = 1
trans = add


